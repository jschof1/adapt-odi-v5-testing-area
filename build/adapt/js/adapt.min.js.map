{"version":3,"file":"adapt.min.js","sources":["../../core/js/wait.js","../../core/js/models/lockingModel.js","../../core/js/adapt.js","../../core/js/templateRenderEvent.js","../../core/js/templates.js","../../core/js/fixes/img.lazyload.js","../../core/js/enums/logLevelEnum.js","../../core/js/logging.js","../../core/js/fixes/reactHelpers.html.js","../../core/js/a11y/browserFocus.js","../../core/js/a11y/focusOptions.js","../../core/js/a11y/keyboardFocusOutline.js","../../core/js/a11y/log.js","../../core/js/a11y/scroll.js","../../core/js/a11y/wrapFocus.js","../../core/js/a11y/popup.js","../../core/js/enums/defaultAriaLevels.js","../../core/js/a11y/deprecated.js","../../core/js/a11y.js","../../core/js/accessibility.js","../../core/js/collections/adaptCollection.js","../../core/js/models/buildModel.js","../../core/js/models/configModel.js","../../core/js/modelEvent.js","../../core/js/models/adaptModel.js","../../core/js/models/contentObjectModel.js","../../core/js/models/menuModel.js","../../core/js/models/courseModel.js","../../core/js/startController.js","../../core/js/data.js","../../core/js/offlineStorage.js","../../core/js/enums/completionStateEnum.js","../../core/js/tracking.js","../../core/js/device.js","../../core/js/views/drawerItemView.js","../../core/js/views/drawerView.js","../../core/js/drawer.js","../../core/js/views/notifyPushView.js","../../core/js/models/notifyModel.js","../../core/js/collections/notifyPushCollection.js","../../core/js/childEvent.js","../../core/js/reactHelpers.js","../../core/js/views/adaptView.js","../../core/js/views/notifyView.js","../../core/js/notify.js","../../core/js/models/routerModel.js","../../core/js/router.js","../../core/js/collections/adaptSubsetCollection.js","../../core/js/models/articleModel.js","../../core/js/models/blockModel.js","../../core/js/models/componentModel.js","../../core/js/models/pageModel.js","../../core/js/views/contentObjectView.js","../../core/js/views/pageView.js","../../core/js/views/articleView.js","../../core/js/views/blockView.js","../../core/js/mpabc.js","../../core/js/helpers.js","../../core/js/scrolling.js","../../core/js/views/headingView.js","../../core/js/headings.js","../../core/js/views/navigationView.js","../../core/js/navigation.js","../../core/js/views/componentView.js","../../components/adapt-chartjs/js/chartjsView.js","../../components/adapt-chartjs/js/chartjsModel.js","../../components/adapt-chartjs/js/adapt-chartjs.js","../../core/js/enums/buttonStateEnum.js","../../core/js/views/buttonsView.js","../../core/js/models/questionModel.js","../../core/js/views/questionView.js","../../components/adapt-choose/js/chooseView.js","../../components/adapt-choose/js/chooseModel.js","../../components/adapt-choose/js/adapt-choose.js","../../core/js/models/itemModel.js","../../core/js/models/itemsComponentModel.js","../../components/adapt-contrib-accordion/js/accordionModel.js","../../components/adapt-contrib-accordion/js/accordionView.js","../../components/adapt-contrib-accordion/js/adapt-contrib-accordion.js","../../components/adapt-contrib-assessmentResults/js/assessmentResultsModel.js","../../components/adapt-contrib-assessmentResults/js/assessmentResultsView.js","../../components/adapt-contrib-assessmentResults/js/adapt-contrib-assessmentResults.js","../../components/adapt-contrib-blank/js/blankView.js","../../components/adapt-contrib-blank/js/adapt-contrib-blank.js","../../components/adapt-contrib-mcq/js/mcqView.js","../../core/js/models/itemsQuestionModel.js","../../components/adapt-contrib-mcq/js/adapt-contrib-mcq.js","../../components/adapt-contrib-gmcq/js/adapt-contrib-gmcq.js","../../components/adapt-contrib-graphic/js/GraphicView.js","../../components/adapt-contrib-graphic/js/GraphicModel.js","../../components/adapt-contrib-graphic/js/adapt-contrib-graphic.js","../../components/adapt-contrib-hotgraphic/js/hotgraphicPopupView.js","../../components/adapt-contrib-hotgraphic/js/hotgraphicView.js","../../components/adapt-contrib-hotgraphic/js/adapt-contrib-hotgraphic.js","../../components/adapt-contrib-matching/js/dropdownOption.js","../../components/adapt-contrib-matching/js/dropdown.js","../../components/adapt-contrib-matching/js/matchingView.js","../../components/adapt-contrib-matching/js/matchingModel.js","../../components/adapt-contrib-matching/js/adapt-contrib-matching.js","../../components/adapt-contrib-media/libraries/mediaelement-fullscreen-hook.js","../../components/adapt-contrib-media/js/mediaView.js","../../components/adapt-contrib-media/js/adapt-contrib-media.js","../../components/adapt-contrib-narrative/js/NarrativeModel.js","../../components/adapt-contrib-narrative/js/modeEnum.js","../../components/adapt-contrib-narrative/js/NarrativeView.js","../../components/adapt-contrib-narrative/js/adapt-contrib-narrative.js","../../components/adapt-contrib-slider/js/sliderView.js","../../components/adapt-contrib-slider/js/sliderModel.js","../../components/adapt-contrib-slider/js/adapt-contrib-slider.js","../../components/adapt-contrib-text/js/TextView.js","../../components/adapt-contrib-text/js/TextModel.js","../../components/adapt-contrib-text/js/adapt-contrib-text.js","../../components/adapt-contrib-textInput/js/textInputView.js","../../components/adapt-contrib-textInput/js/textInputModel.js","../../components/adapt-contrib-textInput/js/adapt-contrib-textInput.js","../../components/adapt-csv-to-d3/js/csv2d3View.js","../../components/adapt-csv-to-d3/js/adapt-csv-to-d3.js","../../components/adapt-dropItems/js/draggieView.js","../../components/adapt-dropItems/js/dropItemsView.js","../../components/adapt-dropItems/js/dropItemsModel.js","../../components/adapt-dropItems/js/adapt-dropItems.js","../../components/adapt-lottieInteractivity/js/LottieInteractivityView.js","../../components/adapt-lottieInteractivity/js/LottieInteractivityModel.js","../../components/adapt-lottieInteractivity/js/adapt-lottieInteractivity.js","../../components/adapt-odi-fileInput/js/csvToJson.js","../../components/adapt-odi-fileInput/js/ajv7.min.js","../../components/adapt-odi-fileInput/js/fileInputView.js","../../components/adapt-odi-fileInput/js/adapt-odi-fileInput.js","../../components/adapt-stacklist/js/StackListView.js","../../components/adapt-stacklist/js/adapt-stacklist.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleView.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentQuestionBank.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleModel.js","../../extensions/adapt-contrib-assessment/js/assessment.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleExtension.js","../../extensions/adapt-contrib-bookmarking/js/adapt-contrib-bookmarking.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerNavigationView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerDrawerView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerNavView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerModel.js","../../extensions/adapt-contrib-languagePicker/js/adapt-languagePicker.js","../../extensions/adapt-contrib-pageLevelProgress/js/completionCalculations.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressIndicatorView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressItemView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressNavigationView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressCollection.js","../../extensions/adapt-contrib-pageLevelProgress/js/adapt-contrib-pageLevelProgress.js","../../extensions/adapt-contrib-resources/js/ResourcesView.js","../../extensions/adapt-contrib-resources/js/ResourcesHelpers.js","../../extensions/adapt-contrib-resources/js/adapt-contrib-resources.js","../../extensions/adapt-contrib-spoor/js/scorm/logger.js","../../extensions/adapt-contrib-spoor/js/scorm/error.js","../../extensions/adapt-contrib-spoor/js/scorm/wrapper.js","../../extensions/adapt-contrib-spoor/js/serializers/SCORMSuspendData.js","../../extensions/adapt-contrib-spoor/js/serializers/ComponentSerializer.js","../../extensions/adapt-contrib-spoor/js/adapt-stateful-session.js","../../extensions/adapt-contrib-spoor/js/adapt-offlineStorage-scorm.js","../../extensions/adapt-contrib-spoor/js/adapt-contrib-spoor.js","../../extensions/adapt-contrib-trickle/js/models.js","../../extensions/adapt-contrib-trickle/js/controller.js","../../extensions/adapt-contrib-trickle/js/TrickleButtonView.js","../../extensions/adapt-contrib-trickle/js/TrickleButtonModel.js","../../extensions/adapt-contrib-trickle/js/trickleButton.js","../../extensions/adapt-contrib-trickle/js/adapt-contrib-trickle.js","../../extensions/adapt-contrib-tutor/js/TUTOR_TYPE.js","../../extensions/adapt-contrib-tutor/js/TutorModel.js","../../extensions/adapt-contrib-tutor/js/TutorNotify.js","../../extensions/adapt-contrib-tutor/js/TutorView.js","../../extensions/adapt-contrib-tutor/js/adapt-contrib-tutor.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/adapt-contrib-xapi.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/adapt-offlineStorage-xapi.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/index.js","../../extensions/adapt-devtools/js/devtools-model.js","../../extensions/adapt-devtools/js/hinting.js","../../extensions/adapt-devtools/js/is-question-supported.js","../../extensions/adapt-devtools/js/auto-answer.js","../../extensions/adapt-devtools/js/pass-half-fail.js","../../extensions/adapt-devtools/js/toggle-banking.js","../../extensions/adapt-devtools/js/map.js","../../extensions/adapt-devtools/js/utils.js","../../extensions/adapt-devtools/js/end-trickle.js","../../extensions/adapt-devtools/js/toggle-feedback.js","../../extensions/adapt-devtools/js/toggle-alt-text.js","../../extensions/adapt-devtools/js/unlock.js","../../extensions/adapt-devtools/js/enable.js","../../extensions/adapt-devtools/js/toggle-trace-focus.js","../../extensions/adapt-devtools/js/toggle-completion.js","../../extensions/adapt-devtools/js/adapt-devtools.js","../../extensions/adapt-graphicLottie/js/injector.js","../../extensions/adapt-graphicLottie/js/LottieView.js","../../extensions/adapt-graphicLottie/js/adapt-graphicLottie.js","../../core/js/views/menuItemView.js","../../core/js/views/menuView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuItemView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuGroupView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuView.js","../../menu/adapt-contrib-boxMenu/js/adapt-contrib-boxMenu.js","../../theme/adapt-theme-odi-generic/js/themeView.js","../../theme/adapt-theme-odi-generic/js/themePageView.js","../../theme/adapt-theme-odi-generic/js/themeArticleView.js","../../theme/adapt-theme-odi-generic/js/themeBlockView.js","../../theme/adapt-theme-odi-generic/js/theme.js","../../core/templates/header.jsx","../../core/templates/image.jsx","../../components/adapt-choose/templates/choose.jsx","../../components/adapt-contrib-graphic/templates/graphic.jsx","../../components/adapt-contrib-text/templates/text.jsx","../../components/adapt-dropItems/templates/drop-items.jsx","../../components/adapt-lottieInteractivity/templates/lottieInteractivity.jsx","../../core/js/app.js"],"sourcesContent":["export default class Wait extends Backbone.Controller {\n\n  initialize() {\n    this._waitCount = 0;\n    this._callbackHandle = null;\n    this.being = this.begin.bind(this);\n    this.end = this.end.bind(this);\n  }\n\n  /**\n   * Returns true if there are items in the waiting count.\n   *\n   * @return {Boolean}\n   */\n  isWaiting() {\n    return (this._waitCount !== 0);\n  }\n\n  /**\n   * Add one item to the waiting count.\n   *\n   * @return {Object}\n   */\n  begin() {\n    if (!this.isWaiting()) this.trigger('wait');\n\n    this._waitCount++;\n\n    if (this._callbackHandle) {\n      clearTimeout(this._callbackHandle);\n      this._callbackHandle = null;\n    }\n\n    return this;\n  }\n\n  /**\n   * Remove an item from the waiting count and trigger ready asynchronously if no more items are waiting.\n   *\n   * @return {Object}\n   */\n  end() {\n    if (!this.isWaiting()) return this;\n\n    this._waitCount--;\n\n    if (this.isWaiting() || this._callbackHandle) return this;\n\n    this._callbackHandle = setTimeout(function() {\n      this._callbackHandle = null;\n      this.trigger('ready');\n    }.bind(this), 0);\n\n    return this;\n  }\n\n  /**\n   * Queue this function until all open waits have been ended.\n   *\n   * @param  {Function} [callback]\n   * @return {Object|Promise}\n   */\n  queue(callback) {\n    if (!callback) {\n      this.begin();\n\n      return new Promise(resolve => {\n        this.once('ready', resolve);\n        this.end();\n      });\n    }\n\n    this.begin();\n    this.once('ready', callback);\n    this.end();\n\n    return this;\n  }\n\n  /**\n   * Wait for this asynchronous function to execute before triggering ready event.\n   *\n   * @param  {Function} callback   [ Function to execute whilst holding queued callback. Once complete run first argument, done(). ]\n   * @return {Object}\n   */\n  for(callback) {\n    this.begin();\n    _.defer(() => callback(_.once(this.end)));\n    return this;\n  }\n\n}\n","export default class LockingModel extends Backbone.Model {\n\n  set(attrName, attrVal, options = {}) {\n    const stopProcessing = (typeof attrName === 'object' || typeof attrVal !== 'boolean' || !this.isLocking(attrName));\n    if (stopProcessing) return super.set(...arguments);\n\n    const isSettingValueForSpecificPlugin = options?.pluginName;\n    if (!isSettingValueForSpecificPlugin) {\n      console.error('Must supply a pluginName to change a locked attribute');\n      options.pluginName = 'compatibility';\n    }\n\n    const pluginName = options.pluginName;\n    if (this.defaults[attrName] !== undefined) {\n      this._lockedAttributes[attrName] = !this.defaults[attrName];\n    }\n    const lockingValue = this._lockedAttributes[attrName];\n    const isAttemptingToLock = (lockingValue === attrVal);\n\n    if (isAttemptingToLock) {\n      this.setLockState(attrName, true, { pluginName: pluginName, skipcheck: true });\n      return super.set(attrName, lockingValue);\n    }\n\n    this.setLockState(attrName, false, { pluginName: pluginName, skipcheck: true });\n\n    const totalLockValue = this.getLockCount(attrName, { skipcheck: true });\n    if (totalLockValue === 0) {\n      return super.set(attrName, !lockingValue);\n    }\n\n    return this;\n\n  }\n\n  setLocking(attrName, defaultLockValue) {\n    if (this.isLocking(attrName)) return;\n    if (!this._lockedAttributes) this._lockedAttributes = {};\n    this._lockedAttributes[attrName] = defaultLockValue;\n  }\n\n  unsetLocking(attrName) {\n    if (!this.isLocking(attrName)) return;\n    if (!this._lockedAttributes) return;\n    delete this._lockedAttributes[attrName];\n    delete this._lockedAttributesValues[attrName];\n    if (Object.keys(this._lockedAttributes).length === 0) {\n      delete this._lockedAttributes;\n      delete this._lockedAttributesValues;\n    }\n  }\n\n  isLocking(attrName) {\n    const isCheckingGeneralLockingState = (attrName === undefined);\n    const isUsingLockedAttributes = Boolean(this.lockedAttributes || this._lockedAttributes);\n\n    if (isCheckingGeneralLockingState) {\n      return isUsingLockedAttributes;\n    }\n\n    if (!isUsingLockedAttributes) return false;\n\n    if (!this._lockedAttributes) {\n      this._lockedAttributes = _.result(this, 'lockedAttributes');\n    }\n\n    const isAttributeALockingAttribute = this._lockedAttributes.hasOwnProperty(attrName);\n    if (!isAttributeALockingAttribute) return false;\n\n    if (!this._lockedAttributesValues) {\n      this._lockedAttributesValues = {};\n    }\n\n    if (!this._lockedAttributesValues[attrName]) {\n      this._lockedAttributesValues[attrName] = {};\n    }\n\n    return true;\n  }\n\n  isLocked(attrName, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return;\n    }\n\n    return this.getLockCount(attrName) > 0;\n  }\n\n  getLockCount(attrName, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return;\n    }\n\n    const isGettingValueForSpecificPlugin = options?.pluginName;\n    if (isGettingValueForSpecificPlugin) {\n      return this._lockedAttributesValues[attrName][options.pluginName] ? 1 : 0;\n    }\n\n    const lockingAttributeValues = Object.values(this._lockedAttributesValues[attrName]);\n    const lockingAttributeValuesSum = lockingAttributeValues.reduce((sum, value) => sum + (value ? 1 : 0), 0);\n\n    return lockingAttributeValuesSum;\n  }\n\n  setLockState(attrName, value, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return this;\n    }\n\n    const isSettingValueForSpecificPlugin = options?.pluginName;\n    if (!isSettingValueForSpecificPlugin) {\n      console.error('Must supply a pluginName to set a locked attribute lock value');\n      options.pluginName = 'compatibility';\n    }\n\n    if (value) {\n      this._lockedAttributesValues[attrName][options.pluginName] = value;\n    } else {\n      delete this._lockedAttributesValues[attrName][options.pluginName];\n    }\n\n    return this;\n\n  }\n\n}\n","import Wait from 'core/js/wait';\nimport LockingModel from 'core/js/models/lockingModel';\n\nclass AdaptSingleton extends LockingModel {\n\n  initialize() {\n    this.loadScript = window.__loadScript;\n    this.location = {};\n    this.store = {};\n    this.setupWait();\n  }\n\n  defaults() {\n    return {\n      _canScroll: true, // to stop scrollTo behaviour,\n      _outstandingCompletionChecks: 0,\n      _pluginWaitCount: 0,\n      _isStarted: false,\n      _shouldDestroyContentObjects: true\n    };\n  }\n\n  lockedAttributes() {\n    return {\n      _canScroll: false\n    };\n  }\n\n  /**\n   * @deprecated since v6.0.0 - please use `Adapt.store` instead\n   */\n  get componentStore() {\n    this.log.deprecated('Adapt.componentStore, please use Adapt.store instead');\n    return this.store;\n  }\n\n  async init() {\n    this.addDirection();\n    this.disableAnimation();\n    this.trigger('adapt:preInitialize');\n    await this.wait.queue();\n\n    // wait until no more completion checking\n    this.deferUntilCompletionChecked(async () => {\n\n      // start adapt in a full restored state\n      this.trigger('adapt:start');\n      await this.wait.queue();\n\n      if (!Backbone.History.started) {\n        Backbone.history.start();\n      }\n\n      this.set('_isStarted', true);\n\n      this.trigger('adapt:initialize');\n      await this.wait.queue();\n\n    });\n  }\n\n  /**\n   * call when entering an asynchronous completion check\n   */\n  checkingCompletion() {\n    const outstandingChecks = this.get('_outstandingCompletionChecks');\n    this.set('_outstandingCompletionChecks', outstandingChecks + 1);\n  }\n\n  /**\n   * call when exiting an asynchronous completion check\n   */\n  checkedCompletion() {\n    const outstandingChecks = this.get('_outstandingCompletionChecks');\n    this.set('_outstandingCompletionChecks', outstandingChecks - 1);\n  }\n\n  /**\n   * wait until there are no outstanding completion checks\n   * @param {Function} [callback] Function to be called after all completion checks have been completed\n   */\n  async deferUntilCompletionChecked(callback = () => {}) {\n    if (this.get('_outstandingCompletionChecks') === 0) return callback();\n    return new Promise(resolve => {\n      const checkIfAnyChecksOutstanding = (model, outstandingChecks) => {\n        if (outstandingChecks !== 0) return;\n        this.off('change:_outstandingCompletionChecks', checkIfAnyChecksOutstanding);\n        callback();\n        resolve();\n      };\n      this.on('change:_outstandingCompletionChecks', checkIfAnyChecksOutstanding);\n    });\n  }\n\n  setupWait() {\n\n    this.wait = new Wait();\n\n    // Setup legacy events and handlers\n    const beginWait = () => {\n      this.log.deprecated('Use Adapt.wait.begin() as Adapt.trigger(\\'plugin:beginWait\\') may be removed in the future');\n      this.wait.begin();\n    };\n\n    const endWait = () => {\n      this.log.deprecated('Use Adapt.wait.end() as Adapt.trigger(\\'plugin:endWait\\') may be removed in the future');\n      this.wait.end();\n    };\n\n    const ready = () => {\n      if (this.wait.isWaiting()) {\n        return;\n      }\n      const isEventListening = (this._events['plugins:ready']);\n      if (!isEventListening) {\n        return;\n      }\n      this.log.deprecated(\"Use Adapt.wait.queue(callback) as Adapt.on('plugins:ready', callback) may be removed in the future\");\n      this.trigger('plugins:ready');\n    };\n\n    this.listenTo(this.wait, 'ready', ready);\n    this.listenTo(this, {\n      'plugin:beginWait': beginWait,\n      'plugin:endWait': endWait\n    });\n\n  }\n\n  isWaitingForPlugins() {\n    this.log.deprecated('Use Adapt.wait.isWaiting() as Adapt.isWaitingForPlugins() may be removed in the future');\n    return this.wait.isWaiting();\n  }\n\n  checkPluginsReady() {\n    this.log.deprecated('Use Adapt.wait.isWaiting() as Adapt.checkPluginsReady() may be removed in the future');\n    if (this.isWaitingForPlugins()) {\n      return;\n    }\n    this.trigger('plugins:ready');\n  }\n\n  /**\n   * Allows a selector to be passed in and Adapt will navigate to this element. Resolves\n   * asynchronously when the element has been navigated to.\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async navigateToElement() {}\n\n  /**\n   * Allows a selector to be passed in and Adapt will scroll to this element. Resolves\n   * asynchronously when the element has been navigated/scrolled to.\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings={}] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async scrollTo() {}\n\n  /**\n   * Used to register models and views with `Adapt.store`\n   * @param {string|Array} name The name(s) of the model/view to be registered\n   * @param {object} object Object containing properties `model` and `view` or (legacy) an object representing the view\n   */\n  register(name, object) {\n    if (Array.isArray(name)) {\n      // if an array is passed, iterate by recursive call\n      name.forEach(name => this.register(name, object));\n      return object;\n    }\n\n    if (name.split(' ').length > 1) {\n      // if name with spaces is passed, split and pass as array\n      this.register(name.split(' '), object);\n      return object;\n    }\n\n    if ((!object.view && !object.model) || object instanceof Backbone.View) {\n      this.log.deprecated('View-only registrations are no longer supported');\n      object = { view: object };\n    }\n\n    if (object.view && !object.view.template) {\n      object.view.template = name;\n    }\n\n    const isModelSetAndInvalid = (object.model &&\n      !(object.model.prototype instanceof Backbone.Model) &&\n      !(object.model instanceof Function));\n    if (isModelSetAndInvalid) {\n      throw new Error('The registered model is not a Backbone.Model or Function');\n    }\n\n    const isViewSetAndInvalid = (object.view &&\n      !(object.view.prototype instanceof Backbone.View) &&\n      !(object.view instanceof Function));\n    if (isViewSetAndInvalid) {\n      throw new Error('The registered view is not a Backbone.View or Function');\n    }\n\n    this.store[name] = Object.assign({}, this.store[name], object);\n\n    return object;\n  }\n\n  /**\n   * Parses a view class name.\n   * @param {string|Backbone.Model|Backbone.View|object} nameModelViewOrData The name of the view class you want to fetch e.g. `\"hotgraphic\"` or its model or its json data\n   */\n  getViewName(nameModelViewOrData) {\n    if (typeof nameModelViewOrData === 'string') {\n      return nameModelViewOrData;\n    }\n    if (nameModelViewOrData instanceof Backbone.Model) {\n      nameModelViewOrData = nameModelViewOrData.toJSON();\n    }\n    if (nameModelViewOrData instanceof Backbone.View) {\n      let foundName;\n      Object.entries(this.store).forEach(([key, entry]) => {\n        if (!entry?.view) return;\n        if (!(nameModelViewOrData instanceof entry.view)) return;\n        foundName = key;\n        return true;\n      });\n      return foundName;\n    }\n    if (nameModelViewOrData instanceof Object) {\n      const names = [\n        typeof nameModelViewOrData._view === 'string' && nameModelViewOrData._view,\n        typeof nameModelViewOrData._component === 'string' && nameModelViewOrData._component,\n        typeof nameModelViewOrData._type === 'string' && nameModelViewOrData._type\n      ].filter(Boolean);\n      if (names.length) {\n        // find first fitting view name\n        const name = names.find(name => this.store[name]?.view);\n        return name || names.pop(); // return last available if none found\n      }\n    }\n    throw new Error('Cannot derive view class name from input');\n  }\n\n  /**\n   * Fetches a view class from the store. For a usage example, see either HotGraphic or Narrative\n   * @param {string|Backbone.Model|Backbone.View|object} nameModelViewOrData The name of the view class you want to fetch e.g. `\"hotgraphic\"` or its model or its json data\n   * @returns {Backbone.View} Reference to the view class\n   */\n  getViewClass(nameModelViewOrData) {\n    const name = this.getViewName(nameModelViewOrData);\n    const object = this.store[name];\n    if (!object) {\n      this.log.warnOnce(`A view for '${name}' isn't registered in your project`);\n      return;\n    }\n    const isBackboneView = (object.view?.prototype instanceof Backbone.View);\n    if (!isBackboneView && object.view instanceof Function) {\n      return object.view();\n    }\n    return object.view;\n  }\n\n  /**\n   * Parses a model class name.\n   * @param {string|Backbone.Model|object} name The name of the model you want to fetch e.g. `\"hotgraphic\"`, the model to process or its json data\n   */\n  getModelName(nameModelOrData) {\n    if (typeof nameModelOrData === 'string') {\n      return nameModelOrData;\n    }\n    if (nameModelOrData instanceof Backbone.Model) {\n      nameModelOrData = nameModelOrData.toJSON();\n    }\n    if (nameModelOrData instanceof Object) {\n      const name = nameModelOrData._component;\n      const entry = this.store[name];\n      const isViewOnlyQuestion = entry && !entry.model && entry.view?._isQuestionType;\n      if (isViewOnlyQuestion) {\n        // Use question model by default\n        this.log.deprecated(`Assuming a question model for a view-only question: ${name}`);\n        return 'question';\n      }\n      const names = [\n        typeof nameModelOrData._model === 'string' && nameModelOrData._model,\n        typeof nameModelOrData._component === 'string' && nameModelOrData._component,\n        typeof nameModelOrData._type === 'string' && nameModelOrData._type\n      ].filter(Boolean);\n      if (names.length) {\n        // find first fitting model name\n        const name = names.find(name => this.store[name]?.model);\n        return name || names.pop(); // return last available if none found\n      }\n    }\n    throw new Error('Cannot derive model class name from input');\n  }\n\n  /**\n   * Fetches a model class from the store. For a usage example, see either HotGraphic or Narrative\n   * @param {string|Backbone.Model|object} name The name of the model you want to fetch e.g. `\"hotgraphic\"` or its json data\n   * @returns {Backbone.Model} Reference to the view class\n   */\n  getModelClass(nameModelOrData) {\n    const name = this.getModelName(nameModelOrData);\n    const object = this.store[name];\n    if (!object) {\n      this.log.warnOnce(`A model for '${name}' isn't registered in your project`);\n      return;\n    }\n    const isBackboneModel = (object.model?.prototype instanceof Backbone.Model);\n    if (!isBackboneModel && object.model instanceof Function) {\n      return object.model();\n    }\n    return object.model;\n  }\n\n  /**\n   * Looks up a model by its `_id` property\n   * @param {string} id The id of the item e.g. \"co-05\"\n   * @return {Backbone.Model}\n   */\n  findById(id) {\n    return this.data.findById(id);\n  }\n\n  findViewByModelId(id) {\n    const model = this.data.findById(id);\n    if (!model) return;\n\n    if (model === this.parentView.model) return this.parentView;\n\n    const idPathToView = [id];\n    const currentLocationId = this.location._currentId;\n    const currentLocationModel = model.getAncestorModels().find(model => {\n      const modelId = model.get('_id');\n      if (modelId === currentLocationId) return true;\n      idPathToView.unshift(modelId);\n      return false;\n    });\n\n    if (!currentLocationModel) {\n      return console.warn(`Adapt.findViewByModelId() unable to find view for model id: ${id}`);\n    }\n\n    const foundView = idPathToView.reduce((view, currentId) => {\n      if (!view) return null;\n      const childViews = view.getChildViews();\n      return childViews?.find(view => view.model.get('_id') === currentId);\n    }, this.parentView);\n\n    return foundView;\n  }\n\n  /**\n   * Returns the model represented by the trackingPosition.\n   * @param {Array<Number, Number>} trackingPosition Represents the relative location of a model to a _trackingId\n   * @returns {Backbone.Model}\n   */\n  findByTrackingPosition(trackingPosition) {\n    return this.data.findByTrackingPosition(trackingPosition);\n  }\n\n  /**\n   * Relative strings describe the number and type of hops in the model hierarchy\n   * @param {string} relativeString \"@component +1\" means to move one component forward from the current model\n   * This function would return the following:\n   * {\n   *     type: \"component\",\n   *     offset: 1\n   * }\n   * Trickle uses this function to determine where it should scrollTo after it unlocks\n   */\n  parseRelativeString(relativeString) {\n    let splitIndex = relativeString.search(/[ +\\-\\d]{1}/);\n    if (splitIndex === -1) splitIndex = relativeString.length;\n    const type = relativeString.slice(0, splitIndex).replace(/^@/, '');\n    const offset = parseInt(relativeString.slice(splitIndex).trim() || 0);\n    return {\n      type: type,\n      offset: offset\n    };\n  }\n\n  addDirection() {\n    const defaultDirection = this.config.get('_defaultDirection');\n\n    $('html')\n      .addClass('dir-' + defaultDirection)\n      .attr('dir', defaultDirection);\n  }\n\n  disableAnimation() {\n    const disableAnimationArray = this.config.get('_disableAnimationFor');\n    const disableAnimation = this.config.get('_disableAnimation');\n\n    // Check if animations should be disabled\n    if (disableAnimationArray) {\n      for (let i = 0, l = disableAnimationArray.length; i < l; i++) {\n        if (!$('html').is(disableAnimationArray[i])) continue;\n        this.config.set('_disableAnimation', true);\n        $('html').addClass('disable-animation');\n        console.log('Animation disabled.');\n      }\n      return;\n    }\n\n    $('html').toggleClass('disable-animation', (disableAnimation === true));\n  }\n\n  async remove() {\n    const currentView = this.parentView;\n    if (currentView) {\n      currentView.model.setOnChildren({\n        _isReady: false,\n        _isRendered: false\n      });\n    }\n    this.trigger('preRemove', currentView);\n    await this.wait.queue();\n    // Facilitate contentObject transitions\n    if (currentView && this.get('_shouldDestroyContentObjects')) {\n      currentView.destroy();\n    }\n    this.trigger('remove', currentView);\n    _.defer(this.trigger.bind(this), 'postRemove', currentView);\n  }\n\n}\n\nexport default new AdaptSingleton();\n","export default class TemplateRenderEvent extends Backbone.Controller {\n\n  /**\n   * Template render event\n   * @param {string} type Event type\n   * @param {string} name Template name\n   * @param {string} mode \"template\" / \"partial\"\n   * @param {string} value Rendered template string\n   * @param {[*]} args Arguments passed to template for render\n   */\n  initialize(type, name, mode, value, args) {\n    /** @type {string} Event type */\n    this.type = type;\n    /** @type {string} Template name */\n    this.name = name;\n    /** @type {string} \"template\" / \"partial\" */\n    this.mode = mode;\n    /** @type {string} Rendered template string */\n    this.value = value;\n    /** @type {[*]} Arguments passed to template for render */\n    this.args = args;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TemplateRenderEvent from 'core/js/templateRenderEvent';\n\n/**\n * Adds template and partial, preRender and postRender events to Adapt\n */\n\nfunction onRender(cb) {\n  const intercept = (object, name, mode, cb) => {\n    return (object[name] = cb.bind(object, object[name], name, mode));\n  };\n  Object.keys(Handlebars.templates).forEach(name => {\n    intercept(Handlebars.templates, name, 'template', cb);\n  });\n  Object.keys(Handlebars.partials).forEach(name => {\n    intercept(Handlebars.partials, name, 'partial', cb);\n  });\n}\n\nonRender((template, name, mode, ...args) => {\n  // Send preRender event to allow modification of args\n  const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n  Adapt.trigger(preRenderEvent.type, preRenderEvent);\n\n  // Execute template\n  const value = template(...preRenderEvent.args);\n\n  // Send postRender event to allow modification of rendered template\n  const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n  Adapt.trigger(postRenderEvent.type, postRenderEvent);\n\n  // Return rendered, modified template\n  return postRenderEvent.value;\n});\n","import Adapt from 'core/js/adapt';\nimport 'core/js/templates';\n\n/**\n * 27 April 2020 https://github.com/adaptlearning/adapt_framework/issues/2734\n * Chrome on Android defers load events on images when lite mode is enabled\n * and as part of a data saving technique.\n *\n * Add a loading=\"eager\" attribute to all template and partial img tags where\n * the loading attribute is missing.\n */\nAdapt.on('app:dataReady', () => {\n  const config = Adapt.config.get('_fixes');\n  if (config?._imgLazyLoad === false) return;\n  applyImgLoadingFix();\n});\n\nfunction applyImgLoadingFix() {\n  const findImgTag = /<img([^>]*)>/gi;\n  const hasLoadingAttr = / loading=/gi;\n  Adapt.on('template:postRender partial:postRender', event => {\n    const imgTagsFound = event.value.match(findImgTag);\n    if (!imgTagsFound) {\n      return;\n    }\n    event.value = imgTagsFound.reduce((value, img) => {\n      if (hasLoadingAttr.test(img)) {\n        return value;\n      }\n      // Add loading=\"eager\" by default\n      return value.replace(img, img.replace(findImgTag, '<img loading=\"eager\"$1>'));\n    }, event.value);\n  });\n  Adapt.on('reactElement:preRender', event => {\n    if (event.name !== 'img') return;\n    const options = event.args[1] = event.args[1] || {};\n    if (options && options.hasOwnProperty('loading')) return;\n    options.loading = 'eager';\n  });\n}\n","// Used to determine if log call should be printed based on log level\nconst LOG_LEVEL = ENUM([\n  'DEBUG',\n  'INFO',\n  'WARN',\n  'ERROR',\n  'FATAL'\n]);\n\nexport default LOG_LEVEL;\n","import Adapt from 'core/js/adapt';\nimport LOG_LEVEL from 'core/js/enums/logLevelEnum';\n\nclass Logging extends Backbone.Controller {\n\n  initialize() {\n    this._config = {\n      _isEnabled: true,\n      _level: LOG_LEVEL.INFO.asLowerCase, // Default log level\n      _console: true, // Log to console\n      _warnFirstOnly: true // Show only first of identical removed and deprecated warnings\n    };\n    this._warned = {};\n    this.listenToOnce(Adapt, 'configModel:dataLoaded', this.onLoadConfigData);\n  }\n\n  onLoadConfigData() {\n\n    this.loadConfig();\n\n    this.debug('Logging config loaded');\n\n    this.trigger('log:ready');\n\n  }\n\n  loadConfig() {\n\n    if (Adapt.config.has('_logging')) {\n      this._config = Adapt.config.get('_logging');\n    }\n\n    this.checkQueryStringOverride();\n\n  }\n\n  checkQueryStringOverride() {\n\n    // Override default log level with level present in query string\n    const matches = window.location.search.match(/[?&]loglevel=([a-z]*)/i);\n    if (!matches || matches.length < 2) return;\n\n    const override = LOG_LEVEL(matches[1].toUpperCase());\n    if (!override) return;\n\n    this._config._level = override.asLowerCase;\n    this.debug('Loglevel override in query string:', this._config._level);\n\n  }\n\n  debug(...args) {\n    this._log(LOG_LEVEL.DEBUG, args);\n  }\n\n  info(...args) {\n    this._log(LOG_LEVEL.INFO, args);\n  }\n\n  warn(...args) {\n    this._log(LOG_LEVEL.WARN, args);\n  }\n\n  error(...args) {\n    this._log(LOG_LEVEL.ERROR, args);\n  }\n\n  fatal(...args) {\n    this._log(LOG_LEVEL.FATAL, args);\n  }\n\n  removed(...args) {\n    args = ['REMOVED'].concat(args);\n    this.warnOnce(...args);\n  }\n\n  deprecated(...args) {\n    args = ['DEPRECATED'].concat(args);\n    this.warnOnce(...args);\n  }\n\n  warnOnce(...args) {\n    if (this._hasWarned(args)) {\n      return;\n    }\n    this._log(LOG_LEVEL.WARN, args);\n  }\n\n  _log(level, data) {\n\n    const isEnabled = (this._config._isEnabled);\n    if (!isEnabled) return;\n\n    const configLevel = LOG_LEVEL(this._config._level.toUpperCase());\n\n    const isLogLevelAllowed = (level >= configLevel);\n    if (!isLogLevelAllowed) return;\n\n    this._logToConsole(level, data);\n\n    // Allow error reporting plugins to hook and report to logging systems\n    this.trigger('log', level, data);\n    this.trigger('log:' + level.asLowerCase, level, data);\n\n  }\n\n  _logToConsole(level, data) {\n\n    const shouldLogToConsole = (this._config._console);\n    if (!shouldLogToConsole) return;\n\n    const log = [level.asUpperCase + ':'];\n    data && log.push(...data);\n\n    // is there a matching console method we can use e.g. console.error()?\n    if (console[level.asLowerCase]) {\n      console[level.asLowerCase](...log);\n    } else {\n      console.log(...log);\n    }\n  }\n\n  _hasWarned(args) {\n    if (!this._config._warnFirstOnly) {\n      return false;\n    }\n    const hash = args.map(String).join(':');\n    if (this._warned[hash]) {\n      return true;\n    }\n    this._warned[hash] = true;\n    return false;\n  }\n\n}\n\nexport default (Adapt.log = new Logging());\n","import Adapt from 'core/js/adapt';\nimport HTMLReactParser from 'html-react-parser';\nimport 'core/js/templates';\nimport logging from '../logging';\n\n/**\n * 27 October 2021 https://github.com/adaptlearning/adapt_authoring/issues/2570\n * The function reactHelpers.html was stopping javascript generated in the AAT editor\n * from presenting correctly in the DOM.\n *\n * This file helps deprecate the function reactHelpers.html and instead recommends\n * replacing it with dangerouslySetInnerHTML, a native react property.\n * https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n */\nAdapt.on('app:dataReady', () => {\n  const config = Adapt.config.get('_fixes');\n  if (config?._jsxReactHelpersHTML === false) return;\n  applyReactHelpersHTML();\n});\n\nfunction applyReactHelpersHTML() {\n  Adapt.on('reactElement:preRender', event => {\n    let [tagName, props, ...children] = event.args;\n    if (!children) return;\n    if (!Array.isArray(children)) children = [children];\n    children = children.filter(Boolean);\n    const hasSomeUnsafeConversions = children.some(c => c?.__html);\n    if (!hasSomeUnsafeConversions) return;\n    const hasManyChildren = (children.length > 1);\n    if (hasManyChildren) {\n      // Process reactHelpers.html() children amongst other nodes as a conversion from HTML strings to React nodes\n      // Warn as this is an unexpected use-case\n      event.args = event.args.map(child => {\n        if (!child || !child.__html) return child;\n        const attributes = Object.entries(props).map(([name, value]) => `${name}=\"${value}\"`).join(' ');\n        logging.warnOnce(`html() call should be the only child in its parent <${tagName} ${attributes}>`);\n        return child.__html ? HTMLReactParser(child.__html) : undefined;\n      });\n      return;\n    }\n    // Process one reactHelpers.html() child as dangerouslySetInnerHTML on the parent\n    // Allows html generated from the json to appear in the DOM in raw format\n    props = (event.args[1] = event.args[1] || {});\n    props.dangerouslySetInnerHTML = children[0];\n    event.args.length = 2;\n  });\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Browser modifications to focus handling.\n * @class\n */\nexport default class BrowserFocus extends Backbone.Controller {\n\n  initialize() {\n    this._onBlur = this._onBlur.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.$body = $('body');\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    this.$body\n      .on('blur', '*', this._onBlur)\n      .on('blur', this._onBlur);\n    // 'Capture' event attachment for click\n    this.$body[0].addEventListener('click', this._onClick, true);\n  }\n\n  /**\n   * When any element in the document receives a blur event,\n   * check to see if it needs the `data-a11y-force-focus` attribute removing\n   * and check to see if it was blurred because a disabled attribute was added.\n   * If a disabled attribute was added, the focus will be moved forward.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onBlur(event) {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isFocusNextOnDisabled) {\n      return;\n    }\n    const $element = $(event.target);\n    if ($element.is('[data-a11y-force-focus]')) {\n      $element.removeAttr('tabindex data-a11y-force-focus');\n    }\n    // From here, only check source elements\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n    // Check if element losing focus is losing focus\n    // due to the addition of a disabled class\n    if (!$element.is('[disabled]')) {\n      return;\n    }\n    // Move focus to next readable element\n    Adapt.a11y.focusNext($element);\n  }\n\n  /**\n   * Force focus when clicked on a tabbable element,\n   * making sure `document.activeElement` is updated.\n   * Stop event handling on aria-disabled elements.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onClick(event) {\n    const $element = $(event.target);\n    // search element and parents for aria-disabled - see https://github.com/adaptlearning/adapt_framework/issues/3097\n    const isAriaDisabled = $element.closest('[aria-disabled=true]').length === 1;\n    if (isAriaDisabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isFocusOnClickEnabled) {\n      return;\n    }\n    const $stack = $([...$element.toArray(), ...$element.parents().toArray()]);\n    const $focusable = $stack.filter(config._options._tabbableElements);\n    if (!$focusable.length) {\n      return;\n    }\n    // Force focus for screen reader enter / space press\n    $focusable[0].focus();\n  }\n\n}\n","export default class FocusOptions {\n\n  /**\n   * Options parser for focus functions.\n   * @param {Object} options\n   * @param {boolean} [options.preventScroll=false] Stops the browser from scrolling to the focused point. https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\n   * @param {boolean} [options.defer=false] Add a defer to the focus call, allowing for user interface settling.\n   */\n  constructor({\n    preventScroll = false,\n    defer = false\n  } = {}) {\n    /**\n    * Stops the browser from scrolling to the focused point.\n    * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\n    * @type {boolean}\n    */\n    this.preventScroll = preventScroll;\n    /**\n     * Add a defer to the focus call, allowing for user interface settling.\n     * @type {boolean}\n     */\n    this.defer = defer;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Manages whether or not the focus outline should be entirely removed\n * or removed until a key is pressed on a tabbable element.\n * @class\n */\nexport default class KeyboardFocusOutline extends Backbone.Controller {\n\n  initialize() {\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this.$html = $('html');\n    this.showOnKeys = {\n      9: true, // tab\n      13: true, // enter\n      32: true, // space\n      37: true, // arrow left\n      38: true, // arrow up\n      39: true, // arrow right\n      40: true // arrow down\n    };\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    document.addEventListener('keydown', this._onKeyDown);\n    this._start();\n  }\n\n  /**\n   * Add styling classes if required.\n   */\n  _start() {\n    const config = Adapt.a11y.config;\n    if (config._options._isFocusOutlineDisabled) {\n      this.$html.addClass('a11y-disable-focusoutline');\n      return;\n    }\n    if (!config._isEnabled || !config._options._isFocusOutlineKeyboardOnlyEnabled) {\n      return;\n    }\n    this.$html.addClass('a11y-disable-focusoutline');\n  }\n\n  /**\n   * Handle key down events for on a tabbable element.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onKeyDown(event) {\n    const config = Adapt.a11y.config;\n    if (config._options._isFocusOutlineDisabled) {\n      this.$html.addClass('a11y-disable-focusoutline');\n      return;\n    }\n    if (!config._isEnabled || !config._options._isFocusOutlineKeyboardOnlyEnabled || !this.showOnKeys[event.keyCode]) {\n      return;\n    }\n    const $element = $(event.target);\n    if (!$element.is(config._options._tabbableElements) || $element.is(config._options._focusOutlineKeyboardOnlyIgnore)) {\n      return;\n    }\n    this.$html.removeClass('a11y-disable-focusoutline');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Controller for managing accessibilty logging, specifically used for\n * controlling the display of removed or deprecated API warnings.\n */\nexport default class Log extends Backbone.Controller {\n\n  initialize() {\n    this._warned = {};\n  }\n\n  _hasWarned(args) {\n    const config = Adapt.a11y.config;\n    if (!config._options._warnFirstOnly) {\n      return false;\n    }\n    const hash = args.map(String).join(':');\n    if (this._warned[hash]) {\n      return true;\n    }\n    this._warned[hash] = true;\n    return false;\n  }\n\n  _canWarn() {\n    const config = Adapt.a11y.config;\n    return Boolean(config._options._warn);\n  }\n\n  removed(...args) {\n    if (!this._canWarn) {\n      return;\n    }\n    args = ['A11Y'].concat(args);\n    if (this._hasWarned(args)) {\n      return;\n    }\n    Adapt.log.removed(...args);\n    return this;\n  }\n\n  deprecated(...args) {\n    if (!this._canWarn) {\n      return;\n    }\n    args = ['A11Y'].concat(args);\n    if (this._hasWarned(args)) {\n      return;\n    }\n    Adapt.log.deprecated(...args);\n    return this;\n  }\n\n}\n","/**\n * Controller for blocking scroll events on specified elements.\n * @class\n */\nexport default class Scroll extends Backbone.Controller {\n\n  initialize() {\n    this._onTouchStart = this._onTouchStart.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onScrollEvent = this._onScrollEvent.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._scrollDisabledElements = $([]);\n    this.$window = $(window);\n    this.$body = $('body');\n    this._preventScrollOnKeys = {\n      37: true, // left\n      38: true, // up\n      39: true, // right\n      40: true // down\n    };\n    this._ignoreKeysOnElementsMatching = 'textarea, input, select';\n    this._isRunning = false;\n    this._touchStartEventObject = null;\n  }\n\n  /**\n   * Block scrolling on the given elements.\n   *\n   * @param {Object|string|Array} $elements\n   */\n  disable($elements) {\n    $elements = $($elements);\n    this._scrollDisabledElements = this._scrollDisabledElements.add($elements);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Stop blocking scrolling on the given elements.\n   *\n   * @param {Object|string|Array} $items\n   */\n  enable($elements) {\n    $elements = $($elements);\n    if (!$elements.length) {\n      this.clear();\n      return this;\n    }\n    this._scrollDisabledElements = this._scrollDisabledElements.not($elements);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Stop blocking all scrolling.\n   */\n  clear() {\n    this._scrollDisabledElements = $([]);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Start or stop listening for events to block if and when needed.\n   */\n  _checkRunning() {\n    if (!this._scrollDisabledElements.length) {\n      this._stop();\n      return;\n    }\n    this._start();\n  }\n\n  /**\n   * Start listening for events to block.\n   */\n  _start() {\n    if (this._isRunning) {\n      return;\n    }\n    this._isRunning = true;\n    window.addEventListener('touchstart', this._onTouchStart); // mobile\n    window.addEventListener('touchend', this._onTouchEnd); // mobile\n    window.addEventListener('touchmove', this._onScrollEvent, { passive: false }); // mobile\n    window.addEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.addEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.addEventListener('keydown', this._onKeyDown);\n  }\n\n  /**\n   * Capture the touchstart event object for deltaY calculations.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onTouchStart(event) {\n    event = $.event.fix(event);\n    this._touchStartEventObject = event;\n    return true;\n  }\n\n  /**\n   * Clear touchstart event object.\n   */\n  _onTouchEnd() {\n    this._touchStartEventObject = null;\n    return true;\n  }\n\n  /**\n   * Process a native scroll event.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onScrollEvent(event) {\n    event = $.event.fix(event);\n    return this._preventScroll(event);\n  }\n\n  /**\n   * Process a native keydown event.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onKeyDown(event) {\n    event = $.event.fix(event);\n    if (!this._preventScrollOnKeys[event.keyCode]) {\n      return;\n    }\n    const $target = $(event.target);\n    if ($target.is(this._ignoreKeysOnElementsMatching)) {\n      return;\n    }\n    return this._preventScroll(event);\n  }\n\n  /**\n   * Process jquery event object.\n   *\n   * @param {JQuery.Event} event\n   */\n  _preventScroll(event) {\n    const isGesture = (event.touches?.length > 1);\n    if (isGesture) {\n      // allow multiple finger gestures through\n      // this will unfortunately allow two finger background scrolling on mobile devices\n      // one finger background scrolling will still be disabled\n      return;\n    }\n    const $target = $(event.target);\n    if (this._scrollDisabledElements.length) {\n      const scrollingParent = this._getScrollingParent(event, $target);\n      if (scrollingParent.filter(this._scrollDisabledElements).length === 0) {\n        this.$window.scroll();\n        return;\n      }\n    }\n    event.preventDefault();\n    return false;\n  }\n\n  /**\n   * Return the parent which will be scrolling from the current scroll event.\n   *\n   * @param {JQuery.Event} event\n   * @param {Object} $target jQuery element object.\n   */\n  _getScrollingParent(event, $target) {\n    const isTouchEvent = event.type === 'touchmove';\n    const hasTouchStartEvent = this._touchStartEventObject?.originalEvent;\n    if (isTouchEvent && !hasTouchStartEvent) {\n      return $target;\n    }\n    const directionY = this._getScrollDirection(event);\n    if (directionY === 'none') {\n      return this.$body;\n    }\n    // Make sure to check the element on which the scroll event was triggered\n    const parents = [$target[0], ...$target.parents()];\n    for (let i = 0, l = parents.length; i < l; i++) {\n      const $parent = $(parents[i]);\n      if ($parent.is('body')) {\n        return this.$body;\n      }\n      if (!this._isScrollable($parent)) {\n        continue;\n      }\n      if (!this._isScrolling($parent, directionY)) {\n        continue;\n      }\n      return $parent;\n    }\n    return this.$body;\n  }\n\n  /**\n   * Returns true if the specified target is scrollable.\n   *\n   * @param {Object} $target jQuery element object.\n   * @returns {boolean}\n   */\n  _isScrollable($target) {\n    const scrollType = $target.css('overflow-y');\n    if (scrollType !== 'auto' && scrollType !== 'scroll') {\n      return false;\n    }\n    const pointerEvents = $target.css('pointer-events');\n    if (pointerEvents === 'none') {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Returns true if the specified target is the scrolling target.\n   *\n   * @param {Object} $target jQuery element object.\n   * @param {string} directionY 'none' | 'up' | 'down'\n   *\n   * @returns {boolean}\n   */\n  _isScrolling($target, directionY) {\n    const scrollTop = Math.ceil($target.scrollTop());\n    const innerHeight = $target.outerHeight();\n    const scrollHeight = $target[0].scrollHeight;\n    let hasScrollingSpace = false;\n    switch (directionY) {\n      case 'down':\n        hasScrollingSpace = scrollTop + innerHeight < scrollHeight;\n        if (hasScrollingSpace) {\n          return true;\n        }\n        break;\n      case 'up':\n        hasScrollingSpace = scrollTop > 0;\n        if (hasScrollingSpace) {\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n\n  /**\n   * Returns the vertical direction of scroll.\n   *\n   * @param {JQuery.Event} event\n   * @returns {string} 'none' | 'up' | 'down'\n   */\n  _getScrollDirection(event) {\n    const deltaY = this._getScrollDelta(event);\n    if (deltaY === 0) {\n      return 'none';\n    }\n    return deltaY > 0 ? 'up' : 'down';\n  }\n\n  /**\n   * Returns the number of pixels which is intended to be scrolled.\n   *\n   * @param {JQuery.Event} event\n   * @returns {number}\n   */\n  _getScrollDelta(event) {\n    let deltaY = 0;\n    const isTouchEvent = event.type === 'touchmove';\n    const originalEvent = event.originalEvent;\n    if (isTouchEvent) {\n      // Touch events\n      // iOS previous + current scroll pos\n      const startOriginalEvent = this._touchStartEventObject.originalEvent;\n      let currentY = originalEvent.pageY;\n      let previousY = startOriginalEvent.pageY;\n      if (currentY === 0 || currentY === previousY) {\n        // Android chrome current scroll pos\n        currentY = originalEvent.touches[0].pageY;\n        previousY = startOriginalEvent.touches[0].pageY;\n      }\n      // Touch: delta calculated from touchstart pos vs touchmove pos\n      deltaY = currentY - previousY;\n    } else {\n      // Mouse events\n      const hasDeltaY = (originalEvent.wheelDeltaY || originalEvent.deltaY !== undefined);\n      if (hasDeltaY) {\n        // Desktop: Firefox & IE delta inverted\n        deltaY = -originalEvent.deltaY;\n      } else {\n        // Desktop: Chrome & Safari wheel delta\n        deltaY = (originalEvent.wheelDelta || 0);\n      }\n    }\n    return deltaY;\n  }\n\n  /**\n   * Stop listening for events to block.\n   */\n  _stop() {\n    if (!this._isRunning) {\n      return;\n    }\n    this._isRunning = false;\n    window.removeEventListener('touchstart', this._onTouchStart); // mobile\n    window.removeEventListener('touchend', this._onTouchEnd); // mobile\n    // shouldn't need to supply 3rd arg when removing, but IE11 won't remove the event listener if you don't - see https://github.com/adaptlearning/adapt_framework/issues/2466\n    window.removeEventListener('touchmove', this._onScrollEvent, { passive: false }); // mobile\n    window.removeEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.removeEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.removeEventListener('keydown', this._onKeyDown);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Controller for managing tab wrapping for popups.\n * @class\n */\nexport default class WrapFocus extends Backbone.Controller {\n\n  initialize() {\n    _.bindAll(this, '_onWrapAround');\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    const config = Adapt.a11y.config;\n    $('body').on('click focus', config._options._focusguard, this._onWrapAround);\n  }\n\n  /**\n   * If click or focus is received on any element with the focusguard class,\n   * loop focus around to the top of the document.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onWrapAround(event) {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupWrapFocusEnabled) {\n      return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    Adapt.a11y.focusFirst('body', { defer: false });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Tabindex and aria-hidden manager for popups.\n * @class\n */\nexport default class Popup extends Backbone.Controller {\n\n  initialize() {\n    /**\n     * List of elements which form the base at which elements are generally tabbale\n     * and aria-hidden='false'.\n     *\n     * @type {Array<Object>}\n     */\n    this._floorStack = [$('body')];\n    /**\n     * List of elements to return the focus to once leaving each stack.\n     *\n     * @type {Array<Object>}\n     */\n    this._focusStack = [];\n    /**\n     * Hash of tabindex states for each tabbable element in the popup stack.\n     *\n     * @type {Object}\n     */\n    this._tabIndexes = {};\n    /**\n     * Hash of aria-hidden states for each tabbable element in the popup stack.\n     *\n     * @type {Object}\n     */\n    this._ariaHiddens = {};\n    /**\n     * Incremented unique ids for elements belonging to a popup stack with saved\n     * states,\n     */\n    this._elementUIDIndex = 0;\n    this.listenTo(Adapt, {\n      'popup:opened'($element, ignoreInternalTrigger) {\n        if (ignoreInternalTrigger) {\n          return;\n        }\n        Adapt.a11y.log.deprecated('Adapt.trigger(\"popup:opened\", $element) is replaced with Adapt.a11y.popupOpened($element);');\n        this.opened($element, true);\n      },\n      'popup:closed'($target, ignoreInternalTrigger) {\n        if (ignoreInternalTrigger) {\n          return;\n        }\n        Adapt.a11y.log.deprecated('Adapt.trigger(\"popup:closed\", $target) is replaced with Adapt.a11y.popupClosed($target);');\n        this.closed($target, true);\n      }\n    });\n  }\n\n  /**\n   * Reorganise the tabindex and aria-hidden attributes in the document to\n   * restrict user interaction to the element specified.\n   *\n   * @param {Object} [$popupElement] Element encapulating the popup.\n   * @returns {Object} Returns `Adapt.a11y._popup`.\n   */\n  opened($popupElement, silent) {\n    // Capture currently active element or element specified\n    $popupElement = $popupElement || $(document.activeElement);\n    this._addPopupLayer($popupElement);\n    if (!silent) {\n      Adapt.trigger('popup:opened', $popupElement, true);\n    }\n    return this;\n  }\n\n  /**\n   * Restrict tabbing and screen reader access to selected element only.\n   *\n   * @param {Object} $popupElement Element encapulating the popup.\n   */\n  _addPopupLayer($popupElement) {\n    $popupElement = $($popupElement);\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupManagementEnabled || $popupElement.length === 0) {\n      return $popupElement;\n    }\n    this._floorStack.push($popupElement);\n    this._focusStack.push($(document.activeElement));\n    let $elements = $(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n    const $branch = $popupElement.add($popupElement.parents());\n    const $siblings = $branch.siblings().filter(config._options._tabbableElementsExcludes);\n    $elements = $elements.add($siblings);\n    $elements.each((index, item) => {\n      const $item = $(item);\n      let elementUID;\n      if (typeof item.a11y_uid === 'undefined') {\n        item.a11y_uid = 'UID' + ++this._elementUIDIndex;\n      }\n      elementUID = item.a11y_uid;\n      if (this._tabIndexes[elementUID] === undefined) {\n        this._tabIndexes[elementUID] = [];\n      }\n      if (this._ariaHiddens[elementUID] === undefined) {\n        this._ariaHiddens[elementUID] = [];\n      }\n      const tabindex = $item.attr('tabindex');\n      const ariaHidden = $item.attr('aria-hidden');\n      this._tabIndexes[elementUID].push(tabindex === undefined ? '' : tabindex);\n      this._ariaHiddens[elementUID].push(ariaHidden === undefined ? '' : ariaHidden);\n      if (config._options._isPopupTabIndexManagementEnabled) {\n        $item.attr('tabindex', -1);\n      }\n      if (config._options._isPopupAriaHiddenManagementEnabled) {\n        $item.attr('aria-hidden', true);\n      }\n    });\n    const $items = $popupElement.find(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n    if (config._options._isPopupTabIndexManagementEnabled) {\n      $items.attr('tabindex', 0);\n    }\n    if (config._options._isPopupAriaHiddenManagementEnabled) {\n      $items\n        .removeAttr('aria-hidden')\n        .removeClass('aria-hidden')\n        .parents(config._options._ariaHiddenExcludes)\n        .removeAttr('aria-hidden')\n        .removeClass('aria-hidden');\n    }\n  }\n\n  /**\n   * Close the last popup on the stack, restoring tabindex and aria-hidden\n   * attributes.\n   *\n   * @param {Object} [$focusElement] Element at which to move focus.\n   * @returns {Object} Returns `Adapt.a11y._popup`.\n   */\n  closed($focusElement, silent) {\n    const $previousFocusElement = this._removeLastPopupLayer();\n    $focusElement = $focusElement || $previousFocusElement || $('body');\n    if (!silent) {\n      Adapt.trigger('popup:closed', $focusElement, true);\n    }\n    Adapt.a11y.focusFirst($($focusElement), { preventScroll: true });\n    return this;\n  }\n\n  /**\n   * Restores tabbing and screen reader access to the state before the last\n   * `_addPopupLayer` call.\n   *\n   * @returns {Object} Returns previously active element.\n   */\n  _removeLastPopupLayer() {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupManagementEnabled) {\n      return $(document.activeElement);\n    }\n    // the body layer is the first element and must always exist\n    if (this._floorStack.length <= 1) {\n      return;\n    }\n    this._floorStack.pop();\n    $(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes).each((index, item) => {\n      const $item = $(item);\n      let previousTabIndex = '';\n      let previousAriaHidden = '';\n      let elementUID;\n      if (typeof item.a11y_uid === 'undefined') {\n        // assign element a unique id\n        item.a11y_uid = 'UID' + ++this._elementUIDIndex;\n      }\n      elementUID = item.a11y_uid;\n      if (this._tabIndexes[elementUID]?.length) {\n        // get previous tabindex if saved\n        previousTabIndex = this._tabIndexes[elementUID].pop();\n        previousAriaHidden = this._ariaHiddens[elementUID].pop();\n      }\n      if (this._tabIndexes[elementUID]?.length) {\n        // delete element tabindex store if empty\n        delete this._tabIndexes[elementUID];\n        delete this._ariaHiddens[elementUID];\n      }\n      if (config._options._isPopupTabIndexManagementEnabled) {\n        if (previousTabIndex === '') {\n          $item.removeAttr('tabindex');\n        } else {\n          $item.attr({\n            'tabindex': previousTabIndex\n          });\n        }\n      }\n      if (config._options._isPopupAriaHiddenManagementEnabled) {\n        if (previousAriaHidden === '') {\n          $item.removeAttr('aria-hidden');\n        } else {\n          $item.attr({\n            'aria-hidden': previousAriaHidden\n          });\n        }\n      }\n    });\n    return this._focusStack.pop();\n  }\n\n  /**\n   * When a popup is open, this function makes it possible to swap the element\n   * that should receive focus on popup close.\n   *\n   * @param {Object} $focusElement Set a new element to focus on.\n   * @returns {Object} Returns previously set focus element.\n   */\n  setCloseTo($focusElement) {\n    const $original = this._focusStack.pop();\n    this._focusStack.push($focusElement);\n    return $original;\n  }\n\n}\n","export default {\n  _menu: 1,\n  _menuGroup: 2,\n  _menuItem: 2,\n  _page: 1,\n  _article: 2,\n  _block: 3,\n  _component: 4,\n  _componentItem: 5,\n  _notify: 1\n};\n","import Adapt from 'core/js/adapt';\n\n/**\n * The old API is rerouted to the new API with warnings.\n */\n\nObject.assign($.fn, {\n\n  isFixedPostion() {\n    Adapt.a11y.log.removed('$(\"..\").isFixedPostion was unneeded and has been removed, let us know if you need it back.');\n    return false;\n  },\n\n  a11y_aria_label() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_aria_label was incorrect behaviour.');\n    return this;\n  },\n\n  limitedScrollTo() {\n    Adapt.a11y.log.removed('$.limitedScrollTo had no impact on the screen reader cursor.');\n    return this;\n  },\n\n  a11y_text() {\n    Adapt.a11y.log.removed('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return this;\n  },\n\n  a11y_selected() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_selected is removed. Please use aria-live instead.');\n    return this;\n  },\n\n  a11y_on(isOn) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_on, use Adapt.a11y.findTabbable($element); and Adapt.a11y.toggleAccessible($elements, isAccessible); instead.');\n    const $tabbable = Adapt.a11y.findTabbable(this);\n    Adapt.a11y.toggleAccessible($tabbable, isOn);\n    return this;\n  },\n\n  a11y_only() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_only, use Adapt.a11y.popupOpened($popupElement); instead.');\n    return this;\n  },\n\n  scrollDisable() {\n    if (Adapt.a11y.config._options._isScrollDisableEnabled === false) {\n      return this;\n    }\n    Adapt.a11y.log.deprecated('$(\"..\").scrollDisable, use Adapt.a11y.scrollDisable($elements); instead.');\n    Adapt.a11y.scrollDisable(this);\n    return this;\n  },\n\n  scrollEnable() {\n    if (Adapt.a11y.config._options._isScrollDisableEnabled === false) {\n      return this;\n    }\n    Adapt.a11y.log.deprecated('$(\"..\").scrollEnable, use Adapt.a11y.scrollEnable($elements); instead.');\n    Adapt.a11y.scrollEnable(this);\n    return this;\n  },\n\n  a11y_popup() {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_popup, use Adapt.a11y.popupOpened($popupElement); instead.');\n    return Adapt.a11y.popupOpened(this);\n  },\n\n  a11y_cntrl(isOn, withDisabled) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_cntrl, use Adapt.a11y.toggleAccessible($elements, isAccessible); and if needed Adapt.a11y.toggleEnabled($elements, isEnabled); instead.');\n    Adapt.a11y.toggleAccessible(this, isOn);\n    if (withDisabled) Adapt.a11y.toggleEnabled(this, isOn);\n    return this;\n  },\n\n  a11y_cntrl_enabled(isOn) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_cntrl_enabled, use Adapt.a11y.toggleAccessibleEnabled($elements, isAccessibleEnabled); instead.');\n    Adapt.a11y.toggleAccessibleEnabled(this, isOn);\n    return this;\n  },\n\n  isReadable() {\n    Adapt.a11y.log.deprecated('$(\"..\").isReadable, use Adapt.a11y.isReadable($element); instead.');\n    return Adapt.a11y.isReadable(this);\n  },\n\n  findForward(selector) {\n    Adapt.a11y.log.removed('$(\"..\").findForward has been removed as the use cases are very small, let us know if you need it back.');\n    return Adapt.a11y._findFirstForward(this, selector);\n  },\n\n  findWalk(selector) {\n    Adapt.a11y.log.removed('$(\"..\").findWalk has been removed as the use cases are very small, let us know if you need it back.');\n    return Adapt.a11y._findFindForwardDescendant(this, selector);\n  },\n\n  focusNoScroll() {\n    Adapt.a11y.log.deprecated('$(\"..\").focusNoScroll, use Adapt.a11y.focus($element); instead.');\n    return Adapt.a11y.focus(this);\n  },\n\n  focusNext(returnOnly) {\n    Adapt.a11y.log.deprecated('$(\"..\").focusNext, use Adapt.a11y.focusNext($element); or if needed Adapt.a11y.findFirstReadable($element); instead.');\n    if (returnOnly) {\n      return Adapt.a11y.findFirstReadable(this);\n    }\n    return Adapt.a11y.focusNext(this);\n  },\n\n  focusOrNext(returnOnly) {\n    Adapt.a11y.log.deprecated('$(\"..\").focusOrNext, use Adapt.a11y.focusFirst($element); or if needed Adapt.a11y.findFirstReadable($element); or Adapt.a11y.isReadable($element); instead.');\n    if (returnOnly) {\n      if (Adapt.a11y.isReadable(this)) return this;\n      return Adapt.a11y.findFirstReadable(this);\n    }\n    return Adapt.a11y.focusFirst(this);\n  },\n\n  a11y_focus(dontDefer) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_focus, use Adapt.a11y.focusFirst($element, { defer: true }); instead.');\n    Adapt.a11y.focusFirst(this, { defer: !dontDefer });\n    return this;\n  }\n\n});\n\nObject.assign($, {\n\n  a11y_alert() {\n    Adapt.a11y.log.removed('$.a11y_alert is removed. Please use aria-live instead.');\n    return this;\n  },\n\n  a11y_update() {\n    Adapt.a11y.log.removed('a11y_update is no longer required.');\n    return this;\n  },\n\n  a11y_text(text) {\n    Adapt.a11y.log.removed('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return text;\n  },\n\n  a11y_on(isOn, selector) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_on, use Adapt.a11y.toggleHidden($elements, isHidden); instead.');\n    return Adapt.a11y.toggleHidden(selector, !isOn);\n  },\n\n  a11y_popdown($focusTarget) {\n    Adapt.a11y.log.removed('$.a11y_popdown, use Adapt.a11y.popupClosed($focusTarget); instead.');\n    return Adapt.a11y.popupClosed($focusTarget);\n  },\n\n  a11y_focus(dontDefer) {\n    Adapt.a11y.log.deprecated('$.a11y_focus, use Adapt.a11y.focusFirst(\"body\", { defer: true }); instead.');\n    Adapt.a11y.focusFirst('body', { defer: !dontDefer });\n    return this;\n  },\n\n  a11y_normalize(html) {\n    Adapt.a11y.log.deprecated('$.a11y_normalize, use Adapt.a11y.normalize(\"html\"); instead.');\n    return Adapt.a11y.normalize(html);\n  },\n\n  a11y_remove_breaks(html) {\n    Adapt.a11y.log.deprecated('$.a11y_remove_breaks, use Adapt.a11y.removeBreaks(\"html\"); instead.');\n    return Adapt.a11y.removeBreaks(html);\n  }\n\n});\n","import Adapt from 'core/js/adapt';\nimport BrowserFocus from 'core/js/a11y/browserFocus';\nimport FocusOptions from 'core/js/a11y/focusOptions';\nimport KeyboardFocusOutline from 'core/js/a11y/keyboardFocusOutline';\nimport Log from 'core/js/a11y/log';\nimport Scroll from 'core/js/a11y/scroll';\nimport WrapFocus from 'core/js/a11y/wrapFocus';\nimport Popup from 'core/js/a11y/popup';\nimport defaultAriaLevels from './enums/defaultAriaLevels';\n\nimport 'core/js/a11y/deprecated';\n\nclass A11y extends Backbone.Controller {\n\n  defaults() {\n    return {\n      _isFocusOutlineKeyboardOnlyEnabled: true,\n      /**\n       * `_isFocusOutlineDisabled` ignores `_isEnabled` and can be used when all other\n       * accessibility features have been disabled.\n       */\n      _isFocusOutlineDisabled: false,\n      _isFocusAssignmentEnabled: true,\n      _isFocusOnClickEnabled: true,\n      _isFocusNextOnDisabled: true,\n      _isScrollDisableEnabled: true,\n      _isAriaHiddenManagementEnabled: true,\n      _isPopupManagementEnabled: true,\n      _isPopupWrapFocusEnabled: true,\n      _isPopupAriaHiddenManagementEnabled: true,\n      _isPopupTabIndexManagementEnabled: true,\n      /**\n       * Do not change aria-hidden on these elements.\n       */\n      _ariaHiddenExcludes: ':not(#wrapper):not(body)',\n      _tabbableElements: 'a,button,input,select,textarea,[tabindex]:not([data-a11y-force-focus])',\n      _focusOutlineKeyboardOnlyIgnore: 'input,textarea',\n      /**\n       * Designate these elements as not tabbable.\n       */\n      _tabbableElementsExcludes: ':not(.a11y-ignore):not([data-a11y-force-focus])',\n      _focusableElements: 'a,button,input,select,textarea,[tabindex],label',\n      _readableElements: '[role=heading],[aria-label],[aria-labelledby],[alt]',\n      /**\n       * Prevent adapt from focusing forward onto these elements.\n       */\n      _focusForwardElementsExcludes: ':not([aria-labelledby][role=dialog],[aria-labelledby][role=main],[aria-labelledby][role=region],[aria-labelledby][role=radiogroup],[aria-labelledby][role=group],[aria-labelledby][role=tablist],[aria-labelledby][role=list],[aria-labelledby][role=tree],[aria-labelledby][role=treegrid],[aria-labelledby][role=table],[aria-labelledby][role=grid][aria-labelledby],[role=menu],[aria-labelledby][role=rowgroup])',\n      /**\n       * Selector for elements which cause tab wrapping.\n       */\n      _focusguard: '.a11y-focusguard',\n      /**\n       * Specifies all stylistic elements.\n       */\n      _wrapStyleElements: 'b,i,abbr,strong,em,small,sub,sup,ins,del,mark,zw,nb',\n\n      /**\n       * Logging settings\n       */\n      _warnFirstOnly: true,\n      _warn: true\n    };\n  }\n\n  initialize() {\n    this.isFocusable = this.isFocusable.bind(this);\n    this.isReadable = this.isReadable.bind(this);\n    this.isTabbable = this.isTabbable.bind(this);\n    this.$html = $('html');\n    this._htmlCharRegex = /&.*;/g;\n    /** @type {Object} */\n    this.config = null;\n    this._browserFocus = new BrowserFocus();\n    this._keyboardFocusOutline = new KeyboardFocusOutline();\n    this._wrapFocus = new WrapFocus();\n    this._popup = new Popup();\n    this._scroll = new Scroll();\n    this.log = new Log();\n\n    this._removeLegacyElements();\n    this.listenToOnce(Adapt, {\n      'configModel:dataLoaded': this._onConfigDataLoaded,\n      'navigationView:postRender': this._removeLegacyElements\n    }, this);\n    Adapt.on('device:changed', this._setupNoSelect);\n    this.listenTo(Adapt, {\n      'router:location': this._onNavigationStart,\n      'contentObjectView:ready router:plugin': this._onNavigationEnd\n    });\n  }\n\n  _onConfigDataLoaded() {\n    this.config = Adapt.config.get('_accessibility');\n    this.config._isActive = false;\n    this.config._options = _.defaults(this.config._options || {}, this.defaults());\n    Adapt.offlineStorage.set('a11y', false);\n    this.$html.toggleClass('has-accessibility', this.isEnabled());\n    this._setupNoSelect();\n    this._addFocuserDiv();\n    if (this._isReady) {\n      return;\n    }\n    this._isReady = true;\n    Adapt.trigger('accessibility:ready');\n  }\n\n  _setupNoSelect() {\n    if (!this.config?._disableTextSelectOnClasses) {\n      return;\n    }\n    const classes = this.config._disableTextSelectOnClasses.split(' ');\n    const isMatch = classes.some(className => this.$html.is(className));\n    this.$html.toggleClass('u-no-select', isMatch);\n  }\n\n  _addFocuserDiv() {\n    if ($('#a11y-focuser').length) {\n      return;\n    }\n    $('body').append($('<div id=\"a11y-focuser\" class=\"a11y-ignore\" tabindex=\"-1\">&nbsp;</div>'));\n  }\n\n  _removeLegacyElements() {\n    const $legacyElements = $('body').children('#accessibility-toggle, #accessibility-instructions');\n    const $navigationElements = $('.nav').find('#accessibility-toggle, #accessibility-instructions');\n    if (!$legacyElements.length && !$navigationElements.length) {\n      return;\n    }\n    Adapt.log.warn('REMOVED: #accessibility-toggle and #accessibility-instructions have been removed. Please remove them from all of your .html files.');\n    $legacyElements.remove();\n    $navigationElements.remove();\n  }\n\n  _onNavigationStart() {\n    if (!this.isEnabled()) {\n      return;\n    }\n    // Stop document reading\n    _.defer(() => this.toggleHidden('.contentobject', true));\n  }\n\n  _onNavigationEnd(view) {\n    // Prevent sub-menu items provoking behaviour\n    if ((view?.model?.get('_id') !== Adapt.location._currentId) || !this.isEnabled()) {\n      return;\n    }\n    // Allow document to be read\n    this.toggleHidden('.contentobject', false);\n  }\n\n  isActive() {\n    this.log.removed('Accessibility is now always active when enabled. Please unify your user experiences.');\n    return false;\n  }\n\n  isEnabled() {\n    return this.config?._isEnabled;\n  }\n\n  /**\n   * Calculate the aria level for a heading\n   * @param {string|number} [defaultLevelOrType] Specify a default level or type group.\n   * @param {string|number} [overrideLevelOrType] Override with a level or type group from the designer.\n   * @returns {number}\n   */\n  ariaLevel(defaultLevelOrType = 1, overrideLevelOrType) {\n    // get the global configuration from config.json\n    const cfg = Adapt.config.get('_accessibility');\n\n    // first check to see if the Handlebars context has an override\n    if (overrideLevelOrType) {\n      defaultLevelOrType = overrideLevelOrType;\n    }\n\n    if (!isNaN(defaultLevelOrType)) {\n      // if a number is passed just use this\n      return defaultLevelOrType;\n    }\n\n    if (_.isString(defaultLevelOrType)) {\n      // if a string is passed, check if it is defined in global configuration\n      const ariaLevels = cfg._ariaLevels ?? defaultAriaLevels;\n      return ariaLevels?.['_' + defaultLevelOrType] ?? defaultLevelOrType;\n    }\n\n    // default level to use if nothing overrides it\n    return defaultLevelOrType;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` attribute to elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isHidden=true]\n   * @returns {Object} Chainable\n   */\n  toggleHidden($elements, isHidden = true) {\n    $elements = $($elements);\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isAriaHiddenManagementEnabled) {\n      return this;\n    }\n    if (isHidden === true) {\n      $elements.attr('aria-hidden', true);\n    } else {\n      $elements.removeAttr('aria-hidden');\n    }\n    return this;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` and `disabled` attributes and `disabled`\n   * classes to elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isHidden=true]\n   * @returns {Object} Chainable\n   */\n  toggleAccessibleEnabled($elements, isAccessibleEnabled) {\n    this.toggleAccessible($elements, isAccessibleEnabled);\n    this.toggleEnabled($elements, isAccessibleEnabled);\n    return this;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` attribute and disables `tabindex` on elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isReadable=true]\n   * @returns {Object} Chainable\n   */\n  toggleAccessible($elements, isReadable = true) {\n    $elements = $($elements);\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isAriaHiddenManagementEnabled || $elements.length === 0) {\n      return this;\n    }\n    if (!isReadable) {\n      $elements.attr({\n        tabindex: '-1',\n        'aria-hidden': 'true'\n      }).addClass('aria-hidden');\n    } else {\n      $elements.removeAttr('aria-hidden tabindex').removeClass('aria-hidden');\n      $elements.parents(config._options._ariaHiddenExcludes).removeAttr('aria-hidden').removeClass('aria-hidden');\n    }\n    return this;\n  }\n\n  /**\n   * Adds or removes `disabled` attribute and `disabled` class.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isEnabled=true]\n   * @returns {Object} Chainable\n   */\n  toggleEnabled($elements, isEnabled = true) {\n    $elements = $($elements);\n    if ($elements.length === 0) {\n      return this;\n    }\n    if (!isEnabled) {\n      $elements.attr({\n        tabindex: '-1',\n        'aria-disabled': 'true'\n      }).addClass('is-disabled');\n    } else {\n      $elements.removeAttr('aria-disabled tabindex').removeClass('is-disabled');\n    }\n    return this;\n  }\n\n  /**\n   * Find the first tabbable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstTabbable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isTabbable);\n  }\n\n  /**\n   * Find the first readable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstReadable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isReadable);\n  }\n\n  /**\n   * Find the first focusable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstFocusable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isFocusable);\n  }\n\n  /**\n   * Find all tabbable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findTabbable($element) {\n    const config = this.config;\n    return $($element).find(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n  }\n\n  /**\n   * Find all readable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   */\n  findReadable($element) {\n    return $($element).find('*').filter((index, element) => this.isReadable(element));\n  }\n\n  /**\n   * Find all focusable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   */\n  findFocusable($element) {\n    return $($element).find('*').filter((index, element) => this.isFocusable(element));\n  }\n\n  /**\n   * Check if the element is natively or explicitly tabbable.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {boolean|undefined}\n   */\n  isTabbable($element) {\n    const config = this.config;\n    const value = $($element).is(config._options._tabbableElements).is(config._options._tabbableElementsExcludes);\n    if (!value) {\n      return null; // Allow _findForward to descend\n    }\n    return value;\n  }\n\n  /**\n   * Check if the first item is readable by a screen reader.\n   *\n   * @param {Object|string|Array} $element\n   * @param {boolean} [checkParents=true] Check if parents are inaccessible.\n   * @returns {boolean}\n   */\n  isReadable($element, checkParents = true) {\n    const config = this.config;\n    $element = $($element).first();\n\n    const $branch = checkParents\n      ? $element.add($element.parents())\n      : $element;\n\n    const isNotVisible = $branch.toArray().some(item => {\n      const $item = $(item);\n      // make sure item is not explicitly invisible\n      return $item.css('display') === 'none' ||\n        $item.css('visibility') === 'hidden' ||\n        $item.attr('aria-hidden') === 'true';\n    });\n    if (isNotVisible) {\n      return false;\n    }\n\n    // check that the component is natively tabbable or\n    // will be knowingly read by a screen reader\n    const hasNativeFocusOrIsScreenReadable = $element.is(config._options._focusableElements) ||\n      $element.is(config._options._readableElements);\n    if (hasNativeFocusOrIsScreenReadable) {\n      return true;\n    }\n    const childNodes = $element[0].childNodes;\n    for (let c = 0, cl = childNodes.length; c < cl; c++) {\n      const childNode = childNodes[c];\n      const isTextNode = (childNode.nodeType === 3);\n      if (!isTextNode) {\n        continue;\n      }\n      const isOnlyWhiteSpace = /^\\s*$/.test(childNode.nodeValue);\n      if (isOnlyWhiteSpace) {\n        continue;\n      }\n      return true;\n    }\n    return null; // Allows _findForward to decend.\n  }\n\n  /**\n   * Check if the first item is readable by a screen reader.\n   *\n   * @param {Object|string|Array} $element\n   * @param {boolean} [checkParents=true] Check if parents are inaccessible.\n   * @returns {boolean}\n   */\n  isFocusable($element, checkParents = true) {\n    const config = this.config;\n    $element = $($element).first();\n    if (!$element.is(config._options._focusForwardElementsExcludes)) return null;\n    return this.isReadable($element, checkParents);\n  }\n\n  /**\n   * Find forward in the DOM, descending and ascending to move forward\n   * as appropriate.\n   *\n   * If the selector is a function it should returns true, false or undefined.\n   * Returning true matches the item and returns it. Returning false means do\n   * not match or descend into this item, returning undefined means do not match,\n   * but descend into this item.\n   *\n   * @param {Object|string|Array} $element\n   * @param {string|function|undefined} selector\n   * @returns {Object} Returns found descendant.\n   */\n  _findFirstForward($element, selector) {\n    $element = $($element).first();\n\n    // make sure iterator is correct, use boolean or selector comparison\n    // appropriately\n    let iterator;\n    switch (typeof selector) {\n      case 'string':\n        // make selector iterator\n        iterator = function($tag) {\n          return $tag.is(selector) || undefined;\n        };\n        break;\n      case 'function':\n        iterator = selector;\n        break;\n      case 'undefined':\n        // find first next element\n        iterator = Boolean;\n    }\n\n    if ($element.length === 0) {\n      return $element.not('*');\n    }\n\n    // check children by walking the tree\n    let $found = this._findFirstForwardDescendant($element, iterator);\n    if ($found.length) {\n      return $found;\n    }\n\n    // check subsequent siblings\n    $element.nextAll().toArray().some(sibling => {\n      const $sibling = $(sibling);\n      const value = iterator($sibling);\n\n      // skip this sibling if explicitly instructed\n      if (value === false) {\n        return false;\n      }\n\n      if (value) {\n        // sibling matched\n        $found = $sibling;\n        return true;\n      }\n\n      // check parent sibling children by walking the tree\n      $found = this._findFirstForwardDescendant($sibling, iterator);\n      return Boolean($found.length);\n    });\n    if ($found.length) {\n      return $found;\n    }\n\n    // move through parents towards the body element\n    $element.add($element.parents()).toArray().reverse().some(parent => {\n      const $parent = $(parent);\n      if (iterator($parent) === false) {\n        // skip this parent if explicitly instructed\n        return false;\n      }\n\n      // move through parents nextAll siblings\n      return $parent.nextAll().toArray().some(sibling => {\n        const $sibling = $(sibling);\n        const value = iterator($sibling);\n\n        // skip this sibling if explicitly instructed\n        if (value === false) {\n          return false;\n        }\n\n        if (value) {\n          // sibling matched\n          $found = $sibling;\n          return true;\n        }\n\n        // check parent sibling children by walking the tree\n        $found = this._findFirstForwardDescendant($sibling, iterator);\n        return Boolean($found.length);\n      });\n    });\n\n    if (!$found.length) {\n      return $element.not('*');\n    }\n    return $found;\n  }\n\n  /**\n   * Find descendant in a DOM tree, work from selected to branch-end, through allowed\n   * branch structures in hierarchy order\n   *\n   * If the selector is a function it should returns true, false or undefined.\n   * Returning true matches the item and returns it. Returning false means do\n   * not match or descend into this item, returning undefined means do not match,\n   * but descend into this item.\n   *\n   * @param {Object|string|Array} $element jQuery element to start from.\n   * @param {string|function|undefined} selector\n   * @returns {Object} Returns found descendant.\n   */\n  _findFirstForwardDescendant($element, selector) {\n    $element = $($element).first();\n\n    // make sure iterator is correct, use boolean or selector comparison\n    // appropriately\n    let iterator;\n    switch (typeof selector) {\n      case 'string':\n        // make selector iterator\n        iterator = function($tag) {\n          return $tag.is(selector) || undefined;\n        };\n        break;\n      case 'function':\n        iterator = selector;\n        break;\n      case 'undefined':\n        // find first next element\n        iterator = Boolean;\n    }\n\n    const $notFound = $element.not('*');\n    if ($element.length === 0) {\n      return $notFound;\n    }\n\n    // keep walked+passed children in a stack\n    const stack = [{\n      item: $element[0],\n      value: undefined\n    }];\n    let stackIndexPosition = 0;\n    let childIndexPosition = stackIndexPosition + 1;\n    do {\n\n      const stackEntry = stack[stackIndexPosition];\n      const $stackItem = $(stackEntry.item);\n\n      // check current item\n      switch (stackEntry.value) {\n        case true:\n          return $stackItem;\n        case false:\n          return $notFound;\n      }\n\n      // get i stack children\n      $stackItem.children().toArray().forEach(item => {\n        const $item = $(item);\n        const value = iterator($item);\n\n        // item explicitly not allowed, don't add to stack,\n        // skip children\n        if (value === false) {\n          return;\n        }\n\n        // item passed or readable, add to stack before any parent\n        // siblings\n        stack.splice(childIndexPosition++, 0, {\n          item: item,\n          value: value\n        });\n      });\n\n      // move to next stack item\n      stackIndexPosition++;\n      // keep place to inject children\n      childIndexPosition = stackIndexPosition + 1;\n    } while (stackIndexPosition < stack.length);\n\n    return $notFound;\n  }\n\n  /**\n   * Assign focus to the next readable element.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object} Chainable\n   */\n  focusNext($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    $element = this.findFirstFocusable($element);\n    this.focus($element, options);\n    return this;\n  }\n\n  /**\n   * Assign focus to either the specified element if it is readable or the\n   * next readable element.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object}\n   */\n  focusFirst($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    if (this.isReadable($element)) {\n      this.focus($element, options);\n      return $element;\n    }\n    $element = this.findFirstFocusable($element);\n    this.focus($element, options);\n    return $element;\n  }\n\n  /**\n   * Force focus to the specified element with/without a defer or scroll.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object} Chainable\n   */\n  focus($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isFocusAssignmentEnabled || $element.length === 0) {\n      return this;\n    }\n    function perform() {\n      if ($element.attr('tabindex') === undefined) {\n        $element.attr({\n          tabindex: '-1',\n          'data-a11y-force-focus': 'true'\n        });\n      }\n      if (options.preventScroll) {\n        const y = $(window).scrollTop();\n        try {\n          $element[0].focus({\n            preventScroll: true\n          });\n        } catch (e) {\n          // Drop focus errors as only happens when the element\n          // isn't attached to the DOM.\n        }\n        switch (Adapt.device.browser) {\n          case 'internet explorer':\n          case 'microsoft edge':\n          case 'safari':\n            // return to previous scroll position due to no support for preventScroll\n            window.scrollTo(null, y);\n        }\n      } else {\n        $element[0].focus();\n      }\n    }\n    if (options.defer) {\n      _.defer(perform);\n    } else {\n      perform();\n    }\n    return this;\n  }\n\n  /**\n   * Used to convert html to text aria-labels.\n   *\n   * @param {string} htmls Any html strings.\n   * @returns {string} Returns text without markup or html encoded characters.\n   */\n  normalize(htmls) {\n    htmls = [...arguments].filter(Boolean).filter(_.isString).join(' ');\n    const text = $('<div>' + htmls + '</div>').text();\n    // Remove all html encoded characters, such as &apos;\n    return text.replace(this._htmlCharRegex, '');\n  }\n\n  /**\n   * Removes all html tags except stylistic elements.\n   * Useful for producing uninterrupted text for screen readers from\n   * any html.\n   *\n   * @param  {string} htmls Any html strings.\n   * @return {string} Returns html string without markup which would cause screen reader to pause.\n   */\n  removeBreaks(htmls) {\n    htmls = [...arguments].filter(Boolean).filter(_.isString).join(' ');\n    const $div = $('<div>' + htmls + '</div>');\n    const stack = [ $div[0] ];\n    let stackIndex = 0;\n    const outputs = [];\n    do {\n      if (stack[stackIndex].childNodes.length) {\n        const nodes = stack[stackIndex].childNodes;\n        const usable = nodes.filter(node => {\n          const isTextNode = (node.nodeType === 3);\n          if (isTextNode) {\n            return true;\n          }\n          const isStyleElement = $(node).is(this.config._options._wrapStyleElements);\n          if (isStyleElement) {\n            return true;\n          }\n          return false;\n        });\n        outputs.push.apply(outputs, usable);\n        stack.push.apply(stack, nodes);\n      }\n      stackIndex++;\n    } while (stackIndex < stack.length);\n    let rtnText = '';\n    outputs.forEach(function(item) {\n      rtnText += item.outerHTML || item.textContent;\n    });\n    return rtnText;\n  }\n\n  /**\n   * @param {Object|string|Array} $elements\n   * @returns {Object} Chainable\n   */\n  scrollEnable($elements) {\n    this._scroll.enable($elements);\n    return this;\n  }\n\n  /**\n   * @param {Object|string|Array} $elements\n   * @returns {Object} Chainable\n   */\n  scrollDisable($elements) {\n    this._scroll.disable($elements);\n    return this;\n  }\n\n  /**\n   * To apply accessibilty handling to a tag, isolating the user.\n   *\n   * @param {Object} $popupElement Element encapsulating the popup.\n   * @returns {Object} Chainable\n   */\n  popupOpened($popupElement) {\n    this._popup.opened($popupElement);\n    return this;\n  }\n\n  /**\n   * Remove the isolation applied with a call to `popupOpened`.\n   *\n   * @param {Object} [$focusElement] Element to move focus to.\n   * @returns {Object} Chainable\n   */\n  popupClosed($focusElement) {\n    this._popup.closed($focusElement);\n    return this;\n  }\n\n  /**\n   * When a popup is open, this function makes it possible to swap the element\n   * that should receive focus on popup close.\n   *\n   * @param {Object} $focusElement Set a new element to focus on.\n   * @returns {Object} Returns previously set focus element.\n   */\n  setPopupCloseTo($focusElement) {\n    return this._popup.setCloseTo($focusElement);\n  }\n\n}\n\nexport default (Adapt.a11y = new A11y());\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\n\n/**\n * Backwards compatibility `Adapt.accessibility` reroutes to `Adapt.a11y`\n * with a warning.\n */\nObject.defineProperty(Adapt, 'accessibility', {\n\n  get() {\n    a11y.log.deprecated('Adapt.accessibility has moved to Adapt.a11y');\n    return a11y;\n  }\n\n});\n","import Adapt from 'core/js/adapt';\n\nexport default class AdaptCollection extends Backbone.Collection {\n\n  initialize(models, options) {\n    this.once('reset', this.loadedData, this);\n  }\n\n  loadedData() {\n    Adapt.trigger('adaptCollection:dataLoaded');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\nimport 'core/js/logging';\nimport semver from 'semver';\n\nexport default class BuildModel extends LockingModel {\n\n  defaults() {\n    return {\n      jsonext: 'json'\n    };\n  }\n\n  initialize(attrs, options) {\n    this.url = options.url;\n    // Fetch data & if successful trigger event to enable plugins to stop course files loading\n    // Then check if course files can load\n    // 'configModel:loadCourseData' event starts the core content collections and models being fetched\n    this.fetch({\n      success: () => {\n        this.isLoaded = true;\n        Adapt.trigger('buildModel:dataLoaded');\n      },\n      error: () => {\n        console.log('Unable to load adapt/js/build.js');\n        Adapt.trigger('buildModel:dataLoaded');\n      }\n    });\n  }\n\n  isFrameworkVersion(version) {\n    return semver.satisfies(this.get('package').version, version, { includePrerelease: true });\n  }\n\n  isPluginInstalled(name, version = '*') {\n    const plugin = this.get('plugins').find(plugin => {\n      if (plugin.name !== name) return false;\n      return semver.satisfies(plugin.version, version, { includePrerelease: true });\n    });\n    return Boolean(plugin);\n  }\n\n  whenReady() {\n    if (this.isLoaded) return Promise.resolve();\n    return new Promise(resolve => {\n      Adapt.once('buildModel:dataLoaded', resolve);\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\n\nexport default class ConfigModel extends LockingModel {\n\n  defaults() {\n    return {\n      screenSize: {\n        large: 900,\n        medium: 760,\n        small: 520\n      },\n      _forceRouteLocking: false,\n      _canLoadData: true,\n      _disableAnimation: false\n    };\n  }\n\n  /**\n   * Parse the incoming search queries for certain parameter values to use as defaults\n   */\n  setValuesFromURLParams() {\n    const paramMappings = {\n      dir: '_defaultDirection',\n      lang: '_defaultLanguage'\n    };\n\n    const params = new URLSearchParams(window.location.search);\n\n    Object.entries(paramMappings).forEach(([key, value]) => {\n      const passedVal = params.get(key);\n      if (!passedVal) return;\n      if (key === 'lang' && Adapt.build.get('availableLanguageNames')?.includes(passedVal) === false) return;\n      this.set(value, passedVal);\n    });\n  }\n\n  initialize(attrs, options) {\n    this.url = options.url;\n    // Fetch data & if successful trigger event to enable plugins to stop course files loading\n    // Then check if course files can load\n    // 'configModel:loadCourseData' event starts the core content collections and models being fetched\n    this.fetch({\n      success: () => {\n        this.setValuesFromURLParams();\n\n        Adapt.trigger('offlineStorage:prepare');\n        Adapt.wait.queue(() => {\n          Adapt.trigger('configModel:dataLoaded');\n          if (!this.get('_canLoadData')) return;\n          Adapt.trigger('configModel:loadCourseData');\n        });\n      },\n      error: () => console.log('Unable to load course/config.json')\n    });\n  }\n\n  loadData() {}\n\n}\n","export default class ModelEvent extends Backbone.Controller {\n\n  /**\n   * @param {string} type Event name / type\n   * @param {Backbone.Model} target Origin model\n   * @param {*} [value] Any value that should be carried through on the event\n   */\n  initialize(type, target, value) {\n    this.type = type;\n    this.target = target;\n    this.value = value;\n    this.canBubble = true;\n    this.deepPath = [target];\n    this.timeStamp = null;\n  }\n\n  stopPropagation() {\n    this.canBubble = false;\n  }\n\n  addPath(target) {\n    this.deepPath.unshift(target);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ModelEvent from 'core/js/modelEvent';\nimport LockingModel from 'core/js/models/lockingModel';\nimport 'core/js/logging';\n\nexport default class AdaptModel extends LockingModel {\n\n  toJSON() {\n    // Perform shallow clone\n    const json = { ...this.attributes };\n    // Remove deprecated values as they are not true json\n    delete json._children;\n    delete json._parent;\n    // Perform deep clone\n    return $.extend(true, {}, json);\n  }\n\n  get(name) {\n    switch (name) {\n      case '_parent':\n      case '_children':\n        Adapt.log.deprecated('Use model.getChildren() or model.getParent() instead of model.get(\\'_children\\') or model.get(\\'_parent\\')');\n    }\n    return super.get(name);\n  }\n\n  defaults() {\n    return {\n      _canShowFeedback: true,\n      _classes: '',\n      _canReset: true,\n      _canRequestChild: false,\n      _isComplete: false,\n      _isInteractionComplete: false,\n      _isA11yRegionEnabled: false,\n      _isA11yCompletionDescriptionEnabled: true,\n      _requireCompletionOf: -1,\n      _isEnabled: true,\n      _isResetOnRevisit: false,\n      _isAvailable: true,\n      _isOptional: false,\n      _isRendered: false,\n      _isReady: false,\n      _isVisible: true,\n      _isLocked: false,\n      _isHidden: false\n    };\n  }\n\n  /**\n   * Fetch an array representing the relative location of the model to the nearest _trackingId\n   * @returns {Array<Number, Number>}\n   */\n  get trackingPosition() {\n    const firstDescendant = this.getAllDescendantModels(false).concat([this])[0];\n    const nearestTrackingIdModel = [firstDescendant].concat(firstDescendant.getAncestorModels()).find(model => model.has('_trackingId'));\n    if (!nearestTrackingIdModel) return;\n    const trackingId = nearestTrackingIdModel.get('_trackingId');\n    const trackingIdDescendants = [nearestTrackingIdModel].concat(nearestTrackingIdModel.getAllDescendantModels(true));\n    const indexInTrackingIdDescendants = trackingIdDescendants.findIndex(descendant => descendant === this);\n    if (indexInTrackingIdDescendants >= 0) {\n      // Is either the nearestTrackingIdModel (0) or one of its flattened descendants (>0)\n      return [ trackingId, indexInTrackingIdDescendants ];\n    }\n    // Is an ancestor of the nearestTrackingIdModel\n    const trackingIdAncestors = nearestTrackingIdModel.getAncestorModels();\n    const ancestorDistance = trackingIdAncestors.findIndex(ancestor => ancestor === this);\n    return [ trackingId, -(ancestorDistance + 1) ];\n  }\n\n  /**\n   * The AAT always sets the value of `_isResetOnRevisit` to a String\n   * which is fine for the 'soft' and 'hard' values - but 'false' needs\n   * converting to Boolean - see #2825\n   */\n  parse(data) {\n    if (data._isResetOnRevisit === 'false') {\n      data._isResetOnRevisit = false;\n    }\n    return data;\n  }\n\n  trackable() {\n    return [\n      '_id',\n      '_isComplete',\n      '_isInteractionComplete'\n    ];\n  }\n\n  trackableType() {\n    return [\n      String,\n      Boolean,\n      Boolean\n    ];\n  }\n\n  bubblingEvents() {\n    return [\n      'change:_isComplete',\n      'change:_isInteractionComplete',\n      'change:_isActive'\n    ];\n  }\n\n  setupModel() {\n    if (this.hasManagedChildren) {\n      this.setupChildListeners();\n    }\n\n    this.init();\n\n    _.defer(() => {\n      if (this.hasManagedChildren) {\n        this.checkCompletionStatus();\n\n        this.checkInteractionCompletionStatus();\n\n        this.checkLocking();\n      }\n\n      this.setupTrackables();\n\n    });\n\n  }\n\n  setupTrackables() {\n\n    // Limit state trigger calls and make state change callbacks batched-asynchronous\n    const originalTrackableStateFunction = this.triggerTrackableState;\n    this.triggerTrackableState = _.compose(\n      () => {\n\n        // Flag that the function is awaiting trigger\n        this.triggerTrackableState.isQueued = true;\n\n      },\n      _.debounce(() => {\n\n        // Trigger original function\n        originalTrackableStateFunction.apply(this);\n\n        // Unset waiting flag\n        this.triggerTrackableState.isQueued = false;\n\n      }, 17)\n    );\n\n    // Listen to model changes, trigger trackable state change when appropriate\n    this.listenTo(this, 'change', ({ changed }) => {\n\n      // Skip if trigger queued or adapt hasn't started yet\n      if (this.triggerTrackableState.isQueued || !Adapt.attributes._isStarted) {\n        return;\n      }\n\n      // Check that property is trackable\n      const trackablePropertyNames = _.result(this, 'trackable', []);\n      const changedPropertyNames = Object.keys(changed);\n      const isTrackable = changedPropertyNames.find(item => {\n        return trackablePropertyNames.includes(item);\n      });\n\n      if (isTrackable) {\n        // Trigger trackable state change\n        this.triggerTrackableState();\n      }\n    });\n  }\n\n  setupChildListeners() {\n    const children = this.getChildren();\n    if (!children.length) {\n      return;\n    }\n\n    this.listenTo(children, {\n      all: this.onAll,\n      bubble: this.bubble,\n      'change:_isReady': this.checkReadyStatus,\n      'change:_isComplete': this.onIsComplete,\n      'change:_isInteractionComplete': this.checkInteractionCompletionStatus\n    });\n  }\n\n  init() {}\n\n  getTrackableState() {\n\n    const trackable = this.resultExtend('trackable', []);\n    const json = this.toJSON();\n\n    const args = trackable;\n    args.unshift(json);\n\n    return _.pick(...args);\n\n  }\n\n  setTrackableState(state) {\n\n    const trackable = this.resultExtend('trackable', []);\n\n    const args = trackable;\n    args.unshift(state);\n\n    state = _.pick(...args);\n\n    this.set(state);\n\n    return this;\n\n  }\n\n  triggerTrackableState() {\n\n    Adapt.trigger('state:change', this, this.getTrackableState());\n\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    if (!canReset) return false;\n    switch (type) {\n      case 'hard':\n      case true:\n        this.set({\n          _isEnabled: true,\n          _isComplete: false,\n          _isInteractionComplete: false\n        });\n        return true;\n      case 'soft':\n        this.set({\n          _isEnabled: true,\n          _isInteractionComplete: false\n        });\n        return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks if any child models which have been _isRendered are not _isReady.\n   * If all rendered child models are marked ready then this model will be\n   * marked _isReady: true as well.\n   * @param {AdaptModel} [model]\n   * @param {boolean} [value]\n   * @returns {boolean}\n   */\n  checkReadyStatus(model, value) {\n    if (value === false) {\n      // Do not respond to _isReady: false as _isReady is unset throughout\n      // the rendering process\n      return false;\n    }\n    // Filter children based upon whether they are available\n    // Check if any _isRendered: true children return _isReady: false\n    // If not - set this model to _isReady: true\n    const children = this.getAvailableChildModels();\n    if (children.find(child => child.get('_isReady') === false && child.get('_isRendered'))) {\n      return false;\n    }\n\n    this.set('_isReady', true);\n    return true;\n  }\n\n  setCompletionStatus() {\n    if (!this.get('_isVisible')) return;\n\n    this.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  }\n\n  checkCompletionStatus() {\n    // defer to allow other change:_isComplete handlers to fire before cascading to parent\n    Adapt.checkingCompletion();\n    _.defer(this.checkCompletionStatusFor.bind(this), '_isComplete');\n  }\n\n  checkInteractionCompletionStatus() {\n    // defer to allow other change:_isInteractionComplete handlers to fire before cascading to parent\n    Adapt.checkingCompletion();\n    _.defer(this.checkCompletionStatusFor.bind(this), '_isInteractionComplete');\n  }\n\n  /**\n   * Function for checking whether the supplied completion attribute should be set to true or false.\n   * It iterates over our immediate children, checking the same completion attribute on any mandatory child\n   * to see if enough/all of them them have been completed. If enough/all have, we set our attribute to true;\n   * if not, we set it to false.\n   * @param {string} [completionAttribute] Either '_isComplete' or '_isInteractionComplete'. Defaults to '_isComplete' if not supplied.\n   */\n\n  checkCompletionStatusFor(completionAttribute = '_isComplete') {\n    let completed = false;\n    const children = this.getAvailableChildModels();\n    const requireCompletionOf = this.get('_requireCompletionOf');\n\n    if (requireCompletionOf === -1) { // a value of -1 indicates that ALL mandatory children must be completed\n      completed = children.every(child => {\n        return child.get(completionAttribute) || child.get('_isOptional');\n      });\n    } else {\n      completed = (children.filter(child => {\n        return child.get(completionAttribute) && !child.get('_isOptional');\n      }).length >= requireCompletionOf);\n    }\n\n    this.set(completionAttribute, completed);\n\n    Adapt.checkedCompletion();\n  }\n\n  /**\n   * Returns a string describing the type group of this model.\n   * Strings should be lowercase and not plurlaized.\n   * i.e. 'page', 'menu', 'contentobject', 'component', 'article', 'block'\n   * Override in inheritance chain.\n   * @returns {string}\n   */\n  getTypeGroup() {}\n\n  /**\n   * Returns true if this model is of the type group described.\n   * Automatically manages pluralization typeGroup and matches lowercase only.\n   * Pluralized typeGroups and uppercase characters in typeGroups are discouraged.\n   * @param {string} type Type group name i.e. course, contentobject, article, block, component\n   * @returns {boolean}\n   */\n  isTypeGroup(typeGroup) {\n    const hasUpperCase = /[A-Z]+/.test(typeGroup);\n    const isPluralized = typeGroup.slice(-1) === 's';\n    const lowerCased = typeGroup.toLowerCase();\n    const singular = isPluralized && lowerCased.slice(0, -1); // remove pluralization if ending in s\n    const singularLowerCased = (singular || lowerCased).toLowerCase();\n    if (isPluralized || hasUpperCase) {\n      Adapt.log.deprecated(`'${typeGroup}' appears pluralized or contains uppercase characters, suggest using the singular, lowercase type group '${singularLowerCased}'.`);\n    }\n    const pluralizedLowerCaseTypes = [\n      singularLowerCased,\n      !isPluralized && `${lowerCased}s` // pluralize if not ending in s\n    ].filter(Boolean);\n    const typeGroups = this.getTypeGroups();\n    if (_.intersection(pluralizedLowerCaseTypes, typeGroups).length) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of strings describing the model type groups.\n   * All strings are lowercase and should not be pluralized.\n   * i.e. ['course', 'menu', 'contentobject'], ['page', 'contentobject'], ['component']\n   * @returns {[string]}\n   */\n  getTypeGroups() {\n    if (this._typeGroups) return this._typeGroups;\n    const typeGroups = [ this.get('_type') ];\n    let parentClass = this;\n    while ((parentClass = Object.getPrototypeOf(parentClass))) {\n      if (!Object.prototype.hasOwnProperty.call(parentClass, 'getTypeGroup')) continue;\n      typeGroups.push(parentClass.getTypeGroup.call(this));\n    }\n    return (this._typeGroups = _.uniq(typeGroups.filter(Boolean).map(s => s.toLowerCase())));\n  }\n\n  /**\n   * Searches the model's ancestors to find the first instance of the specified ancestor type\n   * @param {string} [ancestorType] Valid values are 'course', 'pages', 'contentObjects', 'articles' or 'blocks'.\n   * If left blank, the immediate ancestor (if there is one) is returned\n   * @return {object} Reference to the model of the first ancestor of the specified type that's found - or `undefined` if none found\n   */\n  findAncestor(ancestorType) {\n    const parent = this.getParent();\n    if (!parent) return;\n    if (!ancestorType || parent.isTypeGroup(ancestorType)) {\n      return parent;\n    }\n    return parent.findAncestor(ancestorType);\n  }\n\n  /**\n   * Returns all the descendant models of a specific type\n   * @param {string} descendants Valid values are 'contentobject', 'page', 'menu', 'article', 'block', 'component', 'question'\n   * @param {object} options an object that defines the search type and the properties/values to search on. Currently only the `where` search type (equivalent to `Backbone.Collection.where()`) is supported.\n   * @param {object} options.where\n   * @return {array}\n   * @example\n   * //find all available, non-optional components\n   * this.findDescendantModels('component', { where: { _isAvailable: true, _isOptional: false }});\n   */\n  findDescendantModels(descendants, options) {\n    const allDescendantsModels = this.getAllDescendantModels();\n    const returnedDescendants = allDescendantsModels.filter(model => {\n      return model.isTypeGroup(descendants);\n    });\n\n    if (!options) {\n      return returnedDescendants;\n    }\n\n    if (options.where) {\n      return returnedDescendants.filter(descendant => {\n        for (const property in options.where) {\n          const value = options.where[property];\n          if (descendant.get(property) !== value) {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  }\n\n  /**\n   * Fetches the sub structure of a model as a flattened array\n   *\n   * Such that the tree:\n   *  { a1: { b1: [ c1, c2 ], b2: [ c3, c4 ] }, a2: { b3: [ c5, c6 ] } }\n   *\n   * will become the array (parent first = false):\n   *  [ c1, c2, b1, c3, c4, b2, a1, c5, c6, b3, a2 ]\n   *\n   * or (parent first = true):\n   *  [ a1, b1, c1, c2, b2, c3, c4, a2, b3, c5, c6 ]\n   *\n   * This is useful when sequential operations are performed on the menu/page/article/block/component hierarchy.\n   * @param {boolean} [isParentFirst]\n   * @return {array}\n   */\n  getAllDescendantModels(isParentFirst) {\n\n    const descendants = [];\n\n    if (!this.hasManagedChildren) {\n      return descendants;\n    }\n\n    const children = this.getChildren();\n\n    children.models.forEach(child => {\n\n      if (!child.hasManagedChildren) {\n        descendants.push(child);\n        return;\n      }\n\n      const subDescendants = child.getAllDescendantModels(isParentFirst);\n      if (isParentFirst === true) {\n        descendants.push(child);\n      }\n\n      descendants.push(...subDescendants);\n\n      if (isParentFirst !== true) {\n        descendants.push(child);\n      }\n    });\n\n    return descendants;\n\n  }\n\n  /**\n   * Returns a relative model from the Adapt hierarchy\n   *\n   * Such that in the tree:\n   *  { a1: { b1: [ c1, c2 ], b2: [ c3, c4 ] }, a2: { b3: [ c5, c6 ] } }\n   *\n   *  c1.findRelativeModel('@block +1') = b2;\n   *  c1.findRelativeModel('@component +4') = c5;\n   *\n   * @see Adapt.parseRelativeString for a description of relativeStrings\n   * @param {string} relativeString\n   * @param {object} options Search configuration settings\n   * @param {boolean} options.limitParentId\n   * @param {function} options.filter\n   * @param {boolean} options.loop\n   * @return {array}\n   */\n  findRelativeModel(relativeString, options = {}) {\n    // return a model relative to the specified one if opinionated\n    const rootModel = options.limitParentId ?\n      Adapt.findById(options.limitParentId) :\n      Adapt.course;\n\n    const relativeDescriptor = Adapt.parseRelativeString(relativeString);\n    const searchBackwards = (relativeDescriptor.offset < 0);\n    let moveBy = Math.abs(relativeDescriptor.offset);\n    let movementCount = 0;\n\n    const hasDescendantsOfType = Boolean(this.findDescendantModels(relativeDescriptor.type).length);\n    if (hasDescendantsOfType) {\n      // move by one less as first found is considered next\n      // will find descendants on either side but not inside\n      moveBy--;\n    }\n\n    let pageDescendants;\n    if (searchBackwards) {\n      // parents first [p1,a1,b1,c1,c2,a2,b2,c3,c4,p2,a3,b3,c6,c7,a4,b4,c8,c9]\n      pageDescendants = [rootModel];\n      pageDescendants.push(...rootModel.getAllDescendantModels(true));\n\n      // reverse so that we don't need a forward and a backward iterating loop\n      // reversed [c9,c8,b4,a4,c7,c6,b3,a3,p2,c4,c3,b2,a2,c2,c1,b1,a1,p1]\n      pageDescendants.reverse();\n    } else {\n      // children first [c1,c2,b1,a1,c3,c4,b2,a2,p1,c6,c7,b3,a3,c8,c9,b4,a4,p2]\n      pageDescendants = rootModel.getAllDescendantModels(false);\n      pageDescendants.push(rootModel);\n    }\n\n    // find current index in array\n    const modelId = this.get('_id');\n    const modelIndex = pageDescendants.findIndex(pageDescendant => {\n      if (pageDescendant.get('_id') === modelId) {\n        return true;\n      }\n      return false;\n    });\n    const isFilterFunction = (typeof options.filter === 'function');\n\n    if (options.loop) {\n      // normalize offset position to allow for overflow looping\n      const totalOfType = pageDescendants.reduce((count, model) => {\n        if (!model.isTypeGroup(relativeDescriptor.type)) return count;\n        return ++count;\n      }, 0);\n      // take the remainder after removing whole units of the type count\n      moveBy = moveBy % totalOfType;\n      // double up entries to allow for overflow looping\n      pageDescendants = pageDescendants.concat(pageDescendants.slice(0));\n    }\n\n    for (let i = modelIndex, l = pageDescendants.length; i < l; i++) {\n      const descendant = pageDescendants[i];\n      if (!descendant.isTypeGroup(relativeDescriptor.type)) continue;\n      const isSelf = (i === modelIndex);\n      // https://github.com/adaptlearning/adapt_framework/issues/3031\n      if (!isSelf && isFilterFunction && !options.filter(descendant)) continue;\n      if (movementCount > moveBy) {\n        // there is no descendant which matches this relativeString\n        // probably looking for the descendant 0 in a parent\n        break;\n      }\n      if (movementCount === moveBy) {\n        return Adapt.findById(descendant.get('_id'));\n      }\n      movementCount++;\n    }\n\n  }\n\n  get hasManagedChildren() {\n    return true;\n  }\n\n  getChildren() {\n    if (this._childrenCollection) {\n      return this._childrenCollection;\n    }\n\n    let childrenCollection;\n\n    if (!this.hasManagedChildren) {\n      childrenCollection = new Backbone.Collection();\n    } else {\n      const id = this.get('_id');\n      // Look up child by _parentId from Adapt.data\n      const children = Adapt.data.filter(model => model.get('_parentId') === id);\n      childrenCollection = new Backbone.Collection(children);\n    }\n\n    if (this.get('_type') === 'block' &&\n      childrenCollection.length === 2 &&\n      childrenCollection.models[0].get('_layout') !== 'left') {\n      // Components may have a 'left' or 'right' _layout,\n      // so ensure they appear in the correct order\n      // Re-order component models to correct it\n      childrenCollection.comparator = '_layout';\n      childrenCollection.sort();\n    }\n\n    this.setChildren(childrenCollection);\n    return this._childrenCollection;\n  }\n\n  setChildren(children) {\n    this._childrenCollection = children;\n    // Setup deprecated reference\n    this.set('_children', children);\n  }\n\n  getAvailableChildModels() {\n    return this.getChildren().where({\n      _isAvailable: true\n    });\n  }\n\n  getParent() {\n    if (this._parentModel) {\n      return this._parentModel;\n    }\n    const parentId = this.get('_parentId');\n    if (!parentId) return;\n    // Look up parent by id from Adapt.data\n    this.setParent(Adapt.findById(parentId));\n    return this._parentModel;\n  }\n\n  setParent(parent) {\n    this._parentModel = parent;\n    this.set('_parentId', this._parentModel.get('_id'));\n    // Set up deprecated reference\n    this.set('_parent', this._parentModel);\n  }\n\n  getAncestorModels(shouldIncludeChild) {\n    const parents = [];\n    let context = this;\n\n    if (shouldIncludeChild) parents.push(context);\n\n    while (context.has('_parentId')) {\n      context = context.getParent();\n      parents.push(context);\n    }\n\n    return parents.length ? parents : null;\n  }\n\n  getSiblings(passSiblingsAndIncludeSelf) {\n    const id = this.get('_id');\n    const parentId = this.get('_parentId');\n    let siblings;\n    if (!passSiblingsAndIncludeSelf) {\n      // returns a collection of siblings excluding self\n      if (this._hasSiblingsAndSelf === false) {\n        return this.get('_siblings');\n      }\n      siblings = Adapt.data.filter(model => {\n        return model.get('_parentId') === parentId &&\n          model.get('_id') !== id;\n      });\n\n      this._hasSiblingsAndSelf = false;\n\n    } else {\n      // returns a collection of siblings including self\n      if (this._hasSiblingsAndSelf) {\n        return this.get('_siblings');\n      }\n\n      siblings = Adapt.data.filter(model => {\n        return model.get('_parentId') === parentId;\n      });\n      this._hasSiblingsAndSelf = true;\n    }\n\n    const siblingsCollection = new Backbone.Collection(siblings);\n    this.set('_siblings', siblingsCollection);\n    return siblingsCollection;\n  }\n\n  /**\n   * @param  {string} key\n   * @param  {any} value\n   * @param  {Object} options\n   */\n  setOnChildren(...args) {\n\n    this.set(...args);\n\n    if (!this.hasManagedChildren) return;\n\n    const children = this.getChildren();\n    children.models.forEach(child => child.setOnChildren(...args));\n\n  }\n\n  /**\n   * @deprecated since v3.2.3 - please use `model.set('_isOptional', value)` instead\n   */\n  setOptional(value) {\n    Adapt.log.deprecated('Use model.set(\\'_isOptional\\', value) as setOptional() may be removed in the future');\n    this.set({ _isOptional: value });\n  }\n\n  checkLocking() {\n    const lockType = this.get('_lockType');\n\n    if (!lockType) return;\n\n    switch (lockType) {\n      case 'sequential':\n        this.setSequentialLocking();\n        break;\n      case 'unlockFirst':\n        this.setUnlockFirstLocking();\n        break;\n      case 'lockLast':\n        this.setLockLastLocking();\n        break;\n      case 'custom':\n        this.setCustomLocking();\n        break;\n      default:\n        console.warn(`AdaptModel.checkLocking: unknown _lockType '${lockType}' found on ${this.get('_id')}`);\n    }\n  }\n\n  setSequentialLocking() {\n    const children = this.getAvailableChildModels();\n    // Start from second child\n    children.slice(1).forEach((child, index) => {\n      const previousChild = children[index];\n      // If previous was locked, all subsequent will be locked.\n      const isLockedByPreviousChild = previousChild.get('_isLocked') ||\n        (\n          !previousChild.get('_isComplete') &&\n          !previousChild.get('_isOptional')\n        );\n      child.set('_isLocked', isLockedByPreviousChild);\n    }, false);\n  }\n\n  setUnlockFirstLocking() {\n    const children = this.getAvailableChildModels();\n    const firstChild = children.shift();\n    const isLockedByFirstChild = (!firstChild.get('_isComplete') && !firstChild.get('_isOptional'));\n    children.forEach(child => child.set('_isLocked', isLockedByFirstChild));\n  }\n\n  setLockLastLocking() {\n    const children = this.getAvailableChildModels();\n    const lastChild = children.pop();\n    const isLockedByChildren = children.some(child => (!child.get('_isComplete') && !child.get('_isOptional')));\n    lastChild.set('_isLocked', isLockedByChildren);\n  }\n\n  setCustomLocking() {\n    const children = this.getAvailableChildModels();\n    children.forEach(child => child.set('_isLocked', this.shouldLock(child)));\n  }\n\n  shouldLock(child) {\n    const lockedBy = child.get('_lockedBy');\n    if (!lockedBy) return false;\n    return lockedBy.some(id => {\n      try {\n        const anotherModel = Adapt.findById(id);\n        return anotherModel.get('_isAvailable') &&\n          (\n            anotherModel.get('_isLocked') ||\n            (\n              !anotherModel.get('_isComplete') &&\n              !anotherModel.get('_isOptional')\n            )\n          );\n      } catch (e) {\n        console.warn(`AdaptModel.shouldLock: unknown _lockedBy ID '${id}' found on ${child.get('_id')}`);\n        return false;\n      }\n    });\n  }\n\n  onIsComplete() {\n    this.checkCompletionStatus();\n\n    this.checkLocking();\n  }\n\n  /**\n   * Used before a model is rendered to determine if it should be reset to its\n   * default values.\n   */\n  checkIfResetOnRevisit() {\n    const isResetOnRevisit = this.get('_isResetOnRevisit');\n    this.reset(isResetOnRevisit);\n  }\n\n  /**\n   * Clones this model and all managed children returning a new branch.\n   * Assign new unique ids to each cloned model.\n   * @param {Function} [modifier] A callback function for each child to allow for custom modifications\n   * @returns {AdaptModel}\n   */\n  deepClone(modifier = null) {\n    // Fetch the class\n    const ModelClass = this.constructor;\n    // Clone the model\n    const clonedModel = new ModelClass(this.toJSON());\n    // Run the custom modifier on the clone\n    if (modifier) {\n      modifier(clonedModel, this);\n    }\n    let clonedId = clonedModel.get('_id');\n    const hasId = Boolean(clonedId);\n    const shouldAssignUniqueId = (this.get('_id') === clonedId);\n    if (hasId && shouldAssignUniqueId) {\n      // Create a unique id if none was set by the modifier\n      const cid = _.uniqueId(ModelClass.prototype.cidPrefix || 'c');\n      clonedId = `${clonedId}_${cid}`;\n      clonedModel.set('_id', clonedId);\n    }\n    // Add the cloned model to Adapt.data for Adapt.findById resolution\n    if (hasId) {\n      Adapt.data.add(clonedModel);\n    }\n    // Clone any children\n    if (this.hasManagedChildren) {\n      this.getChildren().each(child => {\n        if (!child.deepClone) {\n          throw new Error('Cannot deepClone child.');\n        }\n        child.deepClone((clone, child) => {\n          if (hasId) {\n            // Set the cloned child parent id\n            clone.set('_parentId', clonedId);\n          }\n          if (modifier) {\n            // Run the custom modifier function on the cloned child\n            modifier(clone, child);\n          }\n        });\n      });\n    }\n    // Add the cloned model to its parent for model.findDescendants resolution\n    clonedModel.getParent().getChildren().add(clonedModel);\n    // Setup the cloned model after setting the id, the parent and adding any children\n    clonedModel.setupModel();\n    return clonedModel;\n  }\n\n  /**\n   * Internal event handler for all module events. Triggers event bubbling\n   * through the module hierarchy when the event is included in\n   * `this.bubblingEvents`.\n   * @param {string} type Event name / type\n   * @param {Backbone.Model} model Origin backbone model\n   * @param {*} value New property value\n   */\n  onAll(type, model, value) {\n    if (!_.result(this, 'bubblingEvents').includes(type)) return;\n    const event = new ModelEvent(type, model, value);\n    this.bubble(event);\n  }\n\n  /**\n   * Internal event handler for bubbling events.\n   * @param {ModelEvent} event\n   */\n  bubble(event) {\n    if (!event.canBubble) return;\n    event.addPath(this);\n    this.trigger(`bubble:${event.type} bubble`, event);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nexport default class ContentObjectModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('contentObjectModel._parent, use contentObjectModel.getParent() instead, parent models are defined by the JSON');\n    const isParentCourse = (this.get('_parentId') === Adapt.course.get('_id'));\n    if (isParentCourse) {\n      return 'course';\n    }\n    return 'contentObjects';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('contentObjectModel._siblings, use contentObjectModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('contentObjectModel._children, use contentObjectModel.hasManagedChildren instead, child models are defined by the JSON');\n    return null;\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'contentobject';\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\n\nclass MenuModel extends ContentObjectModel {\n\n  get _children() {\n    Adapt.log.deprecated('menuModel._children, use menuModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'menu';\n  }\n\n  setCustomLocking() {\n    const children = this.getAvailableChildModels();\n    children.forEach(child => {\n      child.set('_isLocked', this.shouldLock(child));\n      if (!(child instanceof MenuModel)) return;\n      child.checkLocking();\n    });\n  }\n\n}\n\nAdapt.register('menu', { model: MenuModel });\n\nexport default MenuModel;\n","import Adapt from 'core/js/adapt';\nimport MenuModel from 'core/js/models/menuModel';\n\nclass CourseModel extends MenuModel {\n\n  get _parent() {\n    Adapt.log.deprecated('courseModel._parent, use courseModel.getParent() instead, parent models are defined by the JSON');\n    return null;\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('courseModel._siblings, use courseModel.getSiblings() instead, sibling models are defined by the JSON');\n    return null;\n  }\n\n}\n\nAdapt.register('course', { model: CourseModel });\n\nexport default CourseModel;\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\n\nclass StartController extends Backbone.Controller {\n\n  initialize(...args) {\n    super.initialize(...args);\n    this.model = null;\n  }\n\n  loadCourseData() {\n    this.model = new LockingModel(Adapt.course.get('_start'));\n  }\n\n  setStartLocation() {\n    if (!this.isEnabled()) return;\n    window.history.replaceState('', '', this.getStartHash());\n  }\n\n  returnToStartLocation() {\n    const startIds = this.model.get('_startIds');\n    if (startIds) {\n      // ensure we can return to the start page even if it is completed\n      startIds.forEach(startId => (startId._skipIfComplete = false));\n    }\n    window.location.hash = this.getStartHash(true);\n  }\n\n  /**\n   * Returns a string in URL.hash format representing the route that the course should be sent to\n   * @param {boolean} [alwaysForce] Ignore any route specified in location.hash and force use of the start page instead\n   * @return {string}\n   */\n  getStartHash(alwaysForce) {\n    const startId = this.getStartId();\n    const isRouteSpecified = window.location.href.indexOf('#') > -1;\n    const shouldForceStartId = alwaysForce || this.model.get('_force');\n    const shouldNavigateToStartId = startId && (!isRouteSpecified || shouldForceStartId);\n\n    if (shouldNavigateToStartId && startId !== Adapt.course.get('_id')) {\n      return '#/id/' + startId;\n    }\n\n    // If there's a route specified in location.hash, use that - otherwise go to main menu\n    return window.location.hash || '#/';\n  }\n\n  isEnabled() {\n    return Boolean(this.model?.get('_isEnabled'));\n  }\n\n  getStartId() {\n    let startId = this.model.get('_id');\n    const startIds = this.model.get('_startIds');\n\n    if (!startIds?.length) return startId;\n\n    const $html = $('html');\n    for (let i = 0, l = startIds.length; i < l; i++) {\n      const item = startIds[i];\n      const className = item._className;\n      const skipIfComplete = item._skipIfComplete;\n\n      const model = Adapt.findById(item._id);\n\n      if (!model) {\n        console.log('startController: cannot find id', item._id);\n        continue;\n      }\n\n      if (skipIfComplete) {\n        if (model.get('_isComplete')) continue;\n      }\n\n      if (!className || $html.is(className) || $html.hasClass(className)) {\n        // See https://github.com/adaptlearning/adapt_framework/issues/1843\n        startId = item._id;\n        break;\n      }\n    }\n\n    return startId;\n  }\n\n}\n\nAdapt.once('adapt:start', () => {\n  Adapt.startController.loadCourseData();\n  Adapt.startController.setStartLocation();\n});\n\n/*\n* allows you to call returnToStartLocation either by calling `Adapt.trigger('navigation:returnToStart')`\n* or by including in the top navigation bar a button that has the attribute `data-event=\"returnToStart\"`\n*/\nAdapt.on('navigation:returnToStart', () => {\n  Adapt.startController.returnToStartLocation();\n});\n\nexport default (Adapt.startController = new StartController());\n","import Adapt from 'core/js/adapt';\nimport AdaptCollection from 'core/js/collections/adaptCollection';\nimport BuildModel from 'core/js/models/buildModel';\nimport ConfigModel from 'core/js/models/configModel';\nimport LockingModel from 'core/js/models/lockingModel';\n\nimport 'core/js/models/courseModel';\nimport 'core/js/startController';\n\nclass Data extends AdaptCollection {\n\n  model(json) {\n    const ModelClass = Adapt.getModelClass(json);\n    if (!ModelClass) {\n      return new LockingModel(json);\n    }\n    return new ModelClass(json, { parse: true });\n  }\n\n  initialize() {\n    super.initialize();\n    this.on({\n      add: this.onAdded,\n      remove: this.onRemoved\n    });\n  }\n\n  async init () {\n    this.reset();\n    this._byAdaptID = {};\n    Adapt.build = new BuildModel(null, { url: 'adapt/js/build.min.js', reset: true });\n    await Adapt.build.whenReady();\n    $('html').attr('data-adapt-framework-version', Adapt.build.get('package').version);\n    this.loadConfigData();\n  }\n\n  onAdded(model) {\n    this._byAdaptID[model.get('_id')] = model;\n  }\n\n  onRemoved(model) {\n    delete this._byAdaptID[model.get('_id')];\n  }\n\n  loadConfigData() {\n    Adapt.config = new ConfigModel(null, { url: 'course/config.' + Adapt.build.get('jsonext'), reset: true });\n    this.listenToOnce(Adapt, 'configModel:loadCourseData', this.onLoadCourseData);\n    this.listenTo(Adapt.config, {\n      'change:_activeLanguage': this.onLanguageChange,\n      'change:_defaultDirection': this.onDirectionChange\n    });\n  }\n\n  onDirectionChange(model, direction) {\n    if (direction === 'rtl') {\n      $('html').removeClass('dir-ltr').addClass('dir-rtl').attr('dir', 'rtl');\n    } else {\n      $('html').removeClass('dir-rtl').addClass('dir-ltr').attr('dir', 'ltr');\n    }\n  }\n\n  /**\n   * Before we actually go to load the course data, we first need to check to see if a language has been set\n   * If it has we can go ahead and start loading; if it hasn't, apply the defaultLanguage from config.json\n   */\n  onLoadCourseData() {\n    if (!Adapt.config.get('_activeLanguage')) {\n      Adapt.config.set('_activeLanguage', Adapt.config.get('_defaultLanguage'));\n      return;\n    }\n    this.loadCourseData();\n  }\n\n  onLanguageChange(model, language) {\n    Adapt.offlineStorage.set('lang', language);\n    // set `_isStarted` back to `false` when changing language so that the learner's answers\n    // to questions get restored in the new language when `_restoreStateOnLanguageChange: true`\n    // see https://github.com/adaptlearning/adapt_framework/issues/2977\n    if (Adapt.get('_isStarted')) {\n      Adapt.set('_isStarted', false);\n    }\n    this.loadCourseData(language);\n  }\n\n  async loadCourseData(newLanguage) {\n\n    // All code that needs to run before adapt starts should go here\n    const language = Adapt.config.get('_activeLanguage');\n\n    const courseFolder = 'course/' + language + '/';\n\n    $('html').attr('lang', language);\n\n    await this.loadManifestFiles(courseFolder);\n    await this.triggerDataLoaded();\n    await this.triggerDataReady(newLanguage);\n    this.triggerInit();\n\n  }\n\n  getJSON(path) {\n    return new Promise((resolve, reject) => {\n      $.getJSON(path, data => {\n        // Add path to data in case it's necessary later\n        data.__path__ = path;\n        resolve(data);\n      }).fail(reject);\n    });\n  }\n\n  async loadManifestFiles(languagePath) {\n    this.trigger('loading');\n    this.reset();\n    const manifestPath = languagePath + 'language_data_manifest.js';\n    let manifest;\n    try {\n      manifest = await this.getJSON(manifestPath);\n    } catch (err) {\n      manifest = ['course.json', 'contentObjects.json', 'articles.json', 'blocks.json', 'components.json'];\n      Adapt.log.warnOnce(`Manifest path '${manifestPath} not found. Using traditional files: ${manifest.join(', ')}`);\n    }\n    const allFileData = await Promise.all(manifest.map(filePath => {\n      return this.getJSON(`${languagePath}${filePath}`);\n    }));\n    // Flatten all file data into a single array of model data\n    const allModelData = allFileData.reduce((result, fileData) => {\n      if (Array.isArray(fileData)) {\n        result.push(...fileData);\n      } else if (fileData instanceof Object) {\n        result.push(fileData);\n      } else {\n        Adapt.log.warnOnce(`File data isn't an array or object: ${fileData.__path__}`);\n      }\n      return result;\n    }, []);\n    // Add course model first to allow other model/views to utilize its settings\n    const course = allModelData.find(modelData => modelData._type === 'course');\n    if (!course) {\n      throw new Error('Expected a model data with \"_type\": \"course\", none found.');\n    }\n    Adapt.trigger('courseModel:dataLoading');\n    Adapt.course = this.push(course);\n    Adapt.trigger('courseModel:dataLoaded');\n    // Add other models\n    allModelData.forEach(modelData => {\n      if (modelData._type === 'course') {\n        return;\n      }\n      this.push(modelData);\n    });\n    this.trigger('reset');\n    this.trigger('loaded');\n    await Adapt.wait.queue();\n  }\n\n  async triggerDataLoaded() {\n    Adapt.log.debug('Firing app:dataLoaded');\n    try {\n      // Setup the newly added models\n      this.forEach(model => model.setupModel?.());\n      Adapt.trigger('app:dataLoaded');\n    } catch (e) {\n      Adapt.log.error('Error during app:dataLoading trigger', e);\n    }\n    await Adapt.wait.queue();\n  }\n\n  async triggerDataReady(newLanguage) {\n    if (newLanguage) {\n      Adapt.trigger('app:languageChanged', newLanguage);\n      this.performStartController();\n    }\n    Adapt.log.debug('Firing app:dataReady');\n    try {\n      Adapt.trigger('app:dataReady');\n    } catch (e) {\n      Adapt.log.error('Error during app:dataReady trigger', e);\n    }\n    await Adapt.wait.queue();\n  }\n\n  performStartController() {\n    Adapt.startController.loadCourseData();\n    const hash = Adapt.startController.isEnabled() ? Adapt.startController.getStartHash(false) : '#/';\n    Adapt.router.navigate(hash, { trigger: true, replace: true });\n  }\n\n  triggerInit() {\n    this.isReady = true;\n    this.trigger('ready');\n  }\n\n  whenReady() {\n    if (this.isReady) return Promise.resolve();\n    return new Promise(resolve => {\n      this.once('ready', resolve);\n    });\n  }\n\n  /**\n   * Looks up a model by its `_id` property\n   * @param {string} id The id of the item e.g. \"co-05\"\n   * @return {Backbone.Model}\n   */\n  findById(id) {\n    const model = this._byAdaptID[id];\n    if (!model) {\n      console.warn(`Adapt.findById() unable to find id: ${id}`);\n      return;\n    }\n    return model;\n  }\n\n  /**\n   * Returns the model represented by the trackingPosition.\n   * @param {Array<Number, Number>} trackingPosition Represents the relative location of a model to a _trackingId\n   * @returns {Backbone.Model}\n   */\n  findByTrackingPosition(trackingPosition) {\n    const [ trackingId, indexInTrackingIdDescendants ] = trackingPosition;\n    const trackingIdModel = this.find(model => model.get('_trackingId') === trackingId);\n    if (!trackingIdModel) {\n      console.warn(`Adapt.findByTrackingPosition() unable to find trackingPosition: ${trackingPosition}`);\n      return;\n    }\n    if (indexInTrackingIdDescendants >= 0) {\n      // Model is either the trackingId model or a descendant\n      const trackingIdDescendants = [trackingIdModel].concat(trackingIdModel.getAllDescendantModels(true));\n      return trackingIdDescendants[indexInTrackingIdDescendants];\n    }\n    // Model is an ancestor of the trackingId model\n    const trackingIdAncestors = trackingIdModel.getAncestorModels();\n    const ancestorDistance = Math.abs(indexInTrackingIdDescendants) - 1;\n    return trackingIdAncestors[ancestorDistance];\n  }\n\n}\n\nexport default (Adapt.data = new Data());\n","import Adapt from 'core/js/adapt';\n\n// Basic API for setting and getting name+value pairs\n// Allows registration of a single handler.\n\nclass OfflineStorage extends Backbone.Controller {\n\n  /**\n   * set .ready to false if an offlineStorage handler is being attached - we'll need to wait until the handler lets us know\n   * it's ready before we can safely use offlineStorage\n   */\n  initialize(handler) {\n    /**\n     * set to true initially so that if there are no offlineStorage handlers (i.e. if contrib-spoor is not installed)\n     * this can still be accessed OK\n     */\n    this.ready = true;\n    this._handler = undefined;\n\n    if (!handler) {\n      return;\n    }\n\n    this.ready = false;\n    this._handler = handler;\n  }\n\n  /**\n   * Flag to indicate if an offlineStorage handler has been defined.\n   * @returns {boolean} true if an offlineStorage handler has been defined, false otherwise\n   */\n  hasHandler() {\n    return this._handler !== undefined;\n  }\n\n  /**\n   * Causes state to be serialized and saved.\n   */\n  save() {\n    Adapt.trigger('tracking:save');\n    return this._handler?.save?.apply(this._handler, arguments);\n  }\n\n  /**\n   * Serializes nested arrays, booleans and numbers into an encoded string.\n   * @param {Array|boolean|number} value\n   * @returns {string}\n   */\n  serialize(value) {\n    if (this._handler?.serialize) {\n      return this._handler.serialize.apply(this._handler, arguments);\n    }\n    return JSON.stringify(value);\n  }\n\n  /**\n   * Deserializes encoded strings back into nested arrays, booleans and numbers.\n   * @param {string} value\n   * @returns {Array|boolean|number}\n   */\n  deserialize(value) {\n    if (this._handler?.deserialize) {\n      return this._handler.deserialize.apply(this._handler, arguments);\n    }\n    return JSON.parse(value);\n  }\n\n  set(name, value) {\n    if (this._handler?.set) {\n      return this._handler.set.apply(this._handler, arguments);\n    }\n    // if no handler has been defined, just store the data locally\n    this[name] = value;\n  }\n\n  get(name) {\n    if (this._handler?.get) {\n      return this._handler.get.apply(this._handler, arguments);\n    }\n    // if no handler has been defined, check local data store\n    return this[name];\n  }\n\n  /**\n   * Some forms of offlineStorage could take time to initialise, this allows us to let plugins know when it's ready to be used\n   */\n  setReadyStatus() {\n    this.ready = true;\n    Adapt.trigger('offlineStorage:ready');\n  }\n\n}\n\nAdapt.offlineStorage = new OfflineStorage();\n\nexport default Adapt.offlineStorage;\n","const COMPLETION_STATE = ENUM([\n  'INCOMPLETE',\n  'COMPLETED',\n  'PASSED',\n  'FAILED'\n]);\n\nexport default COMPLETION_STATE;\n","import Adapt from 'core/js/adapt';\nimport COMPLETION_STATE from 'core/js/enums/completionStateEnum';\n\nclass Tracking extends Backbone.Controller {\n\n  initialize() {\n    this._config = {\n      _requireContentCompleted: true,\n      _requireAssessmentCompleted: false\n    };\n    this._assessmentState = null;\n\n    Adapt.once('configModel:dataLoaded', this.loadConfig.bind(this));\n    Adapt.on('app:dataReady', this.setupEventListeners.bind(this));\n  }\n\n  setupEventListeners() {\n    // Check if completion requires passing an assessment.\n    if (this._config._requireAssessmentCompleted) {\n      this.listenTo(Adapt, {\n        'assessment:complete': this.onAssessmentComplete,\n        'assessment:restored': this.onAssessmentRestored\n      });\n    }\n\n    // Check if completion requires completing all content.\n    if (this._config._requireContentCompleted) {\n      this.listenTo(Adapt.course, 'change:_isComplete', this.checkCompletion);\n    }\n  }\n\n  /**\n   * Store the assessment state.\n   * @param {object} assessmentState - The object returned by Adapt.assessment.getState()\n   */\n  onAssessmentComplete(assessmentState) {\n    this._assessmentState = assessmentState;\n\n    this.submitScore();\n    this.checkCompletion();\n  }\n\n  submitScore() {\n    if (!this._config._shouldSubmitScore) return;\n  \n    if (this._assessmentState.isPercentageBased) {\n      Adapt.offlineStorage.set('score', this._assessmentState.scoreAsPercent, 0, 100);\n      return;\n    }\n  \n    Adapt.offlineStorage.set('score', this._assessmentState.score, this._assessmentState.minScore, this._assessmentState.maxScore);\n  }\n\n  /**\n   * Restores the _assessmentState object when an assessment is registered.\n   * @param {object} assessmentState - An object representing the overall assessment state\n   */\n  onAssessmentRestored(assessmentState) {\n    this._assessmentState = assessmentState;\n  }\n\n  /**\n   * Evaluate the course and assessment completion.\n   */\n  checkCompletion() {\n    const completionData = this.getCompletionData();\n\n    if (completionData.status === COMPLETION_STATE.INCOMPLETE) {\n      return;\n    }\n\n    Adapt.trigger('tracking:complete', completionData);\n    Adapt.log.debug('tracking:complete', completionData);\n  }\n\n  /**\n   * The return value of this function should be passed to the trigger of 'tracking:complete'.\n   * @returns An object representing the user's course completion.\n   */\n  getCompletionData() {\n    const completionData = {\n      status: COMPLETION_STATE.INCOMPLETE,\n      assessment: null\n    };\n\n    // Course complete is required.\n    if (this._config._requireContentCompleted && !Adapt.course.get('_isComplete')) {\n      // INCOMPLETE: course not complete.\n      return completionData;\n    }\n\n    // Assessment completed required.\n    if (this._config._requireAssessmentCompleted) {\n      if (!this._assessmentState) {\n        // INCOMPLETE: assessment is not complete.\n        return completionData;\n      }\n\n      // PASSED/FAILED: assessment completed.\n      completionData.status = this._assessmentState.isPass ? COMPLETION_STATE.PASSED : COMPLETION_STATE.FAILED;\n      completionData.assessment = this._assessmentState;\n\n      return completionData;\n    }\n\n    // COMPLETED: criteria met, no assessment requirements.\n    completionData.status = COMPLETION_STATE.COMPLETED;\n\n    return completionData;\n  }\n\n  /**\n   * Set the _config object to the values retrieved from config.json.\n   */\n  loadConfig() {\n    if (Adapt.config.has('_completionCriteria')) {\n      this._config = Adapt.config.get('_completionCriteria');\n    }\n  }\n\n}\n\nAdapt.tracking = new Tracking();\n\nexport default Adapt.tracking;\n","import Adapt from 'core/js/adapt';\nimport Bowser from 'bowser';\n\nclass Device extends Backbone.Controller {\n\n  initialize() {\n    this.$html = $('html');\n    this.$window = $(window);\n    this.touch = Modernizr.touchevents;\n    this.screenWidth = this.getScreenWidth();\n    this.screenHeight = this.getScreenHeight();\n    this.browser = (Bowser.name || '').toLowerCase();\n    this.version = (Bowser.version || '').toLowerCase();\n    this.OS = this.getOperatingSystem().toLowerCase();\n    this.osVersion = Bowser.osversion || '';\n    this.renderingEngine = this.getRenderingEngine();\n    this.onWindowResize = _.debounce(this.onWindowResize.bind(this), 100);\n    this.listenTo(Adapt, {\n      'configModel:dataLoaded': this.onConfigDataLoaded\n    });\n    const browser = this.browser.toLowerCase();\n    // Convert 'msie' and 'internet explorer' to 'ie'.\n    let browserString = browser.replace(/msie|internet explorer/, 'ie');\n    browserString += ` version-${this.version} OS-${this.OS} ${this.getAppleDeviceType()}`;\n    browserString += browserString.replace('.', '-').toLowerCase();\n    browserString += ` pixel-density-${this.pixelDensity()}`;\n    this.$html.addClass(browserString);\n  }\n\n  get orientation() {\n    return (this.screenWidth >= this.screenHeight) ? 'landscape' : 'portrait';\n  }\n\n  get aspectRatio() {\n    return this.screenWidth / this.screenHeight;\n  }\n\n  onConfigDataLoaded() {\n    this.screenSize = this.checkScreenSize();\n    this.$html.addClass('size-' + this.screenSize);\n    if (this.orientation) {\n      this.$html.addClass('orientation-' + this.orientation);\n    }\n    // As Adapt.config is available it's ok to bind the 'resize'.\n    this.$window.on('resize orientationchange', this.onWindowResize);\n  }\n\n  /**\n   * Compares the calculated screen width to the breakpoints defined in config.json.\n   *\n   * @returns {string} 'large', 'medium' or 'small'\n   */\n  checkScreenSize() {\n    const screenSizeConfig = Adapt.config.get('screenSize');\n    let screenSize;\n\n    const screensizeEmThreshold = 300;\n    const baseFontSize = 16;\n\n    // Check to see if the screen size value is larger than the em threshold\n    // If value is larger than em threshold, convert value (assumed px) to ems\n    // Otherwise assume value is in ems\n    const mediumEmBreakpoint = screenSizeConfig.medium > screensizeEmThreshold\n      ? screenSizeConfig.medium / baseFontSize\n      : screenSizeConfig.medium;\n    const smallEmBreakpoint = screenSizeConfig.small > screensizeEmThreshold\n      ? screenSizeConfig.small / baseFontSize\n      : screenSizeConfig.small;\n\n    const fontSize = parseFloat($('html').css('font-size'));\n    const screenSizeEmWidth = (this.screenWidth / fontSize);\n\n    // Check to see if client screen width is larger than medium em breakpoint\n    // If so apply large, otherwise check to see if client screen width is\n    // larger than small em breakpoint. If so apply medium, otherwise apply small\n    if (screenSizeEmWidth >= mediumEmBreakpoint) {\n      screenSize = 'large';\n    } else if (screenSizeEmWidth >= smallEmBreakpoint) {\n      screenSize = 'medium';\n    } else {\n      screenSize = 'small';\n    }\n\n    return screenSize;\n  }\n\n  getScreenWidth() {\n    return this.isAppleDevice()\n      ? this.getAppleScreenWidth()\n      : window.innerWidth || this.$window.width();\n  }\n\n  getScreenHeight() {\n    return this.isAppleDevice()\n      ? this.getAppleScreenHeight()\n      : window.innerHeight || this.$window.height();\n  }\n\n  getOperatingSystem() {\n    const flags = ['windows', 'mac', 'linux', 'windowsphone', 'chromeos', 'android',\n      'ios', 'blackberry', 'firefoxos', 'webos', 'bada', 'tizen', 'sailfish'];\n    let os = flags.find(name => Bowser[name]) || '';\n\n    if (os === '') {\n      // Fall back to using navigator.platform in case Bowser can't detect the OS.\n      const platform = navigator.platform.toLowerCase();\n      const match = platform.match(/win|mac|linux/);\n      if (match) os = match[0];\n      // Set consistency with the Bowser flags.\n      if (os === 'win') os = 'windows';\n      if (!os) os = 'PlatformUnknown';\n    }\n\n    return os;\n  }\n\n  getRenderingEngine() {\n    const flags = ['webkit', 'blink', 'gecko', 'msie', 'msedge'];\n    return flags.find(name => Bowser[name]) || '';\n  }\n\n  onWindowResize() {\n    // Calculate the screen properties.\n    const previousWidth = this.screenWidth;\n    const previousHeight = this.screenHeight;\n\n    this.screenWidth = this.getScreenWidth();\n    this.screenHeight = this.getScreenHeight();\n\n    if (previousWidth === this.screenWidth && previousHeight === this.screenHeight) {\n      // Do not trigger a change if the viewport hasn't actually changed.  Scrolling on iOS will trigger a resize.\n      return;\n    }\n\n    const newScreenSize = this.checkScreenSize();\n\n    if (newScreenSize !== this.screenSize) {\n      this.screenSize = newScreenSize;\n\n      this.$html.removeClass('size-small size-medium size-large').addClass('size-' + this.screenSize);\n\n      if (this.orientation) {\n        this.$html.removeClass('orientation-landscape orientation-portrait').addClass('orientation-' + this.orientation);\n      }\n\n      Adapt.trigger('device:changed', this.screenSize);\n    }\n\n    Adapt.trigger('device:preResize device:resize device:postResize', this.screenWidth);\n\n  }\n\n  isAppleDevice() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  }\n\n  getAppleScreenWidth() {\n    return (Math.abs(window.orientation) === 90) ? window.screen.height : window.screen.width;\n  }\n\n  getAppleScreenHeight() {\n    return (Math.abs(window.orientation) === 90) ? window.screen.width : window.screen.height;\n  }\n\n  getAppleDeviceType() {\n    const flags = ['iphone', 'ipad', 'ipod'];\n    return flags.find(name => Bowser[name]) || '';\n  }\n\n  pixelDensity() {\n    const pixelDensity = (window.devicePixelRatio || 1);\n\n    if (pixelDensity >= 3) {\n      return 'ultra-high';\n    } else if (pixelDensity >= 2) {\n      return 'high';\n    } else if (pixelDensity >= 1.5) {\n      return 'medium';\n    } else {\n      return 'low';\n    }\n  }\n\n}\n\nexport default (Adapt.device = new Device());\n","import Adapt from 'core/js/adapt';\n\nclass DrawerItemView extends Backbone.View {\n\n  className() {\n    return 'drawer__menu drawer__item';\n  }\n\n  attributes() {\n    return {\n      role: 'list'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'drawer:empty', this.remove);\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .drawer__item-btn': 'onDrawerItemClicked'\n    };\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates['drawerItem'];\n    $(this.el).html(template(data)).appendTo('.drawer__holder');\n    return this;\n  }\n\n  onDrawerItemClicked(event) {\n    event.preventDefault();\n    const eventCallback = this.model.get('eventCallback');\n    Adapt.trigger(eventCallback);\n  }\n\n}\n\nDrawerItemView.type = 'drawerItem';\n\nexport default DrawerItemView;\n","import Adapt from 'core/js/adapt';\nimport DrawerItemView from 'core/js/views/drawerItemView';\n\nclass DrawerView extends Backbone.View {\n\n  className() {\n    return 'drawer u-display-none';\n  }\n\n  attributes() {\n    return {\n      'role': 'dialog',\n      'aria-modal': 'true',\n      'aria-labelledby': 'drawer-heading',\n      'aria-hidden': 'true'\n    };\n  }\n\n  initialize() {\n    this._isVisible = false;\n    this.disableAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    this.drawerDir = Adapt.config.get('_defaultDirection') === 'rtl' ? 'left' : 'right';\n    this.drawerDuration = Adapt.config.get('_drawer')?._duration ?? 400;\n    this.setupEventListeners();\n    this.render();\n  }\n\n  setupEventListeners() {\n    this.listenTo(Adapt, {\n      'navigation:toggleDrawer': this.toggleDrawer,\n      'drawer:triggerCustomView': this.openCustomView,\n      'drawer:closeDrawer': this.onCloseDrawer,\n      'remove': this.onRemove,\n      'drawer:remove': this.remove\n    });\n\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.setupEscapeKey();\n  }\n\n  setupEscapeKey() {\n    $(window).on('keyup', this.onKeyUp);\n  }\n\n  onKeyUp(event) {\n    if (event.which !== 27) return;\n    event.preventDefault();\n\n    this.onCloseDrawer();\n  }\n\n  events() {\n    return {\n      'click .drawer__back': 'onBackButtonClicked',\n      'click .drawer__close': 'onCloseClicked'\n    };\n  }\n\n  render() {\n    const template = Handlebars.templates.drawer;\n    $(this.el).html(template({ _globals: Adapt.course.get('_globals') })).prependTo('body');\n    const shadowTemplate = Handlebars.templates.shadow;\n    $(shadowTemplate()).prependTo('body');\n    _.defer(this.postRender.bind(this));\n    return this;\n  }\n\n  postRender() {\n    this.$('a, button, input, select, textarea').attr('tabindex', -1);\n\n    this.checkIfDrawerIsAvailable();\n  }\n\n  openCustomView(view, hasBackButton) {\n    this._hasBackButton = hasBackButton;\n    this._isCustomViewVisible = true;\n    Adapt.trigger('drawer:empty');\n    this.showDrawer();\n    this.$('.drawer__holder').html(view);\n  }\n\n  checkIfDrawerIsAvailable() {\n    const isEmptyDrawer = (this.collection.length === 0);\n    $('.js-nav-drawer-btn').toggleClass('u-display-none', isEmptyDrawer);\n    if (isEmptyDrawer) {\n      Adapt.trigger('drawer:noItems');\n    }\n  }\n\n  onBackButtonClicked(event) {\n    event.preventDefault();\n    this.showDrawer(true);\n  }\n\n  onCloseClicked(event) {\n    event.preventDefault();\n    this.hideDrawer();\n  }\n\n  onCloseDrawer($toElement) {\n    this.hideDrawer($toElement);\n  }\n\n  onRemove() {\n    this.hideDrawer();\n  }\n\n  toggleDrawer() {\n    if (this._isVisible && this._isCustomViewVisible === false) {\n      this.hideDrawer();\n      return;\n    }\n    this.showDrawer(true);\n  }\n\n  showDrawer(emptyDrawer) {\n    this.$el.removeClass('u-display-none').removeAttr('aria-hidden');\n    // Only trigger popup:opened if drawer is visible, pass popup manager drawer element\n    if (!this._isVisible) {\n      Adapt.a11y.popupOpened(this.$el);\n      Adapt.a11y.scrollDisable('body');\n      this._isVisible = true;\n    }\n\n    // Sets tab index to 0 for all tabbable elements in Drawer\n    this.$('a, button, input, select, textarea').attr('tabindex', 0);\n\n    if (emptyDrawer) {\n      this.$('.drawer__back').addClass('u-display-none');\n      this._isCustomViewVisible = false;\n      this.emptyDrawer();\n      if (this.collection.models.length === 1) {\n        // This callback triggers openCustomView() and sets\n        // _isCustomViewVisible to true, causing toggleDrawer()\n        // to re-render the drawer on every toggle button press\n        Adapt.trigger(this.collection.models[0].get('eventCallback'));\n        // Set _isCustomViewVisible to false to prevent re-rendering\n        // the drawer and fix the toggle functionality on toggle button press\n        this._isCustomViewVisible = false;\n      } else {\n        this.renderItems();\n        Adapt.trigger('drawer:openedItemView');\n      }\n    } else {\n      const hideDrawerBackButton = (!this._hasBackButton || this.collection.models.length <= 1);\n      this.$('.drawer__back').toggleClass('u-display-none', hideDrawerBackButton);\n      Adapt.trigger('drawer:openedCustomView');\n    }\n\n    const complete = () => {\n      this.addShadowEvent();\n      Adapt.trigger('drawer:opened');\n\n      // focus on first tabbable element in drawer\n      Adapt.a11y.focusFirst(this.$el, { defer: true });\n    };\n\n    // delay drawer animation until after background fadeout animation is complete\n    const direction = {};\n    if (this.disableAnimation) {\n      $('.js-shadow').removeClass('u-display-none');\n      $('.js-drawer-holder').scrollTop(0);\n\n      direction[this.drawerDir] = 0;\n      this.$el.css(direction);\n      complete();\n    } else {\n      $('.js-shadow').velocity({ opacity: 1 }, {\n        duration: this.drawerDuration,\n        begin: () => {\n          $('.js-shadow').removeClass('u-display-none');\n          $('.js-drawer-holder').scrollTop(0);\n          complete();\n        }\n      });\n\n      const easing = Adapt.config.get('_drawer')?._showEasing || 'easeOutQuart';\n      direction[this.drawerDir] = 0;\n      this.$el.velocity(direction, this.drawerDuration, easing);\n    }\n\n  }\n\n  emptyDrawer() {\n    this.$('.drawer__holder').empty();\n  }\n\n  renderItems() {\n    Adapt.trigger('drawer:empty');\n    this.emptyDrawer();\n    this.collection.forEach(model => new DrawerItemView({ model }));\n  }\n\n  hideDrawer($toElement) {\n    if (!this._isVisible) return;\n\n    const direction = {};\n    Adapt.a11y.popupClosed($toElement);\n    this._isVisible = false;\n    Adapt.a11y.scrollEnable('body');\n\n    if (this.disableAnimation) {\n\n      direction[this.drawerDir] = -this.$el.width();\n      this.$el\n        .css(direction)\n        .addClass('u-display-none')\n        .attr('aria-hidden', 'true');\n\n      $('.js-shadow').addClass('u-display-none');\n\n      Adapt.trigger('drawer:closed');\n\n    } else {\n      const easing = Adapt.config.get('_drawer')?._hideEasing || 'easeInQuart';\n\n      direction[this.drawerDir] = -this.$el.width();\n      this.$el.velocity(direction, this.drawerDuration, easing, () => {\n        this.$el\n          .addClass('u-display-none')\n          .attr('aria-hidden', 'true');\n\n        Adapt.trigger('drawer:closed');\n      });\n\n      $('.js-shadow').velocity({ opacity: 0 }, { duration: this.drawerDuration,\n        complete() {\n          $('.js-shadow').addClass('u-display-none');\n        }\n      });\n\n    }\n\n    this._isCustomViewVisible = false;\n    this.removeShadowEvent();\n\n  }\n\n  addShadowEvent() {\n    $('.js-shadow').one('click touchstart', () => this.onCloseDrawer());\n  }\n\n  removeShadowEvent() {\n    $('.js-shadow').off('click touchstart');\n  }\n\n  remove() {\n    super.remove();\n    $(window).off('keyup', this.onKeyUp);\n\n    Adapt.trigger('drawer:empty');\n    this.collection.reset();\n    $('.js-shadow').remove();\n  }\n\n}\n\nObject.assign(DrawerView, {\n  childContainer: '.js-drawer-holder',\n  childView: DrawerItemView\n});\n\nexport default DrawerView;\n","import Adapt from 'core/js/adapt';\nimport DrawerView from 'core/js/views/drawerView';\n\nconst DrawerCollection = new Backbone.Collection(null, { comparator: 'drawerOrder' });\nconst Drawer = {};\n\nDrawer.addItem = function(drawerObject, eventCallback) {\n  drawerObject.eventCallback = eventCallback;\n  DrawerCollection.add(drawerObject);\n};\n\nDrawer.triggerCustomView = function(view, hasBackButton) {\n  if (hasBackButton !== false) {\n    hasBackButton = true;\n  }\n  Adapt.trigger('drawer:triggerCustomView', view, hasBackButton);\n};\n\nAdapt.on({\n  'adapt:start'() {\n    new DrawerView({ collection: DrawerCollection });\n  },\n  'app:languageChanged'() {\n    Adapt.trigger('drawer:remove');\n  }\n});\n\nexport default (Adapt.drawer = Drawer);\n","import Adapt from 'core/js/adapt';\n\nexport default class NotifyPushView extends Backbone.View {\n\n  className() {\n    let classes = 'notify-push ';\n    classes += (this.model.get('_classes') || '');\n    return classes;\n  }\n\n  attributes() {\n    return {\n      'role': 'dialog',\n      'aria-labelledby': 'notify-push-heading',\n      'aria-modal': 'false'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, {\n      'notify:pushShown notify:pushRemoved': this.updateIndexPosition,\n      'remove': this.remove\n    });\n\n    this.listenTo(this.model.collection, {\n      'remove': this.updateIndexPosition,\n      'change:_index': this.updatePushPosition\n    });\n\n    this.preRender();\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-notify-push-close-btn': 'closePush',\n      'click .js-notify-push-inner': 'triggerEvent'\n    };\n  }\n\n  preRender() {\n    this.hasBeenRemoved = false;\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates['notifyPush'];\n    this.$el.html(template(data)).appendTo('#wrapper');\n\n    _.defer(this.postRender.bind(this));\n\n    return this;\n  }\n\n  postRender() {\n    this.$el.addClass('is-active');\n\n    _.delay(this.closePush.bind(this), this.model.get('_timeout'));\n\n    Adapt.trigger('notify:pushShown');\n  }\n\n  closePush(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    // Check whether this view has been removed as the delay can cause it to be fired twice\n    if (this.hasBeenRemoved === false) {\n\n      this.hasBeenRemoved = true;\n\n      this.$el.removeClass('is-active');\n\n      _.delay(() => {\n        this.model.collection.remove(this.model);\n        Adapt.trigger('notify:pushRemoved', this);\n        this.remove();\n      }, 600);\n    }\n  }\n\n  triggerEvent(event) {\n    Adapt.trigger(this.model.get('_callbackEvent'));\n    this.closePush();\n  }\n\n  updateIndexPosition() {\n    if (this.hasBeenRemoved) return;\n    const models = this.model.collection.models;\n    models.forEach((model, index) => {\n      if (!model.get('_isActive')) return;\n      model.set('_index', index);\n      this.updatePushPosition();\n    });\n  }\n\n  updatePushPosition() {\n    if (this.hasBeenRemoved) {\n      return;\n    }\n\n    if (typeof this.model.get('_index') !== 'undefined') {\n      const elementHeight = this.$el.height();\n      const offset = 20;\n      const navigationHeight = $('.nav').height();\n      const currentIndex = this.model.get('_index');\n      let flippedIndex = (currentIndex === 0) ? 1 : 0;\n\n      if (this.model.collection.where({ _isActive: true }).length === 1) {\n        flippedIndex = 0;\n      }\n\n      const positionLowerPush = (elementHeight + offset) * flippedIndex + navigationHeight + offset;\n      this.$el.css('top', positionLowerPush);\n    }\n  }\n}\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class NotifyModel extends LockingModel {\n\n  defaults() {\n    return {\n      _isActive: false,\n      _showIcon: false,\n      _timeout: 3000\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NotifyPushView from 'core/js/views/notifyPushView';\nimport NotifyModel from 'core/js/models/notifyModel';\n\n// Build a collection to store push notifications\nexport default class NotifyPushCollection extends Backbone.Collection {\n\n  initialize() {\n    this.model = NotifyModel;\n    this.listenTo(this, 'add', this.onPushAdded);\n    this.listenTo(Adapt, 'notify:pushRemoved', this.onRemovePush);\n  }\n\n  onPushAdded(model) {\n    this.checkPushCanShow(model);\n  }\n\n  checkPushCanShow(model) {\n    if (!this.canShowPush()) return;\n    model.set('_isActive', true);\n    this.showPush(model);\n  }\n\n  canShowPush() {\n    const availablePushNotifications = this.where({ _isActive: true });\n    return (availablePushNotifications.length < 2);\n  }\n\n  showPush(model) {\n    new NotifyPushView({\n      model: model\n    });\n  }\n\n  onRemovePush(view) {\n    const inactivePushNotifications = this.where({ _isActive: false });\n    if (inactivePushNotifications.length > 0) {\n      this.checkPushCanShow(inactivePushNotifications[0]);\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Event object triggered for controlling child view rendering.\n * Sent with 'view:addChild' and 'view:requestChild' events.\n * All plugins receive the same object reference in their event handler and\n * as such, this object becomes a place of consensus for plugins to decide how\n * to handle rendering for this child.\n */\nexport default class ChildEvent extends Backbone.Controller {\n\n  /**\n   * @param {string} type Event type\n   * @param {AdaptView} target Parent view\n   * @param {AdaptModel} model Child model\n   */\n  initialize(type, target, model) {\n    /** @type {string} */\n    this.type = type;\n    /** @type {AdaptView} */\n    this.target = target;\n    /** @type {boolean} Force the child model to render */\n    this.isForced = false;\n    /** @type {boolean} Stop rendering before the child model */\n    this.isStoppedImmediate = false;\n    /** @type {boolean} Stop rendering after the child model */\n    this.isStoppedNext = false;\n    /** @type {boolean} Contains a model to render in response to a requestChild event */\n    this.hasRequestChild = false;\n    this._model = model;\n  }\n\n  /**\n   * Get the model to be rendered.\n   * @returns {AdaptModel}\n   */\n  get model() {\n    return this._model;\n  }\n\n  /**\n   * Set the model to render in response to a 'view:requestChild' event.\n   * @param {AdaptModel}\n   */\n  set model(model) {\n    if (this.type !== 'requestChild') {\n      Adapt.log.warn(`Cannot change model in ${this.type} event.`);\n      return;\n    }\n    if (this._model) {\n      Adapt.log.warn(`Cannot inject two models in one sitting. ${model.get('_id')} attempts to overwrite ${this._model.get('_id')}`);\n      return;\n    }\n    this._model = model;\n    this.hasRequestChild = true;\n  }\n\n  /**\n   * Reset all render stops.\n   */\n  reset() {\n    this.isStoppedImmediate = false;\n    this.isStoppedNext = false;\n  }\n\n  /**\n   * Force model to render.\n   */\n  force() {\n    this.isForced = true;\n  }\n\n  /**\n   * General stop. Stop immediately or stop next with flag to false.\n   * @param {boolean} [immediate=true] Flag to stop immediate or next.\n   */\n  stop(immediate = true) {\n    if (!immediate) {\n      return this.stopNext();\n    }\n    this.isStoppedImmediate = true;\n  }\n\n  /**\n   * Shortcut to stop(false). Stop the render after the contained model is rendered.\n   */\n  stopNext() {\n    this.isStoppedNext = true;\n  }\n\n  /**\n   * Trigger an event to signify that a final decision has been reached.\n   */\n  close() {\n    this.trigger('closed');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TemplateRenderEvent from './templateRenderEvent';\nimport React from 'react';\nimport logging from './logging';\n\n/**\n * Used by babel plugin babel-plugin-transform-react-templates to inject react templates\n */\nexport default function register(name, component) {\n  templates[name] = (...args) => {\n    // Trap render calls to emit preRender and postRender events\n    const mode = 'reactTemplate';\n    // Send preRender event to allow modification of args\n    const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n    Adapt.trigger(preRenderEvent.type, preRenderEvent);\n    // Execute template\n    const value = component(...preRenderEvent.args);\n    // Send postRender event to allow modification of rendered template\n    const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n    Adapt.trigger(postRenderEvent.type, postRenderEvent);\n    // Return rendered, modified template\n    return postRenderEvent.value;\n  };\n};\n\n/**\n * Override React.createElement to allow trapping and modification of react\n * template elements.\n */\n(function () {\n  const original = React.createElement;\n  React.createElement = (...args) => {\n    const name = args[0];\n    // Trap render calls to emit preRender and postRender events\n    const mode = 'reactElement';\n    // Send preRender event to allow modification of args\n    const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n    Adapt.trigger(preRenderEvent.type, preRenderEvent);\n    // Execute element creation\n    const value = original(...preRenderEvent.args);\n    // Send postRender event to allow modification of rendered element\n    const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n    Adapt.trigger(postRenderEvent.type, postRenderEvent);\n    // Return rendered, modified element\n    return postRenderEvent.value;\n  };\n})();\n\n/**\n * Storage for react templates\n */\nexport const templates = {};\n\n/**\n * Convert html strings to react dom, equivalent to handlebars {{{html}}}\n * @param {string} html\n * @deprecated since v6.0.4, please use react dangerouslySetInnerHTML instead: https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n */\nexport function html(html) {\n  if (!html) return;\n  logging.deprecated('reactHelpers.html please use react dangerouslySetInnerHTML instead: https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml');\n  return { __html: html };\n}\n\n/**\n * Handlebars compile integration\n * @param {string} name Handlebars template\n * @param {...any} args Template arguments\n */\nexport function compile(template, ...args) {\n  const output = Handlebars.compile(template)(...args);\n  return output;\n};\n\n/**\n * Handlebars partials integration\n * @param {string} name Partial name\n * @param {...any} args Partial arguments\n */\nexport function partial(name, ...args) {\n  const output = Handlebars.partials[name](...args);\n  return output;\n};\n\n/**\n * Handlebars helpers integration\n * @param {string} name Helper name\n * @param {...any} args Helper arguments\n */\nexport function helper(name, ...args) {\n  const output = Handlebars.helpers[name].call(args[0]);\n  return (output && output.string) || output;\n};\n\n/**\n * Helper for a list of classes, filtering out falsies and duplicates, and joining with spaces\n * @param  {...any} args List or arrays of classes\n */\nexport function classes(...args) {\n  return _.uniq(_.flatten(args).filter(Boolean).join(' ').split(' ')).join(' ');\n};\n\n/**\n * Helper for prefixing a list of classes, filtering out falsies and duplicates and joining with spaces\n * @param  {[...string]} prefixes Array of class prefixes\n * @param  {...any} args List or arrays of classes\n */\nexport function prefixClasses(prefixes, ...args) {\n  const classes = _.flatten(args).filter(Boolean);\n  const prefixed = _.flatten(prefixes.map(prefix => classes.map(className => `${prefix}${className}`)));\n  return _.uniq(prefixed.join(' ').split(' ')).join(' ');\n};\n","import Adapt from 'core/js/adapt';\nimport ChildEvent from 'core/js/childEvent';\nimport { templates } from 'core/js/reactHelpers';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass AdaptView extends Backbone.View {\n\n  attributes() {\n    return {\n      'data-adapt-id': this.model.get('_id')\n    };\n  }\n\n  initialize() {\n    this.listenTo(this.model, {\n      'change:_isVisible': this.toggleVisibility,\n      'change:_isHidden': this.toggleHidden,\n      'change:_isComplete': this.onIsCompleteChange\n    });\n    this.isJSX = (this.constructor.template || '').includes('.jsx');\n    if (this.isJSX) {\n      this._classSet = new Set(_.result(this, 'className').trim().split(/\\s+/));\n      this.listenTo(this.model, 'all', this.changed);\n      const children = this.model?.getChildren?.();\n      children && this.listenTo(children, 'all', this.changed);\n      // Facilitate adaptive react views\n      this.listenTo(Adapt, 'device:changed', this.changed);\n    }\n    this.model.set({\n      _globals: Adapt.course.get('_globals'),\n      _isReady: false\n    });\n    this._isRemoved = false;\n\n    if (Adapt.location._currentId === this.model.get('_id')) {\n      Adapt.parentView = this;\n    }\n\n    this.preRender();\n    this.render();\n    this.setupOnScreenHandler();\n  }\n\n  preRender() {}\n\n  async postRender() {\n    await this.addChildren();\n  }\n\n  render() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRender view:preRender`, this);\n\n    if (this.isJSX) {\n      this.changed();\n    } else {\n      const data = this.model.toJSON();\n      data.view = this;\n      const template = Handlebars.templates[this.constructor.template];\n      this.$el.html(template(data));\n    }\n\n    Adapt.trigger(`${type}View:render view:render`, this);\n\n    _.defer(async () => {\n      // don't call postRender after remove\n      if (this._isRemoved) return;\n\n      await this.postRender();\n      Adapt.trigger(`${type}View:postRender view:postRender`, this);\n    });\n\n    return this;\n  }\n\n  /**\n   * Re-render a react template\n   * @param {string} eventName=null Backbone change event name\n   */\n  changed(eventName = null) {\n    if (!this.isJSX) {\n      throw new Error('Cannot call changed on a non-react view');\n    }\n    if (typeof eventName === 'string' && eventName.startsWith('bubble')) {\n      // Ignore bubbling events as they are outside of this view's scope\n      return;\n    }\n    const props = {\n      // Add view own properties, bound functions etc\n      ...this,\n      // Add model json data\n      ...this.model.toJSON(),\n      // Add globals\n      _globals: Adapt.course.get('_globals')\n    };\n    const Template = templates[this.constructor.template.replace('.jsx', '')];\n    this.updateViewProperties();\n    ReactDOM.render(<Template {...props} />, this.el);\n  }\n\n  updateViewProperties() {\n    const classesToAdd = _.result(this, 'className').trim().split(/\\s+/);\n    classesToAdd.forEach(i => this._classSet.add(i));\n    const classesToRemove = [ ...this._classSet ].filter(i => !classesToAdd.includes(i));\n    classesToRemove.forEach(i => this._classSet.delete(i));\n    this._setAttributes({ ..._.result(this, 'attributes'), id: _.result(this, 'id') });\n    this.$el.removeClass(classesToRemove).addClass(classesToAdd);\n  }\n\n  setupOnScreenHandler() {\n    const onscreen = this.model.get('_onScreen');\n\n    if (!onscreen?._isEnabled) return;\n\n    this.$el.addClass(`has-animation ${onscreen._classes}-before`);\n    this.$el.on('onscreen.adaptView', (e, m) => {\n      if (!m.onscreen) return;\n      const minVerticalInview = onscreen._percentInviewVertical || 33;\n      if (m.percentInviewVertical < minVerticalInview) return;\n      this.$el.addClass(`${onscreen._classes}-after`).off('onscreen.adaptView');\n    });\n  }\n\n  /**\n   * Add children and descendant views, first-child-first. Wait until all possible\n   * views are added before resolving asynchronously.\n   * Will trigger 'view:addChild'(ChildEvent), 'view:requestChild'(ChildEvent)\n   * and 'view:childAdded'(ParentView, ChildView) accordingly.\n   * @returns {number} Count of views added\n   */\n  async addChildren() {\n    this.nthChild = this.nthChild || 0;\n    // Check descendants first\n    let addedCount = await this.addDescendants(false);\n    // Iterate through existing available children and/or request new children\n    // if required and allowed\n    while (true) {\n      const models = this.model.getAvailableChildModels();\n      const event = this._getAddChildEvent(models[this.nthChild]);\n      if (!event) {\n        break;\n      }\n      if (event.isForced) {\n        event.reset();\n      }\n      if (event.isStoppedImmediate || !event.model) {\n        // If addChild has been stopped before it is added then\n        // set all subsequent models and their children as not rendered\n        const subsequentModels = models.slice(this.nthChild);\n        subsequentModels.forEach(model => model.setOnChildren('_isRendered', false));\n        break;\n      }\n      // Set model state\n      const model = event.model;\n      model.set({\n        _isRendered: true,\n        _nthChild: ++this.nthChild\n      });\n      // Create child view\n      const ChildView = this.constructor.childView || Adapt.getViewClass(model);\n      if (!ChildView) {\n        throw new Error(`The component '${model.attributes._id}' ('${model.attributes._component}') has not been installed, and so is not available in your project.`);\n      }\n      const childView = new ChildView({ model });\n      this.addChildView(childView);\n      addedCount++;\n      if (event.isStoppedNext) {\n        break;\n      }\n    }\n\n    if (!addedCount) {\n      return addedCount;\n    }\n\n    // Children were added, unset _isReady\n    this.model.set('_isReady', false);\n    return addedCount;\n  }\n\n  /**\n   * Child views can be added with '_renderPosition': 'outer-append' or\n   * 'inner-append' (default). Each child view will trigger a\n   * 'view:childAdded'(ParentView, ChildView) event and be added to the\n   * this.getChildViews() array on this parent.\n   * @param {AdaptView} childView\n   * @returns {AdaptView} Returns this childView\n   */\n  addChildView(childView) {\n    const childViews = this.getChildViews() || [];\n    childViews.push(childView);\n    this.setChildViews(childViews);\n    const $parentContainer = this.$(this.constructor.childContainer);\n    switch (childView.model.get('_renderPosition')) {\n      case 'outer-append':\n        // Useful for trickle buttons, inline feedback etc\n        this.$el.append(childView.$el);\n        break;\n      case 'inner-append':\n      default:\n        $parentContainer.append(childView.$el);\n        break;\n    }\n    // Signify that a child has been added to the view to enable updates to status bars\n    Adapt.trigger('view:childAdded', this, childView);\n    return childView;\n  }\n\n  /**\n   * Iterates through existing childViews and runs addChildren on them, resolving\n   * the total count of views added asynchronously.\n   * @returns {number} Count of views added\n   */\n  async addDescendants() {\n    let addedDescendantCount = 0;\n    const childViews = this.getChildViews();\n    if (!childViews) {\n      return addedDescendantCount;\n    }\n    for (let i = 0, l = childViews.length; i < l; i++) {\n      const view = childViews[i];\n      addedDescendantCount = view.addChildren ? await view.addChildren() : 0;\n      if (addedDescendantCount) {\n        break;\n      }\n    }\n    if (!addedDescendantCount) {\n      this.model.checkReadyStatus();\n      return addedDescendantCount;\n    }\n    // Descendants were added, unset _isReady\n    this.model.set('_isReady', false);\n    return addedDescendantCount;\n  }\n\n  /**\n   * Resolves after outstanding asynchronous view additions are finished\n   * and ready.\n   */\n  async whenReady() {\n    if (this.model.get('_isReady')) return;\n    return new Promise(resolve => {\n      const onReadyChange = (model, value) => {\n        if (!value) return;\n        this.stopListening(this.model, 'change:_isReady', onReadyChange);\n        resolve();\n      };\n      this.listenTo(this.model, 'change:_isReady', onReadyChange);\n      this.model.checkReadyStatus();\n    });\n  }\n\n  /**\n   * Triggers and returns a new ChildEvent object for render control.\n   * This function is used by addChildren to manage event triggering.\n   * @param {AdaptModel} model\n   * @returns {ChildEvent}\n   */\n  _getAddChildEvent(model) {\n    const isRequestChild = (!model);\n    const event = new ChildEvent(null, this, model);\n    if (isRequestChild) {\n      // No model has been supplied, we are at the end of the available child list\n      const canRequestChild = this.model.get('_canRequestChild');\n      if (!canRequestChild) {\n        // This model cannot request children\n        return;\n      }\n      event.type = 'requestChild';\n      // Send a request asking for a new model\n      Adapt.trigger('view:requestChild', event);\n      if (!event.hasRequestChild) {\n        // No new model was supplied\n        // Close the event so that the final state can be scrutinized\n        event.close();\n        return;\n      }\n      // A new model has been supplied for the end of the list.\n    }\n    // Trigger an event to signify that a new model is to be added\n    event.type = 'addChild';\n    Adapt.trigger('view:addChild', event);\n    // Close the event so that the final state can be scrutinized\n    event.close();\n    return event;\n  }\n\n  /**\n   * Return an array of all child and descendant views.\n   * @param {boolean} [isParentFirst=false] Array returns with parents before children\n   * @returns {[AdaptView]}\n   */\n  findDescendantViews(isParentFirst) {\n    const descendants = [];\n    const childViews = this.getChildViews();\n    childViews?.forEach(view => {\n      if (isParentFirst) descendants.push(view);\n      const children = view.findDescendantViews?.(isParentFirst);\n      if (children) descendants.push(...children);\n      if (!isParentFirst) descendants.push(view);\n    });\n    return descendants;\n  }\n\n  setReadyStatus() {\n    this.model.set('_isReady', true);\n  }\n\n  setCompletionStatus() {\n    if (!this.model.get('_isVisible')) return;\n    this.model.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  }\n\n  resetCompletionStatus(type) {\n    if (!this.model.get('_canReset')) return;\n\n    const descendantComponents = this.model.findDescendantModels('component');\n    if (descendantComponents.length === 0) {\n      this.model.reset(type);\n    } else {\n      descendantComponents.forEach(model => model.reset(type));\n    }\n  }\n\n  preRemove() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRemove view:preRemove`, this);\n  }\n\n  remove() {\n    const type = this.constructor.type;\n    this.preRemove();\n    Adapt.trigger(`${type}View:remove view:remove`, this);\n    this._isRemoved = true;\n    this.stopListening();\n\n    Adapt.wait.for(end => {\n      if (this.isJSX) {\n        ReactDOM.unmountComponentAtNode(this.el);\n      }\n      this.$el.off('onscreen.adaptView');\n      super.remove();\n      _.defer(() => {\n        Adapt.trigger(`${type}View:postRemove view:postRemove`, this);\n      });\n      end();\n    });\n\n    return this;\n  }\n\n  setVisibility() {\n    return this.model.get('_isVisible') ? '' : 'u-visibility-hidden';\n  }\n\n  toggleVisibility() {\n    this.$el.toggleClass('u-visibility-hidden', !this.model.get('_isVisible'));\n  }\n\n  setHidden() {\n    return this.model.get('_isHidden') ? 'u-display-none' : '';\n  }\n\n  toggleHidden() {\n    this.$el.toggleClass('u-display-none', this.model.get('_isHidden'));\n  }\n\n  onIsCompleteChange(model, isComplete) {\n    this.$el.toggleClass('is-complete', isComplete);\n  }\n\n  /**\n   * @returns {[AdaptView]}\n   */\n  getChildViews() {\n    if (!this._childViews) return this._childViews;\n    // Allow both a deprecated id/view map or a new array of child views\n    return Object.entries(this._childViews).map(([key, value]) => value);\n  }\n\n  /**\n   * @param {[AdaptView]} value\n   */\n  setChildViews(value) {\n    this._childViews = value;\n  }\n\n  /**\n   * Returns an indexed by id list of child views.\n   * @deprecated since 5.7.0\n   * @returns {{<string, AdaptView}}\n   */\n  get childViews() {\n    Adapt.log.deprecated('view.childViews use view.getChildViews() and view.setChildViews([])');\n    if (Array.isArray(this._childViews)) {\n      return _.indexBy(this._childViews, view => view.model.get('_id'));\n    }\n    return this._childViews;\n  }\n\n  /**\n   * Sets an indexed by id list of child views.\n   * @deprecated since 5.7.0\n   */\n  set childViews(value) {\n    Adapt.log.deprecated('view.childViews use view.getChildViews() and view.setChildViews([])');\n    this.setChildViews(value);\n  }\n\n}\n\nAdaptView.className = '';\n\nexport default AdaptView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nexport default class NotifyView extends Backbone.View {\n\n  className() {\n    return `notify ${this.model.get('_classes') || ''}`;\n  }\n\n  attributes () {\n    return Object.assign({\n      role: 'dialog',\n      'aria-labelledby': 'notify-heading',\n      'aria-modal': 'true'\n    }, this.model.get('_attributes'));\n  }\n\n  events() {\n    return {\n      'click .js-notify-btn-alert': 'onAlertButtonClicked',\n      'click .js-notify-btn-prompt': 'onPromptButtonClicked',\n      'click .js-notify-close-btn': 'onCloseButtonClicked',\n      'click .js-notify-shadow-click': 'onShadowClicked'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'resetNotifySize', 'onKeyUp');\n    this.disableAnimation = Adapt.config.get('_disableAnimation') || false;\n    this.isOpen = false;\n    this.hasOpened = false;\n    this.setupEventListeners();\n    this.render();\n  }\n\n  setupEventListeners() {\n    this.listenTo(Adapt, {\n      'remove page:scrollTo': this.closeNotify,\n      'notify:resize': this.resetNotifySize,\n      'notify:cancel': this.cancelNotify,\n      'notify:close': this.closeNotify,\n      'device:resize': this.resetNotifySize\n    });\n    this.setupEscapeKey();\n  }\n\n  setupEscapeKey() {\n    $(window).on('keyup', this.onKeyUp);\n  }\n\n  onKeyUp(event) {\n    if (event.which !== 27) return;\n    event.preventDefault();\n    this.cancelNotify();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates.notify;\n    // hide notify container\n    this.$el.css('visibility', 'hidden');\n    // attach popup + shadow\n    this.$el.html(template(data)).appendTo('body');\n    // hide popup\n    this.$('.notify__popup').css('visibility', 'hidden');\n    // show notify container\n    this.$el.css('visibility', 'visible');\n    this.showNotify();\n    return this;\n  }\n\n  onAlertButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger(this.model.get('_callbackEvent'), this);\n  }\n\n  onPromptButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger($(event.currentTarget).attr('data-event'), this);\n  }\n\n  onCloseButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.cancelNotify();\n  }\n\n  onShadowClicked(event) {\n    event.preventDefault();\n    if (this.model.get('_closeOnShadowClick') === false) return;\n    this.cancelNotify();\n  }\n\n  cancelNotify() {\n    if (this.model.get('_isCancellable') === false) return;\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger('notify:cancelled', this);\n  }\n\n  resetNotifySize() {\n    if (!this.hasOpened) return;\n    this.resizeNotify();\n  }\n\n  resizeNotify() {\n    const windowHeight = $(window).height();\n    const notifyHeight = this.$('.notify__popup-inner').outerHeight();\n    const isFullWindow = (notifyHeight >= windowHeight);\n    this.$('.notify__popup').css({\n      'height': isFullWindow ? '100%' : 'auto',\n      'top': isFullWindow ? 0 : '',\n      'margin-top': isFullWindow ? '' : -(notifyHeight / 2),\n      'overflow-y': isFullWindow ? 'scroll' : '',\n      '-webkit-overflow-scrolling': isFullWindow ? 'touch' : ''\n    });\n  }\n\n  async showNotify() {\n    this.isOpen = true;\n    await this.addSubView();\n    // Add to the list of open popups\n    Adapt.notify.stack.push(this);\n    // Keep focus from previous action\n    this.$previousActiveElement = $(document.activeElement);\n    Adapt.trigger('notify:opened', this);\n    this.$el.imageready(this.onLoaded.bind(this));\n  }\n\n  onLoaded() {\n    if (this.disableAnimation) {\n      this.$('.notify__shadow').css('display', 'block');\n    } else {\n      this.$('.notify__shadow').velocity({ opacity: 0 }, { duration: 0 }).velocity({ opacity: 1 }, { duration: 400,\n        begin: () => {\n          this.$('.notify__shadow').css('display', 'block');\n        }\n      });\n    }\n    this.resizeNotify();\n    if (this.disableAnimation) {\n      this.$('.notify__popup').css('visibility', 'visible');\n      this.onOpened();\n    } else {\n      this.$('.notify__popup').velocity({ opacity: 0 }, { duration: 0 }).velocity({ opacity: 1 }, { duration: 400,\n        begin: () => {\n          // Make sure to make the notify visible and then set\n          // focus, disabled scroll and manage tabs\n          this.$('.notify__popup').css('visibility', 'visible');\n          this.onOpened();\n        }\n      });\n    }\n  }\n\n  onOpened() {\n    $.inview();\n    this.hasOpened = true;\n    // Allows popup manager to control focus\n    Adapt.a11y.popupOpened(this.$('.notify__popup'));\n    Adapt.a11y.scrollDisable('body');\n    $('html').addClass('notify');\n    // Set focus to first accessible element\n    Adapt.a11y.focusFirst(this.$('.notify__popup'), { defer: false });\n  }\n\n  async addSubView() {\n    this.subView = this.model.get('_view');\n    if (this.model.get('_id')) {\n      // Automatically render the specified id\n      const model = Adapt.findById(this.model.get('_id'));\n      const View = Adapt.getViewClass(model);\n      this.subView = new View({ model });\n    }\n    if (!this.subView) return;\n    this.subView.$el.on('resize', this.resetNotifySize);\n    this.$('.notify__content-inner').prepend(this.subView.$el);\n    if (!(this.subView instanceof AdaptView) || this.subView.model.get('_isReady')) return;\n    // Wait for the AdaptView subview to be ready\n    return new Promise(resolve => {\n      const check = (model, value) => {\n        if (!value) return;\n        this.subView.model.off('change:_isReady', check);\n        resolve();\n      };\n      this.subView.model.on('change:_isReady', check);\n    });\n  }\n\n  closeNotify() {\n    // Make sure that only the top most notify is closed\n    const stackItem = Adapt.notify.stack[Adapt.notify.stack.length - 1];\n    if (this !== stackItem) return;\n    Adapt.notify.stack.pop();\n    // Prevent from being invoked multiple times - see https://github.com/adaptlearning/adapt_framework/issues/1659\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    // If closeNotify is called before showNotify has finished then wait\n    // until it's open.\n    if (this.hasOpened) {\n      this.onCloseReady();\n      return;\n    }\n    this.listenToOnce(Adapt, 'popup:opened', () => {\n      // Wait for popup:opened to finish processing\n      _.defer(this.onCloseReady.bind(this));\n    });\n  }\n\n  onCloseReady() {\n    if (this.disableAnimation) {\n      this.$('.notify__popup').css('visibility', 'hidden');\n      this.$el.css('visibility', 'hidden');\n      this.remove();\n    } else {\n      this.$('.notify__popup').velocity({ opacity: 0 }, { duration: 400,\n        complete: () => {\n          this.$('.notify__popup').css('visibility', 'hidden');\n        }\n      });\n      this.$('.notify__shadow').velocity({ opacity: 0 }, { duration: 400,\n        complete: () => {\n          this.$el.css('visibility', 'hidden');\n          this.remove();\n        }\n      });\n    }\n    Adapt.a11y.scrollEnable('body');\n    $('html').removeClass('notify');\n    // Return focus to previous active element\n    Adapt.a11y.popupClosed(this.$previousActiveElement);\n    // Return reference to the notify view\n    Adapt.trigger('notify:closed', this);\n  }\n\n  remove(...args) {\n    this.removeSubView();\n    $(window).off('keyup', this.onKeyUp);\n    super.remove(...args);\n  }\n\n  removeSubView() {\n    if (!this.subView) return;\n    this.subView.$el.off('resize', this.resetNotifySize);\n    if (this.subView instanceof AdaptView) {\n      // Clear up nested views and models\n      const views = [...this.subView.findDescendantViews(), this.subView];\n      views.forEach(view => {\n        view.model.set('_isReady', false);\n        view.remove();\n      });\n    } else {\n      this.subView.remove();\n    }\n    this.subView = null;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NotifyPushCollection from 'core/js/collections/notifyPushCollection';\nimport NotifyView from 'core/js/views/notifyView';\nimport NotifyModel from 'core/js/models/notifyModel';\n\nclass Notify extends Backbone.Controller {\n\n  initialize() {\n    this._stack = [];\n    this.notifyPushes = new NotifyPushCollection();\n    this.listenTo(Adapt, {\n      'notify:popup': this._deprecated.bind(this, 'popup'),\n      'notify:alert': this._deprecated.bind(this, 'alert'),\n      'notify:prompt': this._deprecated.bind(this, 'prompt'),\n      'notify:push': this._deprecated.bind(this, 'push')\n    });\n  }\n\n  get stack() {\n    return this._stack;\n  }\n\n  _deprecated(type, notifyObject) {\n    Adapt.log.deprecated(`NOTIFY DEPRECATED: Adapt.trigger('notify:${type}', notifyObject); is no longer supported, please use Adapt.notify.${type}(notifyObject);`);\n    return this.create(notifyObject, { _type: type });\n  }\n\n  create(notifyObject, defaults) {\n    notifyObject = _.defaults({}, notifyObject, defaults, {\n      _type: 'popup',\n      _isCancellable: true,\n      _showCloseButton: true,\n      _closeOnShadowClick: true\n    });\n\n    if (notifyObject._type === 'push') {\n      this.notifyPushes.push(notifyObject);\n      return;\n    }\n\n    return new NotifyView({\n      model: new NotifyModel(notifyObject)\n    });\n  }\n\n  /**\n   * Creates a 'popup' notify\n   * @param {Object} notifyObject An object containing all the settings for the popup\n   * @param {string} notifyObject.title Title of the popup\n   * @param {string} notifyObject.body Body of the popup\n   * @param {Boolean} [notifyObject._showCloseButton=true] If set to `false` the popup will not have a close button. The learner will still be able to dismiss the popup by clicking outside of it or by pressing the Esc key. This setting is typically used mainly for popups that have a subview (where the subview contains the close button)\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` the learner will not be able to close the popup - use with caution!\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  popup(notifyObject) {\n    return this.create(notifyObject, { _type: 'popup' });\n  }\n\n  /**\n   * Creates an 'alert' notify popup\n   * @param {Object} notifyObject An object containing all the settings for the alert popup\n   * @param {string} notifyObject.title Title of the alert popup\n   * @param {string} notifyObject.body Body of the alert popup\n   * @param {string} notifyObject.confirmText Label for the popup confirm button\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` only the confirm button can be used to dismiss/close the popup\n   * @param {Boolean} [notifyObject._showIcon=false] If set to `true` an 'alert' icon will be displayed in the popup\n   * @param {string} [notifyObject._callbackEvent] Event to trigger when the confirm button is clicked\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  alert(notifyObject) {\n    return this.create(notifyObject, { _type: 'alert' });\n  }\n\n  /**\n   * Creates a 'prompt dialog' notify popup\n   * @param {Object} notifyObject An object containing all the settings for the prompt dialog\n   * @param {string} notifyObject.title Title of the prompt\n   * @param {string} notifyObject.body Body of the prompt\n   * @param {Object[]} notifyObject._prompts Array of objects that each define a button (and associated callback event) that you want shown in the prompt\n   * @param {string} notifyObject._prompts[].promptText Label for this button\n   * @param {string} notifyObject._prompts[]._callbackEvent Event to be triggered when this button is clicked\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` only the confirm button can be used to dismiss/close the prompt\n   * @param {Boolean} [notifyObject._showIcon=true] If set to `true` a 'query' icon will be displayed in the popup\n   * @param {string} [notifyObject._callbackEvent] Event to trigger when the confirm button is clicked\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  prompt(notifyObject) {\n    return this.create(notifyObject, { _type: 'prompt' });\n  }\n\n  /**\n   * Creates a 'push notification'\n   * @param {Object} notifyObject An object containing all the settings for the push notification\n   * @param {string} notifyObject.title Title of the push notification\n   * @param {string} notifyObject.body Body of the push notification\n   * @param {Number} [notifyObject._timeout=3000] Length of time (in milliseconds) the notification should left on-screen before automatically fading away\n   * @param {string} notifyObject._callbackEvent Event to be triggered if the learner clicks on the push notification (not triggered if they use the close button)\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   */\n  push(notifyObject) {\n    return this.create(notifyObject, { _type: 'push' });\n  }\n\n}\n\nexport default (Adapt.notify = new Notify());\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class RouterModel extends LockingModel {\n\n  defaults() {\n    return {\n      _canNavigate: true,\n      _shouldNavigateFocus: true\n    };\n  }\n\n  lockedAttributes() {\n    return {\n      _canNavigate: false,\n      _shouldNavigateFocus: false\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport RouterModel from 'core/js/models/routerModel';\nimport CourseModel from 'core/js/models/courseModel';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport MenuModel from 'core/js/models/menuModel';\nimport 'core/js/startController';\n\nclass Router extends Backbone.Router {\n\n  routes() {\n    return {\n      '': 'handleRoute',\n      'id/:id': 'handleRoute',\n      ':pluginName(/*location)(/*action)': 'handleRoute'\n    };\n  }\n\n  initialize({ model }) {\n    this._isBackward = false;\n    this.model = model;\n    this._navigationRoot = null;\n    // Flag to indicate if the router has tried to redirect to the current location.\n    this._isCircularNavigationInProgress = false;\n    this.showLoading();\n    // Store #wrapper element and html to cache for later use.\n    this.$wrapper = $('#wrapper');\n    this.$html = $('html');\n    this.listenToOnce(Adapt, 'app:dataReady', this.setDocumentTitle);\n    this.listenTo(Adapt, 'router:navigateTo', this.navigateToArguments);\n  }\n\n  get rootModel() {\n    return this._navigationRoot || Adapt.course;\n  }\n\n  set rootModel(model) {\n    this._navigationRoot = model;\n  }\n\n  showLoading() {\n    $('.js-loading').show();\n  }\n\n  hideLoading() {\n    $('.js-loading').hide();\n  }\n\n  setDocumentTitle() {\n    const currentModel = Adapt.location._currentModel;\n    const hasSubTitle = (currentModel && currentModel !== Adapt.router.rootModel && currentModel.get('title'));\n    const title = [\n      this.rootModel.get('title'),\n      hasSubTitle && currentModel.get('title')\n    ].filter(Boolean).join(' | ');\n    this.listenToOnce(Adapt, 'contentObjectView:preRender', () => {\n      const escapedTitle = $(`<div>${title}</div>`).text();\n      document.title = escapedTitle;\n    });\n  }\n\n  navigateToArguments(args) {\n    args = args.filter(v => v !== null);\n    const options = { trigger: false, replace: false };\n    if (args.length === 1 && Adapt.findById(args[0])) {\n      this.navigate('#/id/' + args[0], options);\n      return;\n    }\n    if (args.length <= 3) {\n      this.navigate('#/' + args.join('/'), options);\n      return;\n    }\n    Adapt.log.deprecated('Use Backbone.history.navigate or window.location.href instead of Adapt.trigger(\\'router:navigateTo\\')');\n    this.handleRoute(...args);\n  }\n\n  handleRoute(...args) {\n    args = args.filter(v => v !== null);\n\n    if (this.model.get('_canNavigate')) {\n      // Reset _isCircularNavigationInProgress protection as code is allowed to navigate away.\n      this._isCircularNavigationInProgress = false;\n    }\n\n    // Check if the current page is in the process of navigating to itself.\n    // It will redirect to itself if the URL was changed and _canNavigate is false.\n    if (this._isCircularNavigationInProgress === false) {\n      // Trigger an event pre 'router:location' to allow extensions to stop routing.\n      Adapt.trigger('router:navigate', args);\n    }\n\n    // Re-check as _canNavigate can be set to false on 'router:navigate' event.\n    if (this.model.get('_canNavigate')) {\n      // Disable navigation whilst rendering.\n      this.model.set('_canNavigate', false, { pluginName: 'adapt' });\n      this._isBackward = false;\n      if (args.length <= 1) {\n        return this.handleId(...args);\n      }\n      return this.handlePluginRouter(...args);\n    }\n\n    if (this._isCircularNavigationInProgress) {\n      // Navigation correction finished.\n      // Router has successfully re-navigated to the current _id as the URL was changed\n      // while _canNavigate: false\n      this._isCircularNavigationInProgress = false;\n      return;\n    }\n\n    // Cancel navigation to stay at the current location.\n    this._isCircularNavigationInProgress = true;\n    Adapt.trigger('router:navigationCancelled', args);\n\n    // Reset URL to the current one.\n    // https://github.com/adaptlearning/adapt_framework/issues/3061\n    Backbone.history.history[this._isBackward ? 'forward' : 'back']();\n    this._isBackward = false;\n  }\n\n  async handlePluginRouter(pluginName, location, action) {\n    const pluginLocation = [\n      pluginName,\n      location && `-${location}`,\n      action && `-${action}`\n    ].filter(Boolean).join('');\n    await this.updateLocation(pluginLocation, null, null, null);\n\n    Adapt.trigger('router:plugin:' + pluginName, pluginName, location, action);\n    Adapt.trigger('router:plugin', pluginName, location, action);\n    this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n  }\n\n  async handleId(id) {\n    const rootModel = Adapt.router.rootModel;\n    let model = (!id) ? rootModel : Adapt.findById(id);\n\n    if (!model) {\n      // Bad id\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      return;\n    }\n\n    // Keep the routed id incase it needs to be scrolled to later\n    const isContentObject = (model instanceof ContentObjectModel);\n    const navigateToId = model.get('_id');\n\n    // Ensure that the router is rendering a contentobject\n    model = isContentObject ? model : model.findAncestor('contentobject');\n    id = model.get('_id');\n\n    const isRoot = (model === rootModel);\n    if (isRoot && Adapt.course.has('_start')) {\n      // Do not allow access to the menu when the start controller is enabled.\n      const startController = Adapt.course.get('_start');\n      if (startController._isEnabled === true && startController._isMenuDisabled === true) {\n        return;\n      }\n    }\n\n    if (model.get('_isLocked') && Adapt.config.get('_forceRouteLocking')) {\n      // Locked id\n      Adapt.log.warn('Unable to navigate to locked id: ' + id);\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      if (Adapt.location._previousId === undefined) {\n        return this.navigate('#/', { trigger: true, replace: true });\n      }\n      return this.navigateBack();\n    }\n\n    // Move to a content object\n    this.showLoading();\n    await Adapt.remove();\n\n    /**\n     * TODO:\n     * As the course object has separate location and type rules,\n     * it makes it more difficult to update the Adapt.location object\n     * should stop doing this.\n     */\n    const isCourse = (model instanceof CourseModel);\n    const type = isCourse ? 'menu' : model.get('_type');\n    const location = isCourse ? 'course' : `${type}-${id}`;\n\n    model.set('_isVisited', true);\n    await this.updateLocation(location, type, id, model);\n\n    Adapt.once('contentObjectView:ready', () => {\n      // Allow navigation.\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      this.handleNavigationFocus();\n    });\n    Adapt.trigger(`router:${type} router:contentObject`, model);\n\n    const ViewClass = Adapt.getViewClass(model);\n    const isMenu = (model instanceof MenuModel);\n    if (!ViewClass && isMenu) {\n      Adapt.log.deprecated(`Using event based menu view instantiation for '${Adapt.getViewName(model)}'`);\n      return;\n    }\n\n    if (!isMenu) {\n      // checkIfResetOnRevisit where exists on descendant models before render\n      _.invoke(model.getAllDescendantModels(), 'checkIfResetOnRevisit');\n      // wait for completion to settle\n      await Adapt.deferUntilCompletionChecked();\n    }\n\n    this.$wrapper.append(new ViewClass({ model }).$el);\n\n    if (!isContentObject && !this.isScrolling) {\n      // Scroll to element if not a content object or not already trying to\n      await Adapt.navigateToElement('.' + navigateToId, { replace: true, duration: 400 });\n    }\n\n  }\n\n  async updateLocation(currentLocation, type, id, currentModel) {\n    // Handles updating the location.\n    Adapt.location._previousModel = Adapt.location._currentModel;\n    Adapt.location._previousId = Adapt.location._currentId;\n    Adapt.location._previousContentType = Adapt.location._contentType;\n\n    Adapt.location._currentModel = currentModel;\n    Adapt.location._currentId = id;\n    Adapt.location._contentType = type;\n    Adapt.location._currentLocation = currentLocation;\n\n    /**\n     * TODO:\n     * this if block should be removed,\n     * these properties are unused in the framework\n     */\n    if (type === 'menu') {\n      Adapt.location._lastVisitedType = 'menu';\n      Adapt.location._lastVisitedMenu = id;\n    } else if (type === 'page') {\n      Adapt.location._lastVisitedType = 'page';\n      Adapt.location._lastVisitedPage = id;\n    }\n\n    this.setDocumentTitle();\n    this.setGlobalClasses();\n\n    // Trigger event when location changes.\n    Adapt.trigger('router:location', Adapt.location);\n\n    await Adapt.wait.queue();\n  }\n\n  setGlobalClasses() {\n    const currentModel = Adapt.location._currentModel;\n\n    const htmlClasses = currentModel?.get('_htmlClasses') || '';\n    const classes = (Adapt.location._currentId) ?\n      `location-${Adapt.location._contentType} location-id-${Adapt.location._currentId}` :\n      `location-${Adapt.location._currentLocation}`;\n    const currentClasses = `${classes} ${htmlClasses}`;\n\n    this.$html\n      .removeClass(Adapt.location._previousClasses)\n      .addClass(currentClasses)\n      .attr('data-location', Adapt.location._currentLocation);\n\n    this.$wrapper\n      .removeClass()\n      .addClass(classes)\n      .attr('data-location', Adapt.location._currentLocation);\n\n    Adapt.location._previousClasses = currentClasses;\n  }\n\n  handleNavigationFocus() {\n    if (!this.model.get('_shouldNavigateFocus')) return;\n    // Body will be forced to accept focus to start the\n    // screen reader reading the page.\n    Adapt.a11y.focus('body');\n  }\n\n  navigateBack() {\n    this._isBackward = true;\n    Backbone.history.history.back();\n  }\n\n  navigateToCurrentRoute(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    if (!Adapt.location._currentId) {\n      return;\n    }\n    const currentId = Adapt.location._currentModel.get('_id');\n    const isRoot = (Adapt.location._currentModel === this.rootModel);\n    const route = isRoot ? '#/' : '#/id/' + currentId;\n    this.navigate(route, { trigger: true, replace: true });\n  }\n\n  navigateToPreviousRoute(force) {\n    // Sometimes a plugin might want to stop the default navigation.\n    // Check whether default navigation has changed.\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    const currentModel = Adapt.location._currentModel;\n    const previousModel = Adapt.location._previousModel;\n    if (!currentModel) {\n      return this.navigateBack();\n    }\n    if (Adapt.location._currentModel instanceof MenuModel) {\n      return this.navigateToParent();\n    }\n    if (previousModel) {\n      return this.navigateBack();\n    }\n    this.navigateToParent();\n  }\n\n  navigateToParent(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    const parentId = Adapt.location._currentModel.get('_parentId');\n    const parentModel = Adapt.findById(parentId);\n    const isRoot = (parentModel === this.rootModel);\n    const route = isRoot ? '#/' : '#/id/' + parentId;\n    this.navigate(route, { trigger: true });\n  }\n\n  navigateToHomeRoute(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    this.navigate('#/', { trigger: true });\n  }\n\n  /**\n   * Allows a selector or id to be passed in and Adapt will navigate to this element. Resolves\n   * asynchronously when the element has been navigated to.\n   * Backend for Adapt.navigateToElement\n   * @param {string} selector CSS selector or id of the Adapt element you want to navigate to e.g. `\".co-05\"` or `\"co-05\"`\n   * @param {Object} [settings] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async navigateToElement(selector, settings = {}) {\n    const currentModelId = selector.replace(/\\./g, '').split(' ')[0];\n    const currentModel = Adapt.findById(currentModelId);\n\n    if (currentModel && (!currentModel.get('_isRendered') || !currentModel.get('_isReady'))) {\n      const shouldReplace = settings.replace || false;\n      const contentObject = (currentModel instanceof ContentObjectModel) ? currentModel : currentModel.findAncestor('contentobject');\n      const contentObjectId = contentObject.get('_id');\n      const isNotInCurrentContentObject = (contentObjectId !== Adapt.location._currentId);\n      if (isNotInCurrentContentObject) {\n        this.isScrolling = true;\n        this.navigate(`#/id/${currentModelId}`, { trigger: true, replace: shouldReplace });\n        this.model.set('_shouldNavigateFocus', false, { pluginName: 'adapt' });\n        await new Promise(resolve => Adapt.once('contentObjectView:ready', _.debounce(() => {\n          this.model.set('_shouldNavigateFocus', true, { pluginName: 'adapt' });\n          resolve();\n        }, 1)));\n        this.isScrolling = false;\n      }\n      await Adapt.parentView.renderTo(currentModelId);\n    }\n\n    // Correct selector when passed a pure id\n    if (currentModel && selector === currentModel.get('_id')) {\n      selector = `.${selector}`;\n    }\n\n    // Get the current location - this is set in the router\n    const location = (Adapt.location._contentType)\n      ? Adapt.location._contentType\n      : Adapt.location._currentLocation;\n    // Trigger initial scrollTo event\n    Adapt.trigger(`${location}:scrollTo`, selector);\n    // Setup duration variable\n    const disableScrollToAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    if (disableScrollToAnimation) {\n      settings.duration = 0;\n    } else if (!settings.duration) {\n      settings.duration = $.scrollTo.defaults.duration;\n    }\n\n    const $wrapper = $('#wrapper');\n    // Work out offset from the top of the wrapper rather than the height of the navigation bar\n    let offsetTop = -parseInt($wrapper.css('padding-top'));\n    // Prevent scroll issue when component description aria-label coincident with top of component\n    if ($(selector).hasClass('component')) {\n      offsetTop -= $(selector).find('.aria-label').height() || 0;\n    }\n\n    if (!settings.offset) settings.offset = { top: offsetTop, left: 0 };\n    if (settings.offset.top === undefined) settings.offset.top = offsetTop;\n    if (settings.offset.left === undefined) settings.offset.left = 0;\n\n    if (settings.offset.left === 0) settings.axis = 'y';\n\n    if (Adapt.get('_canScroll') !== false) {\n      // Trigger scrollTo plugin\n      $.scrollTo(selector, settings);\n    }\n\n    // Trigger an event after animation\n    // 300 milliseconds added to make sure queue has finished\n    await new Promise(resolve => {\n      _.delay(() => {\n        Adapt.a11y.focusNext(selector);\n        Adapt.trigger(`${location}:scrolledTo`, selector);\n        resolve();\n      }, settings.duration + 300);\n    });\n  }\n\n  get(...args) {\n    Adapt.log.deprecated('Adapt.router.get, please use Adapt.router.model.get');\n    return this.model.get(...args);\n  }\n\n  set(...args) {\n    Adapt.log.deprecated('Adapt.router.set, please use Adapt.router.model.set');\n    return this.model.set(...args);\n  }\n\n}\n\nAdapt.router = new Router({\n  model: new RouterModel(null, { reset: true })\n});\n\nAdapt.navigateToElement = Adapt.router.navigateToElement.bind(Adapt.router);\n\nexport default Adapt.router;\n","import AdaptCollection from 'core/js/collections/adaptCollection';\n\nexport default class AdaptSubsetCollection extends AdaptCollection {\n\n  initialize(models, options) {\n    super.initialize(models, options);\n    this.parent = options.parent;\n    this.listenTo(this.parent, 'reset', this.loadSubset);\n  }\n\n  loadSubset() {\n    this.set(this.parent.filter(model => model instanceof this.model));\n    this._byAdaptID = this.groupBy('_id');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass ArticleModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('articleModel._parent, use articleModel.getParent() instead, parent models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('articleModel._siblings, use articleModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'articles';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('articleModel._children, use articleModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'blocks';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'article';\n  }\n\n}\n\nAdapt.register('article', { model: ArticleModel });\n\nexport default ArticleModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass BlockModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('blockModel._parent, use blockModel.getParent() instead, parent models are defined by the JSON');\n    return 'articles';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('blockModel._siblings, use blockModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'blocks';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('blockModel._children, use blockModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'components';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'block';\n  }\n\n}\n\nAdapt.register('block', { model: BlockModel });\n\nexport default BlockModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass ComponentModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('componentModel._parent, use componentModel.getParent() instead, parent models are defined by the JSON');\n    return 'blocks';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('componentModel._siblings, use componentModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'components';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'component';\n  }\n\n  defaults() {\n    return AdaptModel.resultExtend('defaults', {\n      _isA11yComponentDescriptionEnabled: true,\n      _userAnswer: null,\n      _attemptStates: null\n    });\n  }\n\n  trackable() {\n    return AdaptModel.resultExtend('trackable', [\n      '_userAnswer',\n      '_attemptStates'\n    ]);\n  }\n\n  trackableType() {\n    return AdaptModel.resultExtend('trackableType', [\n      Array,\n      Array\n    ]);\n  }\n\n  get hasManagedChildren() {\n    return false;\n  }\n\n  init() {\n    if (Adapt.get('_isStarted')) {\n      this.onAdaptInitialize();\n      return;\n    }\n    this.listenToOnce(Adapt, 'adapt:initialize', this.onAdaptInitialize);\n  }\n\n  onAdaptInitialize() {\n    this.restoreUserAnswers();\n  }\n\n  /**\n   * Restore the user's answer from the _userAnswer property.\n   * The _userAnswer value must be in the form of arrays containing\n   * numbers, booleans or arrays only.\n   */\n  restoreUserAnswers() {}\n\n  /**\n   * Store the user's answer in the _userAnswer property.\n   * The _userAnswer value must be in the form of arrays containing\n   * numbers, booleans or arrays only.\n   */\n  storeUserAnswer() {}\n\n  resetUserAnswer() {\n    this.set('_userAnswer', null);\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.resetUserAnswer();\n    return true;\n  }\n\n  /**\n   * Returns the current attempt state raw data or the raw data from the supplied attempt state object.\n   * @param {Object} [object] JSON object representing the component state. Defaults to current JSON.\n   * @returns {Array}\n   */\n  getAttemptState(object = this.toJSON()) {\n    const trackables = this.trackable();\n    const types = this.trackableType();\n    trackables.find((name, index) => {\n      // Exclude _attemptStates as it's trackable but isn't needed here\n      if (name !== '_attemptStates') return;\n      trackables.splice(index, 1);\n      types.splice(index, 1);\n      return true;\n    });\n    const values = trackables.map(n => object[n]);\n    const booleans = values.filter((v, i) => types[i] === Boolean).map(Boolean);\n    const numbers = values.filter((v, i) => types[i] === Number).map(v => Number(v) || 0);\n    const arrays = values.filter((v, i) => types[i] === Array);\n    return [\n      numbers,\n      booleans,\n      arrays\n    ];\n  }\n\n  /**\n   * Returns an attempt object representing the current state or a formatted version of the raw state object supplied.\n   * @param {Array} [state] JSON object representing the component state, defaults to current state returned from getAttemptState().\n   * @returns {Object}\n   */\n  getAttemptObject(state = this.getAttemptState()) {\n    const trackables = this.trackable();\n    const types = this.trackableType();\n    trackables.find((name, index) => {\n      // Exclude _attemptStates as it's trackable but isn't needed here\n      if (name !== '_attemptStates') return;\n      trackables.splice(index, 1);\n      types.splice(index, 1);\n      return true;\n    });\n    const numbers = (state[0] || []).slice(0);\n    const booleans = (state[1] || []).slice(0);\n    const arrays = (state[2] || []).slice(0);\n    const object = {};\n    trackables.forEach((n, i) => {\n      if (n === '_id') return;\n      switch (types[i]) {\n        case Number:\n          object[n] = numbers.shift();\n          break;\n        case Boolean:\n          object[n] = booleans.shift();\n          break;\n        case Array:\n          object[n] = arrays.shift();\n          break;\n      }\n    });\n    return object;\n  }\n\n  /**\n   * Sets the current attempt state from the supplied attempt state object.\n   * @param {Object} object JSON object representing the component state.\n   * @param {boolean} silent Stops change events from triggering\n   */\n  setAttemptObject(object, silent = true) {\n    this.set(object, { silent });\n  }\n\n  /**\n   * Adds the current attempt state object or the supplied state object to the attempts store.\n   * @param {Object} [object] JSON object representing the component state. Defaults to current JSON.\n   */\n  addAttemptObject(object = this.getAttemptObject()) {\n    const attemptStates = this.get('_attemptStates') || [];\n    const state = this.getAttemptState(object);\n    attemptStates.push(state);\n    this.set('_attemptStates', attemptStates);\n  }\n\n  /**\n   * Returns an array of the previous state objects. The most recent state is last in the list.\n   * @returns {Array}\n   */\n  getAttemptObjects() {\n    const states = this.get('_attemptStates') || [];\n    return states.map(state => this.getAttemptObject(state));\n  }\n\n}\n\n// This abstract model needs to registered to support deprecated view-only components\nAdapt.register('component', { model: ComponentModel });\n\nexport default ComponentModel;\n","import Adapt from 'core/js/adapt';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\n\nclass PageModel extends ContentObjectModel {\n\n  get _children() {\n    Adapt.log.deprecated('pageModel._children, use menuModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'articles';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'page';\n  }\n\n}\n\nAdapt.register('page', { model: PageModel });\n\nexport default PageModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nexport default class ContentObjectView extends AdaptView {\n\n  attributes() {\n    return AdaptView.resultExtend('attributes', {\n      'role': 'main',\n      'aria-labelledby': `${this.model.get('_id')}-heading`\n    }, this);\n  }\n\n  className() {\n    return [\n      this.constructor.type,\n      'contentobject',\n      this.constructor.className,\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].filter(Boolean).join(' ');\n  }\n\n  preRender() {\n    $.inview.lock(this.constructor.type + 'View');\n    this.disableAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    this.$el.css('opacity', 0);\n    this.listenTo(this.model, 'change:_isReady', this.isReady);\n  }\n\n  render() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRender contentObjectView:preRender view:preRender`, this);\n\n    if (this.isReact) {\n      this.changed();\n    } else {\n      const data = this.model.toJSON();\n      data.view = this;\n      const template = Handlebars.templates[this.constructor.template];\n      this.$el.html(template(data));\n    }\n\n    Adapt.trigger(`${type}View:render contentObjectView:render view:render`, this);\n\n    _.defer(() => {\n      // don't call postRender after remove\n      if (this._isRemoved) return;\n\n      this.postRender();\n      Adapt.trigger(`${type}View:postRender contentObjectView:postRender view:postRender`, this);\n    });\n\n    return this;\n  }\n\n  async isReady() {\n    if (!this.model.get('_isReady') || this._isTriggeredReady) return;\n    this._isTriggeredReady = true;\n\n    const type = this.constructor.type;\n    const performIsReady = async () => {\n      Adapt.trigger(`${type}View:preReady contentObjectView:preReady view:preReady`, this);\n      await Adapt.wait.queue();\n      $('.js-loading').hide();\n      if (Adapt.get('_shouldContentObjectScrollTop') !== false) {\n        $(window).scrollTop(0);\n      }\n      Adapt.trigger(`${type}View:ready contentObjectView:ready view:ready`, this);\n      $.inview.unlock(`${type}View`);\n      const styleOptions = { opacity: 1 };\n      if (this.disableAnimation) {\n        this.$el.css(styleOptions);\n        $.inview();\n        _.defer(() => {\n          Adapt.trigger(`${type}View:postReady contentObjectView:postReady view:postReady`, this);\n        });\n      } else {\n        this.$el.velocity(styleOptions, {\n          duration: 'fast',\n          complete: () => {\n            $.inview();\n            Adapt.trigger(`${type}View:postReady contentObjectView:postReady view:postReady`, this);\n          }\n        });\n      }\n      $(window).scroll();\n    };\n\n    _.defer(performIsReady);\n  }\n\n  /**\n   * Force render up to specified id. Resolves when views are ready.\n   * @param {string} id\n   */\n  async renderTo(id) {\n    const isRenderToSelf = (id === this.model.get('_id'));\n    if (isRenderToSelf) return;\n    let models = this.model.getAllDescendantModels(true).filter(model => model.get('_isAvailable'));\n    const index = models.findIndex(model => model.get('_id') === id);\n    if (index === -1) {\n      throw new Error(`Cannot renderTo \"${id}\" as it isn't a descendant.`);\n    }\n    // Return early if the model is already rendered and ready\n    const model = models[index];\n    if (model.get('_isRendered') && model.get('_isReady')) {\n      return;\n    }\n    // Force all models up until the id to render\n    models = models.slice(0, index + 1);\n    const isLocked = models.some(model => model.get('_isLocked'));\n    if (isLocked) throw new Error(`Cannot renderTo ${id} as it is preceded by locked content`);\n    const ids = _.indexBy(models, (model) => model.get('_id'));\n    const forceUntilId = (event) => {\n      const addingId = event.model.get('_id');\n      if (!ids[addingId]) return;\n      event.force();\n      if (addingId !== id) return;\n      Adapt.off('view:addChild', forceUntilId);\n    };\n    Adapt.on('view:addChild', forceUntilId);\n    // Trigger addChildren cascade\n    await this.addChildren();\n    await this.whenReady();\n    // Error if model isn't rendered and ready\n    if (!model.get('_isRendered') || !model.get('_isReady')) {\n      throw new Error(`Cannot renderTo \"${id}\".`);\n    }\n  }\n\n  preRemove() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRemove contentObjectView:preRemove view:preRemove`, this);\n  }\n\n  remove() {\n    const type = this.constructor.type;\n    this.preRemove();\n    Adapt.trigger(`${type}View:remove contentObjectView:remove view:remove`, this);\n    this._isRemoved = true;\n\n    Adapt.wait.for(end => {\n      if (this.isReact) {\n        ReactDOM.unmountComponentAtNode(this.el);\n      }\n      this.$el.off('onscreen.adaptView');\n      this.findDescendantViews().reverse().forEach(view => {\n        view.remove();\n      });\n      this.setChildViews(null);\n      super.remove();\n      _.defer(() => {\n        Adapt.trigger(`${type}View:postRemove contentObjectView:postRemove view:postRemove`, this);\n        this.trigger('postRemove');\n      });\n      end();\n    });\n\n    return this;\n  }\n\n  destroy() {\n    this.remove();\n    if (Adapt.parentView === this) {\n      Adapt.parentView = null;\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ContentObjectView from 'core/js/views/contentObjectView';\n\nclass PageView extends ContentObjectView {\n\n  remove() {\n    if (this.$pageLabel) {\n      this.$pageLabel.remove();\n    }\n    super.remove();\n  }\n\n}\n\nObject.assign(PageView, {\n  childContainer: '.article__container',\n  type: 'page',\n  template: 'page'\n});\n\nAdapt.register('page', { view: PageView });\n\nexport default PageView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass ArticleView extends AdaptView {\n\n  className() {\n    return [\n      'article',\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n}\n\nObject.assign(ArticleView, {\n  childContainer: '.block__container',\n  type: 'article',\n  template: 'article'\n});\n\nAdapt.register('article', { view: ArticleView });\n\nexport default ArticleView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass BlockView extends AdaptView {\n\n  className() {\n    return [\n      'block',\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n}\n\nObject.assign(BlockView, {\n  childContainer: '.component__container',\n  type: 'block',\n  template: 'block'\n});\n\nAdapt.register('block', { view: BlockView });\n\nexport default BlockView;\n","import Adapt from 'core/js/adapt';\nimport Data from 'core/js/data';\nimport AdaptSubsetCollection from 'core/js/collections/adaptSubsetCollection';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport ArticleModel from 'core/js/models/articleModel';\nimport BlockModel from 'core/js/models/blockModel';\nimport ComponentModel from 'core/js/models/componentModel';\n\nimport 'core/js/models/courseModel';\nimport 'core/js/models/menuModel';\nimport 'core/js/models/pageModel';\nimport 'core/js/views/pageView';\nimport 'core/js/views/articleView';\nimport 'core/js/views/blockView';\n\nclass MPABC extends Backbone.Controller {\n\n  initialize() {\n    // Example of how to cause the data loader to wait for another module to setup\n    this.listenTo(Data, {\n      loading: this.waitForDataLoaded,\n      loaded: this.onDataLoaded\n    });\n    this.setupSubsetCollections();\n  }\n\n  waitForDataLoaded() {\n    // Tell the data loader to wait\n    Adapt.wait.begin();\n  }\n\n  onDataLoaded() {\n    // Tell the data loader that we have finished\n    Adapt.wait.end();\n  }\n\n  setupSubsetCollections() {\n    Adapt.contentObjects = new AdaptSubsetCollection(null, { parent: Data, model: ContentObjectModel });\n    Adapt.articles = new AdaptSubsetCollection(null, { parent: Data, model: ArticleModel });\n    Adapt.blocks = new AdaptSubsetCollection(null, { parent: Data, model: BlockModel });\n    Adapt.components = new AdaptSubsetCollection(null, { parent: Data, model: ComponentModel });\n  }\n\n}\n\nexport default (Adapt.mpabc = new MPABC());\n","import Adapt from 'core/js/adapt';\nimport a11y from './a11y';\n\nconst helpers = {\n\n  lowercase(text) {\n    return text.toLowerCase();\n  },\n\n  capitalise(text) {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n  },\n\n  inc(index) {\n    return index + 1;\n  },\n\n  dec(index) {\n    return index - 1;\n  },\n\n  odd (index) {\n    return (index + 1) % 2 === 0 ? 'even' : 'odd';\n  },\n\n  equals(value, text, block) {\n    return helpers.compare.call(this, value, '==', text, block);\n  },\n\n  compare(value, operator, text, block) {\n    // Comparison operators\n    switch (operator) {\n      case '===':\n        if (value === text) return block.fn(this);\n        break;\n      case '=': case '==':\n        // eslint-disable-next-line eqeqeq\n        if (value == text) return block.fn(this);\n        break;\n      case '>=':\n        if (value >= text) return block.fn(this);\n        break;\n      case '<=':\n        if (value <= text) return block.fn(this);\n        break;\n      case '>':\n        if (value > text) return block.fn(this);\n        break;\n      case '<':\n        if (value < text) return block.fn(this);\n        break;\n    }\n    return block.inverse(this);\n  },\n\n  math(lvalue, operator, rvalue, options) {\n    // Mathematical operators\n    lvalue = parseFloat(lvalue);\n    rvalue = parseFloat(rvalue);\n    switch (operator) {\n      case '+': return lvalue + rvalue;\n      case '-': return lvalue - rvalue;\n      case '*': return lvalue * rvalue;\n      case '/': return lvalue / rvalue;\n      case '%': return lvalue % rvalue;\n    }\n  },\n\n  /**\n   * Equivalent to:\n   *  if (conditionA || conditionB)\n   * @example\n   * {{#any displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/any}}\n   */\n  any(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return specified.some(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Equivalent to:\n   *  if (conditionA && conditionB)\n   * @example\n   * {{#all displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/all}}\n   */\n  all(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return specified.every(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Equivalent to:\n   *  if (!conditionA && !conditionB)\n   * @example\n   * {{#none displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/none}}\n   */\n  none(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return !specified.some(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Allow JSON to be a template i.e. you can use handlebars {{expressions}} within your JSON\n   */\n  compile(template, context) {\n    if (!template) {\n      return '';\n    }\n    if (template instanceof Object) template = template.toString();\n    let data = this;\n    if (context) {\n      // choose between a passed argument context or the default handlebars helper context\n      data = (context.data?.root ?? context);\n    }\n    return Handlebars.compile(template)(data);\n  },\n\n  /**\n   * Allow JSON to be a template and accessible text\n   */\n  compile_a11y_text(template, context) {\n    a11y.log.deprecated('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return helpers.compile.call(this, template, context);\n  },\n\n  /**\n   * Allow JSON to be a template and normalized text\n   */\n  compile_a11y_normalize(template, context) {\n    if (!template) {\n      return '';\n    }\n    if (template instanceof Object) template = template.toString();\n    return Handlebars.helpers.a11y_normalize.call(this, helpers.compile.call(this, template, context));\n  },\n\n  /**\n   * Remove all html tags except styling tags\n   */\n  compile_a11y_remove_breaks(template, context) {\n    if (!template) {\n      return '';\n    }\n    return Handlebars.helpers.a11y_remove_breaks.call(this, helpers.compile.call(this, template, context));\n  },\n\n  /**\n   * makes the _globals object in course.json available to a template\n   */\n  import_globals(context) {\n    if (context.data.root._globals) {\n      return '';\n    }\n    context.data.root._globals = Adapt.course.get('_globals');\n    return '';\n  },\n\n  /**\n   * makes the Adapt module data available to a template\n   */\n  import_adapt(context) {\n\n    if (context.data.root.Adapt) {\n      return;\n    }\n    const adapt = context.data.root.Adapt = {};\n\n    let i, l, name;\n\n    const directImport = ['config', 'course'];\n    for (i = 0, l = directImport.length; i < l; i++) {\n      name = directImport[i];\n      // convert the model to a json object and add to the current context\n      adapt[name] = Adapt[name].toJSON();\n    }\n\n    const indexedImport = ['contentObjects', 'articles', 'blocks', 'components'];\n    for (i = 0, l = indexedImport.length; i < l; i++) {\n      name = indexedImport[i];\n      // convert the collection of models to an array of json objects\n      const importArray = Adapt[name].toJSON();\n      // convert the array of json models to an object indexed by id\n      const importIndex = {};\n      for (let i1 = 0, l1 = importArray.length; i1 < l1; i1++) {\n        const item = importArray[i1];\n        importIndex[item._id] = item;\n      }\n      // add the indexed object to the current context\n      adapt[name] = importIndex;\n    }\n\n    return '';\n\n  },\n\n  /**\n   * Allow components to fetch their component description.\n   *\n   * Creates an aria label using the `a11y_aria_label` helper containing\n   * the component description specified in the\n   * `_globals._component[componentName].ariaRegion`. This value is defined\n   * in the `properties.schema:globals.ariaRegion`.\n   *\n   * @param {string} [override]\n   * @returns {string}\n   */\n  component_description(override, context) {\n    if (!this._isA11yComponentDescriptionEnabled) {\n      return;\n    }\n    const isNotDefined = !this._globals._components?.['_' + this._component];\n    if (isNotDefined) {\n      return;\n    }\n    const hasOverride = (arguments.length > 1);\n    let description;\n    if (hasOverride) {\n      description = override;\n      description = helpers.compile(description, context);\n    } else {\n      description = this._globals._components['_' + this._component].ariaRegion;\n      description = helpers.compile(description, override);\n    }\n    if (!description) {\n      return;\n    }\n    return new Handlebars.SafeString('<div class=\"aria-label\">' + description + '</div>');\n  },\n\n  a11y_text(text) {\n    a11y.log.deprecated('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return text;\n  },\n\n  /**\n   * Handlebars helper for `a11y.normalize(htmls)`.\n   *\n   * @param {string} htmls Any htmls.\n   * @returns {string}\n   */\n  a11y_normalize(htmls) {\n    return a11y.normalize.apply(a11y, arguments);\n  },\n\n  /**\n   * Handlebars helper for `a11y.removeBreaks(htmls)`.\n   *\n   * @param {string} htmls Any htmls.\n   * @returns {string}\n   */\n  a11y_remove_breaks(htmls) {\n    return a11y.removeBreaks.apply(a11y, arguments);\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text.\n   * It it absolutely positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} htmls\n   * @returns {string}\n   */\n  a11y_aria_label(htmls) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label\">' + values.join(' ') + '</div>');\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text.\n   * It it relatively positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} htmls Aria label texts.\n   * @returns {string}\n   */\n  a11y_aria_label_relative(htmls) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label relative\">' + values.join(' ') + '</div>');\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text and `role\"=img\"`.\n   * It is used for representing an image to a screen reader user in an\n   * order which cannot be represented in the DOM in a way that achieves the\n   * styling objectives.\n   * It it absolutely positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} texts Aria label texts.\n   * @returns {string}\n   */\n  a11y_aria_image(texts) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label\" role=\"img\" aria-label=\"' + values.join(' ') + '\"></div>');\n  },\n\n  /**\n   * Returns an `a` tag which when receiving focus causes the focus to wrap\n   * to the top of the readable document.\n   *\n   * @returns {string}\n   */\n  a11y_wrap_focus() {\n    const cfg = Adapt.config.get('_accessibility');\n    if (cfg._isPopupWrapFocusEnabled === false) return '';\n    return new Handlebars.SafeString('<a class=\"a11y-focusguard a11y-ignore a11y-ignore-focus\" role=\"presentation\">&nbsp;</a>');\n  },\n\n  /**\n   * Creates the attributes for a subject heading text. `role=\"heading\"` and\n   * `aria-level=\"#\"`. It will use the `_ariaLevel` attribute from the current\n   * context if specified, a number if given as the `levelOrType` parameter,\n   * or a name from the configured aria levels hash.\n   *\n   * @param {number|string} levelOrType\n   * @returns {string}\n   */\n  a11y_attrs_heading(levelOrType) {\n    const level = a11y.ariaLevel(levelOrType, this._ariaLevel);\n    return new Handlebars.SafeString(' role=\"heading\" aria-level=\"' + level + '\" ');\n  },\n\n  a11y_attrs_tabbable() {\n    a11y.log.deprecated('a11y_attrs_tabbable should not be used. tabbable elements should be natively tabbable.');\n    return new Handlebars.SafeString(' role=\"region\" tabindex=\"0\" ');\n  },\n\n  /**\n   * Produce display text with alternative screen reader version.\n   * @param {string} visible Text that will be displayed on screen\n   * @param {string} alternatives Text that will be read by the screen reader (instead of what's displayed on screen)\n   * @example {{a11y_alt_text '$5bn' 'five billion dollars'}} or {{a11y_alt_text 'Here are some bits to read' 'There are' _items.length 'items to read'}}\n   */\n  a11y_alt_text(visible, alternatives) {\n    let values = Array.prototype.slice.call(arguments, 1, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<span aria-hidden=\"true\">' + visible + '</span><span class=\"aria-label\">' + values.join(' ') + '</span>');\n  }\n\n};\n\n// Compatibility references\nObject.assign(helpers, {\n\n  if_value_equals() {\n    a11y.log.deprecated('if_value_equals, use equals instead.');\n    return helpers.equals.apply(this, arguments);\n  },\n\n  numbers() {\n    a11y.log.deprecated('numbers, use inc instead.');\n    return helpers.inc.apply(this, arguments);\n  },\n\n  lowerCase() {\n    a11y.log.deprecated('lowerCase, use lowercase instead.');\n    return helpers.lowercase.apply(this, arguments);\n  }\n\n});\n\nfor (const name in helpers) {\n  Handlebars.registerHelper(name, helpers[name]);\n}\n\nexport default helpers;\n","import Adapt from 'core/js/adapt';\n\n/**\n * This allows Adapt to:\n * - Be embedded in iframes on ios\n *   ios iframes assume the content height and no scrolling\n *   https://blog.codepen.io/2017/12/01/stupid-iframes-stupid-ios/\n *   https://stackoverflow.com/questions/23083462/how-to-get-an-iframe-to-be-responsive-in-ios-safari\n * - Prevent the 44px click region occluding trickle at the bottom of\n *   ios safari by keeping the controls always visible\n *   https://github.com/adaptlearning/adapt-contrib-trickle/issues/132\n *   https://www.eventbrite.com/engineering/mobile-safari-why/\n */\nclass Scrolling extends Backbone.Controller {\n\n  initialize() {\n    this.$html = $('html');\n    this.isLegacyScrolling = true;\n    Adapt.once('configModel:dataLoaded', this._loadConfig.bind(this));\n  }\n\n  _loadConfig() {\n    const config = Adapt.config.get('_scrollingContainer');\n    if (!config?._isEnabled) return;\n    const limitTo = config._limitToSelector;\n    const isIncluded = !limitTo || (this.$html.is(limitTo) || this.$html.hasClass(limitTo));\n    if (!isIncluded) return;\n    this.isLegacyScrolling = false;\n    this._windowScrollFix();\n    this._addStyling();\n    this._updateScrollbarWidth();\n    // Update the scrollbar width on zooming/resize as it changes in chrome and firefox\n    this.listenTo(Adapt, 'device:resize', this._updateScrollbarWidth);\n  }\n\n  _addStyling() {\n    this.$html.addClass('adapt-scrolling');\n  }\n\n  /**\n   * Set the --adapt-scrollbar-width css variable to be used to offset the navigation bar\n   * width against the body scrollbar\n   * The body scrollbar does not constrain the navigation width in the same way the viewport\n   * scrollbar does\n   * IE11 always defaults to 18px\n   * Chrome and firefox change based on zooming\n   * Safari has floating scrollbars, so 0px\n   */\n  _updateScrollbarWidth() {\n    const $tester = $('<div class=\"outer\" style=\"overflow:scroll; visibility: hidden; position:fixed; top: 0; left: 0;\"><div class=\"inner\"> </div></div>\"');\n    $('body').append($tester);\n    const scrollBarWidth = $tester.outerWidth() - $tester.find('.inner').outerWidth();\n    $tester.remove();\n    const documentStyle = document.documentElement.style;\n    documentStyle.setProperty('--adapt-scrollbar-width', `${scrollBarWidth}px`);\n  }\n\n  /**\n   * Correct scrolling to use the body element rather than the html element or viewport\n   */\n  _windowScrollFix() {\n    /** @type {HTMLDivElement} */\n    const body = document.body;\n    const html = Adapt.scrolling.$html[0];\n    const scrollY = {\n      get: () => body.scrollTop,\n      set: value => (body.scrollTop = value)\n    };\n    const scrollX = {\n      get: () => body.scrollLeft,\n      set: value => (body.scrollLeft = value)\n    };\n    const scrollHeight = {\n      get: () => body.scrollHeight,\n      set: value => (body.scrollHeight = value)\n    };\n    const scrollWidth = {\n      get: () => body.scrollWidth,\n      set: value => (body.scrollWidth = value)\n    };\n    // Fix window.scrollY, window.scrollX, window.pageYOffset and window.pageXOffset\n    Object.defineProperties(window, {\n      scrollY,\n      scrollX,\n      // Note: jQuery uses pageYOffset and pageXOffset instead of scrollY and scrollX\n      pageYOffset: scrollY,\n      pageXOffset: scrollX\n    });\n    // Fix html.scrollHeight and html.scrollWidth\n    Object.defineProperties(html, {\n      // Note: jQuery animate as used in scrollTo library, uses scrollHeight to determine animation maxiumum\n      scrollHeight,\n      scrollWidth\n    });\n    // Fix window.scrollTo\n    window.scrollTo = (...args) => {\n      const isObject = (args.length === 1 && typeof args[0] === 'object' && args[0] !== null);\n      const left = (isObject ? args[0].left : args[0]) ?? null;\n      const top = (isObject ? args[0].top : args[1]) ?? null;\n      left !== null && (body.scrollLeft = left);\n      top !== null && (body.scrollTop = top);\n    };\n    // Fix MouseEvent.prototype.pageX and MouseEvent.prototype.pageY\n    const MouseEvent = window.MouseEvent;\n    Object.defineProperties(MouseEvent.prototype, {\n      pageX: {\n        get: function() { return this.clientX + scrollX.get(); }\n      },\n      pageY: {\n        // Note: MediaElementJS uses event.pageY to work out the mouse position for the volume controls\n        get: function() { return this.clientY + scrollY.get(); }\n      }\n    });\n    // Trigger scroll events on window when scrolling\n    const $window = $(window);\n    $(document.body).on('scroll', () => $window.scroll());\n  }\n\n  /**\n   * Allows a selector to be passed in and Adapt will scroll to this element. Resolves\n   * asynchronously when the element has been navigated/scrolled to.\n   * Backend for Adapt.scrollTo\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings={}] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async scrollTo(selector, settings = {}) {\n    Adapt.log.deprecated('Adapt.scrollTo and Adapt.scrolling.scrollTo, use Adapt.navigateToElement instead.');\n    return Adapt.router.navigateToElement(selector, settings);\n  }\n\n}\n\nAdapt.scrolling = new Scrolling();\n\nAdapt.scrollTo = Adapt.scrolling.scrollTo.bind(Adapt.scrolling);\n\nexport default Adapt.scrolling;\n","import Adapt from 'core/js/adapt';\n\nclass HeadingView extends Backbone.View {\n\n  initialize() {\n    this.listenTo(Adapt.parentView, 'postRemove', this.remove);\n    this.listenTo(this.model, 'change:_isComplete', this.updateAria);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.constructor.template];\n    const data = this.model.toJSON();\n    const customHeadingType = this.$el.attr('data-a11y-heading-type');\n    if (customHeadingType) data._type = customHeadingType;\n    this.$el.html(template(data));\n    this.checkCompletion();\n  }\n\n  updateAria() {\n    const template = Handlebars.templates[this.constructor.template];\n    const data = this.model.toJSON();\n    const $rendered = $(`<div>${template(data)}</div>`);\n    this.$('.aria-label').html($rendered.find('.aria-label').html());\n    this.checkCompletion();\n  }\n\n  checkCompletion() {\n    const isComplete = this.model.get('_isComplete');\n    this.$el\n      .toggleClass('is-complete', isComplete)\n      .toggleClass('is-incomplete', !isComplete);\n  }\n\n}\n\nHeadingView.template = 'heading';\n\nexport default HeadingView;\n","import Adapt from './adapt';\nimport HeadingView from './views/headingView';\n\nclass Headings extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'view:render', this.onViewRender);\n  }\n\n  onViewRender(view) {\n    const $headingSeats = view.$('.js-heading');\n    $headingSeats.each((index, el) => new HeadingView({ el, model: view.model }));\n  }\n\n}\n\nexport default new Headings();\n","import Adapt from 'core/js/adapt';\n\nclass NavigationView extends Backbone.View {\n\n  className() {\n    return 'nav';\n  }\n\n  events() {\n    return {\n      'click [data-event]': 'triggerEvent'\n    };\n  }\n\n  attributes() {\n    return {\n      'role': 'navigation'\n    };\n  }\n\n  initialize() {\n    this.listenToOnce(Adapt, {\n      'courseModel:dataLoading': this.remove\n    });\n    this.listenTo(Adapt, 'router:menu router:page', this.hideNavigationButton);\n    this.preRender();\n  }\n\n  preRender() {\n    Adapt.trigger('navigationView:preRender', this);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template({\n      _globals: Adapt.course.get('_globals'),\n      _accessibility: Adapt.config.get('_accessibility')\n    })).insertBefore('#app');\n\n    _.defer(() => {\n      Adapt.trigger('navigationView:postRender', this);\n    });\n\n    return this;\n  }\n\n  triggerEvent(event) {\n    event.preventDefault();\n    const currentEvent = $(event.currentTarget).attr('data-event');\n    Adapt.trigger('navigation:' + currentEvent);\n    switch (currentEvent) {\n      case 'backButton':\n        Adapt.router.navigateToPreviousRoute();\n        break;\n      case 'homeButton':\n        Adapt.router.navigateToHomeRoute();\n        break;\n      case 'parentButton':\n        Adapt.router.navigateToParent();\n        break;\n      case 'skipNavigation':\n        this.skipNavigation();\n        break;\n      case 'returnToStart':\n        Adapt.startController.returnToStartLocation();\n        break;\n    }\n  }\n\n  skipNavigation() {\n    Adapt.a11y.focusFirst('.' + Adapt.location._contentType);\n  }\n\n  hideNavigationButton(model) {\n    const shouldHide = (model.get('_type') === 'course');\n    this.$('.nav__back-btn, .nav__home-btn').toggleClass('u-display-none', shouldHide);\n  }\n\n  showNavigationButton() {\n    this.$('.nav__back-btn, .nav__home-btn').removeClass('u-display-none');\n  }\n\n}\n\nNavigationView.template = 'nav';\n\nexport default NavigationView;\n","import Adapt from 'core/js/adapt';\nimport NavigationView from 'core/js/views/navigationView';\n\nclass NavigationController extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'adapt:preInitialize', this.addNavigationBar);\n  }\n\n  addNavigationBar() {\n    const adaptConfig = Adapt.course.get('_navigation');\n\n    if (adaptConfig?._isDefaultNavigationDisabled) {\n      Adapt.trigger('navigation:initialize');\n      return;\n    }\n\n    Adapt.navigation = new NavigationView();// This should be triggered after 'app:dataReady' as plugins might want to manipulate the navigation\n  }\n\n}\n\nexport default new NavigationController();\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass ComponentView extends AdaptView {\n\n  attributes() {\n    if (!this.model.get('_isA11yRegionEnabled')) {\n      return AdaptView.resultExtend('attributes', {}, this);\n    }\n    return AdaptView.resultExtend('attributes', {\n      'aria-labelledby': this.model.get('_id') + '-heading',\n      'role': 'region'\n    }, this);\n  }\n\n  className() {\n    return [\n      'component',\n      this.model.get('_component').toLowerCase(),\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      'is-' + this.model.get('_layout'),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n  renderState() {\n    Adapt.log.removed('renderState is removed and moved to item title');\n  }\n\n  /**\n   * Allows components that want to use inview for completion to set that up\n   * @param {string} [inviewElementSelector] Allows to you to specify (via a selector) which DOM element to use for inview.\n   * Defaults to `'.component__inner'` if not supplied.\n   * @param {function} [callback] Allows you to specify what function is called when the component has been viewed, should\n   * you want to perform additional checks before setting the component to completed - see adapt-contrib-assessmentResults\n   * for an example. Defaults to `view.setCompletionStatus` if not specified.\n   */\n  setupInviewCompletion(inviewElementSelector = '.component__inner', callback = this.setCompletionStatus) {\n    this.$inviewElement = this.$(inviewElementSelector);\n    this.inviewCallback = callback;\n\n    this.$inviewElement.on('inview.componentView', this.onInview.bind(this));\n  }\n\n  removeInviewListener() {\n    if (!this.$inviewElement) return;\n    this.$inviewElement.off('inview.componentView');\n    this.$inviewElement = null;\n  }\n\n  onInview(event, visible, visiblePartX, visiblePartY) {\n    if (!visible) return;\n\n    switch (visiblePartY) {\n      case 'top':\n        this.hasSeenTop = true;\n        break;\n      case 'bottom':\n        this.hasSeenBottom = true;\n        break;\n      case 'both':\n        this.hasSeenTop = this.hasSeenBottom = true;\n    }\n\n    if (!this.hasSeenTop || !this.hasSeenBottom) return;\n\n    this.inviewCallback();\n\n    if (this.model.get('_isComplete')) {\n      this.removeInviewListener();\n    }\n  }\n\n  postRender() {}\n\n  remove() {\n    this.removeInviewListener();\n    super.remove();\n  }\n\n}\n\nComponentView.type = 'component';\n\nexport default ComponentView;\n","define([\n    'coreJS/adapt',\n    'coreViews/componentView',\n    'libraries/chart.min'\n], function (Adapt, ComponentView, Chart) {\n\n    var ChartJSView = ComponentView.extend({\n\n        events: {\n\n        },\n\n        preRender: function () {\n            this.listenTo(Adapt, 'device:resize', this.onScreenSizeChanged);\n            this.listenTo(Adapt, 'device:changed', this.onDeviceChanged);\n            this.listenTo(Adapt, 'accessibility:toggle', this.onAccessibilityToggle);\n            this.listenTo(this.model, 'change:data', this.onDataChanged);\n            this.checkIfResetOnRevisit();\n        },\n\n        postRender: function () {\n            this.dynamicInsert()\n            this.setupChart();\n            this.$('.component-widget').on('inview', _.bind(this.inview, this));\n        },\n\n        dynamicInsert: function () {\n            if (this.model.get('data').datasets[0].dataURL) {\n                var dataURL = this.model.get('data').datasets[0].dataURL;\n                const fetchJson = async () => {\n                    const response = await fetch(dataURL)\n                    const json = await response.json()\n                    return json\n                }\n                return fetchJson()\n            } else {\n                return this.model.get('data')\n            }\n        },\n\n        setupChart: function () {\n            if (this.model.get('data').datasets[0].dataURL) {\n                this.model.get('data').datasets[0].data = this.dynamicInsert().then(\n                    json => { json }\n                )\n            }\n            // this.dynamicInsert().then(data => {\n            //     this.model.get('data').datasets[0].data = data;\n            // });\n\n            var ctx = $(\"#myChart\" + this.model.get('_id'));\n            var chart = new Chart(ctx, {\n                type: this.model.get('_chartType'),\n                data: this.model.get('data'),\n                options: this.model.get('_options')\n            });\n\n            this.setReadyStatus();\n\n            this.model.set(\"_chart\", chart);\n        },\n\n        onDataChanged: function () {\n            var chart = this.model.get(\"_chart\");\n\n            if (chart) {\n                chart.update();\n            }\n        },\n\n        setupEventListeners: function () {\n\n        },\n\n        checkIfResetOnRevisit: function () {\n            var isResetOnRevisit = this.model.get('_isResetOnRevisit');\n\n            // If reset is enabled set defaults\n            if (isResetOnRevisit) {\n                this.model.reset(isResetOnRevisit);\n            }\n        },\n\n        inview: function (event, visible, visiblePartX, visiblePartY) {\n            if (visible) {\n                if (visiblePartY === 'top') {\n                    this._isVisibleTop = true;\n                } else if (visiblePartY === 'bottom') {\n                    this._isVisibleBottom = true;\n                } else {\n                    this._isVisibleTop = true;\n                    this._isVisibleBottom = true;\n                }\n\n                if (this._isVisibleTop && this._isVisibleBottom) {\n                    this.$('.component-inner').off('inview');\n                    this.setCompletionStatus();\n                }\n            }\n        },\n\n        remove: function () {\n            if ($(\"html\").is(\".ie8\")) {\n                var obj = this.$(\"object\")[0];\n                if (obj) {\n                    obj.style.display = \"none\";\n                }\n            }\n            this.$('.component-widget').off('inview');\n            ComponentView.prototype.remove.call(this);\n        },\n\n        onCompletion: function () {\n            this.setCompletionStatus();\n        },\n\n        onDeviceChanged: function () {\n\n        },\n\n        onScreenSizeChanged: function () {\n\n        },\n\n        onAccessibilityToggle: function () {\n\n        }\n\n    });\n\n    return ChartJSView;\n\n});","define([\n  'coreModels/componentModel'\n], function(ComponentModel){\n\n  var ChartJSModel = ComponentModel.extend({\n    /**\n     * Updates an existing dataset for a chart.\n     *\n     * @param  {array} datasetData  An array of the new data points.\n     * @param  {int} datasetIndex The index of the dataset to update (defaults to 0.)\n     */\n    updateDataset: function(datasetData, datasetIndex) {\n      datasetIndex = datasetIndex || 0;\n\n      var data = this.get(\"data\");\n      if (!data) {\n        throw new Error(\"This chart instance has no data; it may be improperly configured\");\n      }\n\n      if (!data.datasets || datasetIndex >= data.datasets.length) {\n        throw new RangeError(\"Cannot update a nonexistent dataset\");\n      }\n\n      data.datasets[datasetIndex].data = datasetData;\n\n      this.trigger(\"change:data\");\n    }\n  });\n\n  return ChartJSModel;\n});","define([\n    'coreJS/adapt',\n    './chartjsView',\n    './chartjsModel'\n], function(Adapt, ChartJSView, ChartJSModel) {\n\n    return Adapt.register(\"chartjs\", {\n        view: ChartJSView,\n        model: ChartJSModel\n    });\n\n});\n","const BUTTON_STATE = ENUM([\n  'SUBMIT',\n  'CORRECT',\n  'INCORRECT',\n  'SHOW_CORRECT_ANSWER',\n  'HIDE_CORRECT_ANSWER',\n  'SHOW_FEEDBACK',\n  'RESET'\n]);\n\nexport default BUTTON_STATE;\n","import Adapt from 'core/js/adapt';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\n\n// convert BUTTON_STATE to property name\nconst textPropertyName = {\n  SUBMIT: 'submit',\n  CORRECT: 'correct',\n  INCORRECT: 'incorrect',\n  SHOW_CORRECT_ANSWER: 'showCorrectAnswer',\n  HIDE_CORRECT_ANSWER: 'hideCorrectAnswer',\n  SHOW_FEEDBACK: 'showFeedback',\n  RESET: 'reset'\n};\n\nexport default class ButtonsView extends Backbone.View {\n\n  initialize(options) {\n    this.parent = options.parent;\n    this.listenTo(Adapt.parentView, 'postRemove', this.remove);\n    this.listenTo(this.model, {\n      'change:_buttonState': this.onButtonStateChanged,\n      'change:feedbackMessage': this.onFeedbackMessageChanged,\n      'change:_attemptsLeft': this.onAttemptsChanged,\n      'change:_canSubmit': this.onCanSubmitChange\n    });\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-btn-action': 'onActionClicked',\n      'click .js-btn-feedback': 'onFeedbackClicked'\n    };\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates.buttons;\n    _.defer(() => {\n      this.postRender();\n      Adapt.trigger('buttonsView:postRender', this);\n    });\n    this.$el.html(template(data));\n  }\n\n  postRender() {\n    this.refresh();\n  }\n\n  checkResetSubmittedState() {\n    const isSubmitted = this.model.get('_isSubmitted');\n    if (isSubmitted) {\n      this.$el.addClass('is-submitted');\n      return;\n    }\n\n    this.$('.js-btn-marking').removeClass('is-incorrect is-correct').addClass('u-display-none');\n    this.$el.removeClass('is-submitted');\n    this.model.set('feedbackMessage', undefined);\n    Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), false);\n  }\n\n  onActionClicked() {\n    const buttonState = BUTTON_STATE(this.model.get('_buttonState'));\n    this.trigger('buttons:stateUpdate', buttonState);\n    this.checkResetSubmittedState();\n\n    if (buttonState === BUTTON_STATE.SHOW_CORRECT_ANSWER) {\n      const correctAnswer = this.model.getCorrectAnswerAsText?.();\n      this.updateAnswerLiveRegion(correctAnswer);\n    }\n\n    if (buttonState === BUTTON_STATE.HIDE_CORRECT_ANSWER) {\n      const userAnswer = this.model.getUserAnswerAsText?.();\n      this.updateAnswerLiveRegion(userAnswer);\n    }\n  }\n\n  onFeedbackClicked() {\n    this.trigger('buttons:stateUpdate', BUTTON_STATE.SHOW_FEEDBACK);\n  }\n\n  onFeedbackMessageChanged(model, changedAttribute) {\n    if (changedAttribute && this.model.get('_canShowFeedback')) {\n      // enable feedback button\n      Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), true);\n      return;\n    }\n    // disable feedback button\n    Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), false);\n  }\n\n  onCanSubmitChange() {\n    this.onButtonStateChanged(this.model, this.model.get('_buttonState'));\n  }\n\n  onButtonStateChanged(model, changedAttribute) {\n\n    this.updateAttemptsCount();\n\n    // Use 'correct' instead of 'complete' to signify button state\n    const $buttonsAction = this.$('.js-btn-action');\n    const buttonState = BUTTON_STATE(changedAttribute);\n    if (changedAttribute === BUTTON_STATE.CORRECT || changedAttribute === BUTTON_STATE.INCORRECT) {\n      // Both 'correct' and 'incorrect' states have no model answer, so disable the submit button\n      Adapt.a11y.toggleEnabled($buttonsAction, false);\n      return;\n    }\n\n    const propertyName = textPropertyName[buttonState.asString];\n    const ariaLabel = this.model.get('_buttons')['_' + propertyName].ariaLabel;\n    const buttonText = this.model.get('_buttons')['_' + propertyName].buttonText;\n\n    // Enable the button, make accessible and update aria labels and text\n    Adapt.a11y.toggleEnabled($buttonsAction, this.model.get('_canSubmit'));\n    $buttonsAction.html(buttonText).attr('aria-label', ariaLabel);\n  }\n\n  checkFeedbackState() {\n    const canShowFeedback = this.model.get('_canShowFeedback');\n\n    this.$('.js-btn-action').toggleClass('is-full-width', !canShowFeedback);\n    this.$('.js-btn-feedback').toggleClass('u-display-none', !canShowFeedback);\n    this.$('.js-btn-marking').toggleClass('is-full-width u-display-none', !canShowFeedback);\n  }\n\n  updateAttemptsCount() {\n    const isInteractionComplete = this.model.get('_isInteractionComplete');\n    const attemptsLeft = (this.model.get('_attemptsLeft')) ? this.model.get('_attemptsLeft') : this.model.get('_attempts');\n    const shouldDisplayAttempts = this.model.get('_shouldDisplayAttempts');\n    let attemptsString;\n\n    this.checkResetSubmittedState();\n\n    if (!isInteractionComplete && attemptsLeft >= 0) {\n      attemptsString = attemptsLeft + ' ';\n      attemptsString += attemptsLeft === 1 ?\n        this.model.get('_buttons').remainingAttemptText :\n        this.model.get('_buttons').remainingAttemptsText;\n    } else {\n      this.$('.js-display-attempts').addClass('u-visibility-hidden');\n      this.showMarking();\n    }\n\n    if (shouldDisplayAttempts) {\n      this.$('.js-insert-attempts-string').html(attemptsString);\n    }\n\n  }\n\n  /**\n   * Updates the ARIA 'live region' with the correct/user answer when that button\n   * is selected by the learner.\n   * @param {string} answer Textual representation of the correct/user answer\n   */\n  updateAnswerLiveRegion(answer) {\n    if (!answer) return;\n    this.$('.js-answer-live-region').html(answer);\n  }\n\n  showMarking() {\n    if (!this.model.shouldShowMarking) return;\n\n    const isCorrect = this.model.get('_isCorrect');\n    const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n    this.$('.js-btn-marking')\n      .removeClass('u-display-none')\n      .addClass(isCorrect ? 'is-correct' : 'is-incorrect')\n      .attr('aria-label', isCorrect ? ariaLabels.answeredCorrectly : ariaLabels.answeredIncorrectly);\n  }\n\n  refresh() {\n    this.updateAttemptsCount();\n    this.checkResetSubmittedState();\n    this.checkFeedbackState();\n    this.onButtonStateChanged(null, this.model.get('_buttonState'));\n    this.onFeedbackMessageChanged(null, this.model.get('feedbackMessage'));\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ComponentModel from 'core/js/models/componentModel';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\n\nclass QuestionModel extends ComponentModel {\n\n  /// ///\n  // Setup question types\n  /// /\n\n  // Used to set model defaults\n  defaults() {\n    // Extend from the ComponentModel defaults\n    return ComponentModel.resultExtend('defaults', {\n      _isQuestionType: true,\n      _shouldDisplayAttempts: false,\n      _shouldShowMarking: false,\n      _canShowModelAnswer: true,\n      _canShowFeedback: true,\n      _canShowMarking: true,\n      _canSubmit: true,\n      _isSubmitted: false,\n      _isCorrectAnswerShown: false,\n      _questionWeight: Adapt.config.get('_questionWeight'),\n      _hasItemScoring: false,\n      _items: []\n    });\n  }\n\n  // Extend from the ComponentModel trackable\n  trackable() {\n    return ComponentModel.resultExtend('trackable', [\n      '_isSubmitted',\n      '_score',\n      '_isCorrect',\n      '_attemptsLeft'\n    ]);\n  }\n\n  trackableType() {\n    return ComponentModel.resultExtend('trackableType', [\n      Boolean,\n      Number,\n      Boolean,\n      Number\n    ]);\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'question';\n  }\n\n  init() {\n    this.setupDefaultSettings();\n    this.setLocking('_canSubmit', true);\n    this.updateRawScore();\n    super.init();\n  }\n\n  // Calls default methods to setup on questions\n  setupDefaultSettings() {\n    // Not sure this is needed anymore, keeping to maintain API\n    this.setupWeightSettings();\n    this.setupButtonSettings();\n  }\n\n  // Used to setup either global or local button text\n  setupButtonSettings() {\n    const globalButtons = Adapt.course.get('_buttons');\n\n    // Check if  '_buttons' attribute exists and if not use the globally defined buttons.\n    if (!this.has('_buttons')) {\n      this.set('_buttons', globalButtons);\n    } else {\n      // Check all the components buttons.\n      // If they are empty use the global defaults.\n      const componentButtons = this.get('_buttons');\n\n      for (const key in componentButtons) {\n        if (typeof componentButtons[key] === 'object') {\n          // Button text.\n          if (!componentButtons[key].buttonText && globalButtons[key].buttonText) {\n            componentButtons[key].buttonText = globalButtons[key].buttonText;\n          }\n\n          // ARIA labels.\n          if (!componentButtons[key].ariaLabel && globalButtons[key].ariaLabel) {\n            componentButtons[key].ariaLabel = globalButtons[key].ariaLabel;\n          }\n        }\n\n        if (!componentButtons[key] && globalButtons[key]) {\n          componentButtons[key] = globalButtons[key];\n        }\n      }\n    }\n  }\n\n  // Used to setup either global or local question weight/score\n  setupWeightSettings() {\n    // Not needed as handled by model defaults, keeping to maintain API\n  }\n\n  /// ///\n  // Submit process\n  /// /\n\n  // Use to check if the user is allowed to submit the question\n  // Maybe the user has to select an item?\n  canSubmit() {}\n\n  checkCanSubmit() {\n    this.set('_canSubmit', this.canSubmit(), { pluginName: 'adapt' });\n  }\n\n  // Used to update the amount of attempts the user has left\n  updateAttempts() {\n    const attemptsLeft = this.get('_attemptsLeft') || this.get('_attempts');\n\n    this.set('_attemptsLeft', attemptsLeft - 1);\n  }\n\n  // Used to set _isEnabled and _isSubmitted on the model\n  setQuestionAsSubmitted() {\n    this.set({\n      _isEnabled: false,\n      _isSubmitted: true\n    });\n  }\n\n  // Sets _isCorrect:true/false based upon isCorrect method below\n  markQuestion() {\n\n    if (this.isCorrect()) {\n      this.set('_isCorrect', true);\n    } else {\n      this.set('_isCorrect', false);\n    }\n\n    this.updateRawScore();\n\n  }\n\n  // Should return a boolean based upon whether to question is correct or not\n  isCorrect() {}\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {}\n\n  updateRawScore() {\n    this.set({\n      _rawScore: this.score,\n      _maxScore: this.maxScore,\n      _minScore: this.minScore\n    });\n  }\n\n  get score() {\n    return this.get('_isCorrect') ? this.maxScore : 0;\n  }\n\n  get maxScore() {\n    return this.get('_questionWeight');\n  }\n\n  get minScore() {\n    return 0;\n  }\n\n  // Checks if the question should be set to complete\n  // Calls setCompletionStatus and adds complete classes\n  checkQuestionCompletion() {\n\n    const isComplete = (this.get('_isCorrect') || this.get('_attemptsLeft') === 0);\n\n    if (isComplete) {\n      this.setCompletionStatus();\n    }\n\n    return isComplete;\n\n  }\n\n  // Updates buttons based upon question state by setting\n  // _buttonState on the model which buttonsView listens to\n  updateButtons() {\n\n    const isInteractionComplete = this.get('_isInteractionComplete');\n    const isCorrect = this.get('_isCorrect');\n    const isEnabled = this.get('_isEnabled');\n    const buttonState = this.get('_buttonState');\n    const canShowModelAnswer = this.get('_canShowModelAnswer');\n\n    if (isInteractionComplete) {\n\n      if (isCorrect || !canShowModelAnswer) {\n        // Use correct instead of complete to signify button state\n        this.set('_buttonState', BUTTON_STATE.CORRECT);\n\n      } else {\n\n        switch (buttonState) {\n          case BUTTON_STATE.SUBMIT:\n          case BUTTON_STATE.HIDE_CORRECT_ANSWER:\n            this.set('_buttonState', BUTTON_STATE.SHOW_CORRECT_ANSWER);\n            break;\n          default:\n            this.set('_buttonState', BUTTON_STATE.HIDE_CORRECT_ANSWER);\n        }\n\n      }\n\n    } else {\n\n      if (isEnabled) {\n        this.set('_buttonState', BUTTON_STATE.SUBMIT);\n      } else {\n        this.set('_buttonState', BUTTON_STATE.RESET);\n      }\n    }\n\n  }\n\n  // Used to setup the correct, incorrect and partly correct feedback\n  setupFeedback() {\n    if (!this.has('_feedback')) return;\n\n    if (this.get('_isCorrect')) {\n      this.setupCorrectFeedback();\n    } else if (this.isPartlyCorrect()) {\n      this.setupPartlyCorrectFeedback();\n    } else {\n      this.setupIncorrectFeedback();\n    }\n  }\n\n  // Used by the question to determine if the question is incorrect or partly correct\n  // Should return a boolean\n  isPartlyCorrect() {}\n\n  setupCorrectFeedback() {\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(),\n      feedbackMessage: Handlebars.compile(this.get('_feedback').correct)(this.toJSON())\n    });\n  }\n\n  setupPartlyCorrectFeedback() {\n    const feedback = this.get('_feedback')._partlyCorrect;\n\n    if (feedback?.final) {\n      this.setAttemptSpecificFeedback(feedback);\n    } else {\n      this.setupIncorrectFeedback();\n    }\n  }\n\n  setupIncorrectFeedback() {\n    this.setAttemptSpecificFeedback(this.get('_feedback')._incorrect);\n  }\n\n  setAttemptSpecificFeedback(feedback) {\n    const body = (this.get('_attemptsLeft') && feedback.notFinal) || feedback.final;\n\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(),\n      feedbackMessage: Handlebars.compile(body)(this.toJSON())\n    });\n  }\n\n  getFeedbackTitle() {\n    const title = this.get('_feedback').title || this.get('displayTitle') || this.get('title') || '';\n    return Handlebars.compile(title)(this.toJSON());\n  }\n\n  /**\n   * Used to determine whether the learner is allowed to interact with the question component or not.\n   * @return {Boolean}\n   */\n  isInteractive() {\n    return !this.get('_isComplete') || (this.get('_isEnabled') && !this.get('_isSubmitted'));\n  }\n\n  checkIfResetOnRevisit() {\n    super.checkIfResetOnRevisit();\n    // Setup button view state\n    this.set('_buttonState', this.get('_isInteractionComplete')\n      ? BUTTON_STATE.HIDE_CORRECT_ANSWER\n      : BUTTON_STATE.SUBMIT\n    );\n  }\n\n  /**\n   * Reset the model to let the user have another go (not the same as attempts)\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    const attempts = this.get('_attempts');\n    this.set({\n      _attemptsLeft: attempts,\n      _isCorrect: undefined,\n      _isSubmitted: false,\n      _buttonState: BUTTON_STATE.SUBMIT,\n      _shouldShowMarking: this.shouldShowMarking\n    });\n    return true;\n  }\n\n  // Reset question for subsequent attempts\n  setQuestionAsReset() {\n    this.set({\n      _isEnabled: true,\n      _isSubmitted: false\n    });\n    this.resetQuestion();\n  }\n\n  /**\n   * Used by the question view to reset the options of the component.\n   * This is triggered when the reset button is clicked so it shouldn't be a full reset.\n   */\n  resetQuestion() {}\n\n  refresh() {\n    this.trigger('question:refresh');\n  }\n\n  getButtonState() {\n    if (this.get('_isCorrect')) {\n      return BUTTON_STATE.CORRECT;\n    }\n\n    if (this.get('_attemptsLeft') === 0) {\n      return this.get('_canShowModelAnswer') ? BUTTON_STATE.SHOW_CORRECT_ANSWER : BUTTON_STATE.INCORRECT;\n    }\n\n    return this.get('_isSubmitted') ? BUTTON_STATE.RESET : BUTTON_STATE.SUBMIT;\n  }\n\n  // Returns an object specific to the question type, e.g. if the question\n  // is a 'choice' this should contain an object with:\n  // - correctResponsesPattern[]\n  // - choices[]\n  getInteractionObject() {\n    return {};\n  }\n\n  // Returns a string detailing how the user answered the question.\n  getResponse() {}\n\n  // Returns a string describing the type of interaction: \"choice\" and \"matching\" supported (see scorm wrapper)\n  getResponseType() {}\n\n  /**\n   * Called at the end of the onSubmitClicked view function.\n   */\n  onSubmitted() {\n    // Stores the current attempt state\n    this.addAttemptObject();\n    this.set('_shouldShowMarking', this.shouldShowMarking);\n  }\n\n  /** @type {boolean} */\n  get shouldShowMarking() {\n    return (!this.isInteractive() && this.get('_canShowMarking') && this.get('_isInteractionComplete'));\n  }\n\n}\n\n// This abstract model needs to registered to support deprecated view-only questions\nAdapt.register('question', { model: QuestionModel });\n\nexport default QuestionModel;\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport ButtonsView from 'core/js/views/buttonsView';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\nimport a11y from '../a11y';\nimport log from '../logging';\nimport 'core/js/models/questionModel';\n\nclass QuestionView extends ComponentView {\n\n  className() {\n    return [\n      'component',\n      'is-question',\n      this.model.get('_component').toLowerCase(),\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      'is-' + this.model.get('_layout'),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : ''),\n      (this.model.get('_canShowModelAnswer') ? 'can-show-model-answer' : ''),\n      (this.model.get('_canShowFeedback') ? 'can-show-feedback' : ''),\n      (this.model.get('_canShowMarking') ? 'can-show-marking' : '')\n    ].join(' ');\n  }\n\n  initialize(...args) {\n    // Allow isInteractive to be used in jsx templates\n    this.isInteractive = this.isInteractive.bind(this);\n    super.initialize(...args);\n  }\n\n  /**\n   * Used to determine whether the learner is allowed to interact with the question component or not.\n   * @return {Boolean}\n   * @deprecated since v6.0.5 please use this.model.isInteractive, this.model.get('_shouldShowMarking') or this.model.shouldShowMarking\n  */\n  isInteractive() {\n    log.deprecated('questionView.isInteractive please use this.model.isInteractive, this.model.get(\\'_shouldShowMarking\\') or this.model.shouldShowMarking');\n    return this.model.isInteractive();\n  }\n\n  preRender() {\n    // Setup listener for _isEnabled\n    this.listenTo(this.model, 'change:_isEnabled', this.onEnabledChanged);\n\n    this.listenTo(this.model, 'question:refresh', this.refresh);\n\n    // Checks to see if the question should be reset on revisit\n    if (this.checkIfResetOnRevisit !== QuestionView.prototype.checkIfResetOnRevisit) {\n      log.deprecated('QuestionView.checkIfResetOnRevisit, please use QuestionModel.checkIfResetOnRevisit');\n    }\n    this.checkIfResetOnRevisit();\n    _.defer(() => this.ensureLegacyLifecycleState());\n    // This method helps setup default settings on the model\n    this._runModelCompatibleFunction('setupDefaultSettings');\n    // Blank method for setting up questions before rendering\n    this.setupQuestion();\n  }\n\n  // Used in the question view to disabled the question when _isEnabled has been set to false\n  onEnabledChanged(model, changedAttribute) {\n\n    // If isEnabled == false add disabled class\n    // else remove disabled class\n    if (!changedAttribute) {\n      this.$('.component__widget').addClass('is-disabled');\n      this.disableQuestion();\n    } else {\n      this.$('.component__widget').removeClass('is-disabled');\n      this.enableQuestion();\n    }\n\n  }\n\n  // Used by the question to disable the question during submit and complete stages\n  disableQuestion() {}\n\n  // Used by the question to enable the question during interactions\n  enableQuestion() {}\n\n  /**\n   * Used to check if the question should reset on revisit\n   * @deprecated since core v6.0.1 Please use QuestionModel.checkIfResetOnRevisit\n   */\n  checkIfResetOnRevisit() {\n    const canReset = (this.model.get('_canReset') !== false);\n    const isResetOnRevisit = this.model.get('_isResetOnRevisit');\n    // If reset is enabled set defaults\n    // Call blank method for question to handle\n    if (!canReset || !isResetOnRevisit) return;\n    // Skip if calling the empty function definition\n    if (this.resetQuestionOnRevisit === QuestionView.prototype.resetQuestionOnRevisit) return;\n    // Warn if using a legacy resetQuestionOnRevisit\n    log.deprecated('QuestionView.resetQuestionOnRevisit, please QuestionModel.reset');\n    // Defer is added to allow the component to render\n    _.defer(() => {\n      this.resetQuestionOnRevisit(isResetOnRevisit);\n    });\n  }\n\n  /**\n   * Ensure the view is in the correct state on first render\n   * @private\n   */\n  ensureLegacyLifecycleState() {\n    const isInteractionComplete = this.model.get('_isInteractionComplete');\n    if (isInteractionComplete) {\n      this.onHideCorrectAnswerClicked();\n      return;\n    }\n    this.onResetClicked();\n  }\n\n  /**\n   * Used by the question to reset the question when revisiting the component\n   * @param {string} type\n   * @deprecated since core v6.0.1 Please use QuestionModel.reset\n   */\n  resetQuestionOnRevisit(type) {}\n\n  // Left blank for question setup - should be used instead of preRender\n  setupQuestion() {}\n\n  // Calls default methods to setup after the question is rendered\n  postRender() {\n    this.addButtonsView();\n    this.onQuestionRendered();\n  }\n\n  // Used to setup buttonsView and sets up the internal events for the question\n  addButtonsView() {\n    this.buttonsView = new ButtonsView({ model: this.model, el: this.$('.btn__container') });\n\n    this.listenTo(this.buttonsView, 'buttons:stateUpdate', this.onButtonStateUpdate);\n\n  }\n\n  onButtonStateUpdate(buttonState) {\n\n    switch (buttonState) {\n      case BUTTON_STATE.SUBMIT:\n        this.onSubmitClicked();\n        break;\n      case BUTTON_STATE.RESET:\n        this.onResetClicked();\n        break;\n      case BUTTON_STATE.SHOW_CORRECT_ANSWER:\n        this.onShowCorrectAnswerClicked();\n        break;\n      case BUTTON_STATE.HIDE_CORRECT_ANSWER:\n        this.onHideCorrectAnswerClicked();\n        break;\n      case BUTTON_STATE.SHOW_FEEDBACK:\n        this.showFeedback();\n        break;\n    }\n\n  }\n\n  // Blank method used just like postRender is for presentational components\n  onQuestionRendered() {}\n\n  // Triggered when the submit button is clicked\n  onSubmitClicked() {\n    // canSubmit is setup in questions and should return a boolean\n    // If the question stops the user form submitting - show instruction error\n    // and give a blank method, onCannotSubmit to the question\n    const canSubmit = this._runModelCompatibleFunction('canSubmit');\n\n    if (!canSubmit) {\n      this.showInstructionError();\n      this.onCannotSubmit();\n      return;\n    }\n\n    // Used to update the amount of attempts the question has\n    this._runModelCompatibleFunction('updateAttempts');\n\n    // Used to set attributes on the model after being submitted\n    // Also adds a class of submitted\n    this._runModelCompatibleFunction('setQuestionAsSubmitted');\n\n    // Used to remove instruction error that is set when\n    // the user has interacted in the wrong way\n    this.removeInstructionError();\n\n    // Used to store the users answer for later\n    // This is a blank method given to the question\n    this._runModelCompatibleFunction('storeUserAnswer');\n\n    // Used to set question as correct:true/false\n    // Calls isCorrect which is blank for the question\n    // to fill out and return a boolean\n    this._runModelCompatibleFunction('markQuestion', 'isCorrect');\n\n    // Used by the question to set the score on the model\n    this._runModelCompatibleFunction('setScore');\n\n    // Used to check if the question is complete\n    // Triggers setCompletionStatus and adds class to widget\n    this._runModelCompatibleFunction('checkQuestionCompletion');\n\n    // Used by the question to display markings on the component\n    if (this.model.shouldShowMarking) {\n      this.showMarking();\n    }\n\n    this.recordInteraction();\n\n    // Used to setup the feedback by checking against\n    // question isCorrect or isPartlyCorrect\n    this._runModelCompatibleFunction('setupFeedback');\n\n    // Used to trigger an event so plugins can display feedback\n    // Do this before updating the buttons so that the focus can be\n    // shifted immediately\n    this.showFeedback();\n\n    // Force height re-calculations before the submit button\n    // becomes disabled.\n    $(window).resize();\n\n    // Used to update buttonsView based upon question state\n    // Update buttons happens before showFeedback to preserve tabindexes and after setupFeedback to allow buttons to use feedback attribute\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.model.onSubmitted();\n    this.onSubmitted();\n  }\n\n  showInstructionError() {\n    Adapt.trigger('questionView:showInstructionError', this);\n  }\n\n  // Blank method for question to fill out when the question cannot be submitted\n  onCannotSubmit() {}\n\n  // Blank method for question to fill out when the question was successfully submitted\n  onSubmitted() {}\n\n  // Used to set _isEnabled and _isSubmitted on the model\n  // Also adds a 'submitted' class to the widget\n  setQuestionAsSubmitted() {\n    this.model.setQuestionAsSubmitted();\n    this.$('.component__widget').addClass('is-submitted');\n  }\n\n  // Removes validation error class when the user canSubmit\n  removeInstructionError() {\n    this.$('.component__instruction-inner').removeClass('validation-error');\n  }\n\n  // This is important and should give the user feedback on how they answered the question\n  // Normally done through ticks and crosses by adding classes\n  showMarking() {}\n\n  // Checks if the question should be set to complete\n  // Calls setCompletionStatus and adds complete classes\n  checkQuestionCompletion() {\n\n    const isComplete = this.model.checkQuestionCompletion();\n\n    if (isComplete) {\n      this.$('.component__widget').addClass('is-complete show-user-answer');\n    }\n\n  }\n\n  recordInteraction() {\n    if (this.model.get('_recordInteraction') === true || !this.model.has('_recordInteraction')) {\n      Adapt.trigger('questionView:recordInteraction', this);\n    }\n  }\n\n  // Used to show feedback based upon whether _canShowFeedback is true\n  showFeedback() {\n\n    if (this.model.get('_canShowFeedback')) {\n      Adapt.trigger('questionView:showFeedback', this);\n    } else {\n      Adapt.trigger('questionView:disabledFeedback', this);\n    }\n\n  }\n\n  onResetClicked() {\n    this.setQuestionAsReset();\n\n    this._runModelCompatibleFunction('resetUserAnswer');\n\n    this.model.checkCanSubmit();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    // onResetClicked is called as part of the checkIfResetOnRevisit\n    // function and as a button click. if the view is already rendered,\n    // then the button was clicked, focus on the first tabbable element\n    if (!this.model.get('_isReady')) return;\n    // Attempt to get the current page location\n    const currentModel = Adapt.findById(Adapt.location._currentId);\n    // Make sure the page is ready\n    if (!currentModel?.get('_isReady')) return;\n    // Focus on the first readable item in this element\n    a11y.focusNext(this.$el, { preventScroll: true });\n  }\n\n  setQuestionAsReset() {\n    this.model.setQuestionAsReset();\n    this.resetQuestion();\n    this.$('.component__widget').removeClass('is-submitted');\n  }\n\n  /**\n   * Used by the question view to reset the look and feel of the component.\n   * This is triggered when the reset button is clicked so it shouldn't be a full reset.\n   */\n  resetQuestion() {}\n\n  refresh() {\n    this.model.set('_buttonState', this.model.getButtonState());\n\n    if (this.model.shouldShowMarking) {\n      this.showMarking();\n    }\n\n    if (this.buttonsView) {\n      _.defer(this.buttonsView.refresh.bind(this.buttonsView));\n    }\n  }\n\n  onShowCorrectAnswerClicked() {\n    this.setQuestionAsShowCorrect();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.showCorrectAnswer();\n  }\n\n  setQuestionAsShowCorrect() {\n    this.$('.component__widget')\n      .addClass('is-submitted show-correct-answer')\n      .removeClass('show-user-answer');\n  }\n\n  // Used by the question to display the correct answer to the user\n  showCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  onHideCorrectAnswerClicked() {\n    this.setQuestionAsHideCorrect();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.hideCorrectAnswer();\n  }\n\n  setQuestionAsHideCorrect() {\n    this.$('.component__widget')\n      .addClass('is-submitted show-user-answer')\n      .removeClass('show-correct-answer');\n  }\n\n  // Used by the question to display the users answer and\n  // hide the correct answer\n  // Should use the values stored in storeUserAnswer\n  hideCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n  // Time elapsed between the time the interaction was made available to the learner for response and the time of the first response\n  getLatency() {\n    return null;\n  }\n\n  // This function is overridden if useQuestionModeOnly: false. see below.\n  _runModelCompatibleFunction(name, lookForViewOnlyFunction) {\n    return this.model[name](); // questionModel Only\n  }\n}\n\nQuestionView._isQuestionType = true;\n\n/* BACKWARDS COMPATIBILITY SECTION\n* This section below is only for compatibility between the separated questionView+questionModel and the old questionView\n* Remove this section in when all components use questionModel and there is no need to have model behaviour in the questionView\n*/\n\nclass ViewOnlyQuestionViewCompatibilityLayer extends QuestionView {\n\n  /* All of these functions have been moved to the questionModel.js file.\n    * On the rare occasion that they have not been overridden by the component and\n          that they call the view only questionView version,\n          these functions are included as redirects to the new Question Model.\n          It is very unlikely that these are needed but they are included to ensure compatibility.\n    * If you need to override these in your component you should now make and register a component model.\n    * Please remove them from your question component's view.\n  */\n\n  // Returns an object specific to the question type.\n  getInteractionObject() {\n    log.deprecated('QuestionView.getInteractionObject, please use QuestionModel.getInteractionObject');\n    return this.model.getInteractionObject();\n  }\n\n  // Retturns a string detailing how the user answered the question.\n  getResponse() {\n    log.deprecated('QuestionView.getInteractionObject, please use QuestionModel.getInteractionObject');\n    return this.model.getResponse();\n  }\n\n  // Returns a string describing the type of interaction: \"choice\" and \"matching\" supported (see scorm wrapper)\n  getResponseType() {\n    log.deprecated('QuestionView.getResponseType, please use QuestionModel.getResponseType');\n    return this.model.getResponseType();\n  }\n\n  // Calls default methods to setup on questions\n  setupDefaultSettings() {\n    log.deprecated('QuestionView.setupDefaultSettings, please use QuestionModel.setupDefaultSettings');\n    return this.model.setupDefaultSettings();\n  }\n\n  // Used to setup either global or local button text\n  setupButtonSettings() {\n    log.deprecated('QuestionView.setupButtonSettings, please use QuestionModel.setupButtonSettings');\n    return this.model.setupButtonSettings();\n  }\n\n  // Used to setup either global or local question weight/score\n  setupWeightSettings() {\n    log.deprecated('QuestionView.setupWeightSettings, please use QuestionModel.setupWeightSettings');\n    return this.model.setupWeightSettings();\n  }\n\n  // Use to check if the user is allowed to submit the question\n  // Maybe the user has to select an item?\n  canSubmit() {\n    log.deprecated('QuestionView.canSubmit, please use QuestionModel.canSubmit');\n    return this.model.canSubmit();\n  }\n\n  // Used to update the amount of attempts the user has left\n  updateAttempts() {\n    log.deprecated('QuestionView.updateAttempts, please use QuestionModel.updateAttempts');\n    return this.model.updateAttempts();\n  }\n\n  // This is important for returning or showing the users answer\n  // This should preserve the state of the users answers\n  storeUserAnswer() {\n    log.deprecated('QuestionView.storeUserAnswer, please use QuestionModel.storeUserAnswer');\n    return this.model.storeUserAnswer();\n  }\n\n  // Used by the question view to reset the stored user answer\n  resetUserAnswer() {\n    log.deprecated('QuestionView.resetUserAnswer, please use QuestionModel.resetUserAnswer');\n    return this.model.resetUserAnswer();\n  }\n\n  // Sets _isCorrect:true/false based upon isCorrect method below\n  markQuestion() {\n\n    if (this._isInViewOnlyCompatibleMode('isCorrect')) {\n\n      if (this.isCorrect()) {\n        this.model.set('_isCorrect', true);\n      } else {\n        this.model.set('_isCorrect', false);\n      }\n\n      this.model.set({\n        _rawScore: this.model.get('_isCorrect') ? this.model.get('_questionWeight') : 0,\n        _maxScore: this.model.get('_questionWeight'),\n        _minScore: 0\n      });\n\n    } else {\n      return this.model.markQuestion();\n    }\n  }\n\n  // Should return a boolean based upon whether to question is correct or not\n  isCorrect() {\n    log.deprecated('QuestionView.isCorrect, please use QuestionModel.isCorrect');\n    return this.model.isCorrect();\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    log.deprecated('QuestionView.setScore, please use QuestionModel.setScore');\n    return this.model.setScore();\n  }\n\n  // Updates buttons based upon question state by setting\n  // _buttonState on the model which buttonsView listens to\n  updateButtons() {\n    log.deprecated('QuestionView.updateButtons, please use QuestionModel.updateButtons');\n    return this.model.updateButtons();\n  }\n\n  // Used to setup the correct, incorrect and partly correct feedback\n  setupFeedback() {\n\n    if (this._isInViewOnlyCompatibleMode('isPartlyCorrect')) {\n\n      // Use view based feedback where necessary\n      if (this.model.get('_isCorrect')) {\n        this._runModelCompatibleFunction('setupCorrectFeedback');\n      } else if (this.isPartlyCorrect()) {\n        this._runModelCompatibleFunction('setupPartlyCorrectFeedback');\n      } else {\n        this._runModelCompatibleFunction('setupIncorrectFeedback');\n      }\n\n    } else {\n      // Use model based feedback\n      this.model.setupFeedback();\n    }\n\n  }\n\n  // Used by the question to determine if the question is incorrect or partly correct\n  // Should return a boolean\n  isPartlyCorrect() {\n    log.deprecated('QuestionView.isPartlyCorrect, please use QuestionModel.isPartlyCorrect');\n    return this.model.isPartlyCorrect();\n  }\n\n  setupCorrectFeedback() {\n    log.deprecated('QuestionView.setupCorrectFeedback, please use QuestionModel.setupCorrectFeedback');\n    return this.model.setupCorrectFeedback();\n  }\n\n  setupPartlyCorrectFeedback() {\n    log.deprecated('QuestionView.setupPartlyCorrectFeedback, please use QuestionModel.setupPartlyCorrectFeedback');\n    return this.model.setupPartlyCorrectFeedback();\n  }\n\n  setupIncorrectFeedback() {\n    log.deprecated('QuestionView.setupIncorrectFeedback, please use QuestionModel.setupIncorrectFeedback');\n    return this.model.setupIncorrectFeedback();\n  }\n\n  // Helper functions for compatibility layer\n  _runModelCompatibleFunction(name, lookForViewOnlyFunction) {\n    if (this._isInViewOnlyCompatibleMode(name, lookForViewOnlyFunction)) {\n      return this[name](); // questionView\n    } else {\n      return this.model[name](); // questionModel\n    }\n  }\n\n  _isInViewOnlyCompatibleMode(name, lookForViewOnlyFunction) {\n    // return false uses the model function questionModel\n    // return true uses the view only function questionView\n\n    const checkForFunction = (lookForViewOnlyFunction || name);\n\n    // if the function does NOT exist on the view at all, use the model only\n    if (!this.constructor.prototype[checkForFunction]) return false; // questionModel\n\n    // if the function DOES exist on the view and MATCHES the compatibility function above, use the model only\n    const hasCompatibleVersion = (Object.prototype.hasOwnProperty.call(ViewOnlyQuestionViewCompatibilityLayer.prototype, checkForFunction));\n    const usingCompatibleVersion = (this.constructor.prototype[checkForFunction] === ViewOnlyQuestionViewCompatibilityLayer.prototype[checkForFunction]);\n    if (hasCompatibleVersion && usingCompatibleVersion) {\n      switch (checkForFunction) {\n        case 'setupFeedback':\n        case 'markQuestion':\n          return true; // questionView\n      }\n      return false; // questionModel\n    }\n\n    // if the function DOES exist on the view and does NOT match the compatibility function above, use the view function\n    return true; // questionView\n  }\n\n};\n\n// return question view class extended with the compatibility layer\nexport default ViewOnlyQuestionViewCompatibilityLayer;\n\n/* END OF BACKWARDS COMPATIBILITY SECTION */\n","\nimport QuestionView from 'core/js/views/questionView';\nimport Adapt from 'core/js/adapt';\nclass ChooseView extends QuestionView {\n\n  initialize(...args) {\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.onItemOptionSelect = this.onItemOptionSelect.bind(this);\n    super.initialize(...args);\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  onQuestionRendered() {\n    this.$('.choose__item').imageready(() => this.setReadyStatus());\n    this.setupItems();\n  }\n\n  setupItems() {\n    const _spaceSize = this.model.get('_spaceSize');\n    let _spaces = '';\n    for (let i = 0; i < _spaceSize; i++) {\n      _spaces += '&nbsp;';\n    }\n    this.model.get('_items')?.forEach((item) => {\n      let _choose = `<span class=\"choose__replace\">${_spaces}</span>`;\n      this.updateItem(item, _choose, false);\n      if (item._selected) {\n        _choose = this.getChoose(item);\n        this.updateItem(item, _choose, true);\n      }\n\n    });\n\n  }\n\n  getChoose(item) {\n    const _hasGraphic = item._selected._graphic && item._selected._graphic.large;\n    if (!_hasGraphic) {\n      return item._selected.text;\n    }\n    const _graphic = Adapt.device.screenSize !== 'small' ? item._selected._graphic.large : item._selected._graphic.small;\n    return `<img src=\"${_graphic}\"/>`;\n  }\n\n  updateItem(item, answer, selected) {\n    const $item = this.getItemElement(item);\n    if (!selected) {\n      const _text = item.text.replace('[]', answer);\n      return $item.find('.choose__item-text').html(_text);\n    }\n    $item.find('.choose__item-text .choose__replace').html(answer);\n  }\n\n  getItemElement(item) {\n    if (!item) return;\n    const index = item._index;\n    return this.$('.choose__item').filter(`[data-index=\"${index}\"]`);\n  }\n\n  onKeyPress(event) {\n\n    if (event.which !== 13) return;\n    this.onItemOptionSelect(event);\n  }\n\n  onItemOptionSelect(event) {\n    if (!this.model.isInteractive()) return;\n\n    const $input = $(event.currentTarget);\n    const itemIndex = $input.data('adapt-index');\n    const optionIndex = parseInt($input.val());\n    this.model.setOptionSelected(itemIndex, optionIndex, true);\n    this.model.set('_highlighted', `${itemIndex}-${optionIndex}`);\n\n    const item = this.model.get('_items')[itemIndex];\n\n    const _choose = this.getChoose(item);\n    this.updateItem(item, _choose, true);\n  }\n\n  resetQuestion() {\n    this.$('.choose__item').removeClass('is-correct is-incorrect is-selected');\n    this.$('.choose__item-choice').removeClass('is-correct is-incorrect is-selected');\n    this.model.set('_isAtLeastOneCorrectSelection', false);\n\n    this.model.get('_items').forEach(item => {\n      const $item = this.getItemElement(item);\n      $item.find('.choose__item-text .choose__replace').replaceWith('[]');\n      // if (item._isCorrect) return;\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n\n    });\n\n    this.setupItems();\n  }\n\n}\nChooseView.template = 'choose.jsx';\n\nexport default ChooseView;\n","\nimport Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class ChooseModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.setupQuestionItemIndexes();\n  }\n\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set('_isAtLeastOneCorrectSelection', false);\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) {\n        item._index = index;\n        item._selected = false;\n\n      }\n      if (item._options === undefined) {\n        item._options = this.get('_choices').map(choice => {\n          return {\n            text: choice.text,\n            _graphic: choice._graphic\n          };\n        });\n      }\n      item._options.forEach((option, index) => {\n\n        if (option._index !== undefined) return;\n        option._index = index;\n        option._isSelected = false;\n      });\n\n    });\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.get('_items').forEach(item => (item._options = _.shuffle(item._options)));\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => {\n        if (option._index !== userAnswer[item._index]) return;\n        option._isSelected = true;\n        item._selected = option;\n      });\n    });\n\n    this.setQuestionAsSubmitted();\n    this.checkCanSubmit();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  canSubmit() {\n    const canSubmit = this.get('_items').every(({ _options }) => {\n      return _options.some(({ _isSelected }) => _isSelected);\n    });\n\n    return canSubmit;\n  }\n\n  setOptionSelected(itemIndex, optionIndex, isSelected) {\n    const item = this.get('_items')[itemIndex];\n\n    if (isNaN(optionIndex)) {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n      return this.checkCanSubmit();\n    }\n    item._options.forEach((option) => {\n      option._isSelected = false;\n    });\n    const option = item._options.find(({ _index }) => _index === optionIndex);\n    option._isSelected = isSelected;\n    item._selected = option;\n\n    this.checkCanSubmit();\n  }\n\n  storeUserAnswer() {\n    const userAnswer = new Array(this.get('_items').length);\n\n    this.get('_items').forEach(item => {\n      const optionIndex = item._options.findIndex(({ _isSelected }) => _isSelected);\n\n      userAnswer[item._index] = item._options[optionIndex]._index;\n    });\n    this.set({\n      _userAnswer: userAnswer\n    });\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').reduce((a, item) => {\n      const isCorrect = item._selected?._isCorrect;\n      item._isCorrect = Boolean(isCorrect);\n      if (!isCorrect) {\n        return a;\n      }\n      this.set('_isAtLeastOneCorrectSelection', true);\n      return ++a;\n    }, 0);\n\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    if (numberOfCorrectAnswers === this.get('_items').length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n\n    if (this.get('_isCorrect')) {\n      this.set('_score', questionWeight);\n      return;\n    }\n\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n\n    this.set('_score', score);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: null,\n      source: null,\n      target: null\n    };\n    const items = this.get('_items');\n\n    interactions.correctResponsesPattern = [\n      items.map(({ _options }, questionIndex) => {\n\n        questionIndex++;\n        return [\n          questionIndex,\n\n          _options.filter(({ _isCorrect }) => _isCorrect).map(({ _index }) => {\n\n            return `${questionIndex}_${_index + 1}`;\n          })\n        ].join('[.]');\n      }).join('[,]')\n    ];\n\n    interactions.source = items.map(item => {\n      return {\n        // Offset by 1.\n        id: `${item._index + 1}`,\n        description: item.text\n      };\n    }).flat(Infinity);\n\n    interactions.target = items.map(({ _options }, index) => {\n\n      index++;\n      return _options.map(option => {\n        return {\n          id: `${index}_${option._index + 1}`,\n          description: option.text\n        };\n      });\n    }).flat(Infinity);\n    return interactions;\n  }\n\n  getResponse() {\n    const responses = this.get('_userAnswer').map((userAnswer, index) => {\n      return `${index + 1}.${userAnswer + 1}`;\n    });\n\n    return responses.join('#');\n  }\n\n  getResponseType() {\n    return 'matching';\n  }\n\n  getCorrectAnswerAsText() {\n    const correctAnswerTemplate = Adapt.course.get('_globals')._components._choose.ariaCorrectAnswer;\n    const ariaAnswer = this.get('_items').map(item => {\n      const correctOption = item._options.find(({ _isCorrect }) => _isCorrect);\n      return Handlebars.compile(correctAnswerTemplate)({\n        itemText: item.text,\n        correctAnswer: correctOption.text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n\n  getUserAnswerAsText() {\n    const userAnswerTemplate = Adapt.course.get('_globals')._components._choose.ariaUserAnswer;\n    const answerArray = this.get('_userAnswer');\n\n    const ariaAnswer = this.get('_items').map((item, index) => {\n      const key = answerArray[index];\n      return Handlebars.compile(userAnswerTemplate)({\n        itemText: item.text,\n        userAnswer: item._options[(key)].text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport ChooseView from './chooseView';\nimport ChooseModel from './chooseModel';\n\nexport default Adapt.register('choose', {\n  view: ChooseView,\n  model: ChooseModel\n});\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class ItemModel extends LockingModel {\n\n  defaults() {\n    return {\n      _isActive: false,\n      _isVisited: false,\n      _score: 0\n    };\n  }\n\n  reset() {\n    this.set({ _isActive: false, _isVisited: false });\n  }\n\n  toggleActive(isActive = !this.get('_isActive')) {\n    this.set('_isActive', isActive);\n  }\n\n  toggleVisited(isVisited = !this.get('_isVisited')) {\n    this.set('_isVisited', isVisited);\n  }\n\n}\n","import ComponentModel from 'core/js/models/componentModel';\nimport ItemModel from 'core/js/models/itemModel';\n\nexport default class ItemsComponentModel extends ComponentModel {\n\n  toJSON() {\n    const json = super.toJSON();\n    // Make sure _items is updated from child collection\n    json._items = this.getChildren().toJSON();\n    return json;\n  }\n\n  init() {\n    this.setUpItems();\n    this.listenTo(this.getChildren(), {\n      all: this.onAll,\n      'change:_isVisited': this.checkCompletionStatus\n    });\n    super.init();\n  }\n\n  restoreUserAnswers() {\n    const booleanArray = this.get('_userAnswer');\n    if (!booleanArray) return;\n    this.getChildren().forEach((child, index) => child.set('_isVisited', booleanArray[index]));\n  }\n\n  storeUserAnswer() {\n    const booleanArray = this.getChildren().map(child => child.get('_isVisited'));\n    this.set('_userAnswer', booleanArray);\n  }\n\n  setUpItems() {\n    // see https://github.com/adaptlearning/adapt_framework/issues/2480\n    const items = this.get('_items') || [];\n    items.forEach((item, index) => (item._index = index));\n    this.setChildren(new Backbone.Collection(items, { model: ItemModel }));\n  }\n\n  getItem(index) {\n    return this.getChildren().findWhere({ _index: index });\n  }\n\n  getVisitedItems() {\n    return this.getChildren().where({ _isVisited: true });\n  }\n\n  getActiveItems() {\n    return this.getChildren().where({ _isActive: true });\n  }\n\n  getActiveItem() {\n    return this.getChildren().findWhere({ _isActive: true });\n  }\n\n  areAllItemsCompleted() {\n    return this.getVisitedItems().length === this.getChildren().length;\n  }\n\n  checkCompletionStatus() {\n    this.storeUserAnswer();\n    if (!this.areAllItemsCompleted()) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.getChildren().each(item => item.reset());\n    return true;\n  }\n\n  resetActiveItems() {\n    this.getChildren().each(item => item.toggleActive(false));\n  }\n\n  setActiveItem(index) {\n    const item = this.getItem(index);\n    if (!item) return;\n\n    const activeItem = this.getActiveItem();\n    if (activeItem) activeItem.toggleActive(false);\n    item.toggleActive(true);\n  }\n\n}\n","import ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nclass AccordionModel extends ItemsComponentModel {\n\n  defaults() {\n    return ItemsComponentModel.resultExtend('defaults', {\n      _shouldCollapseItems: true,\n      _shouldExpandFirstItem: false,\n      _toggleSpeed: 200\n    }, this);\n  }\n\n  toggleItemsState(index) {\n    const item = this.getItem(index);\n    const previousActiveItem = this.getActiveItem();\n\n    item.toggleActive();\n    item.toggleVisited(true);\n\n    if (previousActiveItem && this.get('_shouldCollapseItems')) {\n      previousActiveItem.toggleActive(false);\n    }\n  }\n\n  checkExpandFirstItem() {\n    if (!this.get('_shouldExpandFirstItem')) return;\n    this.setActiveItem(0);\n  }\n\n}\n\nexport default AccordionModel;\n","import ComponentView from 'core/js/views/componentView';\n\nclass AccordionView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-toggle-item': 'onClick'\n    };\n  }\n\n  preRender() {\n    this.checkIfResetOnRevisit();\n\n    this.model.resetActiveItems();\n    this.model.checkExpandFirstItem();\n\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n  }\n\n  postRender() {\n    this.setReadyStatus();\n\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion();\n    }\n  }\n\n  checkIfResetOnRevisit() {\n    const isResetOnRevisit = this.model.get('_isResetOnRevisit');\n\n    // If reset is enabled set defaults\n    if (isResetOnRevisit) {\n      this.model.reset(isResetOnRevisit);\n    }\n  }\n\n  onClick(event) {\n    this.model.toggleItemsState($(event.currentTarget).parent().data('index'));\n  }\n\n  onItemsActiveChange(item, isActive) {\n    this.toggleItem(item, isActive);\n  }\n\n  onItemsVisitedChange(item, isVisited) {\n    if (!isVisited) return;\n\n    const $item = this.getItemElement(item);\n\n    $item.children('.accordion__item-btn').addClass('is-visited');\n  }\n\n  toggleItem(item, shouldExpand) {\n    const $item = this.getItemElement(item);\n    const $body = $item.children('.accordion__item-content').stop(true, true);\n\n    $item.children('.accordion__item-btn')\n      .toggleClass('is-selected is-open', shouldExpand)\n      .toggleClass('is-closed', !shouldExpand)\n      .attr('aria-expanded', shouldExpand);\n\n    if (!shouldExpand) {\n      $body.slideUp(this.model.get('_toggleSpeed'));\n      return;\n    }\n\n    $body.slideDown(this.model.get('_toggleSpeed'));\n  }\n\n  getItemElement(item) {\n    const index = item.get('_index');\n\n    return this.$('.accordion__item').filter(`[data-index=\"${index}\"]`);\n  }\n\n}\n\nAccordionView.template = 'accordion';\n\nexport default AccordionView;\n","import Adapt from 'core/js/adapt';\nimport AccordionModel from './accordionModel';\nimport AccordionView from './accordionView';\n\nexport default Adapt.register('accordion', {\n  model: AccordionModel,\n  view: AccordionView\n});\n","define([\n  'core/js/adapt',\n  'core/js/models/componentModel'\n], function(Adapt, ComponentModel) {\n\n  var AssessmentResultsModel = ComponentModel.extend({\n\n    init: function() {\n      this.set('originalBody', this.get('body'));// save the original body text so we can restore it when the assessment is reset\n\n      this.listenTo(Adapt, {\n        'assessments:complete': this.onAssessmentComplete,\n        'assessments:reset': this.onAssessmentReset\n      });\n    },\n\n    /**\n     * Checks to see if the assessment was completed in a previous session or not\n     */\n    checkIfAssessmentComplete: function() {\n      if (!Adapt.assessment || this.get('_assessmentId') === undefined) {\n        return;\n      }\n\n      var assessmentModel = Adapt.assessment.get(this.get('_assessmentId'));\n      if (!assessmentModel || assessmentModel.length === 0) return;\n\n      var state = assessmentModel.getState();\n      var isResetOnRevisit = assessmentModel.get('_assessment')._isResetOnRevisit;\n      if (state.isComplete && (!state.allowResetIfPassed || !isResetOnRevisit)) {\n        this.onAssessmentComplete(state);\n        return;\n      }\n\n      this.setVisibility();\n    },\n\n    onAssessmentComplete: function(state) {\n      if (this.get('_assessmentId') === undefined ||\n          this.get('_assessmentId') != state.id) return;\n\n      /*\n      make shortcuts to some of the key properties in the state object so that\n      content developers can just use {{attemptsLeft}} in json instead of {{state.attemptsLeft}}\n      */\n      this.set( {\n        _state: state,\n        attempts: state.attempts,\n        attemptsSpent: state.attemptsSpent,\n        attemptsLeft: state.attemptsLeft,\n        score: state.score,\n        scoreAsPercent: state.scoreAsPercent,\n        maxScore: state.maxScore,\n        isPass: state.isPass\n      });\n\n      this.setFeedbackBand(state);\n\n      this.checkRetryEnabled(state);\n\n      this.setFeedbackText();\n\n      this.toggleVisibility(true);\n    },\n\n    setFeedbackBand: function(state) {\n      var scoreProp = state.isPercentageBased ? 'scoreAsPercent' : 'score';\n      var bands = _.sortBy(this.get('_bands'), '_score');\n\n      for (var i = (bands.length - 1); i >= 0; i--) {\n        var isScoreInBandRange =  (state[scoreProp] >= bands[i]._score);\n        if (!isScoreInBandRange) continue;\n\n        this.set('_feedbackBand', bands[i]);\n        break;\n      }\n    },\n\n    checkRetryEnabled: function(state) {\n      var assessmentModel = Adapt.assessment.get(state.id);\n      if (!assessmentModel.canResetInPage()) return false;\n\n      var feedbackBand = this.get('_feedbackBand');\n      var isRetryEnabled = (feedbackBand && feedbackBand._allowRetry) !== false;\n      var isAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n      var showRetry = isRetryEnabled && isAttemptsLeft && (!state.isPass || state.allowResetIfPassed);\n\n      this.set({\n        _isRetryEnabled: showRetry,\n        retryFeedback: showRetry ? this.get('_retry').feedback : ''\n      });\n    },\n\n    setFeedbackText: function() {\n      var feedbackBand = this.get('_feedbackBand');\n\n      // ensure any handlebars expressions in the .feedback are handled...\n      var feedback = feedbackBand ? Handlebars.compile(feedbackBand.feedback)(this.toJSON()) : '';\n\n      this.set({\n        feedback: feedback,\n        body: this.get('_completionBody')\n      });\n    },\n\n    setVisibility: function() {\n      if (!Adapt.assessment) return;\n\n      var isVisibleBeforeCompletion = this.get('_isVisibleBeforeCompletion') || false;\n      var wasVisible = this.get('_isVisible');\n\n      var assessmentModel = Adapt.assessment.get(this.get('_assessmentId'));\n      if (!assessmentModel || assessmentModel.length === 0) return;\n\n      var state = assessmentModel.getState();\n      var isComplete = state.isComplete;\n      var isAttemptInProgress = state.attemptInProgress;\n      var attemptsSpent = state.attemptsSpent;\n      var hasHadAttempt = (!isAttemptInProgress && attemptsSpent > 0);\n\n      var isVisible = (isVisibleBeforeCompletion && !isComplete) || hasHadAttempt;\n\n      if (!wasVisible && isVisible) isVisible = false;\n\n      this.toggleVisibility(isVisible);\n    },\n\n    toggleVisibility: function (isVisible) {\n      if (isVisible === undefined) {\n        isVisible = !this.get('_isVisible');\n      }\n\n      this.set('_isVisible', isVisible, {pluginName: 'assessmentResults'});\n    },\n\n    checkCompletion: function() {\n      if (this.get('_setCompletionOn') === 'pass' && !this.get('isPass')) {\n        return;\n      }\n\n      this.setCompletionStatus();\n    },\n\n    /**\n     * Handles resetting the component whenever its corresponding assessment is reset\n     * The component can either inherit the assessment's reset type or define its own\n     */\n    onAssessmentReset: function(state) {\n      if (this.get('_assessmentId') === undefined ||\n          this.get('_assessmentId') != state.id) return;\n\n      var resetType = this.get('_resetType');\n      if (!resetType || resetType === 'inherit') {\n        resetType = state.resetType || 'hard';// backwards compatibility - state.resetType was only added in assessment v2.3.0\n      }\n      this.reset(resetType, true);\n    },\n\n    reset: function() {\n      this.set({\n        body: this.get('originalBody'),\n        state: null,\n        feedback: '',\n        _feedbackBand: null,\n        retryFeedback: '',\n        _isRetryEnabled: false\n      });\n\n      ComponentModel.prototype.reset.apply(this, arguments);\n    }\n  });\n\n  return AssessmentResultsModel;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/views/componentView'\n], function(Adapt, ComponentView) {\n\n  var AssessmentResultsView = ComponentView.extend({\n\n    events: {\n      'click .js-assessment-retry-btn': 'onRetryClicked'\n    },\n\n    preRender: function () {\n      this.model.setLocking('_isVisible', false);\n\n      this.listenTo(Adapt, 'preRemove', function () {\n        this.model.unsetLocking('_isVisible');\n      });\n\n      this.listenTo(this.model, {\n        'change:_feedbackBand': this.addClassesToArticle,\n        'change:body': this.render\n      });\n    },\n\n    postRender: function() {\n      this.model.checkIfAssessmentComplete();\n      this.setReadyStatus();\n      this.setupInviewCompletion('.component__inner', this.model.checkCompletion.bind(this.model));\n    },\n\n    /**\n     * Resets the state of the assessment and optionally redirects the user\n     * back to the assessment for another attempt.\n     */\n    onRetryClicked: function() {\n      var state = this.model.get('_state');\n\n      Adapt.assessment.get(state.id).reset();\n\n      if (this.model.get('_retry')._routeToAssessment === true) {\n        Adapt.navigateToElement('.' + state.articleId);\n      }\n    },\n\n    /**\n     * If there are classes specified for the feedback band, apply them to the containing article\n     * This allows for custom styling based on the band the user's score falls into\n     */\n    addClassesToArticle: function(model, value) {\n      if (!value || !value._classes) return;\n\n      this.$el.parents('.article').addClass(value._classes);\n    }\n\n  }, {\n    template: 'assessmentResults'\n  });\n\n  return AssessmentResultsView;\n\n});\n","define([\n  'core/js/adapt',\n  './assessmentResultsModel',\n  './assessmentResultsView'\n], function(Adapt, AssessmentResultsModel, AssessmentResultsView) {\n\n  return Adapt.register(\"assessmentResults\", {\n    model: AssessmentResultsModel,\n    view: AssessmentResultsView\n  });\n\n});\n","import ComponentView from 'core/js/views/componentView';\n\nexport default class BlankView extends ComponentView {\n\n  get template() {\n    return 'blank';\n  }\n\n  postRender() {\n    this.setReadyStatus();\n    this.setupInviewCompletion();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport BlankView from './blankView';\nimport ComponentModel from 'core/js/models/componentModel';\n\nexport default Adapt.register('blank', {\n  model: ComponentModel.extend({}), // create a new class in the inheritance chain so it can be extended per component type if necessary later\n  view: BlankView\n});\n","define([\n  'core/js/adapt',\n  'core/js/views/questionView'\n], function(Adapt, QuestionView) {\n\n  var McqView = QuestionView.extend({\n\n    events: {\n      'focus .js-item-input': 'onItemFocus',\n      'blur .js-item-input': 'onItemBlur',\n      'change .js-item-input': 'onItemSelect',\n      'keyup .js-item-input': 'onKeyPress'\n    },\n\n    isCorrectAnswerShown: false,\n\n    initialize: function() {\n      QuestionView.prototype.initialize.apply(this, arguments);\n      this.update = _.debounce(this.update.bind(this), 1);\n      this.listenTo(this.model, {\n        'change:_isEnabled change:_isComplete change:_isSubmitted': this.update\n      });\n      this.listenTo(this.model.getChildren(), {\n        'change:_isActive': this.update\n      });\n    },\n\n    resetQuestionOnRevisit: function() {\n      this.resetQuestion();\n    },\n\n    setupQuestion: function() {\n      this.model.setupRandomisation();\n    },\n\n    onQuestionRendered: function() {\n      this.setReadyStatus();\n      this.update();\n    },\n\n    onKeyPress: function(event) {\n      if (event.which !== 13) return;\n      // <ENTER> keypress\n      this.onItemSelect(event);\n    },\n\n    onItemFocus: function(event) {\n      if (!this.model.isInteractive()) return;\n\n      this.$('.js-item-label[for=' + $(event.currentTarget).attr('id') + ']').addClass('is-highlighted');\n    },\n\n    onItemBlur: function(event) {\n      this.$('.js-item-label[for=' + $(event.currentTarget).attr('id') + ']').removeClass('is-highlighted');\n    },\n\n    onItemSelect: function(event) {\n      if (!this.model.isInteractive()) return;\n\n      var index = $(event.currentTarget).data('adapt-index');\n      var itemModel = this.model.getItem(index);\n      var shouldSelect = !itemModel.get('_isActive');\n\n      if (this.model.isSingleSelect()) {\n        // Assume a click is always a selection\n        shouldSelect = true;\n        this.model.resetActiveItems();\n      } else if (shouldSelect && this.model.isAtActiveLimit()) {\n        // At the selection limit, deselect the last item\n        this.model.getLastActiveItem().toggleActive(false);\n      }\n\n      // Select or deselect accordingly\n      itemModel.toggleActive(shouldSelect);\n    },\n\n    // Blank method to add functionality for when the user cannot submit\n    // Could be used for a popup or explanation dialog/hint\n    onCannotSubmit: function() {},\n\n    // This is important and should give the user feedback on how they answered the question\n    // Normally done through ticks and crosses by adding classes\n    showMarking: function() {\n      this.update();\n    },\n\n    // Used by the question view to reset the look and feel of the component.\n    resetQuestion: function() {\n      this.model.resetActiveItems();\n      this.model.resetItems();\n    },\n\n    showCorrectAnswer: function() {\n      this.isCorrectAnswerShown = true;\n      this.update();\n    },\n\n    hideCorrectAnswer: function() {\n      this.isCorrectAnswerShown = false;\n      this.update();\n    },\n\n    update: function() {\n      this.updateSelection();\n      this.updateMarking();\n    },\n\n    updateSelection: function() {\n\n      var isEnabled = this.model.get('_isEnabled');\n\n      this.model.getChildren().each(function(itemModel) {\n\n        var isSelected = this.isCorrectAnswerShown ?\n          itemModel.get('_shouldBeSelected') :\n          itemModel.get('_isActive');\n\n        var index = itemModel.get('_index');\n        this.$('.js-item-label').filter('[data-adapt-index=\"' + index + '\"]')\n          .toggleClass('is-selected', isSelected)\n          .toggleClass('is-disabled', !isEnabled);\n\n        this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]')\n          .prop('checked', isSelected)\n          .prop('disabled', !isEnabled);\n\n      }.bind(this));\n\n    },\n\n    updateMarking: function() {\n\n      var isInteractive = this.model.isInteractive();\n      var canShowMarking = this.model.get('_canShowMarking');\n      var ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n      this.model.getChildren().each(function(itemModel) {\n\n        var index = itemModel.get('_index');\n        var $itemInput = this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]');\n        var $item = $itemInput.parents('.js-mcq-item');\n\n        if (isInteractive || !canShowMarking) {\n          // Remove item marking\n          $item.removeClass('is-correct is-incorrect');\n          $itemInput.attr('aria-label', $.a11y_normalize(itemModel.get('text')));\n          return;\n        }\n\n        // Mark item\n        var shouldBeSelected = itemModel.get('_shouldBeSelected');\n        var isCorrect = Boolean(itemModel.get('_isCorrect'));\n        var isActive = Boolean(itemModel.get('_isActive'));\n\n        $item\n          .toggleClass('is-correct', isCorrect)\n          .toggleClass('is-incorrect', !isCorrect);\n\n        $itemInput.attr('aria-label', [\n          (shouldBeSelected ? ariaLabels.correct : ariaLabels.incorrect),\n          ', ',\n          (isActive ? ariaLabels.selectedAnswer : ariaLabels.unselectedAnswer),\n          '. ',\n          $.a11y_normalize(itemModel.get('text'))\n        ].join(''));\n\n      }.bind(this));\n\n    }\n\n  });\n\n  return McqView;\n\n});\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\nimport ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nclass BlendedItemsComponentQuestionModel extends QuestionModel {\n\n  init() {\n    ItemsComponentModel.prototype.init.call(this);\n    super.init();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    ItemsComponentModel.prototype.reset.call(this, type, canReset);\n    return super.reset(type, canReset);\n  }\n\n}\n// extend BlendedItemsComponentQuestionModel with ItemsComponentModel\nObject.getOwnPropertyNames(ItemsComponentModel.prototype).forEach(name => {\n  if (name === 'constructor' || name === 'init' || name === 'reset') return;\n  Object.defineProperty(BlendedItemsComponentQuestionModel.prototype, name, {\n    value: ItemsComponentModel.prototype[name]\n  });\n});\n\nexport default class ItemsQuestionModel extends BlendedItemsComponentQuestionModel {\n\n  init() {\n    super.init();\n    this.set('_isRadio', this.isSingleSelect());\n    this.listenTo(this.getChildren(), 'change:_isActive', this.checkCanSubmit);\n    this.checkCanSubmit();\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const itemModels = this.getChildren();\n    const userAnswer = this.get('_userAnswer');\n    itemModels.each(item => {\n      item.toggleActive(userAnswer[item.get('_index')]);\n    });\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n    const children = this.getChildren();\n    children.set(children.shuffle());\n  }\n\n  // check if the user is allowed to submit the question\n  canSubmit() {\n    const activeItems = this.getActiveItems();\n    return activeItems.length > 0;\n  }\n\n  // This is important for returning or showing the users answer\n  // This should preserve the state of the users answers\n  storeUserAnswer() {\n    const items = this.getChildren().slice(0);\n    items.sort((a, b) => a.get('_index') - b.get('_index'));\n    const userAnswer = items.map(itemModel => itemModel.get('_isActive'));\n    this.set('_userAnswer', userAnswer);\n  }\n\n  isCorrect() {\n    const allChildren = this.getChildren();\n    const activeChildren = allChildren.filter(itemModel => itemModel.get('_isActive'));\n\n    const isItemCorrect = itemModel => itemModel.get('_shouldBeSelected') && !itemModel.get('_isPartlyCorrect');\n    const isItemPartlyCorrect = itemModel => itemModel.get('_isPartlyCorrect');\n    const isItemIncorrect = itemModel => !itemModel.get('_shouldBeSelected') && !itemModel.get('_isPartlyCorrect');\n\n    const sum = (list, predicate) => list.reduce((sum, item) => sum + (predicate(item) ? 1 : 0), 0);\n\n    const props = {\n      _numberOfRequiredAnswers: sum(allChildren, isItemCorrect),\n      _numberOfCorrectAnswers: sum(activeChildren, isItemCorrect),\n      _numberOfPartlyCorrectAnswers: sum(activeChildren, isItemPartlyCorrect),\n      _numberOfIncorrectAnswers: sum(activeChildren, isItemIncorrect)\n    };\n\n    activeChildren.forEach(itemModel => itemModel.set('_isCorrect', itemModel.get('_shouldBeSelected')));\n\n    props._isAtLeastOneCorrectSelection = (props._numberOfCorrectAnswers || props._numberOfPartlyCorrectAnswers);\n\n    const numberOfSelectableAnswers = this.get('_selectable');\n    const hasSelectableCorrectAnswers = (props._numberOfCorrectAnswers === numberOfSelectableAnswers);\n    const hasAllCorrectAnswers = (props._numberOfCorrectAnswers === props._numberOfRequiredAnswers);\n    const hasCorrectAnswers = (hasSelectableCorrectAnswers || hasAllCorrectAnswers);\n    const hasIncorrectAnswers = props._numberOfIncorrectAnswers;\n    const hasPartlyCorrectAnswers = props._numberOfPartlyCorrectAnswers;\n\n    this.set(props);\n\n    return hasCorrectAnswers && !hasIncorrectAnswers && !hasPartlyCorrectAnswers;\n  }\n\n  // Sets the score based upon the questionWeight\n  // Can be overwritten if the question needs to set the score in a different way\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n    const answeredCorrectly = this.get('_isCorrect');\n    const score = answeredCorrectly ? questionWeight : 0;\n    this.set('_score', score);\n  }\n\n  get score() {\n    if (!this.get('_hasItemScoring')) return super.score;\n    const children = this.getChildren()?.toArray() || [];\n    return children.reduce((score, child) => (score += child.get('_isActive') ? child.get('_score') || 0 : 0), 0);\n  }\n\n  get maxScore() {\n    if (!this.get('_hasItemScoring')) return super.maxScore;\n    const children = this.getChildren()?.toArray() || [];\n    const scores = children.map(child => child.get('_score') || 0);\n    scores.sort((a, b) => a - b);\n    return scores.reverse().slice(0, this.get('_selectable')).filter(score => score > 0).reduce((maxScore, score) => (maxScore += score), 0);\n  }\n\n  get minScore() {\n    if (!this.get('_hasItemScoring')) return super.minScore;\n    const children = this.getChildren()?.toArray() || [];\n    const scores = children.map(child => child.get('_score') || 0);\n    scores.sort((a, b) => a - b);\n    return scores.slice(0, this.get('_selectable')).filter(score => score < 0).reduce((minScore, score) => (minScore += score), 0);\n  }\n\n  setupFeedback() {\n    if (!this.has('_feedback')) return;\n\n    if (this.get('_isCorrect')) {\n      this.setupCorrectFeedback();\n      return;\n    }\n\n    if (this.isPartlyCorrect()) {\n      this.setupPartlyCorrectFeedback();\n      return;\n    }\n\n    // apply individual item feedback\n    const activeItem = this.getActiveItem();\n    if (this.isSingleSelect() && activeItem.get('feedback')) {\n      this.setupIndividualFeedback(activeItem);\n      return;\n    }\n\n    this.setupIncorrectFeedback();\n  }\n\n  setupIndividualFeedback(selectedItem) {\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(this.get('_feedback')),\n      feedbackMessage: selectedItem.get('feedback')\n    });\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  isAtActiveLimit() {\n    const selectedItems = this.getActiveItems();\n    return (selectedItems.length === this.get('_selectable'));\n  }\n\n  isSingleSelect() {\n    return (this.get('_selectable') === 1);\n  }\n\n  getLastActiveItem() {\n    const selectedItems = this.getActiveItems();\n    return selectedItems[selectedItems.length - 1];\n  }\n\n  /**\n   * Reset the question items for another attempt\n   */\n  resetQuestion() {\n    this.resetItems();\n  }\n\n  resetItems() {\n    this.resetActiveItems();\n    this.set('_isAtLeastOneCorrectSelection', false);\n  }\n\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: [],\n      choices: []\n    };\n\n    interactions.choices = this.getChildren().map(itemModel => {\n      return {\n        id: (itemModel.get('_index') + 1).toString(),\n        description: itemModel.get('text')\n      };\n    });\n\n    const correctItems = this.getChildren().filter(itemModel => {\n      return itemModel.get('_shouldBeSelected');\n    });\n\n    interactions.correctResponsesPattern = [\n      correctItems.map(itemModel => {\n        // indexes are 0-based, we need them to be 1-based for cmi.interactions\n        return String(itemModel.get('_index') + 1);\n      }).join('[,]')\n    ];\n\n    return interactions;\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * returns the user's answers as a string in the format '1,5,2'\n  */\n  getResponse() {\n    const activeItems = this.getActiveItems();\n    const activeIndexes = activeItems.map(itemModel => {\n      // indexes are 0-based, we need them to be 1-based for cmi.interactions\n      return itemModel.get('_index') + 1;\n    });\n    return activeIndexes.join(',');\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'choice';\n  }\n\n  /**\n   * Creates a string explaining the answer(s) the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components['_' + this.get('_component')];\n    const isSingleSelect = this.isSingleSelect();\n    const ariaAnswer = isSingleSelect ? globals?.ariaCorrectAnswer : globals?.ariaCorrectAnswers;\n    if (!ariaAnswer) return;\n\n    const correctOptions = this.getChildren().where({ _shouldBeSelected: true });\n    const correctAnswer = isSingleSelect ?\n      correctOptions[0]?.get('text') :\n      correctOptions.map(correctOption => correctOption.get('text')).join('<br>');\n\n    return Handlebars.compile(ariaAnswer)({ correctAnswer });\n  }\n\n  /**\n   * Creates a string listing the answer(s) the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components['_' + this.get('_component')];\n    const isSingleSelect = this.isSingleSelect();\n    const ariaAnswer = isSingleSelect ? globals?.ariaUserAnswer : globals?.ariaUserAnswers;\n    if (!ariaAnswer) return;\n\n    const selectedItems = this.getActiveItems();\n    const userAnswer = isSingleSelect ?\n      selectedItems[0].get('text') :\n      selectedItems.map(selectedItem => selectedItem.get('text')).join('<br>');\n\n    return Handlebars.compile(ariaAnswer)({ userAnswer });\n  }\n\n}\n","define([\n  'core/js/adapt',\n  './mcqView',\n  'core/js/models/itemsQuestionModel'\n], function(Adapt, McqView, ItemsQuestionModel) {\n\n  return Adapt.register('mcq', {\n    view: McqView,\n    // Extend ItemsQuestionModel to distinguish McqModel in\n    // the inheritance chain and allow targeted model extensions.\n    model: ItemsQuestionModel.extend({})\n  });\n\n});\n","define([\n  'core/js/adapt',\n  'components/adapt-contrib-mcq/js/adapt-contrib-mcq'\n], function(Adapt, Mcq) {\n\n  var Gmcq = Mcq.view.extend({\n\n    setupQuestion: function() {\n      Mcq.view.prototype.setupQuestion.call(this);\n\n      this.listenTo(Adapt, {\n        'device:changed': this.resizeImage,\n        'device:resize': this.onDeviceResize\n      });\n\n    },\n\n    onQuestionRendered: function() {\n\n      this.resizeImage(Adapt.device.screenSize);\n      this.setUpColumns();\n\n      this.$('.js-item-label').imageready(this.setReadyStatus.bind(this));\n\n    },\n\n    onDeviceResize: function() {\n      this.setUpColumns();\n    },\n\n    resizeImage: function(width) {\n      var imageWidth = width === 'medium' ? 'small' : width;\n\n      this.$('.js-item-label').each(function(index) {\n        var $img = $(this).find('img');\n        var newSrc = $img.attr('data-' + imageWidth);\n        if (!newSrc) return;\n        $img.attr('src', newSrc);\n      });\n\n    },\n\n    setUpColumns: function() {\n      var columns = this.model.get('_columns');\n\n      if (!columns) return;\n\n      var isLarge = Adapt.device.screenSize === 'large';\n\n      this.$el.toggleClass('has-column-layout', isLarge);\n      this.$('.js-mcq-item').css('width', isLarge ? (100 / columns) + '%' : '');\n    },\n\n    updateMarking: function() {\n\n      var isInteractive = this.model.isInteractive();\n      var canShowMarking = this.model.get('_canShowMarking');\n      var ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n      this.model.getChildren().forEach(function(itemModel) {\n\n        var index = itemModel.get('_index');\n        var $itemInput = this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]');\n        var $item = $itemInput.parents('.js-mcq-item');\n\n        if (isInteractive || !canShowMarking) {\n          // Remove item marking\n          $item.removeClass('is-correct is-incorrect');\n          $itemInput.attr('aria-label', [\n            Adapt.a11y.normalize(itemModel.get('text')),\n            '. ',\n            Adapt.a11y.normalize(itemModel.get('_graphic').alt)\n          ].join(''));\n          return;\n        }\n\n        // Mark item\n        var shouldBeSelected = itemModel.get('_shouldBeSelected');\n        var isCorrect = Boolean(itemModel.get('_isCorrect'));\n        var isActive = Boolean(itemModel.get('_isActive'));\n\n        $item\n          .toggleClass('is-correct', isCorrect)\n          .toggleClass('is-incorrect', !isCorrect);\n\n        $itemInput.attr('aria-label', [\n          (shouldBeSelected ? ariaLabels.correct : ariaLabels.incorrect),\n          ', ',\n          (isActive ? ariaLabels.selectedAnswer : ariaLabels.unselectedAnswer),\n          '. ',\n          $.a11y_normalize(itemModel.get('text')),\n          '. ',\n          $.a11y_normalize(itemModel.get('_graphic').alt)\n        ].join(''));\n\n      }, this);\n    }\n\n  }, {\n    template: 'gmcq'\n  });\n\n  return Adapt.register('gmcq', {\n    view: Gmcq,\n    model: Mcq.model.extend({})\n  });\n\n});\n","import ComponentView from 'core/js/views/componentView';\n\nclass GraphicView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-graphic-link': 'onClick'\n    };\n  }\n\n  postRender() {\n    this.$('.graphic__widget').imageready(() => {\n      this.setReadyStatus();\n      this.setupInviewCompletion('.graphic__widget');\n    });\n  }\n\n  onClick(event) {\n    if (event) event.preventDefault();\n\n    const item = this.model.get('_graphic');\n    const { _url: url, _target: target = '_blank' } = item;\n\n    const isNewWindow = (target !== '_self');\n    if (isNewWindow) return window.open(url, target);\n    const isRouterNavigation = (url.substr(0, 1) === '#');\n    if (isRouterNavigation) return Backbone.history.navigate(url, { trigger: true });\n    window.location.href = url;\n  }\n\n}\n\nGraphicView.template = 'graphic.jsx';\n\nexport default GraphicView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class GraphicModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport GraphicView from './GraphicView';\nimport GraphicModel from './GraphicModel';\n\nexport default Adapt.register('graphic', {\n  model: GraphicModel,\n  view: GraphicView\n});\n","import Adapt from 'core/js/adapt';\n\nclass HotgraphicPopupView extends Backbone.View {\n\n  className() {\n    return 'hotgraphic-popup';\n  }\n\n  events() {\n    return {\n      'click .js-hotgraphic-popup-close': 'closePopup',\n      'click .js-hotgraphic-controls-click': 'onControlClick'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n    // Debounce required as a second (bad) click event is dispatched on iOS causing a jump of two items.\n    this.onControlClick = _.debounce(this.onControlClick.bind(this), 100);\n    this.listenToOnce(Adapt, 'notify:opened', this.onOpened);\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n    this.render();\n  }\n\n  onOpened() {\n    this.applyNavigationClasses(this.model.getActiveItem().get('_index'));\n    this.updatePageCount();\n    this.handleTabs();\n  }\n\n  applyNavigationClasses (index) {\n    const itemCount = this.model.get('_items').length;\n    const canCycleThroughPagination = this.model.get('_canCycleThroughPagination');\n\n    const shouldEnableBack = index > 0 || canCycleThroughPagination;\n    const shouldEnableNext = index < itemCount - 1 || canCycleThroughPagination;\n    const $controls = this.$('.hotgraphic-popup__controls');\n\n    this.$('hotgraphic-popup__nav')\n      .toggleClass('first', !shouldEnableBack)\n      .toggleClass('last', !shouldEnableNext);\n\n    Adapt.a11y.toggleAccessibleEnabled($controls.filter('.back'), shouldEnableBack);\n    Adapt.a11y.toggleAccessibleEnabled($controls.filter('.next'), shouldEnableNext);\n  }\n\n  updatePageCount() {\n    const template = Adapt.course.get('_globals')._components._hotgraphic.popupPagination || '{{itemNumber}} / {{totalItems}}';\n    const labelText = Handlebars.compile(template)({\n      itemNumber: this.model.getActiveItem().get('_index') + 1,\n      totalItems: this.model.get('_items').length\n    });\n    this.$('.hotgraphic-popup__count').html(labelText);\n  }\n\n  handleTabs() {\n    Adapt.a11y.toggleHidden(this.$('.hotgraphic-popup__item:not(.is-active)'), true);\n    Adapt.a11y.toggleHidden(this.$('.hotgraphic-popup__item.is-active'), false);\n  }\n\n  onItemsActiveChange(item, _isActive) {\n    if (!_isActive) return;\n    const index = item.get('_index');\n    this.updatePageCount();\n    this.applyItemClasses(index);\n    this.handleTabs();\n    this.handleFocus(index);\n  }\n\n  applyItemClasses(index) {\n    this.$(`.hotgraphic-popup__item[data-index=\"${index}\"]`).addClass('is-active').removeAttr('aria-hidden');\n    this.$(`.hotgraphic-popup__item[data-index=\"${index}\"] .hotgraphic-popup__item-title`).attr('id', 'notify-heading');\n    this.$(`.hotgraphic-popup__item:not([data-index=\"${index}\"])`).removeClass('is-active').attr('aria-hidden', 'true');\n    this.$(`.hotgraphic-popup__item:not([data-index=\"${index}\"]) .hotgraphic-popup__item-title`).removeAttr('id');\n  }\n\n  handleFocus(index) {\n    Adapt.a11y.focusFirst(this.$('.hotgraphic-popup__inner .is-active'));\n    this.applyNavigationClasses(index);\n  }\n\n  onItemsVisitedChange(item, _isVisited) {\n    if (!_isVisited) return;\n\n    this.$('.hotgraphic-popup__item')\n      .filter(`[data-index=\"${item.get('_index')}\"]`)\n      .addClass('is-visited');\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    data.view = this;\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  closePopup() {\n    Adapt.trigger('notify:close');\n  }\n\n  onControlClick(event) {\n    const direction = $(event.currentTarget).data('direction');\n    const index = this.getNextIndex(direction);\n    if (index === -1) return;\n\n    this.setItemState(index);\n  }\n\n  getNextIndex(direction) {\n    let index = this.model.getActiveItem().get('_index');\n    const lastIndex = this.model.get('_items').length - 1;\n\n    switch (direction) {\n      case 'back':\n        if (index > 0) return --index;\n        if (this.model.get('_canCycleThroughPagination')) return lastIndex;\n        break;\n      case 'next':\n        if (index < lastIndex) return ++index;\n        if (this.model.get('_canCycleThroughPagination')) return 0;\n    }\n    return -1;\n  }\n\n  setItemState(index) {\n    this.model.getActiveItem().toggleActive();\n\n    const nextItem = this.model.getItem(index);\n    nextItem.toggleActive();\n    nextItem.toggleVisited(true);\n  }\n\n};\n\nHotgraphicPopupView.template = 'hotgraphicPopup';\n\nexport default HotgraphicPopupView;\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport HotgraphicPopupView from './hotgraphicPopupView';\n\nclass HotGraphicView extends ComponentView {\n\n  events () {\n    return {\n      'click .js-hotgraphic-item-click': 'onPinClicked'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n\n    this.setUpViewData();\n    this.setUpModelData();\n    this.setUpEventListeners();\n  }\n\n  setUpViewData() {\n    this.popupView = null;\n    this._isPopupOpen = false;\n  }\n\n  setUpModelData() {\n    if (this.model.get('_canCycleThroughPagination') !== undefined) return;\n    this.model.set('_canCycleThroughPagination', false);\n  }\n\n  setUpEventListeners() {\n    this.listenTo(Adapt, 'device:changed', this.reRender);\n\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n  }\n\n  reRender() {\n    if (Adapt.device.screenSize === 'large' || this.model.get('_isNarrativeOnMobile') === false) return;\n\n    this.replaceWithNarrative();\n  }\n\n  replaceWithNarrative() {\n    const NarrativeView = Adapt.getViewClass('narrative');\n    if (!NarrativeView) return;\n\n    const model = this.prepareNarrativeModel();\n    const newNarrative = new NarrativeView({ model });\n    // NOTE: if this component is doing its inital render in 'narrative mode',\n    // this.$el.parents() won't exist at this point - which is why the following is\n    // written the way it is, instead of (what would appear to be) the more efficient\n    // this.$el.parents('.component__container')\n    const $container = Adapt.findViewByModelId(model.get('_parentId')).$el.find('.component__container');\n    $container.append(newNarrative.$el);\n\n    this.remove();\n    _.defer(() => {\n      Adapt.trigger('device:resize');\n    });\n  }\n\n  prepareNarrativeModel() {\n    this.model.set({\n      _component: 'narrative',\n      _wasHotgraphic: true,\n      originalBody: this.model.get('body'),\n      originalInstruction: this.model.get('instruction')\n    });\n\n    // Check if active item exists, default to 0\n    const activeItem = this.model.getActiveItem();\n    if (!activeItem) {\n      this.model.getItem(0).toggleActive(true);\n    }\n\n    // Swap mobile body and instructions for desktop variants.\n    if (this.model.get('mobileBody')) {\n      this.model.set('body', this.model.get('mobileBody'));\n    }\n    if (this.model.get('mobileInstruction')) {\n      this.model.set('instruction', this.model.get('mobileInstruction'));\n    }\n\n    return this.model;\n  }\n\n  onItemsActiveChange(model, _isActive) {\n    this.getItemElement(model).toggleClass('is-active', _isActive);\n  }\n\n  getItemElement(model) {\n    const index = model.get('_index');\n    return this.$('.js-hotgraphic-item-click').filter(`[data-index=\"${index}\"]`);\n  }\n\n  onItemsVisitedChange(model, _isVisited) {\n    if (!_isVisited) return;\n\n    const $pin = this.getItemElement(model);\n    // Append the word 'visited.' to the pin's aria-label\n    const visitedLabel = ` ${this.model.get('_globals')._accessibility._ariaLabels.visited}.`;\n    $pin.find('.aria-label').each((index, el) => {\n      el.innerHTML += visitedLabel;\n    });\n\n    $pin.addClass('is-visited');\n  }\n\n  preRender() {\n    if (Adapt.device.screenSize === 'large') {\n      this.render();\n      return;\n    }\n\n    this.reRender();\n  }\n\n  postRender() {\n    this.$('.hotgraphic__widget').imageready(this.setReadyStatus.bind(this));\n    if (this.model.get('_setCompletionOn') !== 'inview') return;\n    this.setupInviewCompletion('.component__widget');\n  }\n\n  onPinClicked (event) {\n    const item = this.model.getItem($(event.currentTarget).data('index'));\n    item.toggleActive(true);\n    item.toggleVisited(true);\n\n    this.openPopup();\n  }\n\n  openPopup() {\n    if (this._isPopupOpen) return;\n\n    this._isPopupOpen = true;\n\n    this.popupView = new HotgraphicPopupView({\n      model: this.model\n    });\n\n    Adapt.notify.popup({\n      _attributes: { 'data-adapt-id': this.model.get('_id') },\n      _view: this.popupView,\n      _isCancellable: true,\n      _showCloseButton: false,\n      _classes: 'hotgraphic is-component is-hotgaphic ' + this.model.get('_classes')\n    });\n\n    this.listenToOnce(Adapt, {\n      'popup:closed': this.onPopupClosed\n    });\n  }\n\n  onPopupClosed() {\n    this.model.getActiveItem().toggleActive();\n    this._isPopupOpen = false;\n  }\n\n}\n\nHotGraphicView.template = 'hotgraphic';\n\nexport default HotGraphicView;\n","import Adapt from 'core/js/adapt';\nimport HotgraphicView from './hotgraphicView';\nimport ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nexport default Adapt.register('hotgraphic', {\n  model: ItemsComponentModel.extend({}),\n  view: HotgraphicView\n});\n","export default class DropDownItem extends Backbone.View {\n\n  events() {\n    return {\n      click: 'onClick',\n      'click *': 'onClick'\n    };\n  }\n\n  initialize(settings) {\n    this.settings = settings;\n    this.$inner = this.$('.js-dropdown-list-item-inner');\n  }\n\n  isPlaceholder() {\n    return this.$el.is('[hidden]');\n  }\n\n  parent() {\n    return this.settings.parent;\n  }\n\n  onClick(event) {\n    const parent = this.parent();\n    event.preventDefault();\n    this.select().scrollTo();\n    parent.$button.focus();\n  }\n\n  getValue() {\n    return this.$el.attr('value').trim();\n  }\n\n  select() {\n    const parent = this.parent();\n    parent.deselectAll();\n    parent.setActiveDescendantId(this.el.id);\n    this.$el.attr({\n      selected: '',\n      'aria-selected': 'true'\n    });\n    parent.$inner.html(this.$el.attr('text'));\n    const value = this.isPlaceholder() ? '' : this.getValue();\n    parent.$input.val(value).trigger('change');\n    parent.trigger('change', parent);\n    return this;\n  }\n\n  deselect() {\n    if (!this.isSelected()) return this;\n    const parent = this.parent();\n    parent.removeActiveDescendantId();\n    this.$el.removeAttr('selected');\n    this.$el.attr('aria-selected', 'false');\n    parent.$inner.html('');\n    parent.$input.val('').trigger('change');\n    parent.trigger('change', parent);\n    return this;\n  }\n\n  reselect() {\n    const parent = this.parent();\n    parent.setActiveDescendantId(this.$el[0].id);\n    if (this.isSelected()) return this;\n    this.select();\n    return this;\n  }\n\n  isSelected() {\n    return Boolean(this.$el.attr('selected'));\n  }\n\n  getIndex() {\n    const parent = this.parent();\n    return parent.options.findIndex(option => option === this);\n  }\n\n  getNext() {\n    const parent = this.parent();\n    return parent.options[this.getIndex() + 1];\n  }\n\n  getPrevious() {\n    const parent = this.parent();\n    return parent.options[this.getIndex() - 1];\n  }\n\n  getFirst() {\n    const parent = this.parent();\n    return parent.options[0];\n  }\n\n  getLast() {\n    const parent = this.parent();\n    return parent.options[parent.options.length - 1];\n  }\n\n  scrollTo() {\n    const parent = this.parent();\n    parent.settings.scrollToItem.call(parent, this);\n  }\n\n  destroy() {\n    const parent = this.parent();\n    this.remove();\n    if (this.isPlaceholder()) {\n      parent.placeholder = null;\n    } else {\n      for (let i = 0, l = parent.options.length; i < l; i++) {\n        const item = parent.options[i];\n        if (item !== this) continue;\n        parent.options.splice(i, 1);\n        break;\n      }\n    }\n    delete this.settings;\n  }\n\n}\n","import DropDownOption from './dropdownOption';\n\nclass DropDown extends Backbone.View {\n\n  initialize(settings) {\n    _.bindAll(this, 'onStartInteraction', 'onButtonClick', 'onListBlur', 'onKeyDown');\n    this.settings = _.defaults(settings, DropDown.defaults);\n    this.placeholder = null;\n    this.options = [];\n    this.setUpElements();\n    this.setUpItems();\n    this.select(this.settings.value);\n    this.addEventListeners();\n    this.toggleOpen(false);\n    this.settings.load.call(this, this);\n    this.trigger('load', this);\n  }\n\n  setUpElements() {\n    this.$list = this.$('.js-dropdown-list');\n    this.$button = this.$('.js-dropdown-btn');\n    this.$inner = this.$button.find('.js-dropdown-inner');\n    this.$input = this.$('.js-data-output');\n  }\n\n  setUpItems() {\n    const $options = this.$('.js-dropdown-list-item');\n    $options.each((index, el) => {\n      const option = new DropDownOption({ parent: this, el });\n      if (option.isPlaceholder()) {\n        this.placeholder = option;\n        return;\n      }\n      this.options.push(option);\n    });\n  }\n\n  addEventListeners() {\n    this.$button.on({\n      'mousedown touchstart': this.onStartInteraction,\n      click: this.onButtonClick\n    });\n    this.$list.on('blur', this.onListBlur);\n    $(document).on('keydown', this.onKeyDown);\n  }\n\n  onStartInteraction() {\n    this.wasOpen = this.isOpen();\n  }\n\n  deselectAll() {\n    this.placeholder.deselect();\n    this.options.forEach(option => option.deselect());\n  }\n\n  onButtonClick() {\n    if (this.wasOpen || this.isOpen()) {\n      // click toggle list:\n      // if the list is open and the button is clicked\n      // the blur event will fire first closing the list.\n      // this code is to prevent the list from reopening\n      // in that situation\n      this.wasOpen = false;\n      return;\n    }\n    this.toggleOpen();\n    const option = this.getFirstSelectedItem() || this.placeholder;\n    if (!option) return;\n    option.reselect();\n    option.scrollTo();\n    this.$list.focus();\n  }\n\n  isOpen() {\n    return !this.$list.hasClass('u-display-none');\n  }\n\n  toggleOpen(open = !this.isOpen()) {\n    if (open) clearTimeout(this.blurTimeout);\n    this.$button.attr('aria-expanded', open ? 'true' : 'false');\n    const name = open ? 'openList' : 'closeList';\n    this.settings[name].call(this, this);\n    this.trigger(name, this);\n  }\n\n  onListBlur() {\n    // IE11: Allow option click handler to execute before blur and close list\n    const handleBlur = () => {\n      this.toggleOpen(false);\n      this.removeActiveDescendantId();\n    };\n    this.blurTimeout = setTimeout(handleBlur, 100);\n  }\n\n  onKeyDown(event) {\n    if (!this.isOpen()) return;\n    let option = this.getFirstSelectedItem() || this.placeholder;\n    switch (event.keyCode) {\n      case 38: // UP\n        event.preventDefault();\n        option = option.getPrevious() || option.getLast();\n        break;\n      case 40: // DOWN\n        event.preventDefault();\n        option = option.getNext() || option.getFirst();\n        break;\n      case 13: // ENTER\n      case 32: // SPACE\n      case 27: // ESCAPE\n        event.preventDefault();\n        this.$button.focus();\n        return;\n      default:\n        return;\n    }\n    option.select().scrollTo();\n  }\n\n  getFirstSelectedItem() {\n    return this.options.find(option => option.isSelected()) || this.options[0];\n  }\n\n  setActiveDescendantId(id) {\n    this.$list.attr('aria-activedescendant', id);\n  }\n\n  removeActiveDescendantId() {\n    this.$list.removeAttr('aria-activedescendant');\n  }\n\n  select(value) {\n    value = String(value);\n    const option = this.options.find(option => option.getValue() === value);\n    if (option) {\n      option.select();\n      return;\n    }\n    this.placeholder.select();\n  }\n\n  toggleDisabled(value = !this.$input.attr('disabled')) {\n    if (value === false) {\n      this.$input.removeAttr('disabled');\n      this.$button\n        .removeAttr('disabled')\n        .removeClass('is-disabled');\n      this.$el.removeAttr('disabled');\n      return;\n    }\n    this.$input.attr('disabled', '');\n    this.$button\n      .attr('disabled', '')\n      .addClass('is-disabled');\n    this.$el.attr('disabled', '');\n  }\n\n  isEmpty() {\n    return !this.getFirstSelectedItem();\n  }\n\n  val() {\n    return this.$input.val();\n  }\n\n  destroy() {\n    this.removeEventListeners();\n    this.$el.remove();\n    delete this.options;\n    delete this.$input;\n    delete this.$inner;\n    delete this.$button;\n    delete this.$list;\n    delete this.$el;\n  }\n\n  removeEventListeners() {\n    this.$button.off({\n      'mousedown touchstart': this.onStartInteraction,\n      click: this.onButtonClick\n    });\n    this.$list.off('blur', this.onListBlur);\n    $(document).off('keydown', this.onKeyDown);\n  }\n\n}\n\nDropDown.defaults = {\n\n  load() {},\n\n  openList() {\n    this.$list\n      .css({\n        top: '',\n        left: this.$button[0].offsetLeft,\n        width: this.$button.outerWidth()\n      })\n      .addClass('u-visibility-hidden')\n      .removeClass('u-display-none');\n\n    const offset = this.$list[0].getBoundingClientRect();\n    const height = this.$list.height();\n    const windowHeight = $(window).height();\n    const isOffscreen = (offset.top + height > windowHeight);\n\n    this.$list\n      .css('top', isOffscreen ? -height : '')\n      .removeClass('u-visibility-hidden')\n      .focus();\n  },\n\n  closeList() {\n    this.$list\n      .removeClass('u-visibility-hidden')\n      .addClass('u-display-none')\n      .css('top', '');\n  },\n\n  scrollToItem(option) {\n    const height = this.$list[0].clientHeight;\n    const pos = option.$el[0].offsetTop - (height / 2);\n    this.$list[0].scrollTop = pos;\n  }\n\n};\n\nexport default DropDown;\n","import Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\nimport DropDown from './dropdown';\n\nexport default class MatchingView extends QuestionView {\n\n  preinitialize() {\n    this.dropdowns = [];\n  }\n\n  disableQuestion() {\n    this.dropdowns.forEach(dropdown => dropdown.toggleDisabled(true));\n  }\n\n  enableQuestion() {\n    this.dropdowns.forEach(dropdown => dropdown.toggleDisabled(false));\n  }\n\n  setupQuestion() {\n    this.listenToOnce(Adapt.parentView, 'postRemove', this.onPostRemove);\n    this.model.setupRandomisation();\n  }\n\n  onPostRemove() {\n    this.dropdowns.forEach(dropdown => {\n      dropdown.off('change', this.onOptionSelected);\n      dropdown.destroy();\n    });\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n    this.setUpDropdowns();\n  }\n\n  setUpDropdowns() {\n    this.onOptionSelected = this.onOptionSelected.bind(this);\n    const items = this.model.get('_items');\n    this.$('.matching__item').each((i, el) => {\n      const item = items[i];\n      const selectedOption = item._options.find(({ _isSelected }) => _isSelected);\n      const dropdown = new DropDown({\n        el: $(el).find('.dropdown')[0],\n        placeholder: this.model.get('placeholder'),\n        value: selectedOption?._index ?? null\n      });\n      this.dropdowns.push(dropdown);\n      dropdown.on('change', this.onOptionSelected);\n    });\n    this.enableQuestion();\n    if (this.model.get('_isEnabled') !== true) {\n      this.disableQuestion();\n    }\n  }\n\n  onCannotSubmit() {\n    this.dropdowns.forEach(dropdown => {\n      if (!dropdown.isEmpty()) return;\n      dropdown.$el.parents('.matching__select-container').addClass('has-error');\n    });\n  }\n\n  onOptionSelected(dropdown) {\n    if (this.model.get('_isInteractionComplete')) return;\n    const $container = dropdown.$el.parents('.matching__select-container');\n    $container.removeClass('error');\n    const itemIndex = dropdown.$el.parents('.matching__item').index();\n    if (dropdown.isEmpty()) return;\n    const optionIndex = parseInt(dropdown.val());\n    this.model.setOptionSelected(itemIndex, optionIndex, true);\n  }\n\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.model.get('_items').forEach(({ _isCorrect }, i) => {\n      const $item = this.$('.matching__item').eq(i);\n      $item\n        .toggleClass('is-correct', _isCorrect)\n        .toggleClass('is-incorrect', !_isCorrect);\n    });\n  }\n\n  resetQuestion() {\n    this.$('.matching__item').removeClass('is-correct is-incorrect');\n    this.model.set('_isAtLeastOneCorrectSelection', false);\n    const resetAll = this.model.get('_shouldResetAllAnswers');\n    this.model.get('_items').forEach((item, index) => {\n      if (item._isCorrect && resetAll === false) return;\n      this.selectValue(index, null);\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n  }\n\n  showCorrectAnswer() {\n    this.model.get('_items').forEach(({ _options }, index) => {\n      const correctOption = _options.find(({ _isCorrect }) => _isCorrect);\n      this.selectValue(index, correctOption._index);\n    });\n  }\n\n  hideCorrectAnswer() {\n    const answerArray = this.model.has('_tempUserAnswer') ?\n      this.model.get('_tempUserAnswer') :\n      this.model.get('_userAnswer');\n\n    this.model.get('_items').forEach(({ _options }, index) => {\n      const key = answerArray[index];\n      const value = _options[key]._index;\n      this.selectValue(index, value);\n    });\n  }\n\n  /**\n   * Sets the selected item of a dropdown\n   * @param {number} index The index (0-based) of the dropdown\n   * @param {string} value The option _index\n   * @example\n   * // Sets the third dropdown to option _index 1\n   * this.selectValue(2, 1);\n   */\n  selectValue(index, optionIndex) {\n    if (!this.dropdowns) return;\n    const dropdown = this.dropdowns[index];\n    if (!dropdown) return;\n    dropdown.select(optionIndex);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class MatchingModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.setupQuestionItemIndexes();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set('_isAtLeastOneCorrectSelection', false);\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) {\n        item._index = index;\n        item._selected = false;\n      }\n      item._options.forEach((option, index) => {\n        if (option._index !== undefined) return;\n        option._index = index;\n        option._isSelected = false;\n      });\n    });\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.get('_items').forEach(item => (item._options = _.shuffle(item._options)));\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => {\n        if (option._index !== userAnswer[item._index]) return;\n        option._isSelected = true;\n        item._selected = option;\n      });\n    });\n\n    this.setQuestionAsSubmitted();\n    this.checkCanSubmit();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  canSubmit() {\n    // can submit if every item has a selection\n    const canSubmit = this.get('_items').every(({ _options }) => {\n      return _options.some(({ _isSelected }) => _isSelected);\n    });\n\n    return canSubmit;\n  }\n\n  setOptionSelected(itemIndex, optionIndex, isSelected) {\n    const item = this.get('_items')[itemIndex];\n    if (isNaN(optionIndex)) {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n      return this.checkCanSubmit();\n    }\n    const option = item._options.find(({ _index }) => _index === optionIndex);\n    option._isSelected = isSelected;\n    item._selected = option;\n    this.checkCanSubmit();\n  }\n\n  storeUserAnswer() {\n    const userAnswer = new Array(this.get('_items').length);\n    const tempUserAnswer = new Array(this.get('_items').length);\n\n    this.get('_items').forEach(item => {\n      const optionIndex = item._options.findIndex(({ _isSelected }) => _isSelected);\n\n      tempUserAnswer[item._index] = optionIndex;\n      userAnswer[item._index] = item._options[optionIndex]._index;\n    });\n\n    this.set({\n      _userAnswer: userAnswer,\n      _tempUserAnswer: tempUserAnswer\n    });\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').reduce((a, item) => {\n      const isCorrect = item._selected?._isCorrect;\n      item._isCorrect = Boolean(isCorrect);\n      if (!isCorrect) {\n        return a;\n      }\n      this.set('_isAtLeastOneCorrectSelection', true);\n      return ++a;\n    }, 0);\n\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    if (numberOfCorrectAnswers === this.get('_items').length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n\n    if (this.get('_isCorrect')) {\n      this.set('_score', questionWeight);\n      return;\n    }\n\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n\n    this.set('_score', score);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  /**\n  * Used by tracking extensions to return an object containing the component's specific interactions.\n  */\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: null,\n      source: null,\n      target: null\n    };\n    const items = this.get('_items');\n    // This contains an array with a single string value, matching the source 'id' with the correct\n    // matching target 'id' value. An example is as follows:\n    // [ \"1[.]1_2[,]2[.]2_3\" ]\n    interactions.correctResponsesPattern = [\n      items.map(({ _options }, questionIndex) => {\n        // Offset the item index and use it as a group identifier.\n        questionIndex++;\n        return [\n          questionIndex,\n          // Get the correct item(s).\n          _options.filter(({ _isCorrect }) => _isCorrect).map(({ _index }) => {\n            // Prefix the option's index and offset by 1.\n            return `${questionIndex}_${_index + 1}`;\n          })\n        ].join('[.]');\n      }).join('[,]')\n    ];\n    // The 'source' property contains an array of all the stems/questions, e.g.\n    // [{id: \"1\", description: \"First question\"}, {id: \"2\", description: \"Second question\"}]\n    interactions.source = items.map(item => {\n      return {\n        // Offset by 1.\n        id: `${item._index + 1}`,\n        description: item.text\n      };\n    }).flat(Infinity);\n    // The 'target' property contains an array of all the option responses, with the 'id'\n    // prefixed to indicate the grouping, e.g.\n    // [  {id: \"1_1\": description: \"First option, group 1\"},\n    //    {id: \"1_2\": description: \"Second option, group 1\"}\n    //    {id: \"2_1\": description: \"First option, group 2\"}  ]\n    interactions.target = items.map(({ _options }, index) => {\n      // Offset by 1, as these values are not zero-indexed.\n      index++;\n      return _options.map(option => {\n        return {\n          id: `${index}_${option._index + 1}`,\n          description: option.text\n        };\n      });\n    }).flat(Infinity);\n    return interactions;\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * @return {string} the user's answers as a string in the format \"1.1#2.3#3.2\" assuming user selected option 1 in drop-down 1,\n  * option 3 in drop-down 2 and option 2 in drop-down 3. The '#' character will be changed to either ',' or '[,]' by adapt-contrib-spoor,\n  * depending on which SCORM version is being used.\n  */\n  getResponse() {\n    const responses = this.get('_userAnswer').map((userAnswer, index) => {\n      // convert from 0-based to 1-based counting\n      return `${index + 1}.${userAnswer + 1}`;\n    });\n\n    return responses.join('#');\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  * @return {string}\n  */\n  getResponseType() {\n    return 'matching';\n  }\n\n  /**\n   * Creates a string explaining the answers the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const correctAnswerTemplate = Adapt.course.get('_globals')._components._matching.ariaCorrectAnswer;\n    const ariaAnswer = this.get('_items').map(item => {\n      const correctOption = item._options.find(({ _isCorrect }) => _isCorrect);\n      return Handlebars.compile(correctAnswerTemplate)({\n        itemText: item.text,\n        correctAnswer: correctOption.text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n\n  /**\n   * Creates a string listing the answers the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const userAnswerTemplate = Adapt.course.get('_globals')._components._matching.ariaUserAnswer;\n    const answerArray = this.has('_tempUserAnswer') ?\n      this.get('_tempUserAnswer') :\n      this.get('_userAnswer');\n\n    const ariaAnswer = this.get('_items').map((item, index) => {\n      const key = answerArray[index];\n      return Handlebars.compile(userAnswerTemplate)({\n        itemText: item.text,\n        userAnswer: item._options[key].text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport MatchingView from './matchingView';\nimport MatchingModel from './matchingModel';\n\nexport default Adapt.register('matching', {\n  view: MatchingView,\n  model: MatchingModel\n});\n","define([\n  'core/js/adapt',\n  'libraries/mediaelement-and-player'\n], function(Adapt) {\n  var mepPrototype = $.extend({}, mejs.MediaElementPlayer.prototype);\n\n  $.extend(mejs.MediaElementPlayer.prototype, {\n    /**\n    * fixes a bug (adaptlearning/adapt_framework#1478)\n    * where the media player going into/coming out of full-screen mode would trigger inview on\n    * components below it; we therefore need to switch off inview when entering full screen mode\n    * and switch it back on again after exiting full screen mode\n    */\n    detectFullscreenMode: function() {\n      var vendorPrefix = this.getVendorPrefix();\n      var fsEventName = 'on' + vendorPrefix + 'fullscreenchange';\n\n      if (document[fsEventName] === null) {\n        document[fsEventName] = function fullScreenEventHandler() {\n\n          var elementName = (vendorPrefix === '' ? 'fullscreenElement' : vendorPrefix + 'FullscreenElement');\n\n          if (document[elementName] !== null) {\n            $.inview.lock('mediaelement');\n            Adapt.trigger('media:fullscreen:enter');\n          } else {\n            $.inview.unlock('mediaelement');\n            Adapt.trigger('media:fullscreen:exit');\n          }\n        };\n      }\n      return mepPrototype.detectFullscreenMode.apply(this, arguments);\n    },\n\n    /**\n    * because the fullscreen events and properties are still vendor-prefixed in some browsers...\n    */\n    getVendorPrefix: function() {\n      var browser = Adapt.device.browser;\n\n      if (browser === 'internet explorer') {\n        return 'ms';\n      }\n\n      if (browser === 'microsoft edge' || browser === 'safari') {\n        return 'webkit';\n      }\n\n      return ''; // Chrome, Opera and Firefox no longer require a vendor prefix\n    }\n  });\n});\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport 'libraries/mediaelement-and-player';\nimport 'libraries/mediaelement-fullscreen-hook';\nimport log from 'core/js/logging';\nimport offlineStorage from 'core/js/offlineStorage';\n\n/*\n  * Default shortcut keys trap a screen reader user inside the player once in focus. These keys are unnecessary\n  * as one may traverse the player in a linear fashion without needing to know or use shortcut keys. Below is\n  * the removal of the default shortcut keys.\n  *\n  * The default seek interval functions are passed two different data types from mejs which they handle incorrectly. One\n  * is a duration integer the other is the player object. The default functions error on slider key press and so break\n  * accessibility. Below is a correction.\n  */\n\nObject.assign(window.mejs.MepDefaults, {\n  keyActions: [],\n  defaultSeekForwardInterval: duration => {\n    if (typeof duration === 'object') return duration.duration * 0.05;\n    return duration * 0.05;\n  },\n  defaultSeekBackwardInterval: duration => {\n    if (typeof duration === 'object') return duration.duration * 0.05;\n    return duration * 0.05;\n  }\n});\n\n// The following function is used to to prevent a memory leak in Internet Explorer\n// See: http://javascript.crockford.com/memory/leak.html\nconst purge = function(d) {\n  let a = d.attributes;\n  if (a) {\n    for (let i = a.length - 1; i >= 0; i -= 1) {\n      const n = a[i].name;\n      if (typeof d[n] === 'function') {\n        d[n] = null;\n      }\n    }\n  }\n  a = d.childNodes;\n  if (a) {\n    for (let i = 0, count = a.length; i < count; i += 1) {\n      purge(d.childNodes[i]);\n    }\n  }\n};\n\n/**\n * Force the default language so that the aria-label can be localised from Adapt\n * Note: Do not change these, their names and values are required for mapping in mejs\n */\nwindow.mejs.i18n.locale.language = 'en-US';\nwindow.mejs.i18n.locale.strings['en-US'] = {};\nconst ariaLabelMappings = {\n  playText: 'Play',\n  pauseText: 'Pause',\n  stopText: 'Stop',\n  audioPlayerText: 'Audio Player',\n  videoPlayerText: 'Video Player',\n  tracksText: 'Captions/Subtitles',\n  timeSliderText: 'Time Slider',\n  muteText: 'Mute Toggle',\n  unmuteStatusText: 'Unmute',\n  muteStatusText: 'Mute',\n  volumeSliderText: 'Volume Slider',\n  fullscreenText: 'Fullscreen',\n  goFullscreenText: 'Go Fullscreen',\n  turnOffFullscreenText: 'Turn off Fullscreen',\n  noneText: 'None',\n  skipBackText: 'Skip back %1 seconds',\n  allyVolumeControlText: 'Use Up/Down Arrow keys to increase or decrease volume.',\n  progessHelpText: 'Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.'\n};\n\nAdapt.on('app:dataReady', () => {\n  // Populate the aria labels from the _global._components._media\n  const dynamicLabels = window.mejs.i18n.locale.strings['en-US'];\n  const fixedDefaults = window.mejs.MepDefaults;\n  const globals = Adapt.course.get('_globals')?._components?._media;\n  for (const k in ariaLabelMappings) {\n    dynamicLabels[ariaLabelMappings[k]] = globals[k] ?? ariaLabelMappings[k];\n    fixedDefaults[k] = dynamicLabels[ariaLabelMappings[k]];\n  }\n});\n\nclass MediaView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-media-inline-transcript-toggle': 'onToggleInlineTranscript',\n      'click .js-media-external-transcript-click': 'onExternalTranscriptClicked',\n      'click .js-skip-to-transcript': 'onSkipToTranscript'\n    };\n  }\n\n  className() {\n    let classes = super.className();\n    const playerOptions = this.model.get('_playerOptions');\n    if (playerOptions?.toggleCaptionsButtonWhenOnlyOne) {\n      classes += ' toggle-captions';\n    }\n    return classes;\n  }\n\n  preRender() {\n    this.listenTo(Adapt, {\n      'device:resize': this.onScreenSizeChanged,\n      'device:changed': this.onDeviceChanged,\n      'media:stop': this.onMediaStop\n    });\n\n    _.bindAll(this, 'onMediaElementPlay', 'onMediaElementPause', 'onMediaElementEnded', 'onMediaElementTimeUpdate', 'onMediaElementSeeking', 'onOverlayClick', 'onMediaElementClick', 'onWidgetInview');\n\n    // set initial player state attributes\n    this.model.set({\n      _isMediaEnded: false,\n      _isMediaPlaying: false\n    });\n\n    if (!this.model.get('_media').source) return;\n    const media = this.model.get('_media');\n\n    // Avoid loading of Mixed Content (insecure content on a secure page)\n    if (window.location.protocol === 'https:' && media.source.indexOf('http:') === 0) {\n      media.source = media.source.replace(/^http:/, 'https:');\n    }\n\n    this.model.set('_media', media);\n  }\n\n  postRender() {\n    this.setupPlayer();\n    this.addMejsButtonClass();\n  }\n\n  addMejsButtonClass() {\n    this.$('.mejs-overlay-button').addClass('icon');\n  }\n\n  setupPlayer() {\n    if (!this.model.get('_playerOptions')) this.model.set('_playerOptions', {});\n\n    const modelOptions = this.model.get('_playerOptions');\n\n    if (modelOptions.pluginPath === undefined) {\n      // on the off-chance anyone still needs to use the Flash-based player...\n      _.extend(modelOptions, {\n        pluginPath: 'https://cdnjs.cloudflare.com/ajax/libs/mediaelement/2.21.2/',\n        flashName: 'flashmediaelement-cdn.swf',\n        flashScriptAccess: 'always'\n      });\n    }\n\n    if (modelOptions.features === undefined) {\n      modelOptions.features = ['playpause', 'progress', 'current', 'duration'];\n      if (this.model.get('_useClosedCaptions')) {\n        modelOptions.features.unshift('tracks');\n      }\n      if (this.model.get('_allowFullScreen')) {\n        modelOptions.features.push('fullscreen');\n      }\n      if (this.model.get('_showVolumeControl')) {\n        modelOptions.features.push('volume');\n      }\n    }\n\n    /*\n    Unless we are on Android/iOS and using native controls, when MediaElementJS initializes the player\n    it will invoke the success callback prior to performing one last call to setPlayerSize.\n    This call to setPlayerSize is deferred by 50ms so we add a delay of 100ms here to ensure that\n    we don't invoke setReadyStatus until the player is definitely finished rendering.\n    */\n    modelOptions.success = _.debounce(this.onPlayerReady.bind(this), 100);\n\n    if (this.model.get('_useClosedCaptions')) {\n      const startLanguage = this.model.get('_startLanguage') || 'en';\n      if (!offlineStorage.get('captions')) {\n        offlineStorage.set('captions', startLanguage);\n      }\n      modelOptions.startLanguage = this.checkForSupportedCCLanguage(offlineStorage.get('captions'));\n    }\n\n    if (modelOptions.alwaysShowControls === undefined) {\n      modelOptions.alwaysShowControls = false;\n    }\n    if (modelOptions.hideVideoControlsOnLoad === undefined) {\n      modelOptions.hideVideoControlsOnLoad = true;\n    }\n\n    this.addMediaTypeClass();\n\n    this.addThirdPartyFixes(modelOptions, () => {\n      // create the player\n      this.$('audio, video').mediaelementplayer(modelOptions);\n      this.cleanUpPlayer();\n\n      const _media = this.model.get('_media');\n      // if no media is selected - set ready now, as success won't be called\n      if (!_media.mp3 && !_media.mp4 && !_media.ogv && !_media.webm && !_media.source) {\n        log.warn('ERROR! No media is selected in components.json for component ' + this.model.get('_id'));\n        this.setReadyStatus();\n        return;\n      }\n      // Check if we're streaming\n      if (!_media.source) return;\n      this.$('.media__widget').addClass('external-source');\n    });\n  }\n\n  addMediaTypeClass() {\n    const media = this.model.get('_media');\n    if (!media?.type) return;\n    const typeClass = media.type.replace(/\\//, '-');\n    this.$('.media__widget').addClass(typeClass);\n  }\n\n  addThirdPartyFixes(modelOptions, callback) {\n    const media = this.model.get('_media');\n    if (!media) return callback();\n\n    if (media.mp3 || media.ogg) {\n      // https://github.com/adaptlearning/adapt_framework/issues/3055\n      modelOptions.alwaysShowControls = true;\n    }\n\n    switch (media.type) {\n      case 'video/vimeo':\n        modelOptions.alwaysShowControls = false;\n        modelOptions.hideVideoControlsOnLoad = true;\n        modelOptions.features = [];\n        if (MediaView.froogaloopAdded) return callback();\n        $.getScript('assets/froogaloop.js')\n          .done(() => {\n            MediaView.froogaloopAdded = true;\n            callback();\n          })\n          .fail(() => {\n            MediaView.froogaloopAdded = false;\n            log.error('Could not load froogaloop.js');\n          });\n        break;\n      default:\n        callback();\n    }\n  }\n\n  cleanUpPlayer() {\n    this.$('.media__widget').children('.mejs-offscreen').remove();\n    this.$('[role=application]').removeAttr('role tabindex');\n    this.$('[aria-controls]').removeAttr('aria-controls');\n    this.$('.mejs-overlay-play').attr('aria-hidden', 'true');\n  }\n\n  setupEventListeners() {\n    this.completionEvent = (this.model.get('_setCompletionOn') || 'play');\n\n    if (this.completionEvent === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    }\n\n    // wrapper to check if preventForwardScrubbing is turned on.\n    if ((this.model.get('_preventForwardScrubbing')) && (!this.model.get('_isComplete'))) {\n      $(this.mediaElement).on({\n        seeking: this.onMediaElementSeeking,\n        timeupdate: this.onMediaElementTimeUpdate\n      });\n    }\n\n    // handle other completion events in the event Listeners\n    $(this.mediaElement).on({\n      play: this.onMediaElementPlay,\n      pause: this.onMediaElementPause,\n      ended: this.onMediaElementEnded\n    });\n\n    // occasionally the mejs code triggers a click of the captions language\n    // selector during setup, this slight delay ensures we skip that\n    _.delay(this.listenForCaptionsChange.bind(this), 250);\n  }\n\n  /**\n   * Sets up the component to detect when the user has changed the captions so that it can store the user's\n   * choice in offlineStorage and notify other media components on the same page of the change\n   * Also sets the component up to listen for this event from other media components on the same page\n   */\n  listenForCaptionsChange() {\n    if (!this.model.get('_useClosedCaptions')) return;\n\n    const selector = this.model.get('_playerOptions').toggleCaptionsButtonWhenOnlyOne ?\n      '.mejs-captions-button button' :\n      '.mejs-captions-selector';\n\n    this.$(selector).on('click.mediaCaptionsChange', _.debounce(() => {\n      const srclang = this.mediaElement.player.selectedTrack ? this.mediaElement.player.selectedTrack.srclang : 'none';\n      offlineStorage.set('captions', srclang);\n      Adapt.trigger('media:captionsChange', this, srclang);\n    }, 250)); // needs debouncing because the click event fires twice\n\n    this.listenTo(Adapt, 'media:captionsChange', this.onCaptionsChanged);\n  }\n\n  /**\n   * Handles updating the captions in this instance when learner changes captions in another\n   * media component on the same page\n   * @param {Backbone.View} view The view instance that triggered the event\n   * @param {string} lang The captions language the learner chose in the other media component\n   */\n  onCaptionsChanged(view, lang) {\n    if (view?.cid === this.cid) return; // ignore the event if we triggered it\n\n    lang = this.checkForSupportedCCLanguage(lang);\n\n    this.mediaElement.player.setTrack(lang);\n\n    // because calling player.setTrack doesn't update the cc button's languages popup...\n    const $inputs = this.$('.mejs-captions-selector input');\n    $inputs.filter(':checked').prop('checked', false);\n    $inputs.filter(`[value=\"${lang}\"]`).prop('checked', true);\n  }\n\n  /**\n   * When the learner selects a captions language in another media component, that language may not be available\n   * in this instance, in which case default to the `_startLanguage` if that's set - or \"none\" if it's not\n   * @param {string} lang The language we're being asked to switch to e.g. \"de\"\n   * @return {string} The language we're actually going to switch to - or \"none\" if there's no good match\n   */\n  checkForSupportedCCLanguage(lang) {\n    if (!lang || lang === 'none') return 'none';\n\n    if (_.findWhere(this.model.get('_media').cc, { srclang: lang })) return lang;\n\n    return this.model.get('_startLanguage') || 'none';\n  }\n\n  onMediaElementPlay(event) {\n    this.queueGlobalEvent('play');\n\n    Adapt.trigger('media:stop', this);\n\n    if (this.model.get('_pauseWhenOffScreen')) {\n      this.$('.mejs-container').on('inview', this.onWidgetInview);\n    }\n\n    this.model.set({\n      _isMediaPlaying: true,\n      _isMediaEnded: false\n    });\n\n    if (this.completionEvent !== 'play') return;\n    this.setCompletionStatus();\n  }\n\n  onMediaElementPause(event) {\n    this.queueGlobalEvent('pause');\n\n    this.$('.mejs-container').off('inview', this.onWidgetInview);\n\n    this.model.set('_isMediaPlaying', false);\n  }\n\n  onMediaElementEnded(event) {\n    this.queueGlobalEvent('ended');\n\n    this.model.set('_isMediaEnded', true);\n\n    if (this.completionEvent === 'ended') {\n      this.setCompletionStatus();\n    }\n  }\n\n  onWidgetInview(event, isInView) {\n    if (!isInView && !this.mediaElement.paused) this.mediaElement.player.pause();\n  }\n\n  onMediaElementSeeking(event) {\n    let maxViewed = this.model.get('_maxViewed');\n    if (!maxViewed) {\n      maxViewed = 0;\n    }\n    if (event.target.currentTime <= maxViewed) return;\n    event.target.currentTime = maxViewed;\n  }\n\n  onMediaElementTimeUpdate(event) {\n    let maxViewed = this.model.get('_maxViewed');\n    if (!maxViewed) {\n      maxViewed = 0;\n    }\n    if (event.target.currentTime <= maxViewed) return;\n    this.model.set('_maxViewed', event.target.currentTime);\n  }\n\n  // Overrides the default play/pause functionality to stop accidental playing on touch devices\n  setupPlayPauseToggle() {\n    // bit sneaky, but we don't have a this.mediaElement.player ref on iOS devices\n    const player = this.mediaElement.player;\n\n    if (!player) {\n      log.warn('MediaView.setupPlayPauseToggle: OOPS! there is no player reference.');\n      return;\n    }\n\n    // stop the player dealing with this, we'll do it ourselves\n    player.options.clickToPlayPause = false;\n\n    // play on 'big button' click\n    this.$('.mejs-overlay-button').on('click', this.onOverlayClick);\n\n    // pause on player click\n    this.$('.mejs-mediaelement').on('click', this.onMediaElementClick);\n  }\n\n  onMediaStop(view) {\n\n    // Make sure this view isn't triggering media:stop\n    if (view?.cid === this.cid) return;\n\n    if (!this.mediaElement || !this.mediaElement.player) return;\n\n    this.mediaElement.player.pause();\n\n  }\n\n  onOverlayClick() {\n    const player = this.mediaElement.player;\n    if (!player) return;\n\n    player.play();\n  }\n\n  onMediaElementClick(event) {\n    const player = this.mediaElement.player;\n    if (!player) return;\n\n    const isPaused = player.media.paused;\n    if (!isPaused) player.pause();\n  }\n\n  remove() {\n    this.$('.mejs-overlay-button').off('click', this.onOverlayClick);\n    this.$('.mejs-mediaelement').off('click', this.onMediaElementClick);\n    this.$('.mejs-container').off('inview', this.onWidgetInview);\n\n    if (this.model.get('_useClosedCaptions')) {\n      const selector = this.model.get('_playerOptions').toggleCaptionsButtonWhenOnlyOne ?\n        '.mejs-captions-button button' :\n        '.mejs-captions-selector';\n      this.$(selector).off('click.mediaCaptionsChange');\n    }\n\n    const modelOptions = this.model.get('_playerOptions');\n    delete modelOptions.success;\n\n    const media = this.model.get('_media');\n    if (media) {\n      switch (media.type) {\n        case 'video/vimeo':\n          this.$('iframe')[0].isRemoved = true;\n      }\n    }\n\n    if (this.mediaElement && this.mediaElement.player) {\n      const playerId = this.mediaElement.player.id;\n\n      purge(this.$el[0]);\n      this.mediaElement.player.remove();\n\n      if (window.mejs.players[playerId]) {\n        delete window.mejs.players[playerId];\n      }\n    }\n\n    if (this.mediaElement) {\n      $(this.mediaElement).off({\n        play: this.onMediaElementPlay,\n        pause: this.onMediaElementPause,\n        ended: this.onMediaElementEnded,\n        seeking: this.onMediaElementSeeking,\n        timeupdate: this.onMediaElementTimeUpdate\n      });\n\n      this.mediaElement.src = '';\n      $(this.mediaElement.pluginElement).remove();\n      delete this.mediaElement;\n    }\n\n    super.remove();\n  }\n\n  onDeviceChanged() {\n    if (!this.model.get('_media').source) return;\n    this.$('.mejs-container').width(this.$('.component__widget').width());\n  }\n\n  onPlayerReady(mediaElement, domObject) {\n    this.mediaElement = mediaElement;\n\n    let player = this.mediaElement.player;\n    if (!player) player = window.mejs.players[this.$('.mejs-container').attr('id')];\n\n    const hasTouch = window.mejs.MediaFeatures.hasTouch;\n    if (hasTouch) {\n      this.setupPlayPauseToggle();\n    }\n\n    this.addThirdPartyAfterFixes();\n    this.cleanUpPlayerAfter();\n\n    if (player && this.model.has('_startVolume')) {\n      // Setting the start volume only works with the Flash-based player if you do it here rather than in setupPlayer\n      player.setVolume(parseInt(this.model.get('_startVolume')) / 100);\n    }\n\n    this.setReadyStatus();\n    this.setupEventListeners();\n  }\n\n  addThirdPartyAfterFixes() {\n    const media = this.model.get('_media');\n    switch (media.type) {\n      case 'video/vimeo':\n        this.$('.mejs-container').attr('tabindex', 0);\n    }\n  }\n\n  cleanUpPlayerAfter() {\n    this.$(\"[aria-valuemax='NaN']\").attr('aria-valuemax', 0);\n  }\n\n  onScreenSizeChanged() {\n    this.$('audio, video').width(this.$('.component__widget').width());\n  }\n\n  onSkipToTranscript() {\n    // need slight delay before focussing button to make it work when JAWS is running\n    // see https://github.com/adaptlearning/adapt_framework/issues/2427\n    _.delay(() => {\n      a11y.focus(this.$('.media__transcript-btn'));\n    }, 250);\n  }\n\n  onToggleInlineTranscript(event) {\n    if (event) event.preventDefault();\n    const $transcriptBodyContainer = this.$('.media__transcript-body-inline');\n    const $button = this.$('.media__transcript-btn-inline');\n    const $buttonText = this.$('.media__transcript-btn-inline .media__transcript-btn-text');\n\n    if ($transcriptBodyContainer.hasClass('inline-transcript-open')) {\n      $transcriptBodyContainer.stop(true, true).slideUp(() => {\n        $(window).resize();\n      }).removeClass('inline-transcript-open');\n      $button.attr('aria-expanded', false);\n      $buttonText.html(this.model.get('_transcript').inlineTranscriptButton);\n\n      return;\n    }\n\n    $transcriptBodyContainer.stop(true, true).slideDown(() => {\n      $(window).resize();\n    }).addClass('inline-transcript-open');\n\n    $button.attr('aria-expanded', true);\n    $buttonText.html(this.model.get('_transcript').inlineTranscriptCloseButton);\n\n    if (this.model.get('_transcript')._setCompletionOnView !== false) {\n      this.setCompletionStatus();\n    }\n  }\n\n  onExternalTranscriptClicked(event) {\n    if (this.model.get('_transcript')._setCompletionOnView === false) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * Queue firing a media event to prevent simultaneous events firing, and provide a better indication of how the\n   * media  player is behaving\n   * @param {string} eventType\n   */\n  queueGlobalEvent(eventType) {\n    const time = Date.now();\n    const lastEvent = this.lastEvent || { time: 0 };\n    const timeSinceLastEvent = time - lastEvent.time;\n    const debounceTime = 500;\n\n    this.lastEvent = {\n      time,\n      type: eventType\n    };\n\n    // Clear any existing timeouts\n    clearTimeout(this.eventTimeout);\n\n    // Always trigger 'ended' events\n    if (eventType === 'ended') {\n      return this.triggerGlobalEvent(eventType);\n    }\n\n    // Fire the event after a delay, only if another event has not just been fired\n    if (timeSinceLastEvent <= debounceTime) return;\n    this.eventTimeout = setTimeout(this.triggerGlobalEvent.bind(this, eventType), debounceTime);\n  }\n\n  triggerGlobalEvent(eventType) {\n    const player = this.mediaElement.player;\n\n    const eventObj = {\n      type: eventType,\n      src: this.mediaElement.src,\n      platform: this.mediaElement.pluginType\n    };\n\n    if (player) eventObj.isVideo = player.isVideo;\n\n    Adapt.trigger('media', eventObj);\n  }\n\n}\n\nMediaView.froogaloopAdded = false;\n\nexport default MediaView;\n","import Adapt from 'core/js/adapt';\nimport MediaView from './mediaView';\nimport ComponentModel from 'core/js/models/componentModel';\n\nexport default Adapt.register('media', {\n  // create a new class in the inheritance chain so it can be extended per component type if necessary later\n  model: ComponentModel.extend({}),\n  view: MediaView\n});\n","import ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nexport default class NarrativeModel extends ItemsComponentModel {}\n","export default new ENUM([\n  'SMALL',\n  'LARGE'\n]);\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport device from 'core/js/device';\nimport MODE from './modeEnum';\n\nclass NarrativeView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-narrative-strapline-open-popup': 'openPopup',\n      'click .js-narrative-controls-click': 'onNavigationClicked',\n      'click .js-narrative-progress-click': 'onProgressClicked',\n      'swipeleft .js-narrative-swipe': 'onSwipeLeft',\n      'swiperight .js-narrative-swipe': 'onSwipeRight'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n\n    this._isInitial = true;\n  }\n\n  preRender() {\n    this.listenTo(Adapt, {\n      'device:changed device:resize': this.reRender,\n      'notify:closed': this.closeNotify\n    });\n    this.renderMode();\n\n    this.listenTo(this.model.getChildren(), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n\n    this.calculateWidths();\n  }\n\n  onItemsActiveChange(item, _isActive) {\n    if (!_isActive) return;\n    if (this.isTextBelowImage()) {\n      item.toggleVisited(true);\n    }\n    this.setStage(item);\n    this.setFocus(item.get('_index'));\n  }\n\n  setFocus(itemIndex) {\n    if (this._isInitial) return;\n    const $straplineHeaderElm = this.$('.narrative__strapline-header-inner');\n    const hasStraplineTransition = !this.isLargeMode() && ($straplineHeaderElm.css('transitionDuration') !== '0s');\n    if (hasStraplineTransition) {\n      $straplineHeaderElm.one('transitionend', () => {\n        this.focusOnNarrativeElement(itemIndex);\n      });\n      return;\n    }\n\n    this.focusOnNarrativeElement(itemIndex);\n  }\n\n  focusOnNarrativeElement(itemIndex) {\n    const dataIndexAttr = `[data-index='${itemIndex}']`;\n    const $elementToFocus = this.isLargeMode() ?\n      this.$(`.narrative__content-item${dataIndexAttr}`) :\n      this.$(`.narrative__strapline-btn${dataIndexAttr}`);\n    a11y.focusFirst($elementToFocus);\n  }\n\n  onItemsVisitedChange(item, _isVisited) {\n    if (!_isVisited) return;\n    this.$(`[data-index=\"${item.get('_index')}\"]`).addClass('is-visited');\n  }\n\n  calculateMode() {\n    const mode = device.screenSize === 'large' ? MODE.LARGE : MODE.SMALL;\n    this.model.set('_mode', mode);\n  }\n\n  renderMode() {\n    this.calculateMode();\n\n    const isLargeMode = this.isLargeMode();\n    const isTextBelowImage = this.isTextBelowImage();\n    this.$el\n      .toggleClass('mode-large', isLargeMode)\n      .toggleClass('mode-small', !isLargeMode)\n      .toggleClass('items-are-full-width', isTextBelowImage);\n  }\n\n  isLargeMode() {\n    return this.model.get('_mode') === MODE.LARGE;\n  }\n\n  isTextBelowImage() {\n    const isTextBelowImage = (device.screenSize === 'large')\n      ? this.model.get('_isTextBelowImage')\n      : this.model.get('_isMobileTextBelowImage');\n    return Boolean(isTextBelowImage);\n  }\n\n  postRender() {\n    this.renderMode();\n    this.setupNarrative();\n\n    this.$('.narrative__slider').imageready(this.setReadyStatus.bind(this));\n\n    if (Adapt.config.get('_disableAnimation')) {\n      this.$el.addClass('disable-animation');\n    }\n  }\n\n  setupNarrative() {\n    this.renderMode();\n    const items = this.model.getChildren();\n    if (!items || !items.length) return;\n\n    let activeItem = this.model.getActiveItem();\n    if (!activeItem) {\n      activeItem = this.model.getItem(0);\n      activeItem.toggleActive(true);\n    } else {\n      // manually trigger change as it is not fired on reentry\n      items.trigger('change:_isActive', activeItem, true);\n    }\n\n    this.calculateWidths();\n\n    if (!this.isLargeMode() && !this.model.get('_wasHotgraphic')) {\n      this.replaceInstructions();\n    }\n    this.setupEventListeners();\n    this._isInitial = false;\n  }\n\n  calculateWidths() {\n    const itemCount = this.model.getChildren().length;\n    this.model.set({\n      _totalWidth: 100 * itemCount,\n      _itemWidth: 100 / itemCount\n    });\n  }\n\n  resizeControl() {\n    const previousMode = this.model.get('_mode');\n    this.renderMode();\n    if (previousMode !== this.model.get('_mode')) this.replaceInstructions();\n    this.evaluateNavigation();\n    const activeItem = this.model.getActiveItem();\n    if (activeItem) this.setStage(activeItem);\n  }\n\n  reRender() {\n    if (this.model.get('_wasHotgraphic') && this.isLargeMode()) {\n      this.replaceWithHotgraphic();\n      return;\n    }\n    this.resizeControl();\n  }\n\n  closeNotify() {\n    this.evaluateCompletion();\n  }\n\n  replaceInstructions() {\n    if (this.isLargeMode()) {\n      this.$('.narrative__instruction-inner').html(this.model.get('instruction'));\n      return;\n    }\n\n    if (this.model.get('mobileInstruction') && !this.model.get('_wasHotgraphic')) {\n      this.$('.narrative__instruction-inner').html(this.model.get('mobileInstruction'));\n    }\n  }\n\n  replaceWithHotgraphic() {\n    const HotgraphicView = Adapt.getViewClass('hotgraphic');\n    if (!HotgraphicView) return;\n\n    const model = this.prepareHotgraphicModel();\n    const newHotgraphic = new HotgraphicView({ model });\n\n    this.$el.parents('.component__container').append(newHotgraphic.$el);\n    this.remove();\n    _.defer(() => {\n      Adapt.trigger('device:resize');\n    });\n  }\n\n  prepareHotgraphicModel() {\n    const model = this.model;\n    model.resetActiveItems();\n    model.set({\n      _isPopupOpen: false,\n      _component: 'hotgraphic',\n      body: model.get('originalBody'),\n      instruction: model.get('originalInstruction')\n    });\n\n    return model;\n  }\n\n  moveSliderToIndex(itemIndex) {\n    let offset = this.model.get('_itemWidth') * itemIndex;\n    if (Adapt.config.get('_defaultDirection') === 'ltr') {\n      offset *= -1;\n    }\n    const cssValue = `translateX(${offset}%)`;\n    const $sliderElm = this.$('.narrative__slider');\n    const $straplineHeaderElm = this.$('.narrative__strapline-header-inner');\n\n    $sliderElm.css('transform', cssValue);\n    $straplineHeaderElm.css('transform', cssValue);\n  }\n\n  setStage(item) {\n    const index = item.get('_index');\n    const indexSelector = `[data-index=\"${index}\"]`;\n\n    if (this.isLargeMode()) {\n      // Set the visited attribute for large screen devices\n      item.toggleVisited(true);\n    }\n\n    this.$('.narrative__progress').removeClass('is-selected').filter(indexSelector).addClass('is-selected');\n\n    const $slideGraphics = this.$('.narrative__slider-image-container');\n    a11y.toggleAccessibleEnabled($slideGraphics, false);\n    a11y.toggleAccessibleEnabled($slideGraphics.filter(indexSelector), true);\n\n    const $narrativeItems = this.$('.narrative__content-item');\n    $narrativeItems.addClass('u-visibility-hidden u-display-none');\n    a11y.toggleAccessible($narrativeItems, false);\n    a11y.toggleAccessible($narrativeItems.filter(indexSelector).removeClass('u-visibility-hidden u-display-none'), true);\n\n    const $narrativeStraplineButtons = this.$('.narrative__strapline-btn');\n    a11y.toggleAccessibleEnabled($narrativeStraplineButtons, false);\n    a11y.toggleAccessibleEnabled($narrativeStraplineButtons.filter(indexSelector), true);\n\n    this.evaluateNavigation();\n    this.evaluateCompletion();\n    this.shouldShowInstructionError();\n    this.moveSliderToIndex(index);\n  }\n\n  evaluateNavigation() {\n    const active = this.model.getActiveItem();\n    if (!active) return;\n\n    const index = active.get('_index');\n    const itemCount = this.model.getChildren().length;\n\n    const isAtStart = index === 0;\n    const isAtEnd = index === itemCount - 1;\n\n    const $left = this.$('.narrative__controls-left');\n    const $right = this.$('.narrative__controls-right');\n\n    const globals = Adapt.course.get('_globals');\n\n    const ariaLabelsGlobals = globals._accessibility._ariaLabels;\n    const narrativeGlobals = globals._components._narrative;\n\n    const ariaLabelPrevious = narrativeGlobals.previous || ariaLabelsGlobals.previous;\n    const ariaLabelNext = narrativeGlobals.next || ariaLabelsGlobals.next;\n\n    const prevTitle = isAtStart ? '' : this.model.getItem(index - 1).get('title');\n    const nextTitle = isAtEnd ? '' : this.model.getItem(index + 1).get('title');\n\n    $left.toggleClass('u-visibility-hidden', isAtStart);\n    $right.toggleClass('u-visibility-hidden', isAtEnd);\n\n    $left.attr('aria-label', Handlebars.helpers.compile_a11y_normalize(ariaLabelPrevious, {\n      title: prevTitle,\n      _globals: globals,\n      itemNumber: isAtStart ? null : index,\n      totalItems: itemCount\n    }));\n    $right.attr('aria-label', Handlebars.helpers.compile_a11y_normalize(ariaLabelNext, {\n      title: nextTitle,\n      _globals: globals,\n      itemNumber: isAtEnd ? null : index + 2,\n      totalItems: itemCount\n    }));\n  }\n\n  evaluateCompletion() {\n    if (this.model.areAllItemsCompleted()) {\n      this.trigger('allItems');\n      this.$('.narrative__instruction-inner').removeClass('instruction-error');\n    }\n  }\n\n  openPopup() {\n    const currentItem = this.model.getActiveItem();\n    Adapt.notify.popup({\n      title: currentItem.get('title'),\n      body: currentItem.get('body')\n    });\n\n    Adapt.on('popup:opened', function() {\n      // Set the visited attribute for small and medium screen devices\n      currentItem.toggleVisited(true);\n    });\n  }\n\n  onNavigationClicked(event) {\n    const $btn = $(event.currentTarget);\n    let index = this.model.getActiveItem().get('_index');\n    $btn.data('direction') === 'right' ? index++ : index--;\n    this.model.setActiveItem(index);\n  }\n\n  onSwipeLeft() {\n    let index = this.model.getActiveItem().get('_index');\n    this.model.setActiveItem(++index);\n  }\n\n  onSwipeRight() {\n    let index = this.model.getActiveItem().get('_index');\n    this.model.setActiveItem(--index);\n  }\n\n  onProgressClicked(event) {\n    const index = $(event.target).data('index');\n    this.model.setActiveItem(index);\n  }\n\n  /**\n   * In mobile view, highlight instruction if user navigates to another\n   * item before completing, in case the strapline is missed\n   */\n  shouldShowInstructionError() {\n    const prevItemIndex = this.model.getActiveItem().get('_index') - 1;\n    if (prevItemIndex < 0 || this.model.getItem(prevItemIndex).get('_isVisited')) return;\n    this.$('.narrative__instruction-inner').addClass('instruction-error');\n  }\n\n  setupEventListeners() {\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    }\n  }\n}\n\nNarrativeView.template = 'narrative';\n\nexport default NarrativeView;\n","import Adapt from 'core/js/adapt';\nimport NarrativeModel from './NarrativeModel';\nimport NarrativeView from './NarrativeView';\n\nexport default Adapt.register('narrative', {\n  model: NarrativeModel,\n  view: NarrativeView\n});\n","import Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\nimport 'libraries/rangeslider';\n\nexport default class SliderView extends QuestionView {\n\n  events() {\n    return {\n      'click .js-slider-number-click': 'onNumberSelected',\n      'focus .js-slider-item-input': 'onHandleFocus',\n      'blur .js-slider-item-input': 'onHandleBlur'\n    };\n  }\n\n  // Used by question to setup itself just before rendering\n  setupQuestion() {\n    if (this.model.get('_isSubmitted')) return;\n\n    this.selectItem(this.getIndexFromValue(this.model.get('_selectedItem').value));\n  }\n\n  setupRangeslider() {\n    this.$sliderScaleMarker = this.$('.js-slider-number-selection');\n    this.$slider = this.$('.js-slider-item-input');\n    if (this.model.has('_scaleStep')) {\n      this.$slider.attr({ step: this.model.get('_scaleStep') });\n    }\n\n    this.$slider.rangeslider({\n      polyfill: false,\n      onSlide: this.handleSlide.bind(this)\n    });\n    this.oldValue = 0;\n\n    if (this._deferEnable) {\n      this.setAllItemsEnabled();\n    }\n  }\n\n  handleSlide(position, value) {\n    if (this.oldValue === value) {\n      return;\n    }\n    const itemIndex = this.getIndexFromValue(value);\n    const pixels = this.mapIndexToPixels(itemIndex);\n    this.selectItem(itemIndex);\n    this.animateToPosition(pixels);\n    this.oldValue = value;\n  }\n\n  disableQuestion() {\n    this.setAllItemsEnabled();\n  }\n\n  enableQuestion() {\n    this.setAllItemsEnabled();\n  }\n\n  setAllItemsEnabled() {\n    const isEnabled = this.model.get('_isEnabled');\n\n    if (!this.$slider) {\n      this._deferEnable = true; // slider is not yet ready\n      return;\n    }\n\n    this.$('.slider__widget').toggleClass('is-disabled', !isEnabled);\n    this.$slider.prop('disabled', !isEnabled).rangeslider('update', true);\n  }\n\n  onQuestionRendered() {\n    this.setupRangeslider();\n    this.setScalePositions();\n    this.onScreenSizeChanged();\n    this.showScaleMarker(true);\n    this.listenTo(Adapt, 'device:resize', this.onScreenSizeChanged);\n    this.setReadyStatus();\n  }\n\n  // this should make the slider handle, slider marker and slider bar to animate to give position\n  animateToPosition(newPosition) {\n    if (!this.$sliderScaleMarker) return;\n\n    this.$sliderScaleMarker\n      .velocity('stop')\n      .velocity({\n        left: newPosition\n      }, {\n        duration: 200,\n        easing: 'linear',\n        mobileHA: false\n      });\n  }\n\n  // this shoud give the index of item using given slider value\n  getIndexFromValue(itemValue) {\n    const scaleStart = this.model.get('_scaleStart');\n    const scaleEnd = this.model.get('_scaleEnd');\n    return Math.round(this.mapValue(itemValue, scaleStart, scaleEnd, 0, this.model.get('_items').length - 1));\n  }\n\n  mapIndexToPixels(value, $widthObject) {\n    const numberOfItems = this.model.get('_items').length;\n    const width = $widthObject ? $widthObject.width() : this.$('.js-slider-scale').width();\n\n    return Math.round(this.mapValue(value, 0, numberOfItems - 1, 0, width));\n  }\n\n  mapPixelsToIndex(value) {\n    const numberOfItems = this.model.get('_items').length;\n    const width = this.$('.slider-sliderange').width();\n\n    return Math.round(this.mapValue(value, 0, width, 0, numberOfItems - 1));\n  }\n\n  normalise(value, low, high) {\n    const range = high - low;\n    return (value - low) / range;\n  }\n\n  mapValue(value, inputLow, inputHigh, outputLow, outputHigh) {\n    const normal = this.normalise(value, inputLow, inputHigh);\n    return normal * (outputHigh - outputLow) + outputLow;\n  }\n\n  onHandleFocus(event) {\n    event.preventDefault();\n    this.$slider.on('keydown', this.onKeyDown.bind(this));\n  }\n\n  onHandleBlur(event) {\n    event.preventDefault();\n    this.$slider.off('keydown');\n  }\n\n  onKeyDown(event) {\n    if (event.which === 9) return; // tab key\n    event.preventDefault();\n\n    let newItemIndex = this.getIndexFromValue(this.model.get('_selectedItem').value);\n\n    switch (event.which) {\n      case 40: // ↓ down\n      case 37: // ← left\n        newItemIndex = Math.max(newItemIndex - 1, 0);\n        break;\n      case 38: // ↑ up\n      case 39: // → right\n        newItemIndex = Math.min(newItemIndex + 1, this.model.get('_items').length - 1);\n        break;\n    }\n\n    this.selectItem(newItemIndex);\n    if (typeof newItemIndex === 'number') this.showScaleMarker(true);\n    this.animateToPosition(this.mapIndexToPixels(newItemIndex));\n    this.setSliderValue(this.getValueFromIndex(newItemIndex));\n  }\n\n  onNumberSelected(event) {\n    event.preventDefault();\n\n    if (this.model.get('_isInteractionComplete')) {\n      return;\n    }\n\n    // when component is not reset, selecting a number should be prevented\n    if (this.$slider.prop('disabled')) {\n      return;\n    }\n\n    const itemValue = parseFloat($(event.currentTarget).attr('data-id'));\n    const index = this.getIndexFromValue(itemValue);\n    this.selectItem(index);\n    this.animateToPosition(this.mapIndexToPixels(index));\n    this.setSliderValue(itemValue);\n  }\n\n  getValueFromIndex(index) {\n    return this.model.get('_items')[index].value;\n  }\n\n  resetControlStyles() {\n    this.$('.slider-handle').empty();\n    this.showScaleMarker(false);\n    this.$('.slider-bar').animate({ width: '0' });\n    this.setSliderValue(this.model.get('_items')[0].value);\n  }\n\n  onCannotSubmit() { }\n\n  setSliderValue(value) {\n    if (!this.$slider) return;\n    this.$slider.val(value).change();\n  }\n\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.$('.slider__widget').removeClass('is-correct is-incorrect')\n      .addClass(this.model.get('_selectedItem').correct ? 'is-correct' : 'is-incorrect');\n  }\n\n  resetQuestion() {\n    this.selectItem(0);\n    this.animateToPosition(0);\n    this.resetControlStyles();\n    this.showScaleMarker(true);\n  }\n\n  setScalePositions() {\n    const numberOfItems = this.model.get('_items').length;\n    this.model.get('_items').forEach((item, index) => {\n      const normalisedPosition = this.normalise(index, 0, numberOfItems - 1);\n      this.$('.js-slider-number').eq(index).data('normalisedPosition', normalisedPosition);\n    });\n  }\n\n  showScale() {\n    const $markers = this.$('.js-slider-scale-notch-container').empty();\n\n    if (this.model.get('_showScale') === false) {\n      $markers.eq(0).addClass('u-display-none');\n      this.$('.js-slider-number').addClass(\n        this.model.get('_showScaleIndicator') ? 'u-visibility-hidden' : 'u-display-none'\n      );\n      return;\n    }\n\n    const $scaler = this.$('.js-slider-scale');\n    for (let i = 1, count = this.model.get('_items').length - 1; i < count; i++) {\n      $markers.append(`<div class=\"slider__scale-notch\" style=\"left: ${this.mapIndexToPixels(i, $scaler)}px\">`);\n    }\n    // Do we show scale numbers\n    this.showScaleNumbers();\n  }\n\n  showScaleNumbers() {\n    const $scaler = this.$('.js-slider-scale');\n    const $numbers = this.$('.js-slider-number');\n\n    if (this.model.get('_showScaleNumbers') === false) {\n      $numbers.addClass('u-display-none');\n      return;\n    }\n\n    const scaleWidth = $scaler.width();\n    this.model.get('_items').forEach((item, index) => {\n      const $number = $numbers.eq(index);\n      const newLeft = Math.round($number.data('normalisedPosition') * scaleWidth);\n      $number.css({ left: newLeft });\n    });\n  }\n\n  // Labels are enabled in slider.hbs. Here we manage their containing div.\n  showLabels() {\n    if (this.model.get('labelStart') || this.model.get('labelEnd')) return;\n    this.$('.js-slider-label-container').eq(0).addClass('u-display-none');\n  }\n\n  remapSliderBar() {\n    const $scaler = this.$('.js-slider-scale');\n    const currentIndex = this.getIndexFromValue(this.model.get('_selectedItem').value);\n    const left = this.mapIndexToPixels(currentIndex, $scaler);\n    this.$('.slider-handle').css({ left: `${left}px` });\n    this.$('.js-slider-number-selection').css({ left: `${left}px` });\n    this.$('.slider-bar').width(left);\n  }\n\n  onScreenSizeChanged() {\n    this.showScale();\n    this.showLabels();\n    this.remapSliderBar();\n    if (this.$('.slider__widget').hasClass('show-user-answer')) {\n      this.hideCorrectAnswer();\n    } else if (this.$('.slider__widget').hasClass('show-correct-answer')) {\n      this.showCorrectAnswer();\n    }\n  }\n\n  showCorrectAnswer() {\n    this.showScaleMarker(false);\n\n    const answers = this.model.getCorrectAnswers();\n    if (answers.length === 0) {\n      console.log('adapt-contrib-slider::WARNING: no correct answer or correct range set in JSON');\n      return;\n    }\n\n    const middleAnswer = answers[Math.floor(answers.length / 2)];\n    this.animateToPosition(this.mapIndexToPixels(this.getIndexFromValue(middleAnswer)));\n    this.showModelAnswers(answers);\n    this.setSliderValue(middleAnswer);\n  }\n\n  showModelAnswers(correctAnswerArray) {\n    const $parentDiv = this.$('.js-slider-model-range');\n    correctAnswerArray.forEach((correctAnswer, index) => {\n      $parentDiv.append($('<div class=\"slider__number-model-answer\">'));\n\n      const $element = this.$('.js-slider-model-range .slider__number-model-answer').eq(index);\n      const startingLeft = this.mapIndexToPixels(this.getIndexFromValue(this.model.get('_selectedItem').value));\n\n      if (this.model.get('_showNumber')) $element.html(correctAnswer);\n\n      $element.css({ left: startingLeft }).fadeIn(0, () => {\n        $element.animate({ left: this.mapIndexToPixels(this.getIndexFromValue(correctAnswer)) });\n      });\n    });\n  }\n\n  hideCorrectAnswer() {\n    const userAnswerIndex = this.getIndexFromValue(this.model.get('_userAnswer'));\n    this.$('.js-slider-model-range').empty();\n\n    this.showScaleMarker(true);\n    this.selectItem(userAnswerIndex);\n    this.animateToPosition(this.mapIndexToPixels(userAnswerIndex));\n    this.setSliderValue(this.model.get('_userAnswer'));\n  }\n\n  // according to given item index this should make the item as selected\n  selectItem(itemIndex) {\n    // deselect all items before selecting the chosen item\n    this.model.deselectAllItems();\n    const item = this.model.get('_items')[itemIndex];\n    if (!item) return;\n    item.selected = true;\n    this.model.set('_selectedItem', item);\n    this.$('.js-slider-item-input').attr({\n      value: item.value,\n      'aria-valuenow': item.value\n    });\n    this.showNumber(true);\n  }\n\n  // this makes the marker visible or hidden\n  showScaleMarker(show) {\n    const $scaleMarker = this.$('.js-slider-number-selection');\n    if (this.model.get('_showScaleIndicator')) {\n      this.showNumber(show);\n      $scaleMarker.toggleClass('display-block', show);\n    }\n  }\n\n  // this should add the current slider value to the marker\n  showNumber(show) {\n    const $scaleMarker = this.$('.js-slider-number-selection');\n    if (this.model.get('_showNumber')) {\n      if (show) {\n        $scaleMarker.html(this.model.get('_selectedItem').value);\n      } else {\n        $scaleMarker.html = '';\n      }\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class SliderModel extends QuestionModel {\n\n  init() {\n    QuestionModel.prototype.init.call(this);\n\n    this.setupModelItems();\n    this.selectDefaultItem();\n  }\n\n  /**\n  * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n  * @param {boolean} [canReset] Defaults to this.get('_canReset')\n  * @returns {boolean}\n  */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.deselectAllItems();\n    this.selectDefaultItem();\n    return true;\n  }\n\n  selectDefaultItem() {\n    this.set('_selectedItem', this.get('_items')[0]);\n  }\n\n  /**\n   * Returns the number of decimal places in a specified number\n   */\n  getDecimalPlaces(num) {\n    return (num.toString().split('.')[1] || []).length;\n  }\n\n  setupModelItems() {\n    const items = [];\n    const answer = this.get('_correctAnswer');\n    const range = this.get('_correctRange');\n    const start = this.get('_scaleStart');\n    const end = this.get('_scaleEnd');\n    const step = this.get('_scaleStep') || 1;\n\n    const dp = this.getDecimalPlaces(step);\n\n    for (let i = start; i <= end; i += step) {\n      if (dp !== 0) {\n        // Ensure that steps with decimal places are handled correctly.\n        i = parseFloat(i.toFixed(dp));\n      }\n\n      items.push({\n        value: i,\n        selected: false,\n        // _correctAnswer/answer is a String - this allows AAT users to assign it no value when _correctRange needs to be used instead\n        // we therefore need to convert it to Number when checking the answer (see https://github.com/adaptlearning/adapt_framework/issues/2259)\n        correct: answer ? i === Number(answer) : (i >= range._bottom && i <= range._top)\n      });\n    }\n\n    this.set({\n      _items: items,\n      _marginDir: Adapt.config.get('_defaultDirection') === 'rtl' ? 'right' : 'left'\n    });\n  }\n\n  /**\n  * allow the user to submit immediately; the slider handle may already be in the position they want to choose\n  */\n  canSubmit() {\n    return true;\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) {\n      this.set({\n        _userAnswer: undefined\n      });\n      this.selectDefaultItem();\n      return;\n    }\n\n    const items = this.get('_items');\n    const userAnswer = this.get('_userAnswer');\n    const selectedItem = items.find(({ value }) => value === userAnswer);\n    if (selectedItem) {\n      selectedItem.selected = true;\n      this.set('_selectedItem', selectedItem);\n    }\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  // This preserves the state of the users answers for returning or showing the users answer\n  storeUserAnswer() {\n    this.set('_userAnswer', this.get('_selectedItem').value);\n  }\n\n  resetUserAnswer() {\n    this.set({\n      _isAtLeastOneCorrectSelection: false,\n      _userAnswer: undefined\n    });\n    this.selectDefaultItem();\n  }\n\n  deselectAllItems() {\n    this.get('_items').forEach(item => (item.selected = false));\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').filter(({ selected, correct }) => selected && correct).length;\n\n    this.set('_isAtLeastOneCorrectSelection', numberOfCorrectAnswers > 0);\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const questionWeight = this.get('_questionWeight');\n    const score = questionWeight * numberOfCorrectAnswers;\n    this.set('_score', score);\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  */\n  getResponse() {\n    return this.get('_userAnswer').toString();\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'numeric';\n  }\n\n  getCorrectAnswers() {\n\n    // are we dealing with a single correct answer or a range?\n    const answerSingle = this.get('_correctAnswer');\n    const answers = [];\n    if (answerSingle) {\n      return [ answerSingle ];\n    }\n    const answerMultiple = this.get('_correctRange');\n    if (!answerMultiple) {\n      return answers;\n    }\n    const bottom = answerMultiple._bottom;\n    const top = answerMultiple._top;\n    if (bottom === undefined || top === undefined) {\n      return answers;\n    }\n    let answer = bottom;\n    const step = this.get('_scaleStep') || 1;\n    while (answer <= top) {\n      answers.push(answer);\n      answer += step;\n    }\n    return answers;\n  }\n\n  /**\n   * Creates a string explaining the answer (or answer range) the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components._slider;\n    const answers = this.getCorrectAnswers();\n    if (answers.length > 1) {\n      return Handlebars.compile(globals.ariaCorrectAnswerRange)({\n        bottom: answers.shift(),\n        top: answers.pop()\n      });\n    }\n\n    return Handlebars.compile(globals.ariaCorrectAnswer)({ correctAnswer: answers[0] });\n  }\n\n  /**\n   * Creates a string listing the answer the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const answerTemplate = Adapt.course.get('_globals')._components._slider.ariaUserAnswer;\n    return Handlebars.compile(answerTemplate)({ userAnswer: this.get('_userAnswer') });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport SliderView from './sliderView';\nimport SliderModel from './sliderModel';\n\nexport default Adapt.register('slider', {\n  view: SliderView,\n  model: SliderModel\n});\n","import ComponentView from 'core/js/views/componentView';\n\nclass TextView extends ComponentView {\n\n  postRender() {\n    this.setReadyStatus();\n    this.setupInview();\n  }\n\n  setupInview() {\n    const selector = this.getInviewElementSelector();\n    if (!selector) return this.setCompletionStatus();\n    this.setupInviewCompletion(selector);\n  }\n\n  /**\n   * determines which element should be used for inview logic - body, instruction or title - and returns the selector for that element\n   */\n  getInviewElementSelector() {\n    if (this.model.get('body')) return '.component__body';\n    if (this.model.get('instruction')) return '.component__instruction';\n    if (this.model.get('displayTitle')) return '.component__title';\n    return null;\n  }\n\n}\n\nTextView.template = 'text.jsx';\n\nexport default TextView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class TextModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport TextView from './TextView';\nimport TextModel from './TextModel';\n\nexport default Adapt.register('text', {\n  model: TextModel,\n  view: TextView\n});\n","import QuestionView from 'core/js/views/questionView';\n\nexport default class TextInputView extends QuestionView {\n\n  events() {\n    return {\n      'focus .js-textinput-textbox': 'clearValidationError',\n      'change .js-textinput-textbox': 'onInputChanged',\n      'keyup .js-textinput-textbox': 'onInputChanged'\n    };\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  disableQuestion() {\n    this.setAllItemsEnabled(false);\n  }\n\n  enableQuestion() {\n    this.setAllItemsEnabled(true);\n  }\n\n  setAllItemsEnabled(isEnabled) {\n    this.model.get('_items').forEach((item, index) => {\n      const $itemInput = this.$('.js-textinput-textbox').eq(index);\n\n      $itemInput.prop('disabled', !isEnabled);\n    });\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n  }\n\n  clearValidationError() {\n    this.$('.js-textinput-textbox').removeClass('has-error');\n  }\n\n  // Blank method for question to fill out when the question cannot be submitted\n  onCannotSubmit() {\n    this.showValidationError();\n  }\n\n  showValidationError() {\n    this.$('.js-textinput-textbox').addClass('has-error');\n  }\n\n  // This is important and should give the user feedback on how they answered the question\n  // Normally done through ticks and crosses by adding classes\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.model.get('_items').forEach((item, i) => {\n      const $item = this.$('.js-textinput-item').eq(i);\n      $item.removeClass('is-correct is-incorrect').addClass(item._isCorrect ? 'is-correct' : 'is-incorrect');\n    });\n  }\n\n  // Used by the question view to reset the look and feel of the component.\n  resetQuestion() {\n    this.$('.js-textinput-textbox').prop('disabled', !this.model.get('_isEnabled')).val('');\n\n    this.model.set({\n      _isAtLeastOneCorrectSelection: false,\n      _isCorrect: undefined\n    });\n  }\n\n  showCorrectAnswer() {\n    const correctAnswers = this.model.get('_answers');\n\n    this.model.get('_items').forEach((item, index) => {\n      const correctAnswer = correctAnswers ? correctAnswers[index][0] : item._answers[0];\n      this.$('.js-textinput-textbox').eq(index).val(correctAnswer);\n    });\n  }\n\n  hideCorrectAnswer() {\n    this.model.get('_items').forEach((item, index) => {\n      this.$('.js-textinput-textbox').eq(index).val(item.userAnswer);\n    });\n  }\n\n  onInputChanged(e) {\n    const $input = $(e.target);\n    this.model.setItemUserAnswer($input.parents('.js-textinput-item').index(), $input.val());\n  }\n\n}\n","import QuestionModel from 'core/js/models/questionModel';\n\nclass TextInputModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.set('_genericAnswerIndexOffset', TextInputModel.genericAnswerIndexOffset);\n\n    this.setupQuestionItemIndexes();\n    this.checkCanSubmit();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set({\n      _isAtLeastOneCorrectSelection: false,\n      _isCorrect: null\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) item._index = index;\n      if (item._answerIndex === undefined) item._answerIndex = -1;\n    });\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n    const genericAnswers = this.get('_answers');\n    this.get('_items').forEach(item => {\n      const answerIndex = userAnswer[item._index];\n      if (answerIndex >= TextInputModel.genericAnswerIndexOffset) {\n        item.userAnswer = genericAnswers[answerIndex - TextInputModel.genericAnswerIndexOffset];\n        item._answerIndex = answerIndex;\n      } else if (answerIndex > -1) {\n        item.userAnswer = item._answers[answerIndex];\n        item._answerIndex = answerIndex;\n      } else {\n        if (item.userAnswer === undefined) item.userAnswer = '******';\n        item._answerIndex = -1;\n      }\n      if (item.userAnswer instanceof Array) item.userAnswer = item.userAnswer[0];\n    });\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.set('_items', _.shuffle(this.get('_items')));\n  }\n\n  // Use to check if the user is allowed to submit the question\n  canSubmit() {\n    // can submit if every item has user input\n    return this.get('_items').every(({ userAnswer }) => userAnswer);\n  }\n\n  setItemUserAnswer(itemIndex, userAnswer) {\n    const item = this.get('_items')[itemIndex];\n    item.userAnswer = userAnswer;\n    this.checkCanSubmit();\n  }\n\n  // Preserves the state for returning or showing the user's answers\n  storeUserAnswer() {\n    const items = this.get('_items');\n\n    this.isCorrect();\n\n    const userAnswer = new Array(items.length);\n    items.forEach(({ _index, _answerIndex }) => (userAnswer[_index] = _answerIndex));\n    this.set('_userAnswer', userAnswer);\n  }\n\n  isCorrect() {\n    if (this.get('_answers')) {\n      this.markGenericAnswers();\n    } else {\n      this.markSpecificAnswers();\n    }\n    return this.get('_items').every(({ _isCorrect }) => _isCorrect);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  // Allows the learner to give answers into any input, ignoring the order.\n  // (this excludes any inputs which have their own specific answers).\n  markGenericAnswers() {\n    let numberOfCorrectAnswers = 0;\n    const correctAnswers = this.get('_answers').slice();\n    const usedAnswerIndexes = [];\n\n    this.get('_items').forEach(item => {\n      correctAnswers.forEach((answerGroup, answerIndex) => {\n        if (usedAnswerIndexes.includes(answerIndex)) return;\n\n        if (this.checkAnswerIsCorrect(answerGroup, item.userAnswer) === false) return;\n\n        usedAnswerIndexes.push(answerIndex);\n        item._isCorrect = true;\n        item._answerIndex = answerIndex + TextInputModel.genericAnswerIndexOffset;\n\n        this.set({\n          _numberOfCorrectAnswers: ++numberOfCorrectAnswers,\n          _isAtLeastOneCorrectSelection: true\n        });\n\n      });\n      if (!item._isCorrect) item._isCorrect = false;\n    });\n  }\n\n  // Marks any items which have answers specific to it\n  // (i.e. item has a _answers array)\n  markSpecificAnswers() {\n    let numberOfCorrectAnswers = 0;\n    this.get('_items').forEach(item => {\n      const answers = item._answers;\n      if (!answers) return;\n      const userAnswer = item.userAnswer || '';\n      const isCorrect = this.checkAnswerIsCorrect(answers, userAnswer);\n      item._isCorrect = isCorrect;\n      item._answerIndex = answers.indexOf(this.cleanupUserAnswer(userAnswer));\n      if (!isCorrect) return;\n      this.set({\n        _numberOfCorrectAnswers: ++numberOfCorrectAnswers,\n        _isAtLeastOneCorrectSelection: true\n      });\n    });\n  }\n\n  checkAnswerIsCorrect(possibleAnswers, userAnswer) {\n    const uAnswer = this.cleanupUserAnswer(userAnswer);\n\n    const answerIsCorrect = possibleAnswers.some(cAnswer => {\n      return this.cleanupUserAnswer(cAnswer) === uAnswer;\n    });\n    return answerIsCorrect;\n  }\n\n  cleanupUserAnswer(userAnswer) {\n    if (this.get('_allowsAnyCase')) {\n      userAnswer = userAnswer.toLowerCase();\n    }\n    if (this.get('_allowsPunctuation')) {\n      userAnswer = userAnswer.replace(/[.,-/#!$£%^&*;:{}=\\-_`~()]/g, '');\n      // remove any orphan double spaces and replace with single space (B & Q)->(B  Q)->(B Q)\n      userAnswer = userAnswer.replace(/(  +)+/g, ' ');\n    }\n    // removes whitespace from beginning/end (leave any in the middle)\n    return userAnswer.trim();\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const questionWeight = this.get('_questionWeight');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n    this.set('_score', score);\n  }\n\n  resetUserAnswer() {\n    this.get('_items').forEach(item => {\n      item._isCorrect = false;\n      item.userAnswer = '';\n    });\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * returns the user's answers as a string in the format 'answer1[,]answer2[,]answer3'\n  * the use of [,] as an answer delimiter is from the SCORM 2004 specification for the fill-in interaction type\n  */\n  getResponse() {\n    return this.get('_items').map(({ userAnswer }) => userAnswer).join('[,]');\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'fill-in';\n  }\n\n}\n\nTextInputModel.genericAnswerIndexOffset = 65536;\n\nexport default TextInputModel;\n","import Adapt from 'core/js/adapt';\nimport TextInputView from './textInputView';\nimport TextInputModel from './textInputModel';\n\nexport default Adapt.register('textinput', {\n  view: TextInputView,\n  model: TextInputModel\n});\n","import ComponentView from 'core/js/views/componentView';\n// import d3 from '../lib/d3.min.js';\n\nexport default class csv2d3View extends ComponentView {\n\n  events() {\n    return {\n      'change .js-item-input': 'onInputChanged',\n    };\n  }\n\n  // function to insert table\n  insertTable() {\n    // get text input from field and insert into d3.text below\n    var text = document.getElementById(\"csvInput\").value;\n    // console.log(text);\n    // when user clicks button #displayCsv get text input and insert into d3.text below\n    this.$('.component__inner').append('<div id=\"d3\"></div>');\n    // console.log(d3)\n    d3.text(\"https://gist.githubusercontent.com/heiswayi/9b3b6153b159343ebe9a/raw/d3785fb176e1573fdfd0777fdb8900c2a0e4457b/%2520mh17.csv\", function(data) {\n    var parsedCSV = d3.csv.parseRows(data);\n\n    var container = d3.select(\"#d3\")\n        .append(\"table\")\n\n    .selectAll(\"tr\")\n        .data(parsedCSV).enter()\n        .append(\"tr\")\n\n    .selectAll(\"td\")\n        .data(function(d) {\n            return d;\n        }).enter()\n        .append(\"td\")\n        .text(function(d) {\n            return d;\n        });\n});\n\n}\n\n  preRender() {\n    this.insertTable();\n  }\n  postRender() {\n    this.setReadyStatus();\n    this.setupInviewCompletion();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport csv2d3 from './csv2d3View';\nimport ComponentModel from 'core/js/models/componentModel';\n\nexport default Adapt.register('csv2d3', {\n  model: ComponentModel.extend({}), // create a new class in the inheritance chain so it can be extended per component type if necessary later\n  view: csv2d3\n});\n","import Draggabilly from '../libraries/draggabilly';\n\nclass DraggieView extends Backbone.View {\n\n  initialize(settings) {\n    _.bindAll(this, 'onDragStart', 'onDragMove', 'onDragEnd');\n    this.settings = _.defaults(settings, DraggieView.defaults);\n    this.draggie = null;\n    this.setUpDraggie();\n    this.addEventListeners();\n    this.settings.load.call(this, this);\n    this.trigger('load', this);\n  }\n\n  setUpDraggie() {\n    this.draggie = new Draggabilly(this.settings.el[0], this.settings.container);\n  }\n\n  addEventListeners() {\n    this.draggie.on('dragStart', this.onDragStart);\n    this.draggie.on('dragMove', this.onDragMove);\n    this.draggie.on('dragEnd', this.onDragEnd);\n  }\n\n  onDragStart() {\n    // console.log('start');\n  }\n\n  onDragMove(event, pointer) {\n   \n    if (this.isOverlap(pointer)) {\n      this.settings.target.addClass('is-active');\n    } else {\n      this.settings.target.removeClass('is-active');\n    }\n\n  }\n\n  onDragEnd(event, pointer) {\n    const _isOverlap = this.isOverlap(pointer);\n    if (_isOverlap) {\n      this.setPositionTarget();\n    } else {\n      this.resetPosition();\n\n    }\n    this.trigger('dropIt', this, _isOverlap);\n    this.settings.target.removeClass('is-active');\n  }\n\n  setPositionTarget() {\n    const targetPosition = this.settings.target.position();\n    this.setPosition(targetPosition.top - 64, targetPosition.left);\n  }\n\n  resetPosition() {\n    this.setPosition(0, 0);\n  }\n\n  setPosition(top, left) {\n    const el = this.settings.el;\n    el.animate({ top: `${top}px`, left: `${left}px` });\n  }\n\n  isOverlap(pointer) {\n    const targetLocation = this.settings.target[0].getBoundingClientRect();\n\n    const targetX = targetLocation.left + targetLocation.width;\n    const targetY = targetLocation.top + targetLocation.height;\n    const x = pointer.x;\n    const y = pointer.y;\n\n    if (x >= targetLocation.left && x <= targetX &&\n        y >= targetLocation.top && y <= targetY) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  toggleDisabled(value) {\n    if (!this.draggie) return;\n    if (!value) {\n      this.draggie.enable();\n    } else {\n      this.draggie.disable();\n    }\n  }\n\n  destroy() {\n    this.draggie.destroy();\n  }\n}\n\nDraggieView.defaults = {\n\n  load() {}\n};\nexport default DraggieView;\n","\nimport Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\n\nimport DraggieView from './draggieView';\nclass DropItemsView extends QuestionView {\n\n  preinitialize() {\n    this.draggies = [];\n  }\n\n  initialize(...args) {\n    _.bindAll(this, 'onDropIt');\n    super.initialize(...args);\n  }\n\n  setupQuestion() {\n    this.listenToOnce(Adapt.parentView, 'postRemove', this.onPostRemove);\n    this.listenTo(Adapt, {\n      'device:changed device:resize': this.onResize\n\n    });\n  }\n\n  onPostRemove() {\n    this.draggies.forEach(draggie => {\n      draggie.off('dropIt', this.onDropIt);\n      draggie.destroy();\n    });\n  }\n\n  disableQuestion() {\n    this.draggies.forEach(draggie => draggie.toggleDisabled(true));\n\n  }\n\n  enableQuestion() {\n    this.draggies.forEach(draggie => draggie.toggleDisabled(false));\n  }\n\n  onQuestionRendered() {\n    this.$('.component__widget').imageready(() => {\n      this.setupItems();\n      this.setSizeDrop();\n      this.setReadyStatus();\n    }\n    );\n\n  }\n\n  setSizeDrop() {\n    const $target = this.$('.dropitems__dropzone');\n    const $container = this.$('.dropitems__container');\n    $target.css({ 'min-width': `${$container.outerWidth()}px`, 'min-height': `${$container.outerHeight()}px` });\n  }\n\n  onResize() {\n\n    this.setPosition();\n\n    this.setSizeDrop();\n  }\n\n  setPosition() {\n    this.draggies.forEach(draggie => {\n      if (draggie.model.get('_isActive')) {\n        draggie.setPositionTarget();\n      } else {\n        draggie.resetPosition();\n      }\n    });\n  }\n\n  setupItems() {\n\n    const $container = this.$('.component__inner');\n    const items = this.model.getChildren();\n\n    const target = this.$('.dropitems__dropzone');\n    this.$('.dropitems__item').each((i, el) => {\n\n      const item = items.models[i];\n      const draggie = new DraggieView({ el: $(el), target: target, container: $container, model: item });\n      this.draggies.push(draggie);\n      draggie.on('dropIt', this.onDropIt);\n    });\n\n    this.enableQuestion();\n    if (this.model.get('_isEnabled') !== true) {\n      this.disableQuestion();\n      this.setPosition();\n    }\n  }\n\n  onDropIt(draggie, value) {\n\n    if (!this.model.isInteractive()) return;\n    const itemIndex = draggie.model.get('_index');\n    const itemModel = this.model.getItem(itemIndex);\n\n    itemModel.toggleActive(value);\n\n  }\n\n  resetQuestion() {\n    this.model.resetItems();\n  }\n\n  showCorrectAnswer() {\n\n    this.draggies.forEach(draggie => {\n      if (draggie.model.get('_shouldBeSelected')) {\n        draggie.setPositionTarget();\n      } else {\n        draggie.resetPosition();\n      }\n    });\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  hideCorrectAnswer() {\n    if (!this.draggies[0]) return;\n    this.model.get('_userAnswer').forEach((answer, index) => {\n      if (answer) {\n        this.draggies[index].setPositionTarget();\n      } else {\n        this.draggies[index].resetPosition();\n      }\n    });\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n}\nDropItemsView.template = 'drop-items.jsx';\n\nexport default DropItemsView;\n","import ItemsQuestionModel from 'core/js/models/itemsQuestionModel';\n\nexport default class DropItemsModel extends ItemsQuestionModel {\n  defaults() {\n    return ItemsQuestionModel.resultExtend('defaults', {\n      _selectable: this.getChildren().models.length\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport DropItemsView from './dropItemsView';\nimport DropItemsModel from './dropItemsModel';\n\nexport default Adapt.register('dropItems', {\n  view: DropItemsView,\n  model: DropItemsModel\n});\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport '../libraries/lottie-player';\nimport * as LottieInteractivity from '../libraries/lottie-interactivity.min';\nclass LottieInteractivityView extends ComponentView {\n\n  preRender() {\n    const lottieModel = this.model.get('_lottie');\n    const lottieplayerEl = document.createElement('lottie-player');\n\n    lottieModel.controls && lottieplayerEl.setAttribute('controls', lottieModel.controls);\n    if (lottieModel.loop !== -1) {\n      lottieplayerEl.setAttribute('loop', true);\n      lottieplayerEl.setAttribute('count', lottieModel.loop);\n    }\n    lottieModel.autoplay && lottieplayerEl.setAttribute('autoplay', lottieModel.autoplay);\n    lottieModel.speed && lottieModel.speed > 1 && lottieplayerEl.setAttribute('speed', lottieModel.speed);\n    lottieModel.style && lottieplayerEl.setAttribute('style', lottieModel.style);\n    lottieModel.renderer && lottieplayerEl.setAttribute('renderer', lottieModel.renderer);\n    lottieModel.background && lottieplayerEl.setAttribute('background', lottieModel.background);\n    lottieModel.preserveAspectRatio && lottieplayerEl.setAttribute('preserveAspectRatio', lottieModel.preserveAspectRatio);\n    lottieplayerEl.setAttribute('src', lottieModel.src);\n\n    this.model.set('lottieplayer', lottieplayerEl.outerHTML);\n\n    // this.$el.on('onscreen', this.onScreenChange.bind(this));\n  }\n\n  postRender() {\n\n    const lottieplayer = this.$('lottie-player')[0];\n    lottieplayer.addEventListener('ready', () => {\n      Adapt.trigger('lottie:ready', this);\n      this.setReadyStatus();\n    });\n    lottieplayer.addEventListener('error', () => {\n      this.setReadyStatus();\n      this.model.set('failed', this.model.get('_lottie').failed);\n    });\n    lottieplayer.addEventListener('play', () => {\n      Adapt.trigger('lottie:play', this);\n    });\n    lottieplayer.addEventListener('pause', () => {\n      Adapt.trigger('lottie:pause', this);\n    });\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    } else {\n      lottieplayer.addEventListener('complete', () => {\n        this.setCompletionStatus();\n      });\n    }\n    const interactivity = this.model.get('_lottie').interactivity;\n    if (interactivity) {\n      interactivity.player = lottieplayer;\n      LottieInteractivity.create(interactivity);\n    }\n  }\n\n  /* onScreenChange(event, { onscreen, percentInview } = {}) {\n    const isOffScreen = (!onscreen || percentInview < 1);\n    if (isOffScreen) {\n\n      return;\n    }\n    if (this.model.get('wasPlayed') === true) return;\n\n    console.log(this.model.get('wasPlayed'));\n    const lottieModel = this.model.get('_lottie');\n    const lottieplayer = this.$('lottie-player')[0];\n    if (lottieModel.autoplay) {\n      this.model.set('wasPlayed', true);\n      lottieplayer.play();\n    }\n  } */\n}\n\nLottieInteractivityView.template = 'lottieInteractivity.jsx';\n\nexport default LottieInteractivityView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class LottieInteractivityModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport LottieInteractivityView from './LottieInteractivityView';\nimport LottieInteractivityModel from './LottieInteractivityModel';\n\nexport default Adapt.register('lottieInteractivity', {\n  model: LottieInteractivityModel,\n  view: LottieInteractivityView\n});\n","/* @license\nPapa Parse\nv5.3.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"file/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var h=new RegExp(j(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,i=!0);var r=e.toString().replace(h,a);return(i=i||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(m)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(M(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(M(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){M(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else M(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(M(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!M(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){M(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responsefile.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responsefile)))},this._chunkError=function(e){var t=r.statusfile||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsfile(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,u=/^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(M(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){M(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(j(t)+\"([^]*?)\"+j(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)M(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=M(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,M(m.complete)&&m.complete(c),a=\"\"}}function j(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(e){var S,O=(e=e||{}).delimiter,x=e.newline,I=e.comments,T=e.step,D=e.preview,A=e.fastMode,L=S=void 0===e.quoteChar||null===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(L=e.escapeChar),(\"string\"!=typeof O||-1<b.BAD_DELIMITERS.indexOf(O))&&(O=\",\"),I===O)throw new Error(\"Comment character same as delimiter\");!0===I?I=\"#\":(\"string\"!=typeof I||-1<b.BAD_DELIMITERS.indexOf(I))&&(I=!1),\"\\n\"!==x&&\"\\r\"!==x&&\"\\r\\n\"!==x&&(x=\"\\n\");var F=0,z=!1;this.parse=function(r,t,i){if(\"string\"!=typeof r)throw new Error(\"Input must be a string\");var n=r.length,e=O.length,s=x.length,a=I.length,o=M(T),h=[],u=[],f=[],d=F=0;if(!r)return C();if(A||!1!==A&&-1===r.indexOf(S)){for(var l=r.split(x),c=0;c<l.length;c++){if(f=l[c],F+=f.length,c!==l.length-1)F+=x.length;else if(i)return C();if(!I||f.substring(0,a)!==I){if(o){if(h=[],k(f.split(O)),R(),z)return C()}else k(f.split(O));if(D&&D<=c)return h=h.slice(0,D),C(!0)}}return C()}for(var p=r.indexOf(O,F),g=r.indexOf(x,F),_=new RegExp(j(L)+j(S),\"g\"),m=r.indexOf(S,F);;)if(r[F]!==S)if(I&&0===f.length&&r.substring(F,F+a)===I){if(-1===g)return C();F=g+s,g=r.indexOf(x,F),p=r.indexOf(O,F)}else if(-1!==p&&(p<g||-1===g))f.push(r.substring(F,p)),F=p+e,p=r.indexOf(O,F);else{if(-1===g)break;if(f.push(r.substring(F,g)),w(g+s),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0)}else for(m=F,F++;;){if(-1===(m=r.indexOf(S,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:F}),E();if(m===n-1)return E(r.substring(F,m).replace(_,S));if(S!==L||r[m+1]!==L){if(S===L||0===m||r[m-1]!==L){-1!==p&&p<m+1&&(p=r.indexOf(O,m+1)),-1!==g&&g<m+1&&(g=r.indexOf(x,m+1));var y=b(-1===g?p:Math.min(p,g));if(r.substr(m+1+y,e)===O){f.push(r.substring(F,m).replace(_,S)),r[F=m+1+y+e]!==S&&(m=r.indexOf(S,F)),p=r.indexOf(O,F),g=r.indexOf(x,F);break}var v=b(g);if(r.substring(m+1+v,m+1+v+s)===x){if(f.push(r.substring(F,m).replace(_,S)),w(m+1+v+s),p=r.indexOf(O,F),m=r.indexOf(S,F),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:F}),m++}}else m++}return E();function k(e){h.push(e),d=F}function b(e){var t=0;if(-1!==e){var i=r.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=r.substring(F)),f.push(e),F=n,k(f),o&&R()),C()}function w(e){F=e,k(f),f=[],g=r.indexOf(x,F)}function C(e){return{data:h,errors:u,meta:{delimiter:O,linebreak:x,aborted:z,truncated:!!e,cursor:d+(t||0)}}}function R(){T(C()),h=[],u=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return F}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else M(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];M(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=w(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function M(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","/* ajv 8.11.0 (ajv7): Another JSON Schema Validator */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).ajv7=e()}}((function(){return function e(t,r,o){function s(n,i){if(!r[n]){if(!t[n]){var c=\"function\"==typeof require&&require;if(!i&&c)return c(n,!0);if(a)return a(n,!0);var l=new Error(\"Cannot find module '\"+n+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var d=r[n]={exports:{}};t[n][0].call(d.exports,(function(e){return s(t[n][1][e]||e)}),d,d.exports,e,t,r,o)}return r[n].exports}for(var a=\"function\"==typeof require&&require,n=0;n<o.length;n++)s(o[n]);return s}({1:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class o{}r._CodeOrName=o,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends o{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw new Error(\"CodeGen: name must be a valid identifier\");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=s;class a extends o{constructor(e){super(),this._items=\"string\"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return\"\"===e||'\"\"'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),\"\")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof s&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function n(e,...t){const r=[e[0]];let o=0;for(;o<t.length;)l(r,t[o]),r.push(e[++o]);return new a(r)}r._Code=a,r.nil=new a(\"\"),r._=n;const i=new a(\"+\");function c(e,...t){const r=[u(e[0])];let o=0;for(;o<t.length;)r.push(i),l(r,t[o]),r.push(i,u(e[++o]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===i){const r=d(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]=\"+\"}t++}}(r),new a(r)}function l(e,t){var r;t instanceof a?e.push(...t._items):e.push(t instanceof s?t:\"number\"==typeof(r=t)||\"boolean\"==typeof r||null===r?r:u(Array.isArray(r)?r.join(\",\"):r))}function d(e,t){if('\"\"'===t)return e;if('\"\"'===e)return t;if(\"string\"==typeof e){if(t instanceof s||'\"'!==e[e.length-1])return;return\"string\"!=typeof t?`${e.slice(0,-1)}${t}\"`:'\"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return\"string\"!=typeof t||'\"'!==t[0]||e instanceof s?void 0:`\"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")}r.str=c,r.addCodeArg=l,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:c`${e}${t}`},r.stringify=function(e){return new a(u(e))},r.safeStringify=u,r.getProperty=function(e){return\"string\"==typeof e&&r.IDENTIFIER.test(e)?new a(`.${e}`):n`[${e}]`},r.getEsmExportName=function(e){if(\"string\"==typeof e&&r.IDENTIFIER.test(e))return new a(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new a(e.toString())}},{}],2:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const o=e(\"./code\"),s=e(\"./scope\");var a=e(\"./code\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return a._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return a.str}}),Object.defineProperty(r,\"strConcat\",{enumerable:!0,get(){return a.strConcat}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return a.nil}}),Object.defineProperty(r,\"getProperty\",{enumerable:!0,get(){return a.getProperty}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return a.stringify}}),Object.defineProperty(r,\"regexpCode\",{enumerable:!0,get(){return a.regexpCode}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return a.Name}});var n=e(\"./scope\");Object.defineProperty(r,\"Scope\",{enumerable:!0,get(){return n.Scope}}),Object.defineProperty(r,\"ValueScope\",{enumerable:!0,get(){return n.ValueScope}}),Object.defineProperty(r,\"ValueScopeName\",{enumerable:!0,get(){return n.ValueScopeName}}),Object.defineProperty(r,\"varKinds\",{enumerable:!0,get(){return n.varKinds}}),r.operators={GT:new o._Code(\">\"),GTE:new o._Code(\">=\"),LT:new o._Code(\"<\"),LTE:new o._Code(\"<=\"),EQ:new o._Code(\"===\"),NEQ:new o._Code(\"!==\"),NOT:new o._Code(\"!\"),OR:new o._Code(\"||\"),AND:new o._Code(\"&&\"),ADD:new o._Code(\"+\")};class i{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends i{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){return`${e?s.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?\"\":` = ${this.rhs}`};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,e,t)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof o.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=x(this.rhs,e,t),this}get names(){return O(this.lhs instanceof o.Name?{}:{...this.lhs.names},this.rhs)}}class d extends l{constructor(e,t,r,o){super(e,r,o),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class f extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:\"\"};`+e}}class p extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class m extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=x(this.code,e,t),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class h extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),\"\")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let o=r.length;for(;o--;){const s=r[o];s.optimizeNames(e,t)||(T(e,s.names),r.splice(o,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>C(e,t.names)),{})}}class y extends h{render(e){return\"{\"+e._n+super.render(e)+\"}\"+e._n}}class v extends h{}class g extends y{}g.kind=\"else\";class $ extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+=\"else \"+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new g(e):e}return t?!1===e?t instanceof $?t:t.nodes:this.nodes.length?this:new $(I(e),t instanceof $?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=x(this.condition,e,t),this}get names(){const e=super.names;return O(e,this.condition),this.else&&C(e,this.else.names),e}}$.kind=\"if\";class _ extends y{}_.kind=\"for\";class w extends _{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=x(this.iteration,e,t),this}get names(){return C(super.names,this.iteration.names)}}class b extends _{constructor(e,t,r,o){super(),this.varKind=e,this.name=t,this.from=r,this.to=o}render(e){const t=e.es5?s.varKinds.var:this.varKind,{name:r,from:o,to:a}=this;return`for(${t} ${r}=${o}; ${r}<${a}; ${r}++)`+super.render(e)}get names(){const e=O(super.names,this.from);return O(e,this.to)}}class E extends _{constructor(e,t,r,o){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=x(this.iterable,e,t),this}get names(){return C(super.names,this.iterable.names)}}class P extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?\"async \":\"\"}function ${this.name}(${this.args})`+super.render(e)}}P.kind=\"func\";class S extends h{render(e){return\"return \"+super.render(e)}}S.kind=\"return\";class N extends y{render(e){let t=\"try\"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,o;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(o=this.finally)||void 0===o||o.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&C(e,this.catch.names),this.finally&&C(e,this.finally.names),e}}class k extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind=\"catch\";class j extends y{render(e){return\"finally\"+super.render(e)}}j.kind=\"finally\";function C(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function O(e,t){return t instanceof o._CodeOrName?C(e,t.names):e}function x(e,t,r){return e instanceof o.Name?a(e):(s=e)instanceof o._Code&&s._items.some((e=>e instanceof o.Name&&1===t[e.str]&&void 0!==r[e.str]))?new o._Code(e._items.reduce(((e,t)=>(t instanceof o.Name&&(t=a(t)),t instanceof o._Code?e.push(...t._items):e.push(t),e)),[])):e;var s;function a(e){const o=r[e.str];return void 0===o||1!==t[e.str]?e:(delete t[e.str],o)}}function T(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return\"boolean\"==typeof e||\"number\"==typeof e||null===e?!e:o._`!${M(e)}`}r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?\"\\n\":\"\"},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,o){const s=this._scope.toName(t);return void 0!==r&&o&&(this._constants[s.str]=r),this._leafNode(new c(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new l(e,t,r))}add(e,t){return this._leafNode(new d(e,r.operators.ADD,t))}code(e){return\"function\"==typeof e?e():e!==o.nil&&this._leafNode(new m(e)),this}object(...e){const t=[\"{\"];for(const[r,s]of e)t.length>1&&t.push(\",\"),t.push(r),(r!==s||this.opts.es5)&&(t.push(\":\"),(0,o.addCodeArg)(t,s));return t.push(\"}\"),new o._Code(t)}if(e,t,r){if(this._blockNode(new $(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: \"else\" body without \"then\" body');return this}elseIf(e){return this._elseNode(new $(e))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode($,g)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,o,a=(this.opts.es5?s.varKinds.var:s.varKinds.let)){const n=this._scope.toName(e);return this._for(new b(a,n,t,r),(()=>o(n)))}forOf(e,t,r,a=s.varKinds.const){const n=this._scope.toName(e);if(this.opts.es5){const e=t instanceof o.Name?t:this.var(\"_arr\",t);return this.forRange(\"_i\",0,o._`${e}.length`,(t=>{this.var(n,o._`${e}[${t}]`),r(n)}))}return this._for(new E(\"of\",a,n,t),(()=>r(n)))}forIn(e,t,r,a=(this.opts.es5?s.varKinds.var:s.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,o._`Object.keys(${t})`,r);const n=this._scope.toName(e);return this._for(new E(\"in\",a,n,t),(()=>r(n)))}endFor(){return this._endBlockNode(_)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new f(e))}return(e){const t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: \"return\" should have one node');return this._endBlockNode(S)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');const o=new N;if(this._blockNode(o),this.code(e),t){const e=this.name(\"e\");this._currNode=o.catch=new k(e),t(e)}return r&&(this._currNode=o.finally=new j,this.code(r)),this._endBlockNode(k,j)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error(\"CodeGen: not in self-balancing block\");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=o.nil,r,s){return this._blockNode(new P(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block \"${t?`${e.kind}/${t.kind}`:e.kind}\"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof $))throw new Error('CodeGen: \"else\" without \"if\"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},r.not=I;const R=A(r.operators.AND);r.and=function(...e){return e.reduce(R)};const D=A(r.operators.OR);function A(e){return(t,r)=>t===o.nil?r:r===o.nil?t:o._`${M(t)} ${e} ${M(r)}`}function M(e){return e instanceof o.Name?e:o._`(${e})`}r.or=function(...e){return e.reduce(D)}},{\"./code\":1,\"./scope\":3}],3:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const o=e(\"./code\");class s extends Error{constructor(e){super(`CodeGen: \"code\" for ${e} not defined`),this.value=e.value}}var a;!function(e){e[e.Started=0]=\"Started\",e[e.Completed=1]=\"Completed\"}(a=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new o.Name(\"const\"),let:new o.Name(\"let\"),var:new o.Name(\"var\")};class n{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof o.Name?e:this.name(e)}name(e){return new o.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix \"${e}\" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}r.Scope=n;class i extends o.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=o._`.${new o.Name(t)}[${r}]`}}r.ValueScopeName=i;const c=o._`\\n`;r.ValueScope=class extends n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:o.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error(\"CodeGen: ref must be passed in value\");const o=this.toName(e),{prefix:s}=o,a=null!==(r=t.key)&&void 0!==r?r:t.ref;let n=this._values[s];if(n){const e=n.get(a);if(e)return e}else n=this._values[s]=new Map;n.set(a,o);const i=this._scope[s]||(this._scope[s]=[]),c=i.length;return i[c]=t.ref,o.setValue(t,{property:s,itemIndex:c}),o}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name \"${t}\" has no value`);return o._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name \"${e}\" has no value`);return e.value.code}),t,r)}_reduceValues(e,t,n={},i){let c=o.nil;for(const l in e){const d=e[l];if(!d)continue;const u=n[l]=n[l]||new Map;d.forEach((e=>{if(u.has(e))return;u.set(e,a.Started);let n=t(e);if(n){c=o._`${c}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${e} = ${n};${this.opts._n}`}else{if(!(n=null==i?void 0:i(e)))throw new s(e);c=o._`${c}${n}${this.opts._n}`}u.set(e,a.Completed)}))}return c}}},{\"./code\":1}],4:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const o=e(\"./codegen\"),s=e(\"./util\"),a=e(\"./names\");function n(e,t){const r=e.const(\"err\",t);e.if(o._`${a.default.vErrors} === null`,(()=>e.assign(a.default.vErrors,o._`[${r}]`)),o._`${a.default.vErrors}.push(${r})`),e.code(o._`${a.default.errors}++`)}function i(e,t){const{gen:r,validateName:s,schemaEnv:a}=e;a.$async?r.throw(o._`new ${e.ValidationError}(${t})`):(r.assign(o._`${s}.errors`,t),r.return(!1))}r.keywordError={message({keyword:e}){return o.str`must pass \"${e}\" keyword validation`}},r.keyword$DataError={message({keyword:e,schemaType:t}){return t?o.str`\"${e}\" keyword must be ${t} ($data)`:o.str`\"${e}\" keyword is invalid ($data)`}},r.reportError=function(e,t=r.keywordError,s,a){const{it:c}=e,{gen:d,compositeRule:u,allErrors:f}=c,p=l(e,t,s);(null!=a?a:u||f)?n(d,p):i(c,o._`[${p}]`)},r.reportExtraError=function(e,t=r.keywordError,o){const{it:s}=e,{gen:c,compositeRule:d,allErrors:u}=s;n(c,l(e,t,o)),d||u||i(s,a.default.vErrors)},r.resetErrorsCount=function(e,t){e.assign(a.default.errors,t),e.if(o._`${a.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(o._`${a.default.vErrors}.length`,t)),(()=>e.assign(a.default.vErrors,null)))))},r.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:n,it:i}){if(void 0===n)throw new Error(\"ajv implementation error\");const c=e.name(\"err\");e.forRange(\"i\",n,a.default.errors,(n=>{e.const(c,o._`${a.default.vErrors}[${n}]`),e.if(o._`${c}.instancePath === undefined`,(()=>e.assign(o._`${c}.instancePath`,(0,o.strConcat)(a.default.instancePath,i.errorPath)))),e.assign(o._`${c}.schemaPath`,o.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(o._`${c}.schema`,r),e.assign(o._`${c}.data`,s))}))};const c={keyword:new o.Name(\"keyword\"),schemaPath:new o.Name(\"schemaPath\"),params:new o.Name(\"params\"),propertyName:new o.Name(\"propertyName\"),message:new o.Name(\"message\"),schema:new o.Name(\"schema\"),parentSchema:new o.Name(\"parentSchema\")};function l(e,t,r){const{createErrors:s}=e.it;return!1===s?o._`{}`:function(e,t,r={}){const{gen:s,it:n}=e,i=[d(n,r),u(e,r)];return function(e,{params:t,message:r},s){const{keyword:n,data:i,schemaValue:l,it:d}=e,{opts:u,propertyName:f,topSchemaRef:p,schemaPath:m}=d;s.push([c.keyword,n],[c.params,\"function\"==typeof t?t(e):t||o._`{}`]),u.messages&&s.push([c.message,\"function\"==typeof r?r(e):r]);u.verbose&&s.push([c.schema,l],[c.parentSchema,o._`${p}${m}`],[a.default.data,i]);f&&s.push([c.propertyName,f])}(e,t,i),s.object(...i)}(e,t,r)}function d({errorPath:e},{instancePath:t}){const r=t?o.str`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,r)]}function u({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let n=a?t:o.str`${t}/${e}`;return r&&(n=o.str`${n}${(0,s.getErrorPath)(r,s.Type.Str)}`),[c.schemaPath,n]}},{\"./codegen\":2,\"./names\":6,\"./util\":10}],5:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const o=e(\"./codegen\"),s=e(\"../runtime/validation_error\"),a=e(\"./names\"),n=e(\"./resolve\"),i=e(\"./util\"),c=e(\"./validate\");class l{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},\"object\"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,n.normalizeId)(null==r?void 0:r[e.schemaId||\"$id\"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function d(e){const t=f.call(this,e);if(t)return t;const r=(0,n.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:l}=this.opts.code,{ownProperties:d}=this.opts,u=new o.CodeGen(this.scope,{es5:i,lines:l,ownProperties:d});let p;e.$async&&(p=u.scopeValue(\"Error\",{ref:s.default,code:o._`require(\"ajv/dist/runtime/validation_error\").default`}));const m=u.scopeName(\"validate\");e.validateName=m;const h={gen:u,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue(\"schema\",!0===this.opts.code.source?{ref:e.schema,code:(0,o.stringify)(e.schema)}:{ref:e.schema}),validateName:m,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:o.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?\"\":\"#\"),errorPath:o._`\"\"`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(h),u.optimize(this.opts.code.optimize);const t=u.toString();y=`${u.scopeRefs(a.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const r=new Function(`${a.default.self}`,`${a.default.scope}`,y)(this,this.scope.get());if(this.scope.value(m,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:m,validateCode:t,scopeValues:u._values}),this.opts.unevaluated){const{props:e,items:t}=h;r.evaluated={props:e instanceof o.Name?void 0:e,items:t instanceof o.Name?void 0:t,dynamicProps:e instanceof o.Name,dynamicItems:t instanceof o.Name},r.source&&(r.source.evaluated=(0,o.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error(\"Error compiling schema, function code:\",y),t}finally{this._compilations.delete(e)}}function u(e){return(0,n.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function f(e){for(const o of this._compilations)if((t=o).schema===(r=e).schema&&t.root===r.root&&t.baseId===r.baseId)return o;var t,r}function p(e,t){let r;for(;\"string\"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||m.call(this,e,t)}function m(e,t){const r=this.opts.uriResolver.parse(t),o=(0,n._getFullPath)(this.opts.uriResolver,r);let s=(0,n.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===s)return y.call(this,r,e);const a=(0,n.normalizeId)(o),i=this.refs[a]||this.schemas[a];if(\"string\"==typeof i){const t=m.call(this,e,i);if(\"object\"!=typeof(null==t?void 0:t.schema))return;return y.call(this,r,t)}if(\"object\"==typeof(null==i?void 0:i.schema)){if(i.validate||d.call(this,i),a===(0,n.normalizeId)(t)){const{schema:t}=i,{schemaId:r}=this.opts,o=t[r];return o&&(s=(0,n.resolveUrl)(this.opts.uriResolver,s,o)),new l({schema:t,schemaId:r,root:e,baseId:s})}return y.call(this,r,i)}}r.SchemaEnv=l,r.compileSchema=d,r.resolveRef=function(e,t,r){var o;r=(0,n.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=p.call(this,e,r);if(void 0===a){const s=null===(o=e.localRefs)||void 0===o?void 0:o[r],{schemaId:n}=this.opts;s&&(a=new l({schema:s,schemaId:n,root:e,baseId:t}))}return void 0!==a?e.refs[r]=u.call(this,a):void 0},r.getCompilingSchema=f,r.resolveSchema=m;const h=new Set([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function y(e,{baseId:t,schema:r,root:o}){var s;if(\"/\"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const o of e.fragment.slice(1).split(\"/\")){if(\"boolean\"==typeof r)return;const e=r[(0,i.unescapeFragment)(o)];if(void 0===e)return;const s=\"object\"==typeof(r=e)&&r[this.opts.schemaId];!h.has(o)&&s&&(t=(0,n.resolveUrl)(this.opts.uriResolver,t,s))}let a;if(\"boolean\"!=typeof r&&r.$ref&&!(0,i.schemaHasRulesButRef)(r,this.RULES)){const e=(0,n.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=m.call(this,o,e)}const{schemaId:c}=this.opts;return a=a||new l({schema:r,schemaId:c,root:o,baseId:t}),a.schema!==a.root.schema?a:void 0}},{\"../runtime/validation_error\":24,\"./codegen\":2,\"./names\":6,\"./resolve\":8,\"./util\":10,\"./validate\":15}],6:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./codegen\"),s={data:new o.Name(\"data\"),valCxt:new o.Name(\"valCxt\"),instancePath:new o.Name(\"instancePath\"),parentData:new o.Name(\"parentData\"),parentDataProperty:new o.Name(\"parentDataProperty\"),rootData:new o.Name(\"rootData\"),dynamicAnchors:new o.Name(\"dynamicAnchors\"),vErrors:new o.Name(\"vErrors\"),errors:new o.Name(\"errors\"),this:new o.Name(\"this\"),self:new o.Name(\"self\"),scope:new o.Name(\"scope\"),json:new o.Name(\"json\"),jsonPos:new o.Name(\"jsonPos\"),jsonLen:new o.Name(\"jsonLen\"),jsonPart:new o.Name(\"jsonPart\")};r.default=s},{\"./codegen\":2}],7:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./resolve\");class s extends Error{constructor(e,t,r,s){super(s||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,o.resolveUrl)(e,t,r),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(e,this.missingRef))}}r.default=s},{\"./resolve\":8}],8:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const o=e(\"./util\"),s=e(\"fast-deep-equal\"),a=e(\"json-schema-traverse\"),n=new Set([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\",\"const\"]);r.inlineRef=function(e,t=!0){return\"boolean\"==typeof e||(!0===t?!c(e):!!t&&l(e)<=t)};const i=new Set([\"$ref\",\"$recursiveRef\",\"$recursiveAnchor\",\"$dynamicRef\",\"$dynamicAnchor\"]);function c(e){for(const t in e){if(i.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if(\"object\"==typeof r&&c(r))return!0}return!1}function l(e){let t=0;for(const r in e){if(\"$ref\"===r)return Infinity;if(t++,!n.has(r)&&(\"object\"==typeof e[r]&&(0,o.eachItem)(e[r],(e=>t+=l(e))),Infinity===t))return Infinity}return t}function d(e,t=\"\",r){!1!==r&&(t=p(t));const o=e.parse(t);return u(e,o)}function u(e,t){return e.serialize(t).split(\"#\")[0]+\"#\"}r.getFullPath=d,r._getFullPath=u;const f=/#\\/?$/;function p(e){return e?e.replace(f,\"\"):\"\"}r.normalizeId=p,r.resolveUrl=function(e,t,r){return r=p(r),e.resolve(t,r)};const m=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if(\"boolean\"==typeof e)return{};const{schemaId:r,uriResolver:o}=this.opts,n=p(e[r]||t),i={\"\":n},c=d(o,n,!1),l={},u=new Set;return a(e,{allKeys:!0},((e,t,o,s)=>{if(void 0===s)return;const a=c+t;let n=i[s];function d(t){if(t=p(n?(0,this.opts.uriResolver.resolve)(n,t):t),u.has(t))throw h(t);u.add(t);let r=this.refs[t];return\"string\"==typeof r&&(r=this.refs[r]),\"object\"==typeof r?f(e,r.schema,t):t!==p(a)&&(\"#\"===t[0]?(f(e,l[t],t),l[t]=e):this.refs[t]=a),t}function y(e){if(\"string\"==typeof e){if(!m.test(e))throw new Error(`invalid anchor \"${e}\"`);d.call(this,`#${e}`)}}\"string\"==typeof e[r]&&(n=d.call(this,e[r])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),i[t]=n})),l;function f(e,t,r){if(void 0!==t&&!s(e,t))throw h(r)}function h(e){return new Error(`reference \"${e}\" resolves to more than one schema`)}}},{\"./util\":10,\"fast-deep-equal\":63,\"json-schema-traverse\":64}],9:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getRules=r.isJSONType=void 0;const o=new Set([\"string\",\"number\",\"integer\",\"boolean\",\"null\",\"object\",\"array\"]);r.isJSONType=function(e){return\"string\"==typeof e&&o.has(e)},r.getRules=function(){const e={number:{type:\"number\",rules:[]},string:{type:\"string\",rules:[]},array:{type:\"array\",rules:[]},object:{type:\"object\",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const o=e(\"./codegen\"),s=e(\"./codegen/code\");function a(e,t=e.schema){const{opts:r,self:o}=e;if(!r.strictSchema)return;if(\"boolean\"==typeof t)return;const s=o.RULES.keywords;for(const r in t)s[r]||m(e,`unknown keyword: \"${r}\"`)}function n(e,t){if(\"boolean\"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function i(e){return\"number\"==typeof e?`${e}`:e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function c(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}function l({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(a,n,i,c)=>{const l=void 0===i?n:i instanceof o.Name?(n instanceof o.Name?e(a,n,i):t(a,n,i),i):n instanceof o.Name?(t(a,i,n),n):r(n,i);return c!==o.Name||l instanceof o.Name?l:s(a,l)}}function d(e,t){if(!0===t)return e.var(\"props\",!0);const r=e.var(\"props\",o._`{}`);return void 0!==t&&u(e,r,t),r}function u(e,t,r){Object.keys(r).forEach((r=>e.assign(o._`${t}${(0,o.getProperty)(r)}`,!0)))}r.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return\"boolean\"==typeof t?t:0===Object.keys(t).length||(a(e,t),!n(t,e.self.RULES.all))},r.checkUnknownRules=a,r.schemaHasRules=n,r.schemaHasRulesButRef=function(e,t){if(\"boolean\"==typeof e)return!e;for(const r in e)if(\"$ref\"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,s,a){if(!a){if(\"number\"==typeof r||\"boolean\"==typeof r)return r;if(\"string\"==typeof r)return o._`${r}`}return o._`${e}${t}${(0,o.getProperty)(s)}`},r.unescapeFragment=function(e){return c(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(i(e))},r.escapeJsonPointer=i,r.unescapeJsonPointer=c,r.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},r.mergeEvaluated={props:l({mergeNames(e,t,r){return e.if(o._`${r} !== true && ${t} !== undefined`,(()=>{e.if(o._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,o._`${r} || {}`).code(o._`Object.assign(${r}, ${t})`)))}))},mergeToName(e,t,r){return e.if(o._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,o._`${r} || {}`),u(e,r,t))}))},mergeValues(e,t){return!0===e||{...e,...t}},resultToName:d}),items:l({mergeNames(e,t,r){return e.if(o._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,o._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)))},mergeToName(e,t,r){return e.if(o._`${r} !== true`,(()=>e.assign(r,!0===t||o._`${r} > ${t} ? ${r} : ${t}`)))},mergeValues(e,t){return!0===e||Math.max(e,t)},resultToName(e,t){return e.var(\"items\",t)}})},r.evaluatedPropsToName=d,r.setEvaluated=u;const f={};var p;function m(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue(\"func\",{ref:t,code:f[t.code]||(f[t.code]=new s._Code(t.code))})},function(e){e[e.Num=0]=\"Num\",e[e.Str=1]=\"Str\"}(p=r.Type||(r.Type={})),r.getErrorPath=function(e,t,r){if(e instanceof o.Name){const s=t===p.Num;return r?s?o._`\"[\" + ${e} + \"]\"`:o._`\"['\" + ${e} + \"']\"`:s?o._`\"/\" + ${e}`:o._`\"/\" + ${e}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`}return r?(0,o.getProperty)(e).toString():\"/\"+i(e)},r.checkStrictMode=m},{\"./codegen\":2,\"./codegen/code\":1}],11:[function(e,t,r){\"use strict\";function o(e,t){return t.rules.some((t=>s(e,t)))}function s(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){const s=t.RULES.types[r];return s&&!0!==s&&o(e,s)},r.shouldUseGroup=o,r.shouldUseRule=s},{}],12:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const o=e(\"../errors\"),s=e(\"../codegen\"),a=e(\"../names\"),n={message:\"boolean schema is false\"};function i(e,t){const{gen:r,data:s}=e;(0,o.reportError)({gen:r,keyword:\"false schema\",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},n,void 0,t)}r.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:o}=e;!1===r?i(e,!1):\"object\"==typeof r&&!0===r.$async?t.return(a.default.data):(t.assign(s._`${o}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){const{gen:r,schema:o}=e;!1===o?(r.var(t,!1),i(e)):r.var(t,!0)}},{\"../codegen\":2,\"../errors\":4,\"../names\":6}],13:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const o=e(\"../rules\"),s=e(\"./applicability\"),a=e(\"../errors\"),n=e(\"../codegen\"),i=e(\"../util\");var c;function l(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(o.isJSONType))return t;throw new Error(\"type must be JSONType or JSONType[]: \"+t.join(\",\"))}!function(e){e[e.Correct=0]=\"Correct\",e[e.Wrong=1]=\"Wrong\"}(c=r.DataType||(r.DataType={})),r.getSchemaTypes=function(e){const t=l(e.type);if(t.includes(\"null\")){if(!1===e.nullable)throw new Error(\"type: null contradicts nullable: false\")}else{if(!t.length&&void 0!==e.nullable)throw new Error('\"nullable\" cannot be used without \"type\"');!0===e.nullable&&t.push(\"null\")}return t},r.getJSONTypes=l,r.coerceAndCheckDataType=function(e,t){const{gen:r,data:o,opts:a}=e,i=function(e,t){return t?e.filter((e=>d.has(e)||\"array\"===t&&\"array\"===e)):[]}(t,a.coerceTypes),l=t.length>0&&!(0===i.length&&1===t.length&&(0,s.schemaHasRulesForType)(e,t[0]));if(l){const s=f(t,o,a.strictNumbers,c.Wrong);r.if(s,(()=>{i.length?function(e,t,r){const{gen:o,data:s,opts:a}=e,i=o.let(\"dataType\",n._`typeof ${s}`),c=o.let(\"coerced\",n._`undefined`);\"array\"===a.coerceTypes&&o.if(n._`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,(()=>o.assign(s,n._`${s}[0]`).assign(i,n._`typeof ${s}`).if(f(t,s,a.strictNumbers),(()=>o.assign(c,s)))));o.if(n._`${c} !== undefined`);for(const e of r)(d.has(e)||\"array\"===e&&\"array\"===a.coerceTypes)&&l(e);function l(e){switch(e){case\"string\":return void o.elseIf(n._`${i} == \"number\" || ${i} == \"boolean\"`).assign(c,n._`\"\" + ${s}`).elseIf(n._`${s} === null`).assign(c,n._`\"\"`);case\"number\":return void o.elseIf(n._`${i} == \"boolean\" || ${s} === null\n              || (${i} == \"string\" && ${s} && ${s} == +${s})`).assign(c,n._`+${s}`);case\"integer\":return void o.elseIf(n._`${i} === \"boolean\" || ${s} === null\n              || (${i} === \"string\" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,n._`+${s}`);case\"boolean\":return void o.elseIf(n._`${s} === \"false\" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf(n._`${s} === \"true\" || ${s} === 1`).assign(c,!0);case\"null\":return o.elseIf(n._`${s} === \"\" || ${s} === 0 || ${s} === false`),void o.assign(c,null);case\"array\":o.elseIf(n._`${i} === \"string\" || ${i} === \"number\"\n              || ${i} === \"boolean\" || ${s} === null`).assign(c,n._`[${s}]`)}}o.else(),m(e),o.endIf(),o.if(n._`${c} !== undefined`,(()=>{o.assign(s,c),function({gen:e,parentData:t,parentDataProperty:r},o){e.if(n._`${t} !== undefined`,(()=>e.assign(n._`${t}[${r}]`,o)))}(e,c)}))}(e,t,i):m(e)}))}return l};const d=new Set([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function u(e,t,r,o=c.Correct){const s=o===c.Correct?n.operators.EQ:n.operators.NEQ;let a;switch(e){case\"null\":return n._`${t} ${s} null`;case\"array\":a=n._`Array.isArray(${t})`;break;case\"object\":a=n._`${t} && typeof ${t} == \"object\" && !Array.isArray(${t})`;break;case\"integer\":a=i(n._`!(${t} % 1) && !isNaN(${t})`);break;case\"number\":a=i();break;default:return n._`typeof ${t} ${s} ${e}`}return o===c.Correct?a:(0,n.not)(a);function i(e=n.nil){return(0,n.and)(n._`typeof ${t} == \"number\"`,e,r?n._`isFinite(${t})`:n.nil)}}function f(e,t,r,o){if(1===e.length)return u(e[0],t,r,o);let s;const a=(0,i.toHash)(e);if(a.array&&a.object){const e=n._`typeof ${t} != \"object\"`;s=a.null?e:n._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else s=n.nil;a.number&&delete a.integer;for(const e in a)s=(0,n.and)(s,u(e,t,r,o));return s}r.checkDataType=u,r.checkDataTypes=f;const p={message({schema:e}){return`must be ${e}`},params({schema:e,schemaValue:t}){return\"string\"==typeof e?n._`{type: ${e}}`:n._`{type: ${t}}`}};function m(e){const t=function(e){const{gen:t,data:r,schema:o}=e,s=(0,i.schemaRefOrVal)(e,o,\"type\");return{gen:t,keyword:\"type\",data:r,schema:o.type,schemaCode:s,schemaValue:s,parentSchema:o,params:{},it:e}}(e);(0,a.reportError)(t,p)}r.reportTypeError=m},{\"../codegen\":2,\"../errors\":4,\"../rules\":9,\"../util\":10,\"./applicability\":11}],14:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.assignDefaults=void 0;const o=e(\"../codegen\"),s=e(\"../util\");function a(e,t,r){const{gen:a,compositeRule:n,data:i,opts:c}=e;if(void 0===r)return;const l=o._`${i}${(0,o.getProperty)(t)}`;if(n)return void(0,s.checkStrictMode)(e,`default is ignored for: ${l}`);let d=o._`${l} === undefined`;\"empty\"===c.useDefaults&&(d=o._`${d} || ${l} === null || ${l} === \"\"`),a.if(d,o._`${l} = ${(0,o.stringify)(r)}`)}r.assignDefaults=function(e,t){const{properties:r,items:o}=e.schema;if(\"object\"===t&&r)for(const t in r)a(e,t,r[t].default);else\"array\"===t&&Array.isArray(o)&&o.forEach(((t,r)=>a(e,r,t.default)))}},{\"../codegen\":2,\"../util\":10}],15:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const o=e(\"./boolSchema\"),s=e(\"./dataType\"),a=e(\"./applicability\"),n=e(\"./dataType\"),i=e(\"./defaults\"),c=e(\"./keyword\"),l=e(\"./subschema\"),d=e(\"../codegen\"),u=e(\"../names\"),f=e(\"../resolve\"),p=e(\"../util\"),m=e(\"../errors\");function h({gen:e,validateName:t,schema:r,schemaEnv:o,opts:s},a){s.code.es5?e.func(t,d._`${u.default.data}, ${u.default.valCxt}`,o.$async,(()=>{e.code(d._`\"use strict\"; ${y(r,s)}`),function(e,t){e.if(u.default.valCxt,(()=>{e.var(u.default.instancePath,d._`${u.default.valCxt}.${u.default.instancePath}`),e.var(u.default.parentData,d._`${u.default.valCxt}.${u.default.parentData}`),e.var(u.default.parentDataProperty,d._`${u.default.valCxt}.${u.default.parentDataProperty}`),e.var(u.default.rootData,d._`${u.default.valCxt}.${u.default.rootData}`),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`${u.default.valCxt}.${u.default.dynamicAnchors}`)}),(()=>{e.var(u.default.instancePath,d._`\"\"`),e.var(u.default.parentData,d._`undefined`),e.var(u.default.parentDataProperty,d._`undefined`),e.var(u.default.rootData,u.default.data),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`{}`)}))}(e,s),e.code(a)})):e.func(t,d._`${u.default.data}, ${function(e){return d._`{${u.default.instancePath}=\"\", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${e.dynamicRef?d._`, ${u.default.dynamicAnchors}={}`:d.nil}}={}`}(s)}`,o.$async,(()=>e.code(y(r,s)).code(a)))}function y(e,t){const r=\"object\"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?d._`/*# sourceURL=${r} */`:d.nil}function v(e,t){$(e)&&(_(e),g(e))?function(e,t){const{schema:r,gen:o,opts:s}=e;s.$comment&&r.$comment&&b(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,f.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error(\"async schema in sync schema\")}(e);const a=o.const(\"_errs\",u.default.errors);w(e,a),o.var(t,d._`${a} === ${u.default.errors}`)}(e,t):(0,o.boolOrEmptySchema)(e,t)}function g({schema:e,self:t}){if(\"boolean\"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function $(e){return\"boolean\"!=typeof e.schema}function _(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:o,self:s}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path \"${r}\"`)}(e)}function w(e,t){if(e.opts.jtd)return E(e,[],!1,t);const r=(0,s.getSchemaTypes)(e.schema);E(e,r,!(0,s.coerceAndCheckDataType)(e,r),t)}function b({gen:e,schemaEnv:t,schema:r,errSchemaPath:o,opts:s}){const a=r.$comment;if(!0===s.$comment)e.code(d._`${u.default.self}.logger.log(${a})`);else if(\"function\"==typeof s.$comment){const r=d.str`${o}/$comment`,s=e.scopeValue(\"root\",{ref:t.root});e.code(d._`${u.default.self}.opts.$comment(${a}, ${r}, ${s}.schema)`)}}function E(e,t,r,o){const{gen:s,schema:i,data:c,allErrors:l,opts:f,self:m}=e,{RULES:h}=m;function y(p){(0,a.shouldUseGroup)(i,p)&&(p.type?(s.if((0,n.checkDataType)(p.type,c,f.strictNumbers)),P(e,p),1===t.length&&t[0]===p.type&&r&&(s.else(),(0,n.reportTypeError)(e)),s.endIf()):P(e,p),l||s.if(d._`${u.default.errors} === ${o||0}`))}!i.$ref||!f.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(i,h)?(f.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||k(e,`type \"${t}\" not allowed by context \"${e.dataTypes.join(\",\")}\"`)})),e.dataTypes=e.dataTypes.filter((e=>N(t,e)))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes(\"null\"))&&k(e,\"use allowUnionTypes to allow union type keyword\")}(e,t);!function(e,t){const r=e.self.RULES.all;for(const o in r){const s=r[o];if(\"object\"==typeof s&&(0,a.shouldUseRule)(e.schema,s)){const{type:r}=s.definition;r.length&&!r.some((e=>S(t,e)))&&k(e,`missing type \"${r.join(\",\")}\" for keyword \"${o}\"`)}}}(e,e.dataTypes)}(e,t),s.block((()=>{for(const e of h.rules)y(e);y(h.post)}))):s.block((()=>C(e,\"$ref\",h.all.$ref.definition)))}function P(e,t){const{gen:r,schema:o,opts:{useDefaults:s}}=e;s&&(0,i.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,a.shouldUseRule)(o,r)&&C(e,r.keyword,r.definition,t.type)}))}function S(e,t){return e.includes(t)||\"number\"===t&&e.includes(\"integer\")}function N(e,t){return e.includes(t)||\"integer\"===t&&e.includes(\"number\")}function k(e,t){(0,p.checkStrictMode)(e,t+=` at \"${e.schemaEnv.baseId+e.errSchemaPath}\" (strictTypes)`,e.opts.strictTypes)}r.validateFunctionCode=function(e){$(e)&&(_(e),g(e))?function(e){const{schema:t,opts:r,gen:o}=e;h(e,(()=>{r.$comment&&t.$comment&&b(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,p.checkStrictMode)(e,\"default is ignored in the schema root\")}(e),o.let(u.default.vErrors,null),o.let(u.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const(\"evaluated\",d._`${r}.evaluated`),t.if(d._`${e.evaluated}.dynamicProps`,(()=>t.assign(d._`${e.evaluated}.props`,d._`undefined`))),t.if(d._`${e.evaluated}.dynamicItems`,(()=>t.assign(d._`${e.evaluated}.items`,d._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:r,validateName:o,ValidationError:s,opts:a}=e;r.$async?t.if(d._`${u.default.errors} === 0`,(()=>t.return(u.default.data)),(()=>t.throw(d._`new ${s}(${u.default.vErrors})`))):(t.assign(d._`${o}.errors`,u.default.vErrors),a.unevaluated&&function({gen:e,evaluated:t,props:r,items:o}){r instanceof d.Name&&e.assign(d._`${t}.props`,r);o instanceof d.Name&&e.assign(d._`${t}.items`,o)}(e),t.return(d._`${u.default.errors} === 0`))}(e)}))}(e):h(e,(()=>(0,o.topBoolOrEmptySchema)(e)))};class j{constructor(e,t,r){if((0,c.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const(\"vSchema\",T(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);(\"code\"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const(\"_errs\",u.default.errors))}result(e,t,r){this.failResult((0,d.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,d.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(d._`${t} !== undefined && (${(0,d.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?m.reportExtraError:m.reportError)(this,this.def.error,t)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add \"trackErrors\" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=d.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=d.nil,t=d.nil){if(!this.$data)return;const{gen:r,schemaCode:o,schemaType:s,def:a}=this;r.if((0,d.or)(d._`${o} === undefined`,t)),e!==d.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==d.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:o,it:s}=this;return(0,d.or)(function(){if(r.length){if(!(t instanceof d.Name))throw new Error(\"ajv implementation error\");const e=Array.isArray(r)?r:[r];return d._`${(0,n.checkDataTypes)(e,t,s.opts.strictNumbers,n.DataType.Wrong)}`}return d.nil}(),function(){if(o.validateSchema){const r=e.scopeValue(\"validate$data\",{ref:o.validateSchema});return d._`!${r}(${t})`}return d.nil}())}subschema(e,t){const r=(0,l.getSubschema)(this.it,e);(0,l.extendSubschemaData)(r,this.it,e),(0,l.extendSubschemaMode)(r,e);const o={...this.it,...r,items:void 0,props:void 0};return v(o,t),o}mergeEvaluated(e,t){const{it:r,gen:o}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=p.mergeEvaluated.props(o,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=p.mergeEvaluated.items(o,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:o}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return o.if(t,(()=>this.mergeEvaluated(e,d.Name))),!0}}function C(e,t,r,o){const s=new j(e,r,t);\"code\"in r?r.code(s,o):s.$data&&r.validate?(0,c.funcKeywordCode)(s,r):\"macro\"in r?(0,c.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,c.funcKeywordCode)(s,r)}r.KeywordCxt=j;const O=/^\\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function T(e,{dataLevel:t,dataNames:r,dataPathArr:o}){let s,a;if(\"\"===e)return u.default.rootData;if(\"/\"===e[0]){if(!O.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=u.default.rootData}else{const n=x.exec(e);if(!n)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+n[1];if(s=n[2],\"#\"===s){if(i>=t)throw new Error(c(\"property/index\",i));return o[t-i]}if(i>t)throw new Error(c(\"data\",i));if(a=r[t-i],!s)return a}let n=a;const i=s.split(\"/\");for(const e of i)e&&(a=d._`${a}${(0,d.getProperty)((0,p.unescapeJsonPointer)(e))}`,n=d._`${n} && ${a}`);return n;function c(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}r.getData=T},{\"../codegen\":2,\"../errors\":4,\"../names\":6,\"../resolve\":8,\"../util\":10,\"./applicability\":11,\"./boolSchema\":12,\"./dataType\":13,\"./defaults\":14,\"./keyword\":16,\"./subschema\":17}],16:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const o=e(\"../codegen\"),s=e(\"../names\"),a=e(\"../../vocabularies/code\"),n=e(\"../errors\");function i(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,(()=>t.assign(r,o._`${s.parentData}[${s.parentDataProperty}]`)))}function c(e,t,r){if(void 0===r)throw new Error(`keyword \"${t}\" failed to compile`);return e.scopeValue(\"keyword\",\"function\"==typeof r?{ref:r}:{ref:r,code:(0,o.stringify)(r)})}r.macroKeywordCode=function(e,t){const{gen:r,keyword:s,schema:a,parentSchema:n,it:i}=e,l=t.macro.call(i.self,a,n,i),d=c(r,s,l);!1!==i.opts.validateSchema&&i.self.validateSchema(l,!0);const u=r.name(\"valid\");e.subschema({schema:l,schemaPath:o.nil,errSchemaPath:`${i.errSchemaPath}/${s}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},r.funcKeywordCode=function(e,t){var r;const{gen:l,keyword:d,schema:u,parentSchema:f,$data:p,it:m}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error(\"async keyword in sync schema\")}(m,t);const h=!p&&t.compile?t.compile.call(m.self,u,f,m):t.validate,y=c(l,d,h),v=l.let(\"valid\");function g(r=(t.async?o._`await `:o.nil)){l.assign(v,o._`${r}${(0,a.callValidateCode)(e,y,m.opts.passContext?s.default.this:s.default.self,!(\"compile\"in t&&!p||!1===t.schema))}`,t.modifying)}function $(e){var r;l.if((0,o.not)(null!==(r=t.valid)&&void 0!==r?r:v),e)}e.block$data(v,(function(){if(!1===t.errors)g(),t.modifying&&i(e),$((()=>e.error()));else{const r=t.async?function(){const e=l.let(\"ruleErrs\",null);return l.try((()=>g(o._`await `)),(t=>l.assign(v,!1).if(o._`${t} instanceof ${m.ValidationError}`,(()=>l.assign(e,o._`${t}.errors`)),(()=>l.throw(t))))),e}():function(){const e=o._`${y}.errors`;return l.assign(e,null),g(o.nil),e}();t.modifying&&i(e),$((()=>function(e,t){const{gen:r}=e;r.if(o._`Array.isArray(${t})`,(()=>{r.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,o._`${s.default.vErrors}.length`),(0,n.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:v)},r.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>\"array\"===t?Array.isArray(e):\"object\"===t?e&&\"object\"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},r.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:o},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error(\"ajv implementation error\");const n=s.dependencies;if(null==n?void 0:n.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${a}: ${n.join(\",\")}`);if(s.validateSchema){if(!s.validateSchema(e[a])){const e=`keyword \"${a}\" value is invalid at path \"${o}\": `+r.errorsText(s.validateSchema.errors);if(\"log\"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}}},{\"../../vocabularies/code\":42,\"../codegen\":2,\"../errors\":4,\"../names\":6}],17:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const o=e(\"../codegen\"),s=e(\"../util\");r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:n,errSchemaPath:i,topSchemaRef:c}){if(void 0!==t&&void 0!==a)throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');if(void 0!==t){const a=e.schema[t];return void 0===r?{schema:a,schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}${(0,o.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==a){if(void 0===n||void 0===i||void 0===c)throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');return{schema:a,schemaPath:n,topSchemaRef:c,errSchemaPath:i}}throw new Error('either \"keyword\" or \"schema\" must be passed')},r.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:a,data:n,dataTypes:i,propertyName:c}){if(void 0!==n&&void 0!==r)throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');const{gen:l}=t;if(void 0!==r){const{errorPath:n,dataPathArr:i,opts:c}=t;d(l.let(\"data\",o._`${t.data}${(0,o.getProperty)(r)}`,!0)),e.errorPath=o.str`${n}${(0,s.getErrorPath)(r,a,c.jsPropertySyntax)}`,e.parentDataProperty=o._`${r}`,e.dataPathArr=[...i,e.parentDataProperty]}if(void 0!==n){d(n instanceof o.Name?n:l.let(\"data\",n,!0)),void 0!==c&&(e.propertyName=c)}function d(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}i&&(e.dataTypes=i)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:o,createErrors:s,allErrors:a}){void 0!==o&&(e.compositeRule=o),void 0!==s&&(e.createErrors=s),void 0!==a&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}},{\"../codegen\":2,\"../util\":10}],18:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var o=e(\"./compile/validate\");Object.defineProperty(r,\"KeywordCxt\",{enumerable:!0,get(){return o.KeywordCxt}});var s=e(\"./compile/codegen\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return s._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return s.str}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return s.stringify}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return s.nil}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return s.Name}}),Object.defineProperty(r,\"CodeGen\",{enumerable:!0,get(){return s.CodeGen}});const a=e(\"./runtime/validation_error\"),n=e(\"./compile/ref_error\"),i=e(\"./compile/rules\"),c=e(\"./compile\"),l=e(\"./compile/codegen\"),d=e(\"./compile/resolve\"),u=e(\"./compile/validate/dataType\"),f=e(\"./compile/util\"),p=e(\"./refs/data.json\"),m=e(\"./runtime/uri\"),h=(e,t)=>new RegExp(e,t);h.code=\"new RegExp\";const y=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],v=new Set([\"validate\",\"serialize\",\"parse\",\"wrapper\",\"root\",\"schema\",\"keyword\",\"pattern\",\"formats\",\"validate$data\",\"func\",\"obj\",\"Error\"]),g={errorDataPath:\"\",format:\"`validateFormats: false` can be used instead.\",nullable:'\"nullable\" keyword is supported by default.',jsonPointers:\"Deprecated jsPropertySyntax can be used instead.\",extendRefs:\"Deprecated ignoreKeywordsWithRef can be used instead.\",missingRefs:\"Pass empty schema with $id that should be ignored to ajv.addSchema.\",processCode:\"Use option `code: {process: (code, schemaEnv: object) => string}`\",sourceCode:\"Use option `code: {source: true}`\",strictDefaults:\"It is default now, see option `strict`.\",strictKeywords:\"It is default now, see option `strict`.\",uniqueItems:'\"uniqueItems\" keyword is always validated.',unknownFormats:\"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",cache:\"Map is used as cache, schema object as key.\",serialize:\"Map is used as cache, schema object as key.\",ajvErrors:\"It is default now.\"},$={ignoreKeywordsWithRef:\"\",jsPropertySyntax:\"\",unicode:'\"minLength\"/\"maxLength\" account for unicode characters by default.'};function _(e){var t,r,o,s,a,n,i,c,l,d,u,f,p,y,v,g,$,_,w,b,E,P,S,N,k;const j=e.strict,C=null===(t=e.code)||void 0===t?void 0:t.optimize,O=!0===C||void 0===C?1:C||0,x=null!==(o=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==o?o:h,T=null!==(s=e.uriResolver)&&void 0!==s?s:m.default;return{strictSchema:null===(n=null!==(a=e.strictSchema)&&void 0!==a?a:j)||void 0===n||n,strictNumbers:null===(c=null!==(i=e.strictNumbers)&&void 0!==i?i:j)||void 0===c||c,strictTypes:null!==(d=null!==(l=e.strictTypes)&&void 0!==l?l:j)&&void 0!==d?d:\"log\",strictTuples:null!==(f=null!==(u=e.strictTuples)&&void 0!==u?u:j)&&void 0!==f?f:\"log\",strictRequired:null!==(y=null!==(p=e.strictRequired)&&void 0!==p?p:j)&&void 0!==y&&y,code:e.code?{...e.code,optimize:O,regExp:x}:{optimize:O,regExp:x},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===($=e.meta)||void 0===$||$,messages:null===(_=e.messages)||void 0===_||_,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(b=e.schemaId)&&void 0!==b?b:\"$id\",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(P=e.validateSchema)||void 0===P||P,validateFormats:null===(S=e.validateFormats)||void 0===S||S,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(k=e.int32range)||void 0===k||k,uriResolver:T}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:v,es5:t,lines:r}),this.logger=function(e){if(!1===e)return j;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error(\"logger must implement log, warn and error methods\")}(e.logger);const o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),b.call(this,g,e,\"NOT SUPPORTED\"),b.call(this,$,e,\"DEPRECATED\",\"warn\"),this._metaOpts=k.call(this),e.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),P.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword(\"$async\")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let o=p;\"id\"===r&&(o={...p},o.id=o.$id,delete o.$id),t&&e&&this.addMetaSchema(o,o[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=\"object\"==typeof e?e[t]||e:void 0}validate(e,t){let r;if(\"string\"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref \"${e}\"`)}else r=this.compile(e);const o=r(t);return\"$async\"in r||(this.errors=r.errors),o}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if(\"function\"!=typeof this.opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");const{loadSchema:r}=this.opts;return o.call(this,e,t);async function o(e,t){await s.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||a.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await o.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof n.default))throw t;return i.call(this,t),await c.call(this,t.missingSchema),a.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await l.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function l(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,o=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,o);return this}let s;if(\"object\"==typeof e){const{schemaId:t}=this.opts;if(s=e[t],void 0!==s&&\"string\"!=typeof s)throw new Error(`schema ${t} must be string`)}return t=(0,d.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,o,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if(\"boolean\"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;const o=this.validate(r,e);if(!o&&t){const e=\"schema is invalid: \"+this.errorsText();if(\"log\"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return o}getSchema(e){let t;for(;\"string\"==typeof(t=E.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,o=new c.SchemaEnv({schema:{},schemaId:r});if(t=c.resolveSchema.call(this,o,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case\"undefined\":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case\"string\":{const t=E.call(this,e);return\"object\"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case\"object\":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,d.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw new Error(\"ajv.removeSchema: invalid parameter\")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if(\"string\"==typeof e)r=e,\"object\"==typeof t&&(this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\"),t.keyword=r);else{if(\"object\"!=typeof e||void 0!==t)throw new Error(\"invalid addKeywords parameters\");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error(\"addKeywords: keyword must be string or non-empty array\")}if(O.call(this,r,t),!t)return(0,f.eachItem)(r,(e=>x.call(this,e))),this;I.call(this,t);const o={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,f.eachItem)(r,0===o.type.length?e=>x.call(this,e,o):e=>o.type.forEach((t=>x.call(this,e,o,t)))),this}getKeyword(e){const t=this.RULES.all[e];return\"object\"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return\"string\"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=\", \",dataVar:r=\"data\"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):\"No errors\"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const o of t){const t=o.split(\"/\").slice(1);let s=e;for(const e of t)s=s[e];for(const e in r){const t=r[e];if(\"object\"!=typeof t)continue;const{$data:o}=t.definition,a=s[e];o&&a&&(s[e]=D(a))}}return e}_removeAllSchemas(e,t){for(const r in e){const o=e[r];t&&!t.test(r)||(\"string\"==typeof o?delete e[r]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[r]))}}_addSchema(e,t,r,o=this.opts.validateSchema,s=this.opts.addUsedSchema){let a;const{schemaId:n}=this.opts;if(\"object\"==typeof e)a=e[n];else{if(this.opts.jtd)throw new Error(\"schema must be object\");if(\"boolean\"!=typeof e)throw new Error(\"schema must be object or boolean\")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(a||r);const l=d.getSchemaRefs.call(this,e,r);return i=new c.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:l}),this._cache.set(i.schema,i),s&&!r.startsWith(\"#\")&&(r&&this._checkUnique(r),this.refs[r]=i),o&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id \"${e}\" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error(\"ajv implementation error\");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function b(e,t,r,o=\"error\"){for(const s in e){const a=s;a in t&&this.logger[o](`${r}: option ${s}. ${e[a]}`)}}function E(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function P(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function S(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn(\"keywords option as map is deprecated, pass array\");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function k(){const e={...this.opts};for(const t of y)delete e[t];return e}r.default=w,w.ValidationError=a.default,w.MissingRefError=n.default;const j={log(){},warn(){},error(){}};const C=/^[a-z_$][a-z0-9_$:-]*$/i;function O(e,t){const{RULES:r}=this;if((0,f.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!C.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!(\"code\"in t)&&!(\"validate\"in t))throw new Error('$data keyword must have \"code\" or \"validate\" function')}function x(e,t,r){var o;const s=null==t?void 0:t.post;if(r&&s)throw new Error('keyword with \"post\" flag cannot have \"type\"');const{RULES:a}=this;let n=s?a.post:a.rules.find((({type:e})=>e===r));if(n||(n={type:r,rules:[]},a.rules.push(n)),a.keywords[e]=!0,!t)return;const i={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}};t.before?T.call(this,n,i,t.before):n.rules.push(i),a.all[e]=i,null===(o=t.implements)||void 0===o||o.forEach((e=>this.addKeyword(e)))}function T(e,t,r){const o=e.rules.findIndex((e=>e.keyword===r));o>=0?e.rules.splice(o,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function I(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=D(t)),e.validateSchema=this.compile(t,!0))}const R={$ref:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\"};function D(e){return{anyOf:[e,R]}}},{\"./compile\":5,\"./compile/codegen\":2,\"./compile/ref_error\":7,\"./compile/resolve\":8,\"./compile/rules\":9,\"./compile/util\":10,\"./compile/validate\":15,\"./compile/validate/dataType\":13,\"./refs/data.json\":19,\"./runtime/uri\":23,\"./runtime/validation_error\":24}],19:[function(e,t,r){t.exports={$id:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",description:\"Meta-schema for $data reference (JSON AnySchema extension proposal)\",type:\"object\",required:[\"$data\"],properties:{$data:{type:\"string\",anyOf:[{format:\"relative-json-pointer\"},{format:\"json-pointer\"}]}},additionalProperties:!1}},{}],20:[function(e,t,r){t.exports={$schema:\"http://json-schema.org/draft-07/schema#\",$id:\"http://json-schema.org/draft-07/schema#\",title:\"Core schema meta-schema\",definitions:{schemaArray:{type:\"array\",minItems:1,items:{$ref:\"#\"}},nonNegativeInteger:{type:\"integer\",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:\"#/definitions/nonNegativeInteger\"},{default:0}]},simpleTypes:{enum:[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},stringArray:{type:\"array\",items:{type:\"string\"},uniqueItems:!0,default:[]}},type:[\"object\",\"boolean\"],properties:{$id:{type:\"string\",format:\"uri-reference\"},$schema:{type:\"string\",format:\"uri\"},$ref:{type:\"string\",format:\"uri-reference\"},$comment:{type:\"string\"},title:{type:\"string\"},description:{type:\"string\"},default:!0,readOnly:{type:\"boolean\",default:!1},examples:{type:\"array\",items:!0},multipleOf:{type:\"number\",exclusiveMinimum:0},maximum:{type:\"number\"},exclusiveMaximum:{type:\"number\"},minimum:{type:\"number\"},exclusiveMinimum:{type:\"number\"},maxLength:{$ref:\"#/definitions/nonNegativeInteger\"},minLength:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},pattern:{type:\"string\",format:\"regex\"},additionalItems:{$ref:\"#\"},items:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/schemaArray\"}],default:!0},maxItems:{$ref:\"#/definitions/nonNegativeInteger\"},minItems:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},uniqueItems:{type:\"boolean\",default:!1},contains:{$ref:\"#\"},maxProperties:{$ref:\"#/definitions/nonNegativeInteger\"},minProperties:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},required:{$ref:\"#/definitions/stringArray\"},additionalProperties:{$ref:\"#\"},definitions:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},properties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},patternProperties:{type:\"object\",additionalProperties:{$ref:\"#\"},propertyNames:{format:\"regex\"},default:{}},dependencies:{type:\"object\",additionalProperties:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/stringArray\"}]}},propertyNames:{$ref:\"#\"},const:!0,enum:{type:\"array\",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:\"#/definitions/simpleTypes\"},{type:\"array\",items:{$ref:\"#/definitions/simpleTypes\"},minItems:1,uniqueItems:!0}]},format:{type:\"string\"},contentMediaType:{type:\"string\"},contentEncoding:{type:\"string\"},if:{$ref:\"#\"},then:{$ref:\"#\"},else:{$ref:\"#\"},allOf:{$ref:\"#/definitions/schemaArray\"},anyOf:{$ref:\"#/definitions/schemaArray\"},oneOf:{$ref:\"#/definitions/schemaArray\"},not:{$ref:\"#\"}},default:!0}},{}],21:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"fast-deep-equal\");o.code='require(\"ajv/dist/runtime/equal\").default',r.default=o},{\"fast-deep-equal\":63}],22:[function(e,t,r){\"use strict\";function o(e){const t=e.length;let r,o=0,s=0;for(;s<t;)o++,r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<t&&(r=e.charCodeAt(s),56320==(64512&r)&&s++);return o}Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=o,o.code='require(\"ajv/dist/runtime/ucs2length\").default'},{}],23:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"uri-js\");o.code='require(\"ajv/dist/runtime/uri\").default',r.default=o},{\"uri-js\":65}],24:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});class o extends Error{constructor(e){super(\"validation failed\"),this.errors=e,this.ajv=this.validation=!0}}r.default=o},{}],25:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateAdditionalItems=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a={keyword:\"additionalItems\",type:\"array\",schemaType:[\"boolean\",\"object\"],before:\"uniqueItems\",error:{message({params:{len:e}}){return o.str`must NOT have more than ${e} items`},params({params:{len:e}}){return o._`{limit: ${e}}`}},code(e){const{parentSchema:t,it:r}=e,{items:o}=t;Array.isArray(o)?n(e,o):(0,s.checkStrictMode)(r,'\"additionalItems\" is ignored when \"items\" is not an array of schemas')}};function n(e,t){const{gen:r,schema:a,data:n,keyword:i,it:c}=e;c.items=!0;const l=r.const(\"len\",o._`${n}.length`);if(!1===a)e.setParams({len:t.length}),e.pass(o._`${l} <= ${t.length}`);else if(\"object\"==typeof a&&!(0,s.alwaysValidSchema)(c,a)){const a=r.var(\"valid\",o._`${l} <= ${t.length}`);r.if((0,o.not)(a),(()=>function(a){r.forRange(\"i\",t.length,l,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:s.Type.Num},a),c.allErrors||r.if((0,o.not)(a),(()=>r.break()))}))}(a))),e.ok(a)}}r.validateAdditionalItems=n,r.default=a},{\"../../compile/codegen\":2,\"../../compile/util\":10}],26:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/names\"),n=e(\"../../compile/util\");r.default={keyword:\"additionalProperties\",type:[\"object\"],schemaType:[\"boolean\",\"object\"],allowUndefined:!0,trackErrors:!0,error:{message:\"must NOT have additional properties\",params({params:e}){return s._`{additionalProperty: ${e.additionalProperty}}`}},code(e){const{gen:t,schema:r,parentSchema:i,data:c,errsCount:l,it:d}=e;if(!l)throw new Error(\"ajv implementation error\");const{allErrors:u,opts:f}=d;if(d.props=!0,\"all\"!==f.removeAdditional&&(0,n.alwaysValidSchema)(d,r))return;const p=(0,o.allSchemaProperties)(i.properties),m=(0,o.allSchemaProperties)(i.patternProperties);function h(e){t.code(s._`delete ${c}[${e}]`)}function y(o){if(\"all\"===f.removeAdditional||f.removeAdditional&&!1===r)h(o);else{if(!1===r)return e.setParams({additionalProperty:o}),e.error(),void(u||t.break());if(\"object\"==typeof r&&!(0,n.alwaysValidSchema)(d,r)){const r=t.name(\"valid\");\"failing\"===f.removeAdditional?(v(o,r,!1),t.if((0,s.not)(r),(()=>{e.reset(),h(o)}))):(v(o,r),u||t.if((0,s.not)(r),(()=>t.break())))}}}function v(t,r,o){const s={keyword:\"additionalProperties\",dataProp:t,dataPropType:n.Type.Str};!1===o&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn(\"key\",c,(r=>{p.length||m.length?t.if(function(r){let a;if(p.length>8){const e=(0,n.schemaRefOrVal)(d,i.properties,\"properties\");a=(0,o.isOwnProperty)(t,e,r)}else a=p.length?(0,s.or)(...p.map((e=>s._`${r} === ${e}`))):s.nil;return m.length&&(a=(0,s.or)(a,...m.map((t=>s._`${(0,o.usePattern)(e,t)}.test(${r})`)))),(0,s.not)(a)}(r),(()=>y(r))):y(r)})),e.ok(s._`${l} === ${a.default.errors}`)}}},{\"../../compile/codegen\":2,\"../../compile/names\":6,\"../../compile/util\":10,\"../code\":42}],27:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:\"allOf\",schemaType:\"array\",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");const a=t.name(\"valid\");r.forEach(((t,r)=>{if((0,o.alwaysValidSchema)(s,t))return;const n=e.subschema({keyword:\"allOf\",schemaProp:r},a);e.ok(a),e.mergeEvaluated(n)}))}}},{\"../../compile/util\":10}],28:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\");r.default={keyword:\"anyOf\",schemaType:\"array\",trackErrors:!0,code:o.validateUnion,error:{message:\"must match a schema in anyOf\"}}},{\"../code\":42}],29:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"contains\",type:\"array\",schemaType:[\"object\",\"boolean\"],before:\"uniqueItems\",trackErrors:!0,error:{message({params:{min:e,max:t}}){return void 0===t?o.str`must contain at least ${e} valid item(s)`:o.str`must contain at least ${e} and no more than ${t} valid item(s)`},params({params:{min:e,max:t}}){return void 0===t?o._`{minContains: ${e}}`:o._`{minContains: ${e}, maxContains: ${t}}`}},code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:i}=e;let c,l;const{minContains:d,maxContains:u}=a;i.opts.next?(c=void 0===d?1:d,l=u):c=1;const f=t.const(\"len\",o._`${n}.length`);if(e.setParams({min:c,max:l}),void 0===l&&0===c)return void(0,s.checkStrictMode)(i,'\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored');if(void 0!==l&&c>l)return(0,s.checkStrictMode)(i,'\"minContains\" > \"maxContains\" is always invalid'),void e.fail();if((0,s.alwaysValidSchema)(i,r)){let t=o._`${f} >= ${c}`;return void 0!==l&&(t=o._`${t} && ${f} <= ${l}`),void e.pass(t)}i.items=!0;const p=t.name(\"valid\");function m(){const e=t.name(\"_valid\"),r=t.let(\"count\",0);h(e,(()=>t.if(e,(()=>function(e){t.code(o._`${e}++`),void 0===l?t.if(o._`${e} >= ${c}`,(()=>t.assign(p,!0).break())):(t.if(o._`${e} > ${l}`,(()=>t.assign(p,!1).break())),1===c?t.assign(p,!0):t.if(o._`${e} >= ${c}`,(()=>t.assign(p,!0))))}(r)))))}function h(r,o){t.forRange(\"i\",0,f,(t=>{e.subschema({keyword:\"contains\",dataProp:t,dataPropType:s.Type.Num,compositeRule:!0},r),o()}))}void 0===l&&1===c?h(p,(()=>t.if(p,(()=>t.break())))):0===c?(t.let(p,!0),void 0!==l&&t.if(o._`${n}.length > 0`,m)):(t.let(p,!1),m()),e.result(p,(()=>e.reset()))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],30:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\");r.error={message({params:{property:e,depsCount:t,deps:r}}){return o.str`must have ${1===t?\"property\":\"properties\"} ${r} when property ${e} is present`},params({params:{property:e,depsCount:t,deps:r,missingProperty:s}}){return o._`{property: ${e},\n    missingProperty: ${s},\n    depsCount: ${t},\n    deps: ${r}}`}};const n={keyword:\"dependencies\",type:\"object\",schemaType:\"object\",error:r.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const o in e){if(\"__proto__\"===o)continue;(Array.isArray(e[o])?t:r)[o]=e[o]}return[t,r]}(e);i(e,t),c(e,r)}};function i(e,t=e.schema){const{gen:r,data:s,it:n}=e;if(0===Object.keys(t).length)return;const i=r.let(\"missing\");for(const c in t){const l=t[c];if(0===l.length)continue;const d=(0,a.propertyInData)(r,s,c,n.opts.ownProperties);e.setParams({property:c,depsCount:l.length,deps:l.join(\", \")}),n.allErrors?r.if(d,(()=>{for(const t of l)(0,a.checkReportMissingProp)(e,t)})):(r.if(o._`${d} && (${(0,a.checkMissingProp)(e,l,i)})`),(0,a.reportMissingProp)(e,i),r.else())}}function c(e,t=e.schema){const{gen:r,data:o,keyword:n,it:i}=e,c=r.name(\"valid\");for(const l in t)(0,s.alwaysValidSchema)(i,t[l])||(r.if((0,a.propertyInData)(r,o,l,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:n,schemaProp:l},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}r.validatePropertyDeps=i,r.validateSchemaDeps=c,r.default=n},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],31:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");function a(e,t){const r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}r.default={keyword:\"if\",schemaType:[\"object\",\"boolean\"],trackErrors:!0,error:{message({params:e}){return o.str`must match \"${e.ifClause}\" schema`},params({params:e}){return o._`{failingKeyword: ${e.ifClause}}`}},code(e){const{gen:t,parentSchema:r,it:n}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(n,'\"if\" without \"then\" and \"else\" is ignored');const i=a(n,\"then\"),c=a(n,\"else\");if(!i&&!c)return;const l=t.let(\"valid\",!0),d=t.name(\"_valid\");if(function(){const t=e.subschema({keyword:\"if\",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&c){const r=t.let(\"ifClause\");e.setParams({ifClause:r}),t.if(d,u(\"then\",r),u(\"else\",r))}else i?t.if(d,u(\"then\")):t.if((0,o.not)(d),u(\"else\"));function u(r,s){return()=>{const a=e.subschema({keyword:r},d);t.assign(l,d),e.mergeValidEvaluated(a,l),s?t.assign(s,o._`${r}`):e.setParams({ifClause:r})}}e.pass(l,(()=>e.error(!0)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],32:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./additionalItems\"),s=e(\"./prefixItems\"),a=e(\"./items\"),n=e(\"./items2020\"),i=e(\"./contains\"),c=e(\"./dependencies\"),l=e(\"./propertyNames\"),d=e(\"./additionalProperties\"),u=e(\"./properties\"),f=e(\"./patternProperties\"),p=e(\"./not\"),m=e(\"./anyOf\"),h=e(\"./oneOf\"),y=e(\"./allOf\"),v=e(\"./if\"),g=e(\"./thenElse\");r.default=function(e=!1){const t=[p.default,m.default,h.default,y.default,v.default,g.default,l.default,d.default,c.default,u.default,f.default];return e?t.push(s.default,n.default):t.push(o.default,a.default),t.push(i.default),t}},{\"./additionalItems\":25,\"./additionalProperties\":26,\"./allOf\":27,\"./anyOf\":28,\"./contains\":29,\"./dependencies\":30,\"./if\":31,\"./items\":33,\"./items2020\":34,\"./not\":35,\"./oneOf\":36,\"./patternProperties\":37,\"./prefixItems\":38,\"./properties\":39,\"./propertyNames\":40,\"./thenElse\":41}],33:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateTuple=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\"),n={keyword:\"items\",type:\"array\",schemaType:[\"object\",\"array\",\"boolean\"],before:\"uniqueItems\",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return i(e,\"additionalItems\",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function i(e,t,r=e.schema){const{gen:a,parentSchema:n,data:i,keyword:c,it:l}=e;!function(e){const{opts:o,errSchemaPath:a}=l,n=r.length,i=n===e.minItems&&(n===e.maxItems||!1===e[t]);if(o.strictTuples&&!i){(0,s.checkStrictMode)(l,`\"${c}\" is ${n}-tuple, but minItems or maxItems/${t} are not specified or different at path \"${a}\"`,o.strictTuples)}}(n),l.opts.unevaluated&&r.length&&!0!==l.items&&(l.items=s.mergeEvaluated.items(a,r.length,l.items));const d=a.name(\"valid\"),u=a.const(\"len\",o._`${i}.length`);r.forEach(((t,r)=>{(0,s.alwaysValidSchema)(l,t)||(a.if(o._`${u} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},d))),e.ok(d))}))}r.validateTuple=i,r.default=n},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],34:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\"),n=e(\"./additionalItems\");r.default={keyword:\"items\",type:\"array\",schemaType:[\"object\",\"boolean\"],before:\"uniqueItems\",error:{message({params:{len:e}}){return o.str`must NOT have more than ${e} items`},params({params:{len:e}}){return o._`{limit: ${e}}`}},code(e){const{schema:t,parentSchema:r,it:o}=e,{prefixItems:i}=r;o.items=!0,(0,s.alwaysValidSchema)(o,t)||(i?(0,n.validateAdditionalItems)(e,i):e.ok((0,a.validateArray)(e)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42,\"./additionalItems\":25}],35:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:\"not\",schemaType:[\"object\",\"boolean\"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,o.alwaysValidSchema)(s,r))return void e.fail();const a=t.name(\"valid\");e.subschema({keyword:\"not\",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(()=>e.reset()),(()=>e.error()))},error:{message:\"must NOT be valid\"}}},{\"../../compile/util\":10}],36:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"oneOf\",schemaType:\"array\",trackErrors:!0,error:{message:\"must match exactly one schema in oneOf\",params({params:e}){return o._`{passingSchemas: ${e.passing}}`}},code(e){const{gen:t,schema:r,parentSchema:a,it:n}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");if(n.opts.discriminator&&a.discriminator)return;const i=r,c=t.let(\"valid\",!1),l=t.let(\"passing\",null),d=t.name(\"_valid\");e.setParams({passing:l}),t.block((function(){i.forEach(((r,a)=>{let i;(0,s.alwaysValidSchema)(n,r)?t.var(d,!0):i=e.subschema({keyword:\"oneOf\",schemaProp:a,compositeRule:!0},d),a>0&&t.if(o._`${d} && ${c}`).assign(c,!1).assign(l,o._`[${l}, ${a}]`).else(),t.if(d,(()=>{t.assign(c,!0),t.assign(l,a),i&&e.mergeEvaluated(i,o.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],37:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\"),n=e(\"../../compile/util\");r.default={keyword:\"patternProperties\",type:\"object\",schemaType:\"object\",code(e){const{gen:t,schema:r,data:i,parentSchema:c,it:l}=e,{opts:d}=l,u=(0,o.allSchemaProperties)(r),f=u.filter((e=>(0,a.alwaysValidSchema)(l,r[e])));if(0===u.length||f.length===u.length&&(!l.opts.unevaluated||!0===l.props))return;const p=d.strictSchema&&!d.allowMatchingProperties&&c.properties,m=t.name(\"valid\");!0===l.props||l.props instanceof s.Name||(l.props=(0,n.evaluatedPropsToName)(t,l.props));const{props:h}=l;function y(e){for(const t in p)new RegExp(e).test(t)&&(0,a.checkStrictMode)(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(r){t.forIn(\"key\",i,(a=>{t.if(s._`${(0,o.usePattern)(e,r)}.test(${a})`,(()=>{const o=f.includes(r);o||e.subschema({keyword:\"patternProperties\",schemaProp:r,dataProp:a,dataPropType:n.Type.Str},m),l.opts.unevaluated&&!0!==h?t.assign(s._`${h}[${a}]`,!0):o||l.allErrors||t.if((0,s.not)(m),(()=>t.break()))}))}))}!function(){for(const e of u)p&&y(e),l.allErrors?v(e):(t.var(m,!0),v(e),t.if(m))}()}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],38:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./items\");r.default={keyword:\"prefixItems\",type:\"array\",schemaType:[\"array\"],before:\"uniqueItems\",code(e){return(0,o.validateTuple)(e,\"items\")}}},{\"./items\":33}],39:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/validate\"),s=e(\"../code\"),a=e(\"../../compile/util\"),n=e(\"./additionalProperties\");r.default={keyword:\"properties\",type:\"object\",schemaType:\"object\",code(e){const{gen:t,schema:r,parentSchema:i,data:c,it:l}=e;\"all\"===l.opts.removeAdditional&&void 0===i.additionalProperties&&n.default.code(new o.KeywordCxt(l,n.default,\"additionalProperties\"));const d=(0,s.allSchemaProperties)(r);for(const e of d)l.definedProperties.add(e);l.opts.unevaluated&&d.length&&!0!==l.props&&(l.props=a.mergeEvaluated.props(t,(0,a.toHash)(d),l.props));const u=d.filter((e=>!(0,a.alwaysValidSchema)(l,r[e])));if(0===u.length)return;const f=t.name(\"valid\");for(const r of u)p(r)?m(r):(t.if((0,s.propertyInData)(t,c,r,l.opts.ownProperties)),m(r),l.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(f);function p(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==r[e].default}function m(t){e.subschema({keyword:\"properties\",schemaProp:t,dataProp:t},f)}}}},{\"../../compile/util\":10,\"../../compile/validate\":15,\"../code\":42,\"./additionalProperties\":26}],40:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"propertyNames\",type:\"object\",schemaType:[\"object\",\"boolean\"],error:{message:\"property name must be valid\",params({params:e}){return o._`{propertyName: ${e.propertyName}}`}},code(e){const{gen:t,schema:r,data:a,it:n}=e;if((0,s.alwaysValidSchema)(n,r))return;const i=t.name(\"valid\");t.forIn(\"key\",a,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:\"propertyNames\",data:r,dataTypes:[\"string\"],propertyName:r,compositeRule:!0},i),t.if((0,o.not)(i),(()=>{e.error(!0),n.allErrors||t.break()}))})),e.ok(i)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],41:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:[\"then\",\"else\"],schemaType:[\"object\",\"boolean\"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,o.checkStrictMode)(r,`\"${e}\" without \"if\" is ignored`)}}},{\"../../compile/util\":10}],42:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const o=e(\"../compile/codegen\"),s=e(\"../compile/util\"),a=e(\"../compile/names\"),n=e(\"../compile/util\");function i(e){return e.scopeValue(\"func\",{ref:Object.prototype.hasOwnProperty,code:o._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return o._`${i(e)}.call(${t}, ${r})`}function l(e,t,r,s){const a=o._`${t}${(0,o.getProperty)(r)} === undefined`;return s?(0,o.or)(a,(0,o.not)(c(e,t,r))):a}function d(e){return e?Object.keys(e).filter((e=>\"__proto__\"!==e)):[]}r.checkReportMissingProp=function(e,t){const{gen:r,data:s,it:a}=e;r.if(l(r,s,t,a.opts.ownProperties),(()=>{e.setParams({missingProperty:o._`${t}`},!0),e.error()}))},r.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,a){return(0,o.or)(...s.map((s=>(0,o.and)(l(e,t,s,r.ownProperties),o._`${a} = ${s}`))))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=i,r.isOwnProperty=c,r.propertyInData=function(e,t,r,s){const a=o._`${t}${(0,o.getProperty)(r)} !== undefined`;return s?o._`${a} && ${c(e,t,r)}`:a},r.noPropertyInData=l,r.allSchemaProperties=d,r.schemaProperties=function(e,t){return d(t).filter((r=>!(0,s.alwaysValidSchema)(e,t[r])))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:i},it:c},l,d,u){const f=u?o._`${e}, ${t}, ${s}${n}`:t,p=[[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,i)],[a.default.parentData,c.parentData],[a.default.parentDataProperty,c.parentDataProperty],[a.default.rootData,a.default.rootData]];c.opts.dynamicRef&&p.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const m=o._`${f}, ${r.object(...p)}`;return d!==o.nil?o._`${l}.call(${d}, ${m})`:o._`${l}(${m})`};const u=o._`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?\"u\":\"\",{regExp:a}=t.code,i=a(r,s);return e.scopeValue(\"pattern\",{key:i.toString(),ref:i,code:o._`${\"new RegExp\"===a.code?u:(0,n.useFunc)(e,a)}(${r}, ${s})`})},r.validateArray=function(e){const{gen:t,data:r,keyword:a,it:n}=e,i=t.name(\"valid\");if(n.allErrors){const e=t.let(\"valid\",!0);return c((()=>t.assign(e,!1))),e}return t.var(i,!0),c((()=>t.break())),i;function c(n){const c=t.const(\"len\",o._`${r}.length`);t.forRange(\"i\",0,c,(r=>{e.subschema({keyword:a,dataProp:r,dataPropType:s.Type.Num},i),t.if((0,o.not)(i),n)}))}},r.validateUnion=function(e){const{gen:t,schema:r,keyword:a,it:n}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");if(r.some((e=>(0,s.alwaysValidSchema)(n,e)))&&!n.opts.unevaluated)return;const i=t.let(\"valid\",!1),c=t.name(\"_valid\");t.block((()=>r.forEach(((r,s)=>{const n=e.subschema({keyword:a,schemaProp:s,compositeRule:!0},c);t.assign(i,o._`${i} || ${c}`);e.mergeValidEvaluated(n,c)||t.if((0,o.not)(i))})))),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}},{\"../compile/codegen\":2,\"../compile/names\":6,\"../compile/util\":10}],43:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});r.default={keyword:\"id\",code(){throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID')}}},{}],44:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./id\"),s=e(\"./ref\");r.default=[\"$schema\",\"$id\",\"$defs\",\"$vocabulary\",{keyword:\"$comment\"},\"definitions\",o.default,s.default]},{\"./id\":43,\"./ref\":45}],45:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.callRef=r.getValidate=void 0;const o=e(\"../../compile/ref_error\"),s=e(\"../code\"),a=e(\"../../compile/codegen\"),n=e(\"../../compile/names\"),i=e(\"../../compile\"),c=e(\"../../compile/util\"),l={keyword:\"$ref\",schemaType:\"string\",code(e){const{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:c,validateName:l,opts:f,self:p}=s,{root:m}=c;if((\"#\"===r||\"#/\"===r)&&n===m.baseId)return function(){if(c===m)return u(e,l,c,c.$async);const r=t.scopeValue(\"root\",{ref:m});return u(e,a._`${r}.validate`,m,m.$async)}();const h=i.resolveRef.call(p,m,n,r);if(void 0===h)throw new o.default(s.opts.uriResolver,n,r);return h instanceof i.SchemaEnv?function(t){const r=d(e,t);u(e,r,t,t.$async)}(h):function(o){const s=t.scopeValue(\"schema\",!0===f.code.source?{ref:o,code:(0,a.stringify)(o)}:{ref:o}),n=t.name(\"valid\"),i=e.subschema({schema:o,dataTypes:[],schemaPath:a.nil,topSchemaRef:s,errSchemaPath:r},n);e.mergeEvaluated(i),e.ok(n)}(h)}};function d(e,t){const{gen:r}=e;return t.validate?r.scopeValue(\"validate\",{ref:t.validate}):a._`${r.scopeValue(\"wrapper\",{ref:t})}.validate`}function u(e,t,r,o){const{gen:i,it:l}=e,{allErrors:d,schemaEnv:u,opts:f}=l,p=f.passContext?n.default.this:a.nil;function m(e){const t=a._`${e}.errors`;i.assign(n.default.vErrors,a._`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`),i.assign(n.default.errors,a._`${n.default.vErrors}.length`)}function h(e){var t;if(!l.opts.unevaluated)return;const o=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==l.props)if(o&&!o.dynamicProps)void 0!==o.props&&(l.props=c.mergeEvaluated.props(i,o.props,l.props));else{const t=i.var(\"props\",a._`${e}.evaluated.props`);l.props=c.mergeEvaluated.props(i,t,l.props,a.Name)}if(!0!==l.items)if(o&&!o.dynamicItems)void 0!==o.items&&(l.items=c.mergeEvaluated.items(i,o.items,l.items));else{const t=i.var(\"items\",a._`${e}.evaluated.items`);l.items=c.mergeEvaluated.items(i,t,l.items,a.Name)}}o?function(){if(!u.$async)throw new Error(\"async schema referenced by sync schema\");const r=i.let(\"valid\");i.try((()=>{i.code(a._`await ${(0,s.callValidateCode)(e,t,p)}`),h(t),d||i.assign(r,!0)}),(e=>{i.if(a._`!(${e} instanceof ${l.ValidationError})`,(()=>i.throw(e))),m(e),d||i.assign(r,!1)})),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,p),(()=>h(t)),(()=>m(t)))}r.getValidate=d,r.callRef=u,r.default=l},{\"../../compile\":5,\"../../compile/codegen\":2,\"../../compile/names\":6,\"../../compile/ref_error\":7,\"../../compile/util\":10,\"../code\":42}],46:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../discriminator/types\"),a=e(\"../../compile\"),n=e(\"../../compile/util\");r.default={keyword:\"discriminator\",type:\"object\",schemaType:\"object\",error:{message({params:{discrError:e,tagName:t}}){return e===s.DiscrError.Tag?`tag \"${t}\" must be string`:`value of tag \"${t}\" must be in oneOf`},params({params:{discrError:e,tag:t,tagName:r}}){return o._`{error: ${e}, tag: ${r}, tagValue: ${t}}`}},code(e){const{gen:t,data:r,schema:i,parentSchema:c,it:l}=e,{oneOf:d}=c;if(!l.opts.discriminator)throw new Error(\"discriminator: requires discriminator option\");const u=i.propertyName;if(\"string\"!=typeof u)throw new Error(\"discriminator: requires propertyName\");if(i.mapping)throw new Error(\"discriminator: mapping is not supported\");if(!d)throw new Error(\"discriminator: requires oneOf keyword\");const f=t.let(\"valid\",!1),p=t.const(\"tag\",o._`${r}${(0,o.getProperty)(u)}`);function m(r){const s=t.name(\"valid\"),a=e.subschema({keyword:\"oneOf\",schemaProp:r},s);return e.mergeEvaluated(a,o.Name),s}t.if(o._`typeof ${p} == \"string\"`,(()=>function(){const r=function(){var e;const t={},r=s(c);let o=!0;for(let t=0;t<d.length;t++){let c=d[t];(null==c?void 0:c.$ref)&&!(0,n.schemaHasRulesButRef)(c,l.self.RULES)&&(c=a.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,null==c?void 0:c.$ref),c instanceof a.SchemaEnv&&(c=c.schema));const f=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[u];if(\"object\"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${u}\"`);o=o&&(r||s(c)),i(f,t)}if(!o)throw new Error(`discriminator: \"${u}\" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(u)}function i(e,t){if(e.const)f(e.const,t);else{if(!e.enum)throw new Error(`discriminator: \"properties/${u}\" must have \"const\" or \"enum\"`);for(const r of e.enum)f(r,t)}}function f(e,r){if(\"string\"!=typeof e||e in t)throw new Error(`discriminator: \"${u}\" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(o._`${p} === ${e}`),t.assign(f,m(r[e]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:p,tagName:u}),t.endIf()}()),(()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:p,tagName:u}))),e.ok(f)}}},{\"../../compile\":5,\"../../compile/codegen\":2,\"../../compile/util\":10,\"../discriminator/types\":47}],47:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.DiscrError=void 0,function(e){e.Tag=\"tag\",e.Mapping=\"mapping\"}(r.DiscrError||(r.DiscrError={}))},{}],48:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./core\"),s=e(\"./validation\"),a=e(\"./applicator\"),n=e(\"./format\"),i=e(\"./metadata\"),c=[o.default,s.default,(0,a.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];r.default=c},{\"./applicator\":32,\"./core\":44,\"./format\":50,\"./metadata\":51,\"./validation\":54}],49:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:\"format\",type:[\"number\",\"string\"],schemaType:\"string\",$data:!0,error:{message({schemaCode:e}){return o.str`must match format \"${e}\"`},params({schemaCode:e}){return o._`{format: ${e}}`}},code(e,t){const{gen:r,data:s,$data:a,schema:n,schemaCode:i,it:c}=e,{opts:l,errSchemaPath:d,schemaEnv:u,self:f}=c;l.validateFormats&&(a?function(){const a=r.scopeValue(\"formats\",{ref:f.formats,code:l.code.formats}),n=r.const(\"fDef\",o._`${a}[${i}]`),c=r.let(\"fType\"),d=r.let(\"format\");r.if(o._`typeof ${n} == \"object\" && !(${n} instanceof RegExp)`,(()=>r.assign(c,o._`${n}.type || \"string\"`).assign(d,o._`${n}.validate`)),(()=>r.assign(c,o._`\"string\"`).assign(d,n))),e.fail$data((0,o.or)(!1===l.strictSchema?o.nil:o._`${i} && !${d}`,function(){const e=u.$async?o._`(${n}.async ? await ${d}(${s}) : ${d}(${s}))`:o._`${d}(${s})`,r=o._`(typeof ${d} == \"function\" ? ${e} : ${d}.test(${s}))`;return o._`${d} && ${d} !== true && ${c} === ${t} && !${r}`}()))}():function(){const a=f.formats[n];if(!a)return void function(){if(!1===l.strictSchema)return void f.logger.warn(e());throw new Error(e());function e(){return`unknown format \"${n}\" ignored in schema at path \"${d}\"`}}();if(!0===a)return;const[i,c,p]=function(e){const t=e instanceof RegExp?(0,o.regexpCode)(e):l.code.formats?o._`${l.code.formats}${(0,o.getProperty)(n)}`:void 0,s=r.scopeValue(\"formats\",{key:n,ref:e,code:t});if(\"object\"==typeof e&&!(e instanceof RegExp))return[e.type||\"string\",e.validate,o._`${s}.validate`];return[\"string\",e,s]}(a);i===t&&e.pass(function(){if(\"object\"==typeof a&&!(a instanceof RegExp)&&a.async){if(!u.$async)throw new Error(\"async format in sync schema\");return o._`await ${p}(${s})`}return\"function\"==typeof c?o._`${p}(${s})`:o._`${p}.test(${s})`}())}())}}},{\"../../compile/codegen\":2}],50:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./format\");r.default=[o.default]},{\"./format\":49}],51:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=[\"title\",\"description\",\"default\",\"deprecated\",\"readOnly\",\"writeOnly\",\"examples\"],r.contentVocabulary=[\"contentMediaType\",\"contentEncoding\",\"contentSchema\"]},{}],52:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/equal\");r.default={keyword:\"const\",$data:!0,error:{message:\"must be equal to constant\",params({schemaCode:e}){return o._`{allowedValue: ${e}}`}},code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:c}=e;n||c&&\"object\"==typeof c?e.fail$data(o._`!${(0,s.useFunc)(t,a.default)}(${r}, ${i})`):e.fail(o._`${c} !== ${r}`)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/equal\":21}],53:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/equal\");r.default={keyword:\"enum\",schemaType:\"array\",$data:!0,error:{message:\"must be equal to one of the allowed values\",params({schemaCode:e}){return o._`{allowedValues: ${e}}`}},code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:c,it:l}=e;if(!n&&0===i.length)throw new Error(\"enum must have non-empty array\");let d;const u=()=>null!=d?d:d=(0,s.useFunc)(t,a.default);let f;if(i.length>=l.opts.loopEnum||n)f=t.let(\"valid\"),e.block$data(f,(function(){t.assign(f,!1),t.forOf(\"v\",c,(e=>t.if(o._`${u()}(${r}, ${e})`,(()=>t.assign(f,!0).break()))))}));else{if(!Array.isArray(i))throw new Error(\"ajv implementation error\");const e=t.const(\"vSchema\",c);f=(0,o.or)(...i.map(((t,s)=>function(e,t){const s=i[t];return\"object\"==typeof s&&null!==s?o._`${u()}(${r}, ${e}[${t}])`:o._`${r} === ${s}`}(e,s))))}e.pass(f)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/equal\":21}],54:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./limitNumber\"),s=e(\"./multipleOf\"),a=e(\"./limitLength\"),n=e(\"./pattern\"),i=e(\"./limitProperties\"),c=e(\"./required\"),l=e(\"./limitItems\"),d=e(\"./uniqueItems\"),u=e(\"./const\"),f=e(\"./enum\");r.default=[o.default,s.default,a.default,n.default,i.default,c.default,l.default,d.default,{keyword:\"type\",schemaType:[\"string\",\"array\"]},{keyword:\"nullable\",schemaType:\"boolean\"},u.default,f.default]},{\"./const\":52,\"./enum\":53,\"./limitItems\":55,\"./limitLength\":56,\"./limitNumber\":57,\"./limitProperties\":58,\"./multipleOf\":59,\"./pattern\":60,\"./required\":61,\"./uniqueItems\":62}],55:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:[\"maxItems\",\"minItems\"],type:\"array\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxItems\"===e?\"more\":\"fewer\"} than ${t} items`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`${r}.length ${\"maxItems\"===t?o.operators.GT:o.operators.LT} ${s}`)}}},{\"../../compile/codegen\":2}],56:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/ucs2length\");r.default={keyword:[\"maxLength\",\"minLength\"],type:\"string\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxLength\"===e?\"more\":\"fewer\"} than ${t} characters`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,c=\"maxLength\"===t?o.operators.GT:o.operators.LT,l=!1===i.opts.unicode?o._`${r}.length`:o._`${(0,s.useFunc)(e.gen,a.default)}(${r})`;e.fail$data(o._`${l} ${c} ${n}`)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/ucs2length\":22}],57:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=o.operators,a={maximum:{okStr:\"<=\",ok:s.LTE,fail:s.GT},minimum:{okStr:\">=\",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:\"<\",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:\">\",ok:s.GT,fail:s.LTE}},n={message({keyword:e,schemaCode:t}){return o.str`must be ${a[e].okStr} ${t}`},params({keyword:e,schemaCode:t}){return o._`{comparison: ${a[e].okStr}, limit: ${t}}`}},i={keyword:Object.keys(a),type:\"number\",schemaType:\"number\",$data:!0,error:n,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`${r} ${a[t].fail} ${s} || isNaN(${r})`)}};r.default=i},{\"../../compile/codegen\":2}],58:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:[\"maxProperties\",\"minProperties\"],type:\"object\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxProperties\"===e?\"more\":\"fewer\"} than ${t} properties`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`Object.keys(${r}).length ${\"maxProperties\"===t?o.operators.GT:o.operators.LT} ${s}`)}}},{\"../../compile/codegen\":2}],59:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:\"multipleOf\",type:\"number\",schemaType:\"number\",$data:!0,error:{message({schemaCode:e}){return o.str`must be multiple of ${e}`},params({schemaCode:e}){return o._`{multipleOf: ${e}}`}},code(e){const{gen:t,data:r,schemaCode:s,it:a}=e,n=a.opts.multipleOfPrecision,i=t.let(\"res\"),c=n?o._`Math.abs(Math.round(${i}) - ${i}) > 1e-${n}`:o._`${i} !== parseInt(${i})`;e.fail$data(o._`(${s} === 0 || (${i} = ${r}/${s}, ${c}))`)}}},{\"../../compile/codegen\":2}],60:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\");r.default={keyword:\"pattern\",type:\"string\",schemaType:\"string\",$data:!0,error:{message({schemaCode:e}){return s.str`must match pattern \"${e}\"`},params({schemaCode:e}){return s._`{pattern: ${e}}`}},code(e){const{data:t,$data:r,schema:a,schemaCode:n,it:i}=e,c=r?s._`(new RegExp(${n}, ${i.opts.unicodeRegExp?\"u\":\"\"}))`:(0,o.usePattern)(e,a);e.fail$data(s._`!${c}.test(${t})`)}}},{\"../../compile/codegen\":2,\"../code\":42}],61:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\");r.default={keyword:\"required\",type:\"object\",schemaType:\"array\",$data:!0,error:{message({params:{missingProperty:e}}){return s.str`must have required property '${e}'`},params({params:{missingProperty:e}}){return s._`{missingProperty: ${e}}`}},code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:c,it:l}=e,{opts:d}=l;if(!c&&0===r.length)return;const u=r.length>=d.loopRequired;if(l.allErrors?function(){if(u||c)e.block$data(s.nil,f);else for(const t of r)(0,o.checkReportMissingProp)(e,t)}():function(){const a=t.let(\"missing\");if(u||c){const r=t.let(\"valid\",!0);e.block$data(r,(()=>function(r,a){e.setParams({missingProperty:r}),t.forOf(r,n,(()=>{t.assign(a,(0,o.propertyInData)(t,i,r,d.ownProperties)),t.if((0,s.not)(a),(()=>{e.error(),t.break()}))}),s.nil)}(a,r))),e.ok(r)}else t.if((0,o.checkMissingProp)(e,r,a)),(0,o.reportMissingProp)(e,a),t.else()}(),d.strictRequired){const t=e.parentSchema.properties,{definedProperties:o}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!o.has(e)){(0,a.checkStrictMode)(l,`required property \"${e}\" is not defined at \"${l.schemaEnv.baseId+l.errSchemaPath}\" (strictRequired)`,l.opts.strictRequired)}}function f(){t.forOf(\"prop\",n,(r=>{e.setParams({missingProperty:r}),t.if((0,o.noPropertyInData)(t,i,r,d.ownProperties),(()=>e.error()))}))}}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],62:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/validate/dataType\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\"),n=e(\"../../runtime/equal\");r.default={keyword:\"uniqueItems\",type:\"array\",schemaType:\"boolean\",$data:!0,error:{message({params:{i:e,j:t}}){return s.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`},params({params:{i:e,j:t}}){return s._`{i: ${e}, j: ${t}}`}},code(e){const{gen:t,data:r,$data:i,schema:c,parentSchema:l,schemaCode:d,it:u}=e;if(!i&&!c)return;const f=t.let(\"valid\"),p=l.items?(0,o.getSchemaTypes)(l.items):[];function m(a,n){const i=t.name(\"item\"),c=(0,o.checkDataTypes)(p,i,u.opts.strictNumbers,o.DataType.Wrong),l=t.const(\"indices\",s._`{}`);t.for(s._`;${a}--;`,(()=>{t.let(i,s._`${r}[${a}]`),t.if(c,s._`continue`),p.length>1&&t.if(s._`typeof ${i} == \"string\"`,s._`${i} += \"_\"`),t.if(s._`typeof ${l}[${i}] == \"number\"`,(()=>{t.assign(n,s._`${l}[${i}]`),e.error(),t.assign(f,!1).break()})).code(s._`${l}[${i}] = ${a}`)}))}function h(o,i){const c=(0,a.useFunc)(t,n.default),l=t.name(\"outer\");t.label(l).for(s._`;${o}--;`,(()=>t.for(s._`${i} = ${o}; ${i}--;`,(()=>t.if(s._`${c}(${r}[${o}], ${r}[${i}])`,(()=>{e.error(),t.assign(f,!1).break(l)}))))))}e.block$data(f,(function(){const o=t.let(\"i\",s._`${r}.length`),a=t.let(\"j\");e.setParams({i:o,j:a}),t.assign(f,!0),t.if(s._`${o} > 1`,(()=>(p.length>0&&!p.some((e=>\"object\"===e||\"array\"===e))?m:h)(o,a)))}),s._`${d} === false`),e.ok(f)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../compile/validate/dataType\":13,\"../../runtime/equal\":21}],63:[function(e,t,r){\"use strict\";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&\"object\"==typeof t&&\"object\"==typeof r){if(t.constructor!==r.constructor)return!1;var o,s,a;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(s=o;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=o;0!=s--;){var n=a[s];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},{}],64:[function(e,t,r){\"use strict\";var o=t.exports=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),s(t,\"function\"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,\"\",e)};function s(e,t,r,a,n,i,c,l,d,u){if(a&&\"object\"==typeof a&&!Array.isArray(a)){for(var f in t(a,n,i,c,l,d,u),a){var p=a[f];if(Array.isArray(p)){if(f in o.arrayKeywords)for(var m=0;m<p.length;m++)s(e,t,r,p[m],n+\"/\"+f+\"/\"+m,i,n,f,a,m)}else if(f in o.propsKeywords){if(p&&\"object\"==typeof p)for(var h in p)s(e,t,r,p[h],n+\"/\"+f+\"/\"+h.replace(/~/g,\"~0\").replace(/\\//g,\"~1\"),i,n,f,a,h)}else(f in o.keywords||e.allKeys&&!(f in o.skipKeywords))&&s(e,t,r,p,n+\"/\"+f,i,n,f,a)}r(a,n,i,c,l,d,u)}}o.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},o.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},o.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},o.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(e,t,r){\n/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e,o){o(\"object\"==typeof r&&void 0!==t?r:e.URI=e.URI||{})}(this,(function(e){\"use strict\";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var o=t.length-1,s=1;s<o;++s)t[s]=t[s].slice(1,-1);return t[o]=t[o].slice(1),t.join(\"\")}return t[0]}function r(e){return\"(?:\"+e+\")\"}function o(e){return void 0===e?\"undefined\":null===e?\"null\":Object.prototype.toString.call(e).split(\" \").pop().split(\"]\").shift().toLowerCase()}function s(e){return e.toUpperCase()}function a(e){var o=\"[A-Za-z]\",s=\"[0-9]\",a=t(s,\"[A-Fa-f]\"),n=r(r(\"%[EFef]\"+a+\"%\"+a+a+\"%\"+a+a)+\"|\"+r(\"%[89A-Fa-f]\"+a+\"%\"+a+a)+\"|\"+r(\"%\"+a+a)),i=\"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",c=t(\"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",i),l=e?\"[\\\\uE000-\\\\uF8FF]\":\"[]\",d=t(o,s,\"[\\\\-\\\\.\\\\_\\\\~]\",e?\"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\":\"[]\"),u=r(o+t(o,s,\"[\\\\+\\\\-\\\\.]\")+\"*\"),f=r(r(n+\"|\"+t(d,i,\"[\\\\:]\"))+\"*\"),p=(r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"[1-9][0-9]\")+\"|\"+s),r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"0?[1-9][0-9]\")+\"|0?0?\"+s)),m=r(p+\"\\\\.\"+p+\"\\\\.\"+p+\"\\\\.\"+p),h=r(a+\"{1,4}\"),y=r(r(h+\"\\\\:\"+h)+\"|\"+m),v=r(r(h+\"\\\\:\")+\"{6}\"+y),g=r(\"\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{5}\"+y),$=r(r(h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{4}\"+y),_=r(r(r(h+\"\\\\:\")+\"{0,1}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{3}\"+y),w=r(r(r(h+\"\\\\:\")+\"{0,2}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{2}\"+y),b=r(r(r(h+\"\\\\:\")+\"{0,3}\"+h)+\"?\\\\:\\\\:\"+h+\"\\\\:\"+y),E=r(r(r(h+\"\\\\:\")+\"{0,4}\"+h)+\"?\\\\:\\\\:\"+y),P=r(r(r(h+\"\\\\:\")+\"{0,5}\"+h)+\"?\\\\:\\\\:\"+h),S=r(r(r(h+\"\\\\:\")+\"{0,6}\"+h)+\"?\\\\:\\\\:\"),N=r([v,g,$,_,w,b,E,P,S].join(\"|\")),k=r(r(d+\"|\"+n)+\"+\"),j=(r(N+\"\\\\%25\"+k),r(N+r(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+k)),C=r(\"[vV]\"+a+\"+\\\\.\"+t(d,i,\"[\\\\:]\")+\"+\"),O=r(\"\\\\[\"+r(j+\"|\"+N+\"|\"+C)+\"\\\\]\"),x=r(r(n+\"|\"+t(d,i))+\"*\"),T=r(O+\"|\"+m+\"(?!\"+x+\")|\"+x),I=r(\"[0-9]*\"),R=r(r(f+\"@\")+\"?\"+T+r(\"\\\\:\"+I)+\"?\"),D=r(n+\"|\"+t(d,i,\"[\\\\:\\\\@]\")),A=r(D+\"*\"),M=r(D+\"+\"),V=r(r(n+\"|\"+t(d,i,\"[\\\\@]\"))+\"+\"),F=r(r(\"\\\\/\"+A)+\"*\"),q=r(\"\\\\/\"+r(M+F)+\"?\"),U=r(V+F),z=r(M+F),K=\"(?!\"+D+\")\",L=(r(F+\"|\"+q+\"|\"+U+\"|\"+z+\"|\"+K),r(r(D+\"|\"+t(\"[\\\\/\\\\?]\",l))+\"*\")),H=r(r(D+\"|[\\\\/\\\\?]\")+\"*\"),G=r(r(\"\\\\/\\\\/\"+R+F)+\"|\"+q+\"|\"+z+\"|\"+K),J=r(u+\"\\\\:\"+G+r(\"\\\\?\"+L)+\"?\"+r(\"\\\\#\"+H)+\"?\"),B=r(r(\"\\\\/\\\\/\"+R+F)+\"|\"+q+\"|\"+U+\"|\"+K),W=r(B+r(\"\\\\?\"+L)+\"?\"+r(\"\\\\#\"+H)+\"?\");r(J+\"|\"+W),r(u+\"\\\\:\"+G+r(\"\\\\?\"+L)+\"?\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+z+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+U+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+z+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(\"(\"+f+\")@\"),r(\"\\\\:(\"+I+\")\");return{NOT_SCHEME:new RegExp(t(\"[^]\",o,s,\"[\\\\+\\\\-\\\\.]\"),\"g\"),NOT_USERINFO:new RegExp(t(\"[^\\\\%\\\\:]\",d,i),\"g\"),NOT_HOST:new RegExp(t(\"[^\\\\%\\\\[\\\\]\\\\:]\",d,i),\"g\"),NOT_PATH:new RegExp(t(\"[^\\\\%\\\\/\\\\:\\\\@]\",d,i),\"g\"),NOT_PATH_NOSCHEME:new RegExp(t(\"[^\\\\%\\\\/\\\\@]\",d,i),\"g\"),NOT_QUERY:new RegExp(t(\"[^\\\\%]\",d,i,\"[\\\\:\\\\@\\\\/\\\\?]\",l),\"g\"),NOT_FRAGMENT:new RegExp(t(\"[^\\\\%]\",d,i,\"[\\\\:\\\\@\\\\/\\\\?]\"),\"g\"),ESCAPE:new RegExp(t(\"[^]\",d,i),\"g\"),UNRESERVED:new RegExp(d,\"g\"),OTHER_CHARS:new RegExp(t(\"[^\\\\%]\",d,c),\"g\"),PCT_ENCODED:new RegExp(n,\"g\"),IPV4ADDRESS:new RegExp(\"^(\"+m+\")$\"),IPV6ADDRESS:new RegExp(\"^\\\\[?(\"+N+\")\"+r(r(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+\"(\"+k+\")\")+\"?\\\\]?$\")}}var n=a(!1),i=a(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,s=!1,a=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},l=2147483647,d=36,u=/^xn--/,f=/[^\\0-\\x7E]/,p=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,m={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},h=Math.floor,y=String.fromCharCode;function v(e){throw new RangeError(m[e])}function g(e,t){var r=e.split(\"@\"),o=\"\";r.length>1&&(o=r[0]+\"@\",e=r[1]);var s=function(e,t){for(var r=[],o=e.length;o--;)r[o]=t(e[o]);return r}((e=e.replace(p,\".\")).split(\".\"),t).join(\".\");return o+s}function $(e){for(var t=[],r=0,o=e.length;r<o;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<o){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),r--)}else t.push(s)}return t}var _=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,r){var o=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;o+=d)e=h(e/35);return h(o+36*e/(e+38))},b=function(e){var t,r=[],o=e.length,s=0,a=128,n=72,i=e.lastIndexOf(\"-\");i<0&&(i=0);for(var c=0;c<i;++c)e.charCodeAt(c)>=128&&v(\"not-basic\"),r.push(e.charCodeAt(c));for(var u=i>0?i+1:0;u<o;){for(var f=s,p=1,m=d;;m+=d){u>=o&&v(\"invalid-input\");var y=(t=e.charCodeAt(u++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d;(y>=d||y>h((l-s)/p))&&v(\"overflow\"),s+=y*p;var g=m<=n?1:m>=n+26?26:m-n;if(y<g)break;var $=d-g;p>h(l/$)&&v(\"overflow\"),p*=$}var _=r.length+1;n=w(s-f,_,0==f),h(s/_)>l-a&&v(\"overflow\"),a+=h(s/_),s%=_,r.splice(s++,0,a)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=$(e)).length,o=128,s=0,a=72,n=!0,i=!1,c=void 0;try{for(var u,f=e[Symbol.iterator]();!(n=(u=f.next()).done);n=!0){var p=u.value;p<128&&t.push(y(p))}}catch(e){i=!0,c=e}finally{try{!n&&f.return&&f.return()}finally{if(i)throw c}}var m=t.length,g=m;for(m&&t.push(\"-\");g<r;){var b=l,E=!0,P=!1,S=void 0;try{for(var N,k=e[Symbol.iterator]();!(E=(N=k.next()).done);E=!0){var j=N.value;j>=o&&j<b&&(b=j)}}catch(e){P=!0,S=e}finally{try{!E&&k.return&&k.return()}finally{if(P)throw S}}var C=g+1;b-o>h((l-s)/C)&&v(\"overflow\"),s+=(b-o)*C,o=b;var O=!0,x=!1,T=void 0;try{for(var I,R=e[Symbol.iterator]();!(O=(I=R.next()).done);O=!0){var D=I.value;if(D<o&&++s>l&&v(\"overflow\"),D==o){for(var A=s,M=d;;M+=d){var V=M<=a?1:M>=a+26?26:M-a;if(A<V)break;var F=A-V,q=d-V;t.push(y(_(V+F%q,0))),A=h(F/q)}t.push(y(_(A,0))),a=w(s,C,g==m),s=0,++g}}}catch(e){x=!0,T=e}finally{try{!O&&R.return&&R.return()}finally{if(x)throw T}}++s,++o}return t.join(\"\")},P=function(e){return g(e,(function(e){return f.test(e)?\"xn--\"+E(e):e}))},S=function(e){return g(e,(function(e){return u.test(e)?b(e.slice(4).toLowerCase()):e}))},N={};function k(e){var t=e.charCodeAt(0);return t<16?\"%0\"+t.toString(16).toUpperCase():t<128?\"%\"+t.toString(16).toUpperCase():t<2048?\"%\"+(t>>6|192).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase():\"%\"+(t>>12|224).toString(16).toUpperCase()+\"%\"+(t>>6&63|128).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase()}function j(e){for(var t=\"\",r=0,o=e.length;r<o;){var s=parseInt(e.substr(r+1,2),16);if(s<128)t+=String.fromCharCode(s),r+=3;else if(s>=194&&s<224){if(o-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&s)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(s>=224){if(o-r>=9){var n=parseInt(e.substr(r+4,2),16),i=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&s)<<12|(63&n)<<6|63&i)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function C(e,t){function r(e){var r=j(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,\"\")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,s)),e}function O(e){return e.replace(/^0*(.*)/,\"$1\")||\"0\"}function x(e,t){var r=e.match(t.IPV4ADDRESS)||[],o=c(r,2)[1];return o?o.split(\".\").map(O).join(\".\"):e}function T(e,t){var r=e.match(t.IPV6ADDRESS)||[],o=c(r,3),s=o[1],a=o[2];if(s){for(var n=s.toLowerCase().split(\"::\").reverse(),i=c(n,2),l=i[0],d=i[1],u=d?d.split(\":\").map(O):[],f=l.split(\":\").map(O),p=t.IPV4ADDRESS.test(f[f.length-1]),m=p?7:8,h=f.length-m,y=Array(m),v=0;v<m;++v)y[v]=u[v]||f[h+v]||\"\";p&&(y[m-1]=x(y[m-1],t));var g=y.reduce((function(e,t,r){if(!t||\"0\"===t){var o=e[e.length-1];o&&o.index+o.length===r?o.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],$=void 0;if(g&&g.length>1){var _=y.slice(0,g.index),w=y.slice(g.index+g.length);$=_.join(\":\")+\"::\"+w.join(\":\")}else $=y.join(\":\");return a&&($+=\"%\"+a),$}return e}var I=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,R=void 0===\"\".match(/(){0}/)[1];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=!1!==t.iri?i:n;\"suffix\"===t.reference&&(e=(t.scheme?t.scheme+\":\":\"\")+\"//\"+e);var s=e.match(I);if(s){R?(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||\"\",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5])):(r.scheme=s[1]||void 0,r.userinfo=-1!==e.indexOf(\"@\")?s[3]:void 0,r.host=-1!==e.indexOf(\"//\")?s[4]:void 0,r.port=parseInt(s[5],10),r.path=s[6]||\"\",r.query=-1!==e.indexOf(\"?\")?s[7]:void 0,r.fragment=-1!==e.indexOf(\"#\")?s[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?s[4]:void 0)),r.host&&(r.host=T(x(r.host,o),o)),r.reference=void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?\"relative\":void 0===r.fragment?\"absolute\":\"uri\":\"same-document\",t.reference&&\"suffix\"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||\"URI is not a \"+t.reference+\" reference.\");var a=N[(t.scheme||r.scheme||\"\").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)C(r,o);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=P(r.host.replace(o.PCT_ENCODED,j).toLowerCase())}catch(e){r.error=r.error||\"Host's domain name can not be converted to ASCII via punycode: \"+e}C(r,n)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||\"URI can not be parsed.\";return r}function A(e,t){var r=!1!==t.iri?i:n,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push(\"@\")),void 0!==e.host&&o.push(T(x(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return\"[\"+t+(r?\"%25\"+r:\"\")+\"]\"}))),\"number\"!=typeof e.port&&\"string\"!=typeof e.port||(o.push(\":\"),o.push(String(e.port))),o.length?o.join(\"\"):void 0}var M=/^\\.\\.?\\//,V=/^\\/\\.(\\/|$)/,F=/^\\/\\.\\.(\\/|$)/,q=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(M))e=e.replace(M,\"\");else if(e.match(V))e=e.replace(V,\"/\");else if(e.match(F))e=e.replace(F,\"/\"),t.pop();else if(\".\"===e||\"..\"===e)e=\"\";else{var r=e.match(q);if(!r)throw new Error(\"Unexpected dot segment condition\");var o=r[0];e=e.slice(o.length),t.push(o)}return t.join(\"\")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?i:n,o=[],s=N[(t.scheme||e.scheme||\"\").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?S(e.host):P(e.host.replace(r.PCT_ENCODED,j).toLowerCase())}catch(r){e.error=e.error||\"Host's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+r}C(e,r),\"suffix\"!==t.reference&&e.scheme&&(o.push(e.scheme),o.push(\":\"));var a=A(e,t);if(void 0!==a&&(\"suffix\"!==t.reference&&o.push(\"//\"),o.push(a),e.path&&\"/\"!==e.path.charAt(0)&&o.push(\"/\")),void 0!==e.path){var c=e.path;t.absolutePath||s&&s.absolutePath||(c=U(c)),void 0===a&&(c=c.replace(/^\\/\\//,\"/%2F\")),o.push(c)}return void 0!==e.query&&(o.push(\"?\"),o.push(e.query)),void 0!==e.fragment&&(o.push(\"#\"),o.push(e.fragment)),o.join(\"\")}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],s={};return o||(e=D(z(e,r),r),t=D(z(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=U(t.path||\"\"),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=U(t.path||\"\"),s.query=t.query):(t.path?(\"/\"===t.path.charAt(0)?s.path=U(t.path):(s.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf(\"/\")+1)+t.path:t.path:\"/\"+t.path,s.path=U(s.path)),s.query=t.query):(s.path=e.path,s.query=void 0!==t.query?t.query:e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function L(e,t){return e&&e.toString().replace(t&&t.iri?i.PCT_ENCODED:n.PCT_ENCODED,j)}var H={scheme:\"http\",domainHost:!0,parse(e,t){return e.host||(e.error=e.error||\"HTTP URIs must have a host.\"),e},serialize(e,t){var r=\"https\"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&\"\"!==e.port||(e.port=void 0),e.path||(e.path=\"/\"),e}},G={scheme:\"https\",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function J(e){return\"boolean\"==typeof e.secure?e.secure:\"wss\"===String(e.scheme).toLowerCase()}var B={scheme:\"ws\",domainHost:!0,parse(e,t){var r=e;return r.secure=J(r),r.resourceName=(r.path||\"/\")+(r.query?\"?\"+r.query:\"\"),r.path=void 0,r.query=void 0,r},serialize(e,t){if(e.port!==(J(e)?443:80)&&\"\"!==e.port||(e.port=void 0),\"boolean\"==typeof e.secure&&(e.scheme=e.secure?\"wss\":\"ws\",e.secure=void 0),e.resourceName){var r=e.resourceName.split(\"?\"),o=c(r,2),s=o[0],a=o[1];e.path=s&&\"/\"!==s?s:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},W={scheme:\"wss\",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize},Q={},Z=\"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\",Y=\"[0-9A-Fa-f]\",X=r(r(\"%[EFef][0-9A-Fa-f]%\"+Y+Y+\"%\"+Y+Y)+\"|\"+r(\"%[89A-Fa-f][0-9A-Fa-f]%\"+Y+Y)+\"|\"+r(\"%\"+Y+Y)),ee=t(\"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\",'[\\\\\"\\\\\\\\]'),te=new RegExp(Z,\"g\"),re=new RegExp(X,\"g\"),oe=new RegExp(t(\"[^]\",\"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\",\"[\\\\.]\",'[\\\\\"]',ee),\"g\"),se=new RegExp(t(\"[^]\",Z,\"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\"),\"g\"),ae=se;function ne(e){var t=j(e);return t.match(te)?t:e}var ie={scheme:\"mailto\",parse(e,t){var r=e,o=r.to=r.path?r.path.split(\",\"):[];if(r.path=void 0,r.query){for(var s=!1,a={},n=r.query.split(\"&\"),i=0,c=n.length;i<c;++i){var l=n[i].split(\"=\");switch(l[0]){case\"to\":for(var d=l[1].split(\",\"),u=0,f=d.length;u<f;++u)o.push(d[u]);break;case\"subject\":r.subject=L(l[1],t);break;case\"body\":r.body=L(l[1],t);break;default:s=!0,a[L(l[0],t)]=L(l[1],t)}}s&&(r.headers=a)}r.query=void 0;for(var p=0,m=o.length;p<m;++p){var h=o[p].split(\"@\");if(h[0]=L(h[0]),t.unicodeSupport)h[1]=L(h[1],t).toLowerCase();else try{h[1]=P(L(h[1],t).toLowerCase())}catch(e){r.error=r.error||\"Email address's domain name can not be converted to ASCII via punycode: \"+e}o[p]=h.join(\"@\")}return r},serialize(e,t){var r,o=e,a=null!=(r=e.to)?r instanceof Array?r:\"number\"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var n=0,i=a.length;n<i;++n){var c=String(a[n]),l=c.lastIndexOf(\"@\"),d=c.slice(0,l).replace(re,ne).replace(re,s).replace(oe,k),u=c.slice(l+1);try{u=t.iri?S(u):P(L(u,t).toLowerCase())}catch(e){o.error=o.error||\"Email address's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+e}a[n]=d+\"@\"+u}o.path=a.join(\",\")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var p=[];for(var m in f)f[m]!==Q[m]&&p.push(m.replace(re,ne).replace(re,s).replace(se,k)+\"=\"+f[m].replace(re,ne).replace(re,s).replace(ae,k));return p.length&&(o.query=p.join(\"&\")),o}},ce=/^([^\\:]+)\\:(.*)/,le={scheme:\"urn\",parse(e,t){var r=e.path&&e.path.match(ce),o=e;if(r){var s=t.scheme||o.scheme||\"urn\",a=r[1].toLowerCase(),n=r[2],i=N[s+\":\"+(t.nid||a)];o.nid=a,o.nss=n,o.path=void 0,i&&(o=i.parse(o,t))}else o.error=o.error||\"URN can not be parsed.\";return o},serialize(e,t){var r=e.nid,o=N[(t.scheme||e.scheme||\"urn\")+\":\"+(t.nid||r)];o&&(e=o.serialize(e,t));var s=e;return s.path=(r||t.nid)+\":\"+e.nss,s}},de=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,ue={scheme:\"urn:uuid\",parse(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(de)||(r.error=r.error||\"UUID is not valid.\"),r},serialize(e,t){var r=e;return r.nss=(e.uuid||\"\").toLowerCase(),r}};N[H.scheme]=H,N[G.scheme]=G,N[B.scheme]=B,N[W.scheme]=W,N[ie.scheme]=ie,N[le.scheme]=le,N[ue.scheme]=ue,e.SCHEMES=N,e.pctEncChar=k,e.pctDecChars=j,e.parse=D,e.removeDotSegments=U,e.serialize=z,e.resolveComponents=K,e.resolve=function(e,t,r){var o=function(e,t){var r=e;if(t)for(var o in t)r[o]=t[o];return r}({scheme:\"null\"},r);return z(K(D(e,o),D(t,o),o,!0),o)},e.normalize=function(e,t){return\"string\"==typeof e?e=z(D(e,t),t):\"object\"===o(e)&&(e=D(z(e,t),t)),e},e.equal=function(e,t,r){return\"string\"==typeof e?e=z(D(e,r),r):\"object\"===o(e)&&(e=z(e,r)),\"string\"==typeof t?t=z(D(t,r),r):\"object\"===o(t)&&(t=z(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?i.ESCAPE:n.ESCAPE,k)},e.unescapeComponent=L,Object.defineProperty(e,\"__esModule\",{value:!0})}))},{}],ajv:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const o=e(\"./core\"),s=e(\"./vocabularies/draft7\"),a=e(\"./vocabularies/discriminator\"),n=e(\"./refs/json-schema-draft-07.json\"),i=[\"/properties\"],c=\"http://json-schema.org/draft-07/schema\";class l extends o.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(n,i):n;this.addMetaSchema(e,c,!1),this.refs[\"http://json-schema.org/schema\"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.exports=r=l,Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=l;var d=e(\"./compile/validate\");Object.defineProperty(r,\"KeywordCxt\",{enumerable:!0,get(){return d.KeywordCxt}});var u=e(\"./compile/codegen\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return u._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return u.str}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return u.stringify}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return u.nil}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return u.Name}}),Object.defineProperty(r,\"CodeGen\",{enumerable:!0,get(){return u.CodeGen}})},{\"./compile/codegen\":2,\"./compile/validate\":15,\"./core\":18,\"./refs/json-schema-draft-07.json\":20,\"./vocabularies/discriminator\":46,\"./vocabularies/draft7\":48}]},{},[])(\"ajv\")}));\n//# sourceMappingURL=ajv7.min.js.map","import QuestionView from 'core/js/views/questionView';\nimport Papa from './csvToJson';\nimport Ajv from './ajv7.min.js';\nimport DataTable from 'libraries/jquery.dataTables.min';\n\n\nexport default class fileInputView extends QuestionView {\n\n  events() {\n    return {\n      'focus .js-item-input': 'onItemFocus',\n      'blur .js-item-input': 'onItemBlur',\n      'change .js-item-input': 'onInputChanged',\n      'keyup .js-item-input': 'onKeyPress'\n    };\n  }\n\n\n  resetQuestionOnRevisit() {\n    this.resetQuestion();\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n  }\n\n  // Used by the question view to reset the look and feel of the component.\n  resetQuestion() {\n    this.model.resetActiveItems();\n    this.model.resetItems();\n  }\n\n  showCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  hideCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n  getFile() {\n    const $itemInput = this.$('.js-item-input').eq(0);\n    function readFile(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.onload = res => {\n          resolve(res.target.result);\n        };\n        reader.onerror = err => reject(err);\n        return reader.readAsText(file);\n      });\n    }\n    async function onSubmit() {\n      const file = $itemInput[0].files[0]\n      const contents = await readFile(file)\n      let parse = await Papa.parse(contents, {\n        header: true\n      });\n      let fileObj = await { parse: parse, contents: contents }\n\n      return await fileObj\n    }\n\n    return onSubmit()\n  }\n\n  async createTable() {\n    let result = await this.getFile()\n    // console.log(result.parse.data, 'hi')\n\n    let tableData = []\n\n    for (var i = 0; i < result.parse.data.length; i++) {\n      var record = result.parse.data[i];\n      var recordVals = [];\n      var numCols = Object.keys(record).length;\n      for (var j = 0; j < numCols; j++) {\n        var key = Object.keys(record)[j];\n        var value = record[key];\n        recordVals.push(value);\n      }\n      tableData.push(recordVals);\n    }\n\n    window.alert = function () { }\n\n    var col = [];\n    var tableHeader = [];\n    for (var i = 0; i < result.parse.data.length; i++) {\n      for (var key in result.parse.data[i]) {\n        if (col.indexOf(key) === -1) {\n          col.push(key);\n        }\n      }\n    }\n    for (var i in col) {\n      tableHeader.push({ title: col[i] });\n    }\n\n    $('#example').DataTable({\n      \"dom\": '<\"top\"ip>rt<\"clear\">',\n      data: tableData, // extract this from input file\n      columns: tableHeader,\n      scrollX: true,\n    });\n  }\n  async checkCsvStructure() {\n\n    let result = await this.getFile()\n    let lines = result.contents.split('\\n');\n    let csvLineBreaks = [];\n\n    let encodingErrors = [];\n    // 1: YELLOW\n    const lineBreaks = (csv) => {\n      for (let i = 0; i < lines.length - 1; i++) {\n        csvLineBreaks.push(lines[i].split('\\r').length - 1);\n      }\n      let csvLineBreaks_unique = csvLineBreaks.filter(function (item, pos) {\n        return csvLineBreaks.indexOf(item) == pos;\n      });\n      if (csvLineBreaks_unique.length > 1) {\n        encodingErrors.push('Line breaks are not the same throughout the csv file.');\n      }\n    };\n\n    // Whitespace: if there is any whitespace between commas and double quotes around fields\n    const whiteSpace = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_whitespace = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        for (let j = 0; j < csvRows[i].length; j++) {\n          if (csvRows[i][j].split('\"').length % 2 != 0) {\n            if (csvRows[i][j].split('\"').length > 2) {\n              if (csvRows[i][j].split('\"')[1].split(' ').length > 1) {\n                csvRows_whitespace.push(i);\n              }\n            }\n          }\n        }\n      }\n      if (csvRows_whitespace.length > 0) {\n        encodingErrors.push(\n          'There is whitespace between commas and double quotes around fields in csv.',\n          `whitespace: ${csvRows_whitespace}`\n        );\n      }\n    };\n\n\n    // Invalid encoding: check if there are any odd characters in a file which could cause encoding Errors\n    // look for odd charachters in csv file that cannot be encoded as UTF-8\n    const invalidEncoding = (csv) => {\n      let invalid = false;\n      for (let i of csv) {\n        if (csv.charCodeAt(i) > 127) {\n          invalid = true;\n        }\n      }\n      return invalid;\n    }\n\n    // Encoding: if you don't use UTF-8 as the encoding for the file\n\n    const checkUTF8 = (csv) => {\n      let utf8Text = csv;\n      try {\n        // Try to convert to utf-8\n        utf8Text = decodeURIComponent(escape(csv));\n        // If the conversion succeeds, text is not utf-8\n      } catch (e) {\n        // csvResults.push(e.message); // URI malformed\n        // This exception means text is utf-8\n      }\n      return utf8Text; // returned text is always utf-8\n    };\n\n    // No content type: if you don't provide a Content-Type HTTP header\n\n    // No encoding: if you don't specify an encoding with a charset parameter\n\n    // Excel: if it looks like you're serving an Excel file rather than CSV (because the suffix for the file is .xls and there is no 'Content - Type' header)\n    // CHECK .HBS FILE - ONLY ALLOWING FOR .CSV FILES\n\n\n    ////////////////\n    // 2: GREEN\n    ///////////////\n\n    let encodingInside = []\n\n    // Check options: if the CSV file only contains a single comma - separated column; this usually means you're using a separator other than a comma\n    const singleCommaSeparated = csv => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      if (csvRows_columns_unique.length == 1 && csvRows_columns_unique[0] == 1) {\n        encodingInside.push(\n          'The CSV file only contains a single comma-separated column.',\n        );\n      }\n    }\n\n    ////////////////\n    // 3: BLUE\n    ///////////////\n\n    let headerColumns = []\n\n    // Undeclared header: if you do not specify in a machine readable way whether or not your CSV has a header row\n    const undeclaredHeader = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      if (csv_headers.length == 1) {\n        headerColumns.push('The csv headers have not been declared.', `the headers are: ${headers}`);\n      }\n    };\n\n    // Title row: if there appears to be a title field in the first row of the CSV and if we get the CSV from a URL, we return these warnings:\n\n    ////////////////\n    // 4: PINK\n    ///////////////\n\n    let columnValidation = []\n\n    // Empty column name: if all the columns don't have a name\n    const emptyColumnName = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csv_headers_blank = [];\n      for (let i = 0; i < csv_headers.length; i++) {\n        if (csv_headers[i] == '') {\n          csv_headers_blank.push(i);\n        }\n      }\n      if (csv_headers_blank.length > 0) {\n        columnValidation.push(\"There are columns that don't have a name in the csv file.\");\n      }\n    };\n    // Duplicate column name: if all the column names aren't unique\n    const duplicateColumnName = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csv_headers_unique = csv_headers.filter(function (item, pos) {\n        return csv_headers.indexOf(item) == pos;\n      });\n      if (csv_headers_unique.length != csv_headers.length) {\n        columnValidation.push('Not all the columns are unique.', `see here: ${csv_headers_unique}`)\n      }\n    };\n\n    ////////////////\n    // 5: PURPLE\n    ///////////////\n\n    let rowValidation = []\n\n    // Ragged rows: if every row in the file doesn't have the same number of columns\n    const raggedRows = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csvRows = []\n      // csvResults.push(csvRows)\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      if (csvRows_columns_unique.length > 1) {\n        // csvResults.push(csvRows_columns_unique[0])\n        // csvResults.push(csvRows_columns_unique)\n        // const displayColumns = num => csvRows_columns[csvRows_columns_unique[num]]\n        rowValidation.push(\n          \"Every row in the file doesn't have the same number of columns.\",\n          `here are the column counts we have found: ${[...csvRows_columns_unique]}`\n        );\n      }\n    };\n\n    // Blank rows: if there are any blank rows\n    const blankRows = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_blank = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        if (csvRows[i].length == 1 && csvRows[i][0] == '') {\n          csvRows_blank.push(i);\n        }\n      }\n      if (csvRows_blank.length > 0) {\n        rowValidation.push('There are blank rows in the csv.', `see here: ${csvRows_blank} / ${csvRows.length - 1}`);\n      }\n    };\n\n    ////////////////\n    // 5: GREY\n    ///////////////\n\n    let itemsValidation = []\n\n    // Inconsistent values: if any column contains inconsistent values, for example if most values in a column are numeric but there's a significant proportion that aren't\n    const find = (csv) => {\n      var lineBreaks = csv.match(/\\n/g);\n      itemsValidation.push(lineBreaks);\n    }\n    const inconsistentValues = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      let csvRows_columns_unique_max = Math.max.apply(\n        Math,\n        csvRows_columns_unique\n      );\n      let csvRows_columns_unique_max_index = csvRows_columns_unique.indexOf(\n        csvRows_columns_unique_max\n      );\n      let csvRows_columns_unique_max_columns =\n        csvRows_columns_unique[csvRows_columns_unique_max_index];\n      let csvRows_columns_unique_max_columns_values = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns_unique_max_columns_values.push(\n          csvRows[i][csvRows_columns_unique_max_columns]\n        );\n      }\n      let csvRows_columns_unique_max_columns_values_numeric = [];\n      for (let i = 0; i < csvRows_columns_unique_max_columns_values.length; i++) {\n        if (!isNaN(csvRows_columns_unique_max_columns_values[i])) {\n          csvRows_columns_unique_max_columns_values_numeric.push(\n            csvRows_columns_unique_max_columns_values[i]\n          );\n        }\n      }\n      if (\n        csvRows_columns_unique_max_columns_values_numeric.length /\n        csvRows_columns_unique_max_columns_values.length <\n        0.9\n      ) {\n        itemsValidation.push(`There are inconsistent values in the csv file.`);\n      }\n    };\n\n\n    lineBreaks(result.contents)\n    undeclaredHeader(result.contents)\n    raggedRows(result.contents)\n    singleCommaSeparated(result.contents)\n    blankRows(result.contents)\n    whiteSpace(result.contents)\n    checkUTF8(result.contents)\n    inconsistentValues(result.contents)\n    emptyColumnName(result.contents)\n    duplicateColumnName(result.contents)\n\n    let feedback = {\n      encodingErrors,\n      rowValidation,\n      columnValidation,\n      itemsValidation,\n      encodingInside\n    }\n\n    let nonEmptyArrays = Object.keys(feedback).filter(key => feedback[key].length > 0)\n\n    let feedbackString = []\n    nonEmptyArrays.forEach(arr => {\n      if (arr == 'encodingErrors') {\n        feedbackString.push(`Is it encoded correctly as a CSV. Not much a human can do about this.`)\n      }\n      if (arr == 'rowValidation') {\n        feedbackString.push(`The rows are not valid`)\n      }\n      if (arr == 'columnValidation') {\n        feedbackString.push(`The columns are not valid`)\n      }\n      if (arr == 'itemsValidation') {\n        feedbackString.push(`The items are not valid`)\n      }\n      if (arr == 'encodingInside') {\n        feedbackString.push(`The encoding is not valid`)\n      }\n    })\n\n    return feedbackString\n  }\n\n  async validateAjv() {\n    let result = await this.getFile()\n\n    function convertIntObj(input) {\n      const res = {}\n      for (const key in input) {\n        res[key] = {};\n        for (const prop in input[key]) {\n          const parsed = parseInt(input[key][prop], 10);\n          res[key][prop] = isNaN(parsed) ? input[key][prop] : parsed;\n        }\n      }\n      return res;\n    }\n\n    var r = convertIntObj(result.parse.data);\n    var arrayResult = Object.values(r);\n\n    const ajv = new Ajv({\n      allErrors: true,\n      strict: false,\n      validateFormats: 'full',\n    });\n\n    let _schema = this.model.get('_schema')\n    ajv.addFormat('float', /^\\$(\\d{1,3}(\\,\\d{3})*|(\\d+))(\\.\\d{2})?$/);\n\n    let errorList = [];\n\n    for (let i = 0; i < arrayResult.length; i++) {\n      let valid = ajv.validate(_schema, arrayResult[i]);\n      if (!valid) {\n        errorList.push(ajv.errors);\n      }\n    }\n\n    let errText = [];\n    errorList.map((a) => {\n      a.map((b) => {\n        // console.log(b.instancePath.slice(1))\n        let colName = b['instancePath'].slice(1);\n        let colType = b['keyword'];\n        let problem = b['message']\n        if (colType === 'type' || 'format') {\n          var errMsg = `\"${colName}\" ${colType} ${problem}.`;\n          errText.push(errMsg);\n        } else if (b['params']['error'] === 'missing') {\n          let missingCol = b['params']['missingProperty'];\n          var errMsg = `Cannot find required property \"${missingCol}\".`;\n          errText.push(errMsg);\n        } else if (colType === 'enum') {\n          let allowed = b['params']['allowedValues'];\n          let missingCol = b['params']['missingProperty'];\n          var errMsg = `\"<strong> ${colName} </strong>\" must be one of ${allowed}.`;\n          errText.push(errMsg);\n        }\n      });\n    });\n\n    // replace \"required must have required property\" from all errors\n    let errTextFixes = errText.map((a) => {\n      if (a.includes('\"\" required must have required property')) {\n        return a.replace('\"\" required must have required property', '<strong> Missing property: </strong>');\n      } else {\n        return a;\n      }\n    }).filter((a) => {\n      return a !== undefined;\n    })\n    // console.log(errText2)\n    // return errText2;\n\n    // console.log(errText2)\n  \n\n    const userResult = errTextFixes;\n\n    return userResult;\n  }\n  async feedback() {\n    let ajv = await this.validateAjv()\n    let csv = await this.checkCsvStructure()\n    console.log(csv, ajv)\n    let combinedArr = [...new Set(ajv.concat(csv))]\n    // let combinedArrString = combinedArr.join(' <br />')\n\n    console.log(combinedArr)\n    this.model.get('_items')[0].feedback = combinedArr\n    this.model.get('_items')[0][\"_score\"] = combinedArr.length\n    // this.model.get('_feedback').correct = combinedArrString\n    this.model.get('_feedback')._partlyCorrect.final = combinedArr\n\n    // const feedback = await $('#feedback').html(`<h1> Errors </h1> <ul> ${combinedArr.map((result) => {\n    //   return `<li>${result}</li>`\n    // }).join('')} </ul>`);\n\n    // turn error messsages into a table with headers dividing ajv ones with csv ones\n    const table = await $('#feedbackTable').html(`<table class=\"table table-striped table-bordered table-hover table-condensed\">\n    <thead>\n      <tr>\n        <th>Error Description</th>\n        <th>Error Type</th>\n      </tr>\n    </thead>\n    <tbody>\n      ${combinedArr.map((result) => {\n      return `<tr>\n        <td>${result}</td>\n        <td>${ajv.includes(result) ? 'Content 🖊️' : 'Structure 🏗️'}</td>\n      </tr>`\n    }).join('')}\n    </tbody>\n  </table>`);\n  }\n\n  async onInputChanged(e) {\n    const index = $(e.currentTarget).data('adapt-index');\n    const itemModel = this.model.getItem(index);\n    let shouldSelect = !itemModel.get('_isActive');\n    shouldSelect = true;\n    this.model.resetActiveItems();\n    itemModel.toggleActive(shouldSelect);\n    this.createTable()\n    this.feedback()\n\n  // this.model.get('_maxScore') = 100\n\n    // set score based on feedback count and if it is correct or not\n    // if (this.model.get('_feedback')._partlyCorrect.final.length === 0) {\n    //   this.model.get('_items')[0][\"_score\"] = 30\n    // } else {\n    //   this.model.get('_items')[0][\"_score\"] = 0\n    // }\n    // console.log(Object.values(this.model.get('_items')))\n  }\n}\n\n","define([\n  'core/js/adapt',\n  './fileInputView',\n  'core/js/models/itemsQuestionModel'\n], function(Adapt, fileInputView, ItemsQuestionModel) {\n\n  return Adapt.register('fileinput', {\n    view: fileInputView,\n    // Extend ItemsQuestionModel to distinguish McqModel in\n    // the inheritance chain and allow targeted model extensions.\n    model: ItemsQuestionModel.extend({})\n  });\n\n});\n","define([\n    'core/js/adapt',\n    'core/js/views/componentView'\n], function(Adapt, ComponentView) {\n\n    var StackList = ComponentView.extend({\n\n        TRANSITION_TIME: 250,\n\n        events: {\n            \"click .stacklist__next\": \"nextItem\"\n        },\n\n        preRender: function() {\n            this.model.set(\"_globals\", Adapt.course.get(\"_globals\"));\n            this.model.set(\"_stage\", -1);\n            this.setupButton();\n        },\n\n        postRender: function() {\n            this.$items = this.$(\".stacklist__item\");\n            this.$button = this.$('.stacklist__button');\n\n            if (!this.model.get(\"_isComplete\") || this.model.get(\"_isResetOnRevisit\")) {\n                this.setupListItems();\n                this.setupItemOffsets();\n                this.listenTo(Adapt, 'device:resize', this.setupItemOffsets);\n            }\n            this.setReadyStatus();\n        },\n\n        setupButton: function() {\n            var _button = this.model.get(\"_button\") || {};\n            // Set up button aria label\n\n            var btnAriaLabel = this.model.get(\"_globals\")._components._stacklist.ariaButtonLabel || this.model.get(\"_globals\")._accessibility._ariaLabels.next;\n            this.model.set({ buttonAriaLabel: btnAriaLabel });\n\n            if (!_button.startText) _button.startText = \"Click here to begin\";\n            if (!_button.continueText) _button.continueText = \"Next\";\n            if (!_button.ariaLabel) _button.ariaLabel = btnAriaLabel;\n\n            this.model.set(\"_button\", _button);\n        },\n\n        setupListItems: function() {\n            this.$items.addClass(\"visibility-hidden\");\n            this.$button.show();\n        },\n\n        setupItemOffsets: function() {\n            // Set item positions alternating R and L\n            var wWin = $(window).width();\n            var offsetLeft = -this.$el.outerWidth();\n            var offsetRight = wWin + 10;\n            var stage = this.model.get('_stage');\n            var buttonOffset = 0;\n\n            this.$items.each(function(i) {\n                var $el = $(this);\n\n                if (i <= stage) {\n                    buttonOffset += $el.outerHeight(true);\n                    return;\n                }\n\n                var isLeft = i % 2 === 0;\n                var offset = $el.offset();\n                offset.left = isLeft ? offsetLeft : offsetRight;\n                $el.offset(offset);\n            });\n\n            this.$button.css({top: buttonOffset});\n\n\n        },\n\n        nextItem: function() {\n            var stage = this.model.get(\"_stage\") + 1;\n            this.setStage(stage);\n        },\n\n        setStage: function(stage) {\n            this.model.set(\"_stage\", stage);\n\n            var items = this.model.get(\"_items\");\n            var isComplete = this.model.get(\"_items\").length - 1 === stage;\n            var $item = this.$(\".stacklist__item\").eq(stage);\n\n            $item.removeClass(\"visibility-hidden\");\n\n            var h = $item.outerHeight(true);\n\n            $item.velocity({ left: 0 }, {\n                delay: this.TRANSITION_TIME,\n                duration: this.TRANSITION_TIME,\n                complete: function() {\n                    $item.addClass(\"show\").a11y_focus();\n                }\n            });\n\n            if (isComplete) {\n                this.onCompletion();\n                this.updateButton('', h);\n            } else {\n                var continueText = items[stage].next || this.model.get(\"_button\").continueText;\n                var btnAriaLabel = this.model.get(\"_globals\")._components._stacklist.ariaButtonLabel || this.model.get(\"_globals\")._accessibility._ariaLabels.next;\n                var ariaLabel = continueText + ', ' + btnAriaLabel;\n\n                this.updateButton(continueText, h, ariaLabel);\n            }\n        },\n\n        updateButton: function(text, offset, ariaLabel) {\n            this.$(\".stacklist__button\").css({ top: \"+=\" + offset });\n\n            if (text === '') { // On last item we do not want to update text (it's most important when stack-list has only one item)\n                return;\n            }\n\n            var $button = this.$(\".stacklist__next\");\n            $button.blur();\n            setTimeout(function() {\n                $button.html(text);\n                $button.attr('aria-label', ariaLabel);\n            }, this.TRANSITION_TIME * 2);\n        },\n\n        onCompletion: function() {\n            var $buttonDiv = this.$(\".stacklist__button\");\n            var $button = this.$(\".stacklist__next\");\n            $buttonDiv.css({ opacity: 0 });\n\n            setTimeout(function() {\n                $button.remove();\n            }, this.TRANSITION_TIME);\n\n            this.setCompletionStatus();\n        }\n    });\n\n    return StackList;\n\n});\n","define([\n    \"core/js/adapt\",\n    \"core/js/models/itemsComponentModel\",\n    \"./StackListView\"\n], function(Adapt, ItemsComponentModel, StackListView) {\n\n    return Adapt.register(\"stacklist\", {\n        view: StackListView,\n        model: ItemsComponentModel\n    });\n\n});\n","import Adapt from 'core/js/adapt';\nimport AdaptArticleView from 'core/js/views/articleView';\n\nconst AssessmentView = {\n\n  postRender() {\n    AdaptArticleView.prototype.postRender.call(this);\n    if (this.model.isAssessmentEnabled()) {\n      this._setupEventListeners();\n\n      const config = this.model.getConfig();\n      if (config?._questions?._canShowMarking === false) {\n        this.$el.addClass('has-no-marking');\n      }\n    }\n    this.$el.addClass('is-assessment');\n  },\n\n  _setupEventListeners() {\n    this.listenTo(Adapt, {\n      'assessments:complete': this._onAssessmentComplete,\n      'assessments:reset': this._onAssessmentReset,\n      remove: this._onRemove\n    });\n  },\n\n  _removeEventListeners() {\n    this.stopListening(Adapt, {\n      'assessments:complete': this._onAssessmentComplete,\n      'assessments:reset': this._onAssessmentReset\n    });\n  },\n\n  _onAssessmentComplete(state, model) {\n    if (state.id !== this.model.get('_assessment')._id) return;\n\n    Adapt.log.info('assessment complete', state, model);\n  },\n\n  _onAssessmentReset(state, model) {\n    if (state.id !== this.model.get('_assessment')._id) return;\n\n    Adapt.log.info('assessment reset', state, model);\n\n  },\n\n  _onRemove() {\n    this._removeEventListeners();\n  }\n\n};\n\nexport default AssessmentView;\n","import Adapt from 'core/js/adapt';\n\nclass QuestionBank {\n\n  constructor(quizBankid, articleId, numQuestionBlocks, uniqueQuestions) {\n    this._id = quizBankid;\n    this._articleId = articleId;\n    this._numQuestionBlocks = numQuestionBlocks;\n    this._uniqueQuestions = uniqueQuestions;\n    this.questionBlocks = [];\n    this.unUsedQuestionBlocks = undefined;\n    this.usedQuestionBlocks = [];\n  }\n\n  getID() {\n    return this._id;\n  }\n\n  addBlock(block) {\n    this.questionBlocks.push(block);\n  }\n\n  getRandomQuestionBlocks() {\n    this.checkResetUnunsedBlocks();\n\n    const questionBlocks = [];\n    const usedQuestionBlocks = this.usedQuestionBlocks.slice(0);\n\n    for (let i = 0; i < this._numQuestionBlocks; i++) {\n      let question = this.getRandomQuestion();\n      if (question !== undefined) {\n        questionBlocks.push(question);\n        continue;\n      }\n      if (usedQuestionBlocks.length === 0) break;\n      const index = Math.floor(Math.random() * (usedQuestionBlocks.length - 1));\n      question = usedQuestionBlocks.splice(index, 1)[0];\n      questionBlocks.push(question);\n    }\n\n    return questionBlocks;\n  }\n\n  checkResetUnunsedBlocks() {\n    if (this.unUsedQuestionBlocks !== undefined && this._uniqueQuestions) return;\n\n    this.unUsedQuestionBlocks = this.questionBlocks.slice(0);\n  }\n\n  getRandomQuestion() {\n    if (this.unUsedQuestionBlocks !== undefined && this.unUsedQuestionBlocks.length < 1) {\n      Adapt.log.warn('assessment:' + this._articleId + ' No more unique questions for _assessment._quizBankID ' + this._id);\n      return undefined;\n    }\n\n    const index = Math.round(Math.random() * (this.unUsedQuestionBlocks.length - 1));\n    const questionBlock = this.unUsedQuestionBlocks[index];\n    this.usedQuestionBlocks.push(questionBlock);\n\n    this.unUsedQuestionBlocks.splice(index, 1);\n\n    return questionBlock;\n  }\n}\n\nexport default QuestionBank;\n","import Adapt from 'core/js/adapt';\nimport QuestionBank from './adapt-assessmentQuestionBank';\n\nlet givenIdCount = 0;\nconst assessmentConfigDefaults = {\n  _isEnabled: true,\n  _questions: {\n    _resetType: 'soft',\n    _canShowFeedback: false,\n    _canShowMarking: false,\n    _canShowModelAnswer: false\n  },\n  _suppressMarking: false,\n  _isPercentageBased: true,\n  _scoreToPass: 100,\n  _correctToPass: 100,\n  _includeInTotalScore: true,\n  _assessmentWeight: 1,\n  _isResetOnRevisit: true,\n  _reloadPageOnReset: true,\n  _attempts: 'infinite',\n  _allowResetIfPassed: false\n};\n\nconst AssessmentModel = {\n\n  _getCurrentQuestionComponents() {\n    return this.findDescendantModels('block')\n      .filter(block => block.get('_isAvailable'))\n      .reduce((questions, block) => questions.concat(block.findDescendantModels('question')), []);\n  },\n\n  _getAllQuestionComponents() {\n    return this.findDescendantModels('question');\n  },\n\n  // Private functions\n  _postInitialize() {\n    if (!this.isAssessmentEnabled()) return;\n\n    const assessmentConfig = this.getConfig();\n\n    Object.assign(this, {\n      _originalChildModels: null,\n      _questionBanks: null,\n      _forceResetOnRevisit: false\n    });\n\n    let attemptsLeft;\n    switch (assessmentConfig._attempts) {\n      case 'infinite': case 0: case undefined: case -1: case null:\n        attemptsLeft = 'infinite';\n        break;\n      default:\n        attemptsLeft = assessmentConfig._attempts;\n        break;\n    }\n\n    this.set({\n      _assessmentCompleteInSession: false,\n      _attemptInProgress: false,\n      _isAssessmentComplete: false,\n      _numberOfQuestionsAnswered: 0,\n      _lastAttemptScoreAsPercent: 0,\n      _attempts: attemptsLeft,\n      _attemptsLeft: attemptsLeft,\n      _attemptsSpent: 0\n    });\n\n    this.listenToOnce(Adapt, 'app:dataReady', this._onDataReady);\n    this.listenTo(Adapt, 'remove', this._onRemove);\n\n  },\n\n  init() {\n    // save original children\n    this._originalChildModels = this.getChildren().models;\n\n    this.setupCurrentQuestionComponents();\n\n    this._setAssessmentOwnershipOnChildrenModels();\n\n    // ensure the _questions attribute is set up (see https://github.com/adaptlearning/adapt_framework/issues/2971)\n    this._updateQuestionsState();\n  },\n\n  setupCurrentQuestionComponents() {\n    const assessmentQuestionsConfig = this.getConfig()._questions;\n    this._getAllQuestionComponents().forEach(component => {\n      component.set({\n        _canShowFeedback: assessmentQuestionsConfig._canShowFeedback,\n        _canShowMarking: assessmentQuestionsConfig._canShowMarking,\n        _canShowModelAnswer: assessmentQuestionsConfig._canShowModelAnswer\n      });\n    });\n  },\n\n  _setAssessmentOwnershipOnChildrenModels() {\n    // mark all children components as belonging to an assessment\n    const assessmentConfig = this.get('_assessment');\n    const childConfig = {\n      _isPartOfAssessment: true,\n      _assessmentId: assessmentConfig._id\n    };\n\n    for (const blockModel of this._originalChildModels) {\n      blockModel.set(childConfig);\n      // make sure components are set to _isPartOfAssessment for plp checking\n      blockModel.setOnChildren(childConfig);\n    }\n  },\n\n  // prevent default\n  checkIfResetOnRevisit() {},\n\n  _onDataReady() {\n    // register assessment\n    Adapt.assessment.register(this);\n  },\n\n  _setupAssessmentData(force, callback) {\n    const assessmentConfig = this.getConfig();\n    const state = this.getState();\n    const hasAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n    const shouldResetOnRevisit = assessmentConfig._isResetOnRevisit && !this.get('_attemptInProgress');\n    const shouldResetAssessment = (shouldResetOnRevisit && !state.isPass && hasAttemptsLeft) || force === true;\n    const shouldResetQuestions = (shouldResetOnRevisit && (state.allowResetIfPassed || !state.isPass)) || force === true;\n\n    if (shouldResetAssessment || shouldResetQuestions) {\n      Adapt.trigger('assessments:preReset', this.getState(), this);\n    }\n\n    let quizModels;\n    if (shouldResetAssessment) {\n      this.set({\n        _numberOfQuestionsAnswered: 0,\n        _isAssessmentComplete: false,\n        _assessmentCompleteInSession: false,\n        _score: 0\n      });\n      this.getChildren().models = this._originalChildModels;\n      if (assessmentConfig?._banks._isEnabled &&\n        assessmentConfig?._banks._split.length > 1) {\n\n        quizModels = this._setupBankedAssessment();\n      } else if (assessmentConfig?._randomisation._isEnabled) {\n\n        quizModels = this._setupRandomisedAssessment();\n      }\n    }\n\n    if (!quizModels) {\n      // leave the order as before, completed or not\n      quizModels = this.getChildren().models;\n    } else if (quizModels.length === 0) {\n      quizModels = this.getChildren().models;\n      Adapt.log.warn('assessment: Not enough unique questions to create a fresh assessment, using last selection');\n    }\n\n    this.getChildren().models = quizModels;\n\n    this.setupCurrentQuestionComponents();\n    if (shouldResetAssessment || shouldResetQuestions) {\n      this._resetQuestions();\n      this.set('_attemptInProgress', true);\n      Adapt.trigger('assessments:reset', this.getState(), this);\n    }\n\n    if (!state.isComplete) {\n      this.set('_attemptInProgress', true);\n    }\n\n    this._overrideQuestionComponentSettings();\n    this._setupQuestionListeners();\n    this._checkNumberOfQuestionsAnswered();\n    this._updateQuestionsState();\n\n    Adapt.assessment.saveState();\n\n    this.trigger('reset');\n\n    if (shouldResetAssessment || shouldResetQuestions) {\n      Adapt.trigger('assessments:postReset', this.getState(), this);\n    }\n  },\n\n  _setupBankedAssessment() {\n    const assessmentConfig = this.getConfig();\n\n    this._setupBanks();\n\n    // get random questions from banks\n    let questionModels = [];\n    this._questionBanks.forEach(questionBank => {\n      questionModels.push(...questionBank.getRandomQuestionBlocks());\n    });\n\n    // if overall question order should be randomized\n    if (assessmentConfig._banks._randomisation) {\n      questionModels = _.shuffle(questionModels);\n    }\n\n    return questionModels;\n  },\n\n  _setupBanks() {\n    const assessmentConfig = this.getConfig();\n    const banks = assessmentConfig._banks._split.split(',');\n    let bankId;\n\n    this._questionBanks = [];\n\n    // build fresh banks\n    for (let i = 0, l = banks.length; i < l; i++) {\n      const bank = banks[i];\n      bankId = (i + 1);\n      const questionBank = new QuestionBank(bankId, this.get('_id'), bank, true);\n\n      this._questionBanks[bankId] = questionBank;\n    }\n\n    // add blocks to banks\n    const children = this.getChildren().models;\n    for (const blockModel of children) {\n      const blockAssessmentConfig = blockModel.get('_assessment');\n      if (!blockAssessmentConfig) continue;\n      bankId = blockAssessmentConfig._quizBankID;\n      this._questionBanks[bankId].addBlock(blockModel);\n    }\n  },\n\n  _setupRandomisedAssessment() {\n    const assessmentConfig = this.getConfig();\n\n    const randomisationModel = assessmentConfig._randomisation;\n    const blockModels = this.getChildren().models;\n\n    let questionModels = _.shuffle(blockModels);\n\n    if (randomisationModel._blockCount > 0) {\n      questionModels = questionModels.slice(0, randomisationModel._blockCount);\n    }\n\n    return questionModels;\n  },\n\n  _overrideQuestionComponentSettings() {\n    const newSettings = this._getMarkingSettings();\n\n    // Add any additional setting overrides here\n    const questionConfig = this.getConfig()._questions;\n    if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowFeedback')) {\n      newSettings._canShowFeedback = questionConfig._canShowFeedback;\n    }\n\n    if (!_.isEmpty(newSettings)) {\n      const questionComponents = this._getAllQuestionComponents();\n      questionComponents.forEach(model => model.set(newSettings, { pluginName: '_assessment' }));\n    }\n  },\n\n  _setupQuestionListeners() {\n    this._removeQuestionListeners();\n    this.listenTo(this.getChildren(), 'change:_isInteractionComplete', this._onBlockCompleted);\n  },\n\n  _checkNumberOfQuestionsAnswered() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const numberOfQuestionsAnswered = questionComponents.filter(model => model.get('_isInteractionComplete')).length;\n    this.set('_numberOfQuestionsAnswered', numberOfQuestionsAnswered);\n  },\n\n  _removeQuestionListeners() {\n    this.stopListening(this.getChildren(), 'change:_isInteractionComplete', this._onBlockCompleted);\n  },\n\n  _onBlockCompleted(blockModel, value) {\n    if (value === false) return;\n    const questionModels = blockModel.findDescendantModels('question');\n    questionModels.forEach(questionModel => {\n      this._onQuestionCompleted(questionModel, value);\n    });\n    if (!blockModel.get('_isInteractionComplete')) return;\n    this._checkAssessmentComplete();\n  },\n\n  _onQuestionCompleted(questionModel, value) {\n    if (value === false) return;\n    if (!questionModel.get('_isInteractionComplete')) return;\n\n    let numberOfQuestionsAnswered = this.get('_numberOfQuestionsAnswered');\n    numberOfQuestionsAnswered++;\n    this.set('_numberOfQuestionsAnswered', numberOfQuestionsAnswered);\n\n    this._updateQuestionsState();\n    Adapt.assessment.saveState();\n\n    this._checkAssessmentComplete();\n  },\n\n  _checkAssessmentComplete() {\n    const allQuestionsAdded = (this.get('_requireCompletionOf') !== Number.POSITIVE_INFINITY);\n    if (!allQuestionsAdded) return;\n    const numberOfQuestionsAnswered = this.get('_numberOfQuestionsAnswered');\n    const allQuestionsAnswered = (numberOfQuestionsAnswered >= this._getCurrentQuestionComponents().length);\n    if (!allQuestionsAnswered) return;\n    this._onAssessmentComplete();\n  },\n\n  _onAssessmentComplete() {\n    const wasAttemptInProgess = this.get('_attemptInProgress');\n    if (!wasAttemptInProgess) return;\n\n    this.set('_attemptInProgress', false);\n    this._spendAttempt();\n\n    const _scoreAsPercent = this._getScoreAsPercent();\n    const _score = this._getScore();\n    const _maxScore = this._getMaxScore();\n    const _minScore = this._getMinScore();\n    const _correctCount = this._getCorrectCount();\n    const _correctAsPercent = this._getCorrectAsPercent();\n    const _questionCount = this._getQuestionCount();\n\n    this.set({\n      _scoreAsPercent,\n      _score,\n      _maxScore,\n      _minScore,\n      _correctAsPercent,\n      _correctCount,\n      _questionCount,\n      _lastAttemptScoreAsPercent: _scoreAsPercent,\n      _assessmentCompleteInSession: true,\n      _isAssessmentComplete: true\n    });\n\n    this._updateQuestionsState();\n\n    this._checkIsPass();\n\n    this._removeQuestionListeners();\n\n    if (this._isMarkingSuppressionEnabled() && !this._isAttemptsLeft()) {\n      _.defer(() => {\n        this._overrideMarkingSettings();\n        this._refreshQuestions();\n      });\n    }\n\n    Adapt.trigger('assessments:complete', this.getState(), this);\n  },\n\n  _updateQuestionsState() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const questions = questionComponents.map(model => ({\n      _id: model.get('_id'),\n      _isCorrect: model.get('_isCorrect') ?? null\n    }));\n    this.set('_questions', questions);\n  },\n\n  _checkIsPass() {\n    const assessmentConfig = this.getConfig();\n\n    const isPercentageBased = assessmentConfig._isPercentageBased;\n    const scoreToPass = assessmentConfig._scoreToPass;\n    const correctToPass = assessmentConfig._correctToPass || 0;\n\n    const scoreAsPercent = this.get('_scoreAsPercent');\n    const score = this.get('_score');\n    const correctAsPercent = this.get('_correctAsPercent');\n    const correctCount = this.get('_correctCount');\n\n    const isPass = isPercentageBased\n      ? (scoreAsPercent >= scoreToPass && correctAsPercent >= correctToPass)\n      : (score >= scoreToPass && correctCount >= correctToPass);\n\n    this.set('_isPass', isPass);\n  },\n\n  _getMarkingSettings() {\n    let markingSettings = {};\n\n    if (this._shouldSuppressMarking()) {\n      markingSettings = {\n        _canShowMarking: false,\n        _canShowModelAnswer: false\n      };\n    } else {\n      const questionConfig = this.getConfig()._questions;\n\n      if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowModelAnswer')) {\n        markingSettings._canShowModelAnswer = questionConfig._canShowModelAnswer;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowMarking')) {\n        markingSettings._canShowMarking = questionConfig._canShowMarking;\n      }\n    }\n\n    return markingSettings;\n  },\n\n  _overrideMarkingSettings() {\n    const newMarkingSettings = this._getMarkingSettings();\n    const questionComponents = this._getAllQuestionComponents();\n    questionComponents.forEach(model => model.set(newMarkingSettings, { pluginName: '_assessment' }));\n  },\n\n  _refreshQuestions() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    questionComponents.forEach(model => model.refresh());\n  },\n\n  _shouldSuppressMarking() {\n    return this._isMarkingSuppressionEnabled() && this._isAttemptsLeft();\n  },\n\n  _isMarkingSuppressionEnabled() {\n    const assessmentConfig = this.getConfig();\n    return assessmentConfig._suppressMarking;\n  },\n\n  _isAttemptsLeft() {\n    if (this.get('_isAssessmentComplete') && this.get('_isPass')) return false;\n    if (this.get('_attemptsLeft') === 0) return false;\n    return true;\n  },\n\n  _spendAttempt() {\n    if (!this._isAttemptsLeft()) return false;\n\n    let attemptsSpent = this.get('_attemptsSpent');\n    this.set('_attemptsSpent', ++attemptsSpent);\n\n    if (this.get('_attempts') === 'infinite') return true;\n\n    let attemptsLeft = this.get('_attemptsLeft');\n    this.set('_attemptsLeft', --attemptsLeft);\n\n    return true;\n  },\n\n  _getScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const score = questionComponents.reduce((score, model) => (score += model.score || 0), 0);\n    return score;\n  },\n\n  _getMaxScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const maxScore = questionComponents.reduce((maxScore, model) => (maxScore += model.maxScore || 0), 0);\n    return maxScore;\n  },\n\n  _getMinScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const minScore = questionComponents.reduce((minScore, model) => (minScore += model.minScore || 0), 0);\n    return minScore;\n  },\n\n  _getScoreAsPercent() {\n    const minScore = this._getMinScore();\n    const maxScore = this._getMaxScore();\n    const score = this._getScore();\n    const range = (maxScore - minScore);\n    return (range === 0) ? 0 : Math.round(((score - minScore) / range) * 100);\n  },\n\n  _getCorrectCount() {\n    return this._getCurrentQuestionComponents().reduce((count, model) => (count += model.get('_isCorrect') ? 1 : 0), 0);\n  },\n\n  _getQuestionCount() {\n    return this._getCurrentQuestionComponents().length;\n  },\n\n  _getCorrectAsPercent() {\n    const questionCount = this._getQuestionCount();\n    return (questionCount === 0) ? 0 : Math.round((this._getCorrectCount() / questionCount) * 100);\n  },\n\n  _getLastAttemptScoreAsPercent() {\n    return this.get('_lastAttemptScoreAsPercent');\n  },\n\n  _checkReloadPage() {\n    if (!this.canResetInPage()) return false;\n\n    const parentId = this.getParent().get('_id');\n    const currentLocation = Adapt.location._currentId;\n\n    // check if on assessment page and should rerender page\n    if (currentLocation !== parentId) return false;\n    if (!this.get('_isReady')) return false;\n\n    return true;\n  },\n\n  _reloadPage(callback) {\n    const assessmentConfig = this.getConfig();\n    this._forceResetOnRevisit = true;\n    this.listenToOnce(Adapt, 'pageView:ready', async () => {\n      if (assessmentConfig._scrollToOnReset) {\n        await Adapt.navigateToElement(this.get('_id'));\n      }\n      callback();\n    });\n    _.delay(() => {\n      Backbone.history.navigate('#/id/' + Adapt.location._currentId, { replace: true, trigger: true });\n    }, 250);\n  },\n\n  _resetQuestions() {\n    const assessmentConfig = this.getConfig();\n    const questionModels = this._getCurrentQuestionComponents();\n    questionModels.forEach(model => model.reset(assessmentConfig._questions._resetType, true));\n  },\n\n  _onRemove() {\n    this._removeQuestionListeners();\n  },\n\n  _setCompletionStatus() {\n    this.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  },\n\n  _checkIfQuestionsWereRestored() {\n    if (this.get('_assessmentCompleteInSession')) return;\n    if (!this.get('_isAssessmentComplete')) return;\n\n    // fix for courses that do not remember the user selections\n    // force assessment to reset if user revisits an assessment page in a new session which is completed\n    let wereQuestionsRestored = true;\n\n    const questions = this.get('_questions');\n    for (const question of questions) {\n      const questionModel = Adapt.findById(question._id);\n      if (questionModel.get('_isAvailable') && !questionModel.get('_isSubmitted')) {\n        wereQuestionsRestored = false;\n        break;\n      }\n    }\n\n    if (!wereQuestionsRestored) {\n      this.set('_assessmentCompleteInSession', true);\n      return true;\n    }\n\n    return false;\n  },\n\n  // Public Functions\n  isAssessmentEnabled() {\n    if (this.get('_assessment')?._isEnabled) return true;\n    return false;\n  },\n\n  canResetInPage() {\n    const assessmentConfig = this.getConfig();\n    if (assessmentConfig._reloadPageOnReset === false) return false;\n    return true;\n  },\n\n  reset(force, callback) {\n\n    const assessmentConfig = this.getConfig();\n\n    // check if forcing reset via page revisit or force parameter\n    force = this._forceResetOnRevisit || force === true;\n    this._forceResetOnRevisit = false;\n\n    const isPageReload = this._checkReloadPage();\n\n    // stop resetting if not complete or not allowed\n    if (this.get('_assessmentCompleteInSession') &&\n      !assessmentConfig._isResetOnRevisit &&\n      !isPageReload &&\n      !force) {\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(false);\n      return false;\n    }\n\n    // check if new session and questions not restored\n    const wereQuestionsRestored = this._checkIfQuestionsWereRestored();\n    force = force || wereQuestionsRestored;\n    // the assessment is going to be reset so we must reset attempts\n    // otherwise assessment may not be set up properly in next session\n    if (force && !this._isAttemptsLeft()) {\n      this.set({\n        _attemptsLeft: this.get('_attempts'),\n        _attemptsSpent: 0\n      });\n    }\n\n    const allowResetIfPassed = this.get('_assessment')._allowResetIfPassed;\n    // stop resetting if no attempts left and allowResetIfPassed is false\n    if (!this._isAttemptsLeft() && !force && !allowResetIfPassed) {\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(false);\n      return false;\n    }\n\n    if (!isPageReload) {\n      this._setupAssessmentData(force);\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(true);\n    } else {\n      this._reloadPage(() => {\n        // eslint-disable-next-line node/no-callback-literal\n        if (typeof callback === 'function') callback(true);\n      });\n    }\n\n    return true;\n  },\n\n  getSaveState() {\n    const state = this.getState();\n    let blocks;\n    const cfg = this.getConfig();\n    const banksActive = cfg._banks?._isEnabled && cfg._banks._split.length > 1;\n    const randomisationActive = cfg._randomisation?._isEnabled;\n\n    if (!banksActive && !randomisationActive) {\n      // include presentation blocks in save state so that blocks without questions aren't removed\n      blocks = this.findDescendantModels('block');\n    } else {\n      blocks = state.questions.map(question => Adapt.findById(question._id).getParent());\n    }\n    blocks = [...new Set(blocks)]\n      .filter(block => block.trackingPosition);\n    const blockTrackingPositions = blocks.map(block => block.trackingPosition);\n    const blockCompletion = blocks.map(block => {\n      const questions = block.findDescendantModels('question');\n      return questions.map(question => question.get('_isCorrect') || false);\n    });\n    const blockData = [blockTrackingPositions, blockCompletion];\n\n    const saveState = [\n      state.isComplete ? 1 : 0,\n      state.attemptsSpent,\n      state.maxScore || 0,\n      state.score,\n      state.attemptInProgress ? 1 : 0,\n      state.minScore || 0,\n      state.correctAsPercent || 0,\n      state.correctCount || 0,\n      state.questionCount || 0\n    ];\n\n    const dataPackage = [saveState, blockData];\n\n    return dataPackage;\n  },\n\n  setRestoreState(dataPackage) {\n    const restoreState = dataPackage[0];\n    const blockData = dataPackage[1];\n    const _isAssessmentComplete = restoreState[0] === 1;\n    const attempts = this.get('_attempts');\n    const _attemptsSpent = restoreState[1];\n    const maxScore = restoreState[2];\n    const score = restoreState[3];\n    const _scoreAsPercent = score ? Math.round(score / maxScore * 100) : 0;\n    const _attemptInProgress = restoreState[4] === 1;\n    const minScore = restoreState[5];\n    const correctAsPercent = restoreState[6];\n    const correctCount = restoreState[7];\n    const questionCount = restoreState[8];\n\n    const blocks = blockData[0].map(trackingPosition => {\n      if (typeof trackingPosition === 'number') {\n        // Backwards compability for courses which use _trackingId at block level\n        return Adapt.data.findWhere({ _trackingId: trackingPosition });\n      }\n      return Adapt.data.findByTrackingPosition(trackingPosition);\n    });\n\n    if (blocks.length) {\n      const nonBlockChildren = this.getChildren().models.filter(model => !model.isTypeGroup('block'));\n      this.getChildren().models = blocks.concat(nonBlockChildren);\n    }\n\n    const _questions = [];\n    blocks.forEach((block, blockIndex) => {\n      const blockQuestions = block.findDescendantModels('question');\n      blockQuestions.forEach((question, questionIndex) => {\n        _questions.push({\n          _id: question.get('_id'),\n          _isCorrect: blockData[1][blockIndex][questionIndex]\n        });\n      });\n    });\n\n    this.set({\n      _isAssessmentComplete,\n      _assessmentCompleteInSession: false,\n      _attemptsSpent,\n      _attemptInProgress,\n      _attemptsLeft: (attempts === 'infinite' ? attempts : attempts - _attemptsSpent),\n      _maxScore: maxScore || this._getMaxScore(),\n      _minScore: minScore || this._getMinScore(),\n      _score: score || 0,\n      _scoreAsPercent,\n      _correctAsPercent: correctAsPercent || 0,\n      _correctCount: correctCount || 0,\n      _questions,\n      _questionCount: questionCount || 0,\n      _lastAttemptScoreAsPercent: _scoreAsPercent\n    });\n\n    if (_isAssessmentComplete) this._checkIsPass();\n\n    Adapt.trigger('assessments:restored', this.getState(), this);\n\n  },\n\n  getState() {\n    // return the current state of the assessment\n    // create snapshot of values so as not to create memory leaks\n    const assessmentConfig = this.getConfig();\n\n    const state = {\n      id: assessmentConfig._id,\n      type: 'article-assessment',\n      pageId: this.getParent().get('_id'),\n      articleId: this.get('_id'),\n      isEnabled: assessmentConfig._isEnabled,\n      isComplete: this.get('_isAssessmentComplete'),\n      isPercentageBased: assessmentConfig._isPercentageBased,\n      scoreToPass: assessmentConfig._scoreToPass,\n      score: this.get('_score'),\n      scoreAsPercent: this.get('_scoreAsPercent'),\n      maxScore: this.get('_maxScore'),\n      minScore: this.get('_minScore'),\n      correctCount: this.get('_correctCount'),\n      correctAsPercent: this.get('_correctAsPercent'),\n      correctToPass: assessmentConfig._correctToPass,\n      questionCount: this.get('_questionCount'),\n      isPass: this.get('_isPass'),\n      includeInTotalScore: assessmentConfig._includeInTotalScore,\n      assessmentWeight: assessmentConfig._assessmentWeight,\n      attempts: this.get('_attempts'),\n      attemptsSpent: this.get('_attemptsSpent'),\n      attemptsLeft: this.get('_attemptsLeft'),\n      attemptInProgress: this.get('_attemptInProgress'),\n      lastAttemptScoreAsPercent: this.get('_lastAttemptScoreAsPercent'),\n      questions: this.get('_questions'),\n      resetType: assessmentConfig._questions._resetType,\n      allowResetIfPassed: assessmentConfig._allowResetIfPassed,\n      questionModels: new Backbone.Collection(this._getCurrentQuestionComponents())\n    };\n\n    return state;\n  },\n\n  getConfig() {\n    let assessmentConfig = this.get('_assessment');\n\n    if (!assessmentConfig) {\n      assessmentConfig = $.extend(true, {}, assessmentConfigDefaults);\n    } else {\n      assessmentConfig = $.extend(true, {}, assessmentConfigDefaults, assessmentConfig);\n    }\n\n    if (assessmentConfig._id === undefined) {\n      assessmentConfig._id = 'givenId' + (givenIdCount++);\n    }\n\n    this.set('_assessment', assessmentConfig);\n\n    return assessmentConfig;\n  }\n};\n\nexport default AssessmentModel;\n","import Adapt from 'core/js/adapt';\n\n/*\n  * Here we setup a registry for all assessments\n  */\nconst assessmentsConfigDefaults = {\n  _isPercentageBased: true,\n  _scoreToPass: 100,\n  _isDefaultsLoaded: true\n};\n\nclass Assessment extends Backbone.Controller {\n\n  initialize() {\n    this._assessments = Object.assign([], {\n      _byPageId: {},\n      _byAssessmentId: {}\n    });\n    this.listenTo(Adapt, {\n      'assessments:complete': this._onAssessmentsComplete,\n      'router:location': this._checkResetAssessmentsOnRevisit,\n      'router:plugin': this._handleRoute,\n      'app:dataReady': this._onDataReady\n    });\n  }\n\n  _onAssessmentsComplete(state) {\n    const assessmentId = state.id;\n\n    state.isComplete = true;\n\n    if (assessmentId === undefined) return;\n\n    if (!this._getStateByAssessmentId(assessmentId)) {\n      Adapt.log.warn('assessments: state was not registered when assessment was created');\n    }\n\n    this.saveState();\n\n    this._setPageProgress();\n\n    this._checkAssessmentsComplete();\n\n  }\n\n  _restoreModelState(assessmentModel) {\n\n    if (!this._saveStateModel) {\n      this._saveStateModel = Adapt.offlineStorage.get('a');\n    }\n    if (this._saveStateModel) {\n      const state = assessmentModel.getState();\n      if (this._saveStateModel[state.id]) {\n        assessmentModel.setRestoreState(Adapt.offlineStorage.deserialize(this._saveStateModel[state.id]));\n      }\n    }\n\n  }\n\n  /*\n    * Allow navigating to an assessment via the URL.\n    */\n  _handleRoute(plugin, id) {\n    if ((plugin !== 'assessment' && plugin !== 'article-assessment') || id === undefined) {\n      return;\n    }\n\n    // Check the 'id' passed is that of an article.\n    if (!Adapt.findById(id)) {\n      // The 'id' passed may have been the assessment _id/name, not the article _id.\n      const assessment = Adapt.assessment._assessments._byAssessmentId[id];\n      if (assessment) {\n        // Set 'id' to the article _id.\n        id = assessment.get('_id');\n      } else {\n        Adapt.log.warn('Assessment not found with _id: ' + id);\n        return;\n      }\n    }\n\n    _.defer(() => {\n      // Defer this call so that the router's _canNavigate flag is true.\n      Backbone.history.navigate('#/id/' + id, { trigger: true, replace: true });\n    });\n  }\n\n  _checkResetAssessmentsOnRevisit(toObject) {\n    /*\n      * Here we hijack router:location to reorganise the assessment blocks\n      * this must happen before trickle listens to block completion\n      */\n    if (toObject._contentType !== 'page') return;\n\n    // initialize assessment on page visit before pageView:preRender (and trickle)\n    const pageAssessmentModels = this._getAssessmentByPageId(toObject._currentId);\n    if (pageAssessmentModels === undefined) return;\n\n    /*\n      * Here we further hijack the router to ensure the asynchronous assessment\n      * reset completes before routing completes\n      */\n    Adapt.wait.for(function resetAllAssessments(allAssessmentHaveReset) {\n\n      const numberOfAssessments = pageAssessmentModels.length;\n      let numberOfResetAssessments = 0;\n      const forceAssessmentReset = false;\n\n      pageAssessmentModels.forEach(model => {\n\n        model.reset(forceAssessmentReset, () => {\n          numberOfResetAssessments++;\n          const haveAllModelsReset = (numberOfResetAssessments === numberOfAssessments);\n          if (!haveAllModelsReset) {\n            return;\n          }\n          allAssessmentHaveReset();\n        });\n      });\n    });\n\n    this._setPageProgress();\n  }\n\n  _onDataReady() {\n    this._assessments = Object.assign([], {\n      _byPageId: {},\n      _byAssessmentId: {}\n    });\n\n    this._restoredCount = 0;\n  }\n\n  _checkAssessmentsComplete() {\n    let allAssessmentsComplete = true;\n    let assessmentToPostBack = 0;\n    const states = this._getStatesByAssessmentId();\n\n    const assessmentStates = [];\n\n    for (const id in states) {\n      const state = states[id];\n      if (!state.includeInTotalScore) continue;\n      if (!state.isComplete) {\n        allAssessmentsComplete = false;\n        break;\n      }\n      assessmentToPostBack++;\n      assessmentStates.push(state);\n    }\n\n    if (!allAssessmentsComplete || assessmentToPostBack === 0) return false;\n\n    if (assessmentToPostBack === 1) {\n      this._setupSingleAssessmentConfiguration(assessmentStates[0]);\n    }\n\n    _.defer(() => Adapt.trigger('assessment:complete', this.getState()));\n\n    return true;\n  }\n\n  _setupSingleAssessmentConfiguration(assessmentState) {\n    const assessmentsConfig = Adapt.course.get('_assessment');\n    $.extend(true, assessmentsConfig, {\n      _isPercentageBased: assessmentState.isPercentageBased,\n      _scoreToPass: assessmentState.scoreToPass\n    });\n    Adapt.course.set('_assessment', assessmentsConfig);\n  }\n\n  _getAssessmentByPageId(pageId) {\n    return this._assessments._byPageId[pageId];\n  }\n\n  _getStateByAssessmentId(assessmentId) {\n    if (assessmentId === undefined) {\n      return null;\n    }\n\n    return this._assessments._byAssessmentId[assessmentId].getState();\n  }\n\n  _getStatesByAssessmentId() {\n    const states = {};\n    for (const assessmentModel of this._assessments) {\n      if (!assessmentModel.get('_isAvailable')) continue;\n      const state = assessmentModel.getState();\n      states[state.id] = state;\n    }\n    return states;\n  }\n\n  _setPageProgress() {\n    // set _subProgressTotal and _subProgressComplete on pages that have assessment progress indicator requirements\n\n    for (const [ id, assessments ] of Object.entries(this._assessments._byPageId)) {\n\n      const assessmentsTotal = assessments.length;\n      let assessmentsPassed = 0;\n\n      for (const assessment of assessments) {\n        const assessmentState = assessment.getState();\n\n        if (assessmentState.includeInTotalScore && !assessmentState.isPass) continue;\n\n        if (assessmentState.isComplete) {\n          assessmentsPassed++;\n        }\n      }\n\n      const pageModel = Adapt.findById(id);\n      pageModel?.set({\n        _subProgressTotal: assessmentsTotal,\n        _subProgressComplete: assessmentsPassed\n      });\n\n    }\n  }\n\n  _addToAssessmentIdMap(id, model) {\n    if (id === undefined) {\n      Adapt.log.warn('An assessment has been registered with an undefined value for \"_id\"');\n      return;\n    }\n\n    if (id === '') {\n      Adapt.log.warn('An assessment has been registered with an empty value for \"_id\"');\n    }\n\n    if (!this._assessments._byAssessmentId[id]) {\n      this._assessments._byAssessmentId[id] = model;\n    } else {\n      Adapt.log.warn('An assessment with an _id of \"' + id + '\" already exists!');\n    }\n  }\n\n  _setupQuestionNumbering() {\n    const getRelatedQuestions = data => {\n      const currentAssessmentId = data._assessmentId;\n      const currentAssessment = Adapt.assessment.get(currentAssessmentId);\n      return currentAssessment.getState().questions;\n    };\n\n    Handlebars.registerHelper('questionNumber', function getQuestionNumber() {\n      const data = this.view?.model.toJSON() || this;\n      if (!data._isPartOfAssessment) return;\n\n      const related = _.pluck(getRelatedQuestions(data), '_id');\n\n      return related.indexOf(data._id) + 1;\n    });\n\n    Handlebars.registerHelper('questionCount', function getTotalQuestions() {\n      const data = this.view ? this.view.model.toJSON() : this;\n      if (!data._isPartOfAssessment) return;\n      return getRelatedQuestions(data).length;\n    });\n  }\n\n  // Public functions\n  register(assessmentModel) {\n    const state = assessmentModel.getState();\n    const assessmentId = state.id;\n    const pageId = state.pageId;\n\n    if (this._assessments._byPageId[pageId] === undefined) {\n      this._assessments._byPageId[pageId] = [];\n    }\n\n    this._assessments._byPageId[pageId].push(assessmentModel);\n\n    this._addToAssessmentIdMap(assessmentId, assessmentModel);\n\n    this._assessments.push(assessmentModel);\n\n    this._restoreModelState(assessmentModel);\n    this._restoredCount++;\n\n    Adapt.trigger('assessments:register', state, assessmentModel);\n\n    this._setPageProgress();\n\n    this._setupQuestionNumbering();\n\n    if (this._restoredCount === this._assessments.length) {\n      // Since all assessments have been stored, broadcast an\n      // event which has the collated state.\n      Adapt.trigger('assessment:restored', this.getState());\n    }\n  }\n\n  get(id) {\n    return (id === undefined)\n      ? this._assessments.slice(0)\n      : this._assessments._byAssessmentId[id];\n  }\n\n  saveState() {\n\n    this._saveStateModel = {};\n    for (const assessmentModel of this._assessments) {\n      const state = assessmentModel.getState();\n      this._saveStateModel[state.id] = Adapt.offlineStorage.serialize(assessmentModel.getSaveState());\n    }\n\n    Adapt.offlineStorage.set('a', this._saveStateModel);\n  }\n\n  getConfig() {\n    let assessmentsConfig = Adapt.course.get('_assessment');\n\n    if (assessmentsConfig?._isDefaultsLoaded) {\n      return assessmentsConfig;\n    }\n\n    if (assessmentsConfig === undefined) {\n      assessmentsConfig = $.extend(true, {}, assessmentsConfigDefaults);\n    } else {\n      assessmentsConfig = $.extend(true, {}, assessmentsConfigDefaults, assessmentsConfig);\n    }\n\n    Adapt.course.set('_assessment', assessmentsConfig);\n\n    return assessmentsConfig;\n  }\n\n  getState() {\n    const assessmentsConfig = this.getConfig();\n\n    let score = 0;\n    let maxScore = 0;\n    let minScore = 0;\n    let correctCount = 0;\n    let questionCount = 0;\n    let assessments = 0;\n    const states = this._getStatesByAssessmentId();\n    let assessmentsComplete = 0;\n\n    for (const id in states) {\n      const state = states[id];\n      if (!state.includeInTotalScore) continue;\n      if (state.isComplete) assessmentsComplete++;\n      assessments++;\n      maxScore += state.maxScore / state.assessmentWeight;\n      minScore += state.minScore / state.assessmentWeight;\n      score += state.score / state.assessmentWeight;\n      correctCount += state.correctCount / state.assessmentWeight;\n      questionCount += state.questionCount / state.assessmentWeight;\n    }\n\n    const isComplete = assessmentsComplete === assessments;\n\n    const scoreRange = (maxScore - minScore);\n    const scoreAsPercent = (scoreRange === 0) ? 0 : Math.round(((score - minScore) / scoreRange) * 100);\n    const correctAsPercent = (questionCount === 0) ? 0 : Math.round((correctCount / questionCount) * 100);\n\n    if (assessmentsConfig._correctToPass === undefined) {\n      Adapt.log.warnOnce('Assessment course config is missing _correctToPass');\n    }\n\n    const scoreToPass = assessmentsConfig._scoreToPass;\n    const correctToPass = assessmentsConfig._correctToPass || scoreToPass;\n    const isPercentageBased = assessmentsConfig._isPercentageBased;\n\n    const isPass = isComplete && (isPercentageBased\n      ? scoreAsPercent >= scoreToPass && correctAsPercent >= correctToPass\n      : score >= scoreToPass && correctCount >= correctToPass);\n\n    const canRetry = Object.values(states).some(state => {\n      const isFailed = !state.isPass;\n      const hasAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n      return (isFailed && hasAttemptsLeft);\n    });\n\n    return {\n      isComplete,\n      isPercentageBased,\n      isPass,\n      maxScore,\n      minScore,\n      score,\n      scoreToPass,\n      scoreAsPercent,\n      correctCount,\n      correctAsPercent,\n      correctToPass,\n      questionCount,\n      assessmentsComplete,\n      assessments,\n      canRetry\n    };\n  }\n}\n\nexport default (Adapt.assessment = new Assessment());\n","import ArticleView from 'core/js/views/articleView';\nimport ArticleModel from 'core/js/models/articleModel';\nimport AdaptAssessmentArticleView from './adapt-assessmentArticleView';\nimport AdaptAssessmentArticleModel from './adapt-assessmentArticleModel';\nimport './assessment';\n\n/*\n  * Here we are extending the articleView and articleModel in Adapt.\n  * This is to accomodate the assessment functionality on the article.\n  * The advantage of this method is that the assessment behaviour can utilize all of the predefined article behaviour in both the view and the model.\n  */\n\n// Extends core/js/views/articleView.js\nconst ArticleViewInitialize = ArticleView.prototype.initialize;\nArticleView.prototype.initialize = function(options) {\n  if (this.model.get('_assessment')?._isEnabled === true) {\n    // extend the articleView with new functionality\n    Object.assign(this, AdaptAssessmentArticleView);\n  }\n  // initialize the article in the normal manner\n  return ArticleViewInitialize.apply(this, arguments);\n};\n\n// Extends core/js/models/articleModel.js\nconst ArticleModelInitialize = ArticleModel.prototype.initialize;\nArticleModel.prototype.initialize = function(options) {\n  if (this.get('_assessment')?._isEnabled === true) {\n    // extend the articleModel with new functionality\n    Object.assign(this, AdaptAssessmentArticleModel);\n\n    // initialize the article in the normal manner\n    const returnValue = ArticleModelInitialize.apply(this, arguments);\n\n    // initialize assessment article\n    this._postInitialize();\n\n    return returnValue;\n  }\n\n  // initialize the article in the normal manner if no assessment\n  return ArticleModelInitialize.apply(this, arguments);\n};\n","import Adapt from 'core/js/adapt';\nimport logging from 'core/js/logging';\n\nclass Bookmarking extends Backbone.Controller {\n\n  initialize() {\n    this.bookmarkLevel = null;\n    this.restoredLocationID = null;\n    this.currentLocationID = null;\n    this.listenToOnce(Adapt, 'router:location', this.onAdaptInitialize);\n  }\n\n  onAdaptInitialize() {\n    if (!this.checkCourseIsEnabled()) return;\n    this.setupEventListeners();\n    this.checkRestoreLocation();\n  }\n\n  checkCourseIsEnabled() {\n    const courseBookmarkModel = Adapt.course.get('_bookmarking');\n    if (!courseBookmarkModel || !courseBookmarkModel._isEnabled) return false;\n    return true;\n  }\n\n  setupEventListeners() {\n    this._onScroll = _.debounce(this.checkLocation.bind(this), 250);\n    this.listenTo(Adapt, {\n      'menuView:ready': this.setupMenu,\n      'pageView:preRender': this.setupPage,\n      'view:childAdded': this.checkLocation\n    });\n  }\n\n  checkRestoreLocation() {\n    this.restoredLocationID = Adapt.offlineStorage.get('location');\n\n    if (!this.restoredLocationID || this.restoredLocationID === 'undefined' || !Adapt.findById(this.restoredLocationID)) {\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'pageView:ready menuView:ready', this.restoreLocation);\n  }\n\n  restoreLocation() {\n    this.stopListening(Adapt, 'pageView:ready menuView:ready', this.restoreLocation);\n\n    _.delay(() => {\n      if (this.isAlreadyOnScreen(this.restoredLocationID)) {\n        return;\n      }\n\n      if (Adapt.course.get('_bookmarking')._showPrompt === false) {\n        this.navigateToPrevious();\n        return;\n      }\n\n      this.showPrompt();\n\n    }, 500);// slight delay is necessary to allow any render & scrollTo to complete before calling isAlreadyOnScreen\n  }\n\n  /**\n   * If the learner is already at the bookmarked location, there's no need to show a prompt\n   * This method determines whether that is the case or not\n   * @param {string} id The `_id` of the item the learner needs to be returned to\n   * @return {boolean}\n   */\n  isAlreadyOnScreen(id) {\n    if (id === Adapt.location._currentId) return true;\n\n    const type = Adapt.findById(id).getTypeGroup();\n    if (type === 'menu' || type === 'page') {\n      return false;\n    }\n\n    const locationOnscreen = $('.' + id).onscreen();\n    const isLocationOnscreen = locationOnscreen && (locationOnscreen.percentInview > 0);\n    const isLocationFullyInview = locationOnscreen && (locationOnscreen.percentInview === 100);\n    if (isLocationOnscreen && isLocationFullyInview) {\n      return true;\n    }\n\n    return false;\n  }\n\n  showPrompt() {\n    const courseBookmarkModel = Adapt.course.get('_bookmarking');\n    const buttons = courseBookmarkModel._buttons || { yes: 'Yes', no: 'No' };\n\n    this.listenToOnce(Adapt, {\n      'bookmarking:continue': this.navigateToPrevious,\n      'bookmarking:cancel': this.navigateCancel\n    });\n\n    Adapt.notify.prompt({\n      _classes: 'is-bookmarking',\n      _showIcon: true,\n      title: courseBookmarkModel.title,\n      body: courseBookmarkModel.body,\n      _prompts: [\n        {\n          promptText: buttons.yes || 'Yes',\n          _callbackEvent: 'bookmarking:continue'\n        },\n        {\n          promptText: buttons.no || 'No',\n          _callbackEvent: 'bookmarking:cancel'\n        }\n      ]\n    });\n  }\n\n  navigateToPrevious() {\n    _.defer(async () => {\n      const isSinglePage = (Adapt.contentObjects.models.length === 1);\n      try {\n        await Adapt.router.navigateToElement(this.restoredLocationID, { trigger: true, replace: isSinglePage, duration: 400 });\n      } catch (err) {\n        logging.warn(`Bookmarking cannot navigate to id: ${this.restoredLocationID}\\n`, err);\n      }\n    });\n\n    this.stopListening(Adapt, 'bookmarking:cancel');\n  }\n\n  navigateCancel() {\n    this.stopListening(Adapt, 'bookmarking:continue');\n  }\n\n  resetLocationID() {\n    this.setLocationID('');\n  }\n\n  /**\n   * if the learner navigates to the top-level menu, clear the stored bookmark\n   * if it's a sub-menu, store the menu's id as the bookmark\n   */\n  setupMenu(menuView) {\n    const menuModel = menuView.model;\n\n    if (!menuModel.get('_parentId')) {\n      this.resetLocationID();\n      return;\n    }\n\n    this.setLocationID(menuModel.get('_id'));\n  }\n\n  /**\n   * Calculates what the bookmarking 'level' will be for any given page.\n   * First sets a default using the course-level setting (or 'component' if that's not been set)\n   * then checks to see if that's being overridden at page level or not\n   * @param {Backbone.Model} pageModel The model for the current page view\n   * @return {String} Either 'page', 'block', or 'component' - with 'component' being the default\n   */\n  getBookmarkLevel(pageModel) {\n    const defaultLevel = Adapt.course.get('_bookmarking')._level || 'component';\n    const bookmarkModel = pageModel.get('_bookmarking');\n    const isInherit = !bookmarkModel || !bookmarkModel._level || bookmarkModel._level === 'inherit';\n    return isInherit ? defaultLevel : bookmarkModel._level;\n  }\n\n  /**\n   * Sets up bookmarking for the page the learner just navigated to\n   * If bookmarking is disabled for the current page, clear the stored bookmark and return.\n   * Otherwise, bookmark the page then - if necessary - set up to calculate which block or component\n   * should be bookmarked as the learner scrolls up/down the page\n   * @param {Backbone.View} pageView The current page view\n   */\n  setupPage(pageView) {\n    const pageBookmarkModel = pageView.model.get('_bookmarking');\n    if (pageBookmarkModel?._isEnabled === false) {\n      this.resetLocationID();\n      return;\n    }\n\n    this.setLocationID(pageView.model.get('_id'));\n\n    this.bookmarkLevel = this.getBookmarkLevel(pageView.model);\n    if (this.bookmarkLevel === 'page') {\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'remove', this.releaseViews);\n\n    $(window).on('scroll', this._onScroll);\n  }\n\n  setLocationID(id) {\n    if (this.currentLocationID === id) return;\n    Adapt.offlineStorage.set('location', id);\n    this.currentLocationID = id;\n  }\n\n  releaseViews() {\n    this.stopListening(Adapt, 'remove', this.releaseViews);\n    $(window).off('scroll', this._onScroll);\n  }\n\n  checkLocation() {\n    const contentObjectBookmarkModel = Adapt.parentView?.model?.get('_bookmarking');\n    if (contentObjectBookmarkModel?._isEnabled === false) {\n      this.resetLocationID();\n      return;\n    }\n    const currentModel = Adapt.location._currentModel;\n    if (!currentModel || !this.bookmarkLevel) return;\n    const possibleViewIds = currentModel.findDescendantModels(this.bookmarkLevel)\n      .filter(desc => desc.get('_isTrackable') !== false) // Filter trickle buttons\n      .map(desc => desc.get('_id'));\n\n    let highestOnscreen = 0;\n    let highestOnscreenLocation = '';\n    possibleViewIds.forEach(id => {\n      const element = $(`[data-adapt-id=${id}]`);\n      if (!element.length) return;\n      const measurements = element.onscreen();\n      if (!measurements.onscreen) return;\n      if (measurements.percentInview <= highestOnscreen) return;\n      highestOnscreen = measurements.percentInview;\n      highestOnscreenLocation = id;\n    });\n\n    // set location as most inview component\n    if (highestOnscreenLocation) this.setLocationID(highestOnscreenLocation);\n  }\n}\n\nexport default new Bookmarking();\n","import Adapt from 'core/js/adapt';\n\nexport default class NavigationView extends Backbone.View {\n\n  className() {\n    return 'nav';\n  }\n\n  attributes() {\n    return {\n      role: 'navigation'\n    };\n  }\n\n  initialize() {\n    this.template = 'languagePickerNavigation';\n    this.setupHelpers();\n    this.preRender();\n  }\n\n  preRender() {\n    Adapt.trigger('navigationView:preRender', this);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template({\n      _config: this.model.get('_accessibility'),\n      _accessibility: Adapt.config.get('_accessibility')\n    })).insertBefore('#app');\n\n    _.defer(() => Adapt.trigger('navigationView:postRender', this));\n\n    return this;\n  }\n\n  setupHelpers() {\n    Handlebars.registerHelper('a11y_aria_label', text => {\n      return `<div class=\"aria-label\">${text}</div>`;\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NavigationView from './languagePickerNavigationView';\n\nexport default class LanguagePickerView extends Backbone.View {\n\n  get template() {\n    return 'languagePickerView';\n  }\n\n  events() {\n    return {\n      'click .js-languagepicker-btn-click': 'onLanguageClick'\n    };\n  }\n\n  className() {\n    return 'languagepicker';\n  }\n\n  initialize() {\n    this.initializeNavigation();\n    $('html').addClass('in-languagepicker');\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template(data));\n    this.$el.addClass(data._classes);\n\n    document.title = this.model.get('title') || '';\n\n    _.defer(this.postRender.bind(this));\n  }\n\n  postRender() {\n    $('.js-loading').hide();\n  }\n\n  onLanguageClick(event) {\n    this.destroyNavigation();\n    const lang = event.currentTarget.value;\n    this.model.setLanguage(lang);\n  }\n\n  initializeNavigation() {\n    this.navigationView = new NavigationView({ model: this.model });\n  }\n\n  destroyNavigation() {\n    this.navigationView.remove();\n  }\n\n  remove() {\n    $('html').removeClass('in-languagepicker');\n\n    super.remove();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\n\nexport default class LanguagePickerDrawerView extends Backbone.View {\n\n  get template() {\n    return 'languagePickerDrawerView';\n  }\n\n  events() {\n    return {\n      'click .js-languagepicker-item-btn': 'onButtonClick'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template(data));\n  }\n\n  onButtonClick(event) {\n    const newLanguage = this.$(event.currentTarget).attr('data-language');\n    this.model.set('newLanguage', newLanguage);\n    this.promptObject = this.getPromptObject(newLanguage);\n    this.listenToOnce(Adapt, 'drawer:closed', this.onDrawerClosed);\n    Adapt.trigger('drawer:closeDrawer');\n  }\n\n  onDrawerClosed() {\n    // wait for drawer to fully close\n    _.delay(() => {\n      this.listenToOnce(Adapt, {\n        'popup:opened': this.onPopupOpened,\n        'languagepicker:changelanguage:yes': this.onDoChangeLanguage,\n        'languagepicker:changelanguage:no': this.onDontChangeLanguage\n      });\n      // show yes/no popup\n      Adapt.notify.prompt(this.promptObject);\n    }, 250);\n  }\n\n  onPopupOpened() {\n    // move popup close focus to #focuser\n    // keep active element incase the user cancels - usually navigation bar icon\n    this.$finishFocus = a11y.setPopupCloseTo($('#a11y-focuser'));\n  }\n\n  onDoChangeLanguage() {\n    const newLanguage = this.model.get('newLanguage');\n    this.model.setTrackedData();\n    this.model.setLanguage(newLanguage);\n    this.remove();\n  }\n\n  /**\n   * If the learner selects 'no' in the 'confirm language change' prompt,\n   * wait for notify to close completely then send focus to the\n   * navigation bar icon\n   */\n  onDontChangeLanguage() {\n    this.remove();\n    _.delay(() => a11y.focusFirst(this.$finishFocus), 500);\n  }\n\n  getPromptObject(newLanguage) {\n    const data = this.model.getLanguageDetails(newLanguage);\n    return {\n      _attributes: { lang: newLanguage },\n      _classes: `is-lang-${newLanguage} ${data._direction === 'rtl' ? 'is-rtl' : 'is-ltr'}`,\n      title: data.warningTitle,\n      body: data.warningMessage,\n      _prompts: [\n        {\n          promptText: data._buttons.yes,\n          _callbackEvent: 'languagepicker:changelanguage:yes'\n        },\n        {\n          promptText: data._buttons.no,\n          _callbackEvent: 'languagepicker:changelanguage:no'\n        }\n      ],\n      _showIcon: true\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LanguagePickerDrawerView from './languagePickerDrawerView';\n\nexport default class LanguagePickerNavView extends Backbone.View {\n\n  tagName() {\n    return 'button';\n  }\n\n  className() {\n    const classNames = 'btn-icon nav__btn nav__languagepicker-btn js-languagepicker-nav-btn icon';\n    const customClass = this.model.get('_languagePickerIconClass') || 'icon-language-2';\n\n    return `${classNames} ${customClass}`;\n  }\n\n  events() {\n    return {\n      click: 'onClick'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n  }\n\n  onClick(event) {\n    Adapt.drawer.triggerCustomView(new LanguagePickerDrawerView({ model: this.model }).$el, false);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\nexport default class LanguagePickerModel extends Backbone.Model {\n  preinitialize() {\n    this.trackedData = {\n      components: [],\n      blocks: []\n    };\n\n    this.locationId = null;\n  }\n\n  defaults() {\n    return {\n      _isEnabled: false,\n      displayTitle: '',\n      body: '',\n      _languages: []\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt.config, 'change:_activeLanguage', this.markLanguageAsSelected);\n    this.listenTo(Adapt, 'app:dataLoaded', this.onDataLoaded);\n  }\n\n  getLanguageDetails(language) {\n    return this.get('_languages').find(({ _language }) => _language === language);\n  }\n\n  setLanguage(language) {\n    Adapt.config.set({\n      _activeLanguage: language,\n      _defaultDirection: this.getLanguageDetails(language)._direction\n    });\n  }\n\n  markLanguageAsSelected(model, language) {\n    this.get('_languages').forEach(item => {\n      item._isSelected = (item._language === language);\n    });\n  }\n\n  onDataLoaded() {\n    if (!this.get('_restoreStateOnLanguageChange')) {\n      return;\n    }\n    _.defer(() => {\n      this.locationId = Adapt.offlineStorage.get('location') || null;\n      this.restoreState();\n    });\n  }\n\n  restoreLocation() {\n    if (!Adapt.findById(this.locationId)) return;\n\n    _.defer(() => Adapt.navigateToElement('.' + this.locationId));\n  }\n\n  /**\n   * Restore course progress on language change.\n   */\n  restoreState() {\n\n    if (this.isTrackedDataEmpty()) return;\n\n    this.trackedData.components?.forEach(this.setTrackableState);\n    this.trackedData.blocks?.forEach(this.setTrackableState);\n  }\n\n  isTrackedDataEmpty() {\n    return _.isEqual(this.trackedData, {\n      components: [],\n      blocks: []\n    });\n  }\n\n  getTrackableState() {\n    return {\n      components: this.getState(Adapt.components.models).filter(Boolean),\n      blocks: this.getState(Adapt.blocks.models).filter(Boolean)\n    };\n  }\n\n  getState(models) {\n    return models.map(model => model.get('_isComplete') && model.getTrackableState());\n  }\n\n  setTrackedData() {\n    if (!this.get('_restoreStateOnLanguageChange')) {\n      return;\n    }\n    this.listenToOnce(Adapt, 'contentObjectView:ready', this.restoreLocation);\n    this.trackedData = this.getTrackableState();\n  }\n\n  setTrackableState(stateObject) {\n    const restoreModel = Adapt.findById(stateObject._id);\n    if (!restoreModel) {\n      Adapt.log.warn('LanguagePicker unable to restore state for: ' + stateObject._id);\n      return;\n    }\n\n    restoreModel.setTrackableState(stateObject);\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport LanguagePickerView from './languagePickerView';\nimport LanguagePickerNavView from './languagePickerNavView';\nimport LanguagePickerModel from './languagePickerModel';\n\nclass LanguagePicker extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'configModel:dataLoaded', this.onConfigLoaded);\n  }\n\n  /**\n   * Once the Adapt config has loaded, check to see if the language picker is enabled. If it is:\n   * - stop the rest of the .json from loading\n   * - set up the language picker model\n   * - register for events to allow us to display the language picker icon in the navbar on pages and menus\n   * - wait for offline storage to be ready so that we can check to see if there's a stored language choice or not\n   */\n  onConfigLoaded() {\n    const config = Adapt.config.get('_languagePicker');\n    if (!config?._isEnabled) return;\n\n    this.languagePickerModel = new LanguagePickerModel(config);\n\n    this.listenTo(Adapt, 'router:menu router:page', this.setupNavigationView);\n\n    const params = new URLSearchParams(window.location.search);\n    const paramLang = params.get('lang');\n\n    if (paramLang && Adapt.build.get('availableLanguageNames').includes(paramLang)) return;\n\n    Adapt.config.set('_canLoadData', false);\n\n    if (Adapt.offlineStorage.ready) { // on the offchance that it may already be ready...\n      this.onOfflineStorageReady();\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'offlineStorage:ready', this.onOfflineStorageReady);\n  }\n\n  /**\n   * Once offline storage is ready, check to see if a language was previously selected by the user\n   * If it was, load it. If it wasn't, show the language picker\n   */\n  onOfflineStorageReady() {\n    const storedLanguage = Adapt.offlineStorage.get('lang');\n\n    if (storedLanguage) {\n      this.languagePickerModel.setLanguage(storedLanguage);\n      return;\n    }\n\n    if (this.languagePickerModel.get('_showOnCourseLoad') === false) {\n      this.languagePickerModel.setLanguage(Adapt.config.get('_defaultLanguage'));\n      return;\n    }\n\n    this.showLanguagePickerView();\n  }\n\n  showLanguagePickerView() {\n    const languagePickerView = new LanguagePickerView({\n      model: this.languagePickerModel\n    });\n\n    languagePickerView.$el.appendTo('#wrapper');\n  }\n\n  setupNavigationView() {\n    /*\n      * On the framework this isn't an issue, but courses built in the authoring tool before the ARIA label\n      * was added will break unless the extension is removed then added again.\n      */\n    const courseGlobals = Adapt.course.get('_globals')._extensions;\n    let navigationBarLabel = '';\n    if (courseGlobals._languagePicker) {\n      navigationBarLabel = courseGlobals._languagePicker.navigationBarLabel;\n    }\n\n    const languagePickerNavView = new LanguagePickerNavView({\n      model: this.languagePickerModel,\n      attributes: {\n        'aria-label': navigationBarLabel\n      }\n    });\n\n    languagePickerNavView.$el.appendTo('.nav__inner');\n  }\n}\n\nexport default new LanguagePicker();\n","import Adapt from 'core/js/adapt';\n\nclass Completion extends Backbone.Controller {\n\n  initialize() {\n    this.subProgressCompleted = 0;\n    this.subProgressTotal = 0;\n    this.nonAssessmentCompleted = 0;\n    this.nonAssessmentTotal = 0;\n    this.assessmentCompleted = 0;\n    this.assessmentTotal = 0;\n  }\n\n  // Calculate completion of a contentObject\n  calculateCompletion(contentObjectModel) {\n\n    const completion = Adapt.completion;\n\n    const viewType = contentObjectModel.get('_type');\n    const isComplete = contentObjectModel.get('_isComplete') ? 1 : 0;\n    let children;\n\n    switch (viewType) {\n      case 'page':\n        // If it's a page\n        children = contentObjectModel.getAllDescendantModels().filter(model => {\n          return model.get('_isAvailable') && !model.get('_isOptional');\n        });\n\n        const availableChildren = this.filterAvailableChildren(children);\n        const components = this.getPageLevelProgressEnabledModels(availableChildren);\n        const nonAssessmentComponents = this.getNonAssessmentComponents(components);\n\n        completion.nonAssessmentTotal = nonAssessmentComponents.length;\n        completion.nonAssessmentCompleted = this.getComponentsCompleted(nonAssessmentComponents).length;\n\n        const assessmentComponents = this.getAssessmentComponents(components);\n\n        completion.assessmentTotal = assessmentComponents.length;\n        completion.assessmentCompleted = this.getComponentsInteractionCompleted(assessmentComponents).length;\n\n        if (contentObjectModel.get('_pageLevelProgress')._excludeAssessments !== true) {\n          completion.subProgressCompleted = contentObjectModel.get('_subProgressComplete') || 0;\n          completion.subProgressTotal = contentObjectModel.get('_subProgressTotal') || 0;\n        }\n\n        const showPageCompletionCourse = Adapt.course.get('_pageLevelProgress')?._showPageCompletion !== false;\n        const showPageCompletionPage = contentObjectModel.get('_pageLevelProgress')?._showPageCompletion !== false;\n\n        if (showPageCompletionCourse && showPageCompletionPage) {\n          // optionally add one point extra for page completion to eliminate incomplete pages and full progress bars\n          // if _showPageCompletion is true then the progress bar should also consider it so add 1 to nonAssessmentTotal\n          completion.nonAssessmentCompleted += isComplete;\n          completion.nonAssessmentTotal += 1;\n        }\n\n        break;\n      case 'menu': case 'course':\n        // If it's a sub-menu\n        children = contentObjectModel.get('_children').models;\n        children.forEach(contentObject => {\n          const completionObject = Adapt.completion.calculateCompletion(contentObject);\n          completion.subProgressCompleted += completionObject.subProgressCompleted || 0;\n          completion.subProgressTotal += completionObject.subProgressTotal || 0;\n          completion.nonAssessmentTotal += completionObject.nonAssessmentTotal;\n          completion.nonAssessmentCompleted += completionObject.nonAssessmentCompleted;\n          completion.assessmentTotal += completionObject.assessmentTotal;\n          completion.assessmentCompleted += completionObject.assessmentCompleted;\n        });\n        break;\n\n    }\n\n    return completion;\n  }\n\n  getNonAssessmentComponents(models) {\n    return models.filter(model => {\n      return !model.get('_isPartOfAssessment');\n    });\n  }\n\n  getAssessmentComponents(models) {\n    return models.filter(model => {\n      return model.get('_isPartOfAssessment');\n    });\n  }\n\n  getComponentsCompleted(models) {\n    return models.filter(item => {\n      return item.get('_isComplete');\n    });\n  }\n\n  getComponentsInteractionCompleted(models) {\n    return models.filter(item => {\n      return item.get('_isComplete');\n    });\n  }\n\n  // Get only those models who were enabled for pageLevelProgress\n  getPageLevelProgressEnabledModels(models) {\n    return models.filter(model => {\n      const config = model.get('_pageLevelProgress');\n      return config?._isEnabled;\n    });\n  }\n\n  unavailableInHierarchy(parents) {\n    if (!parents) return;\n    return parents.some(parent => {\n      return !parent.get('_isAvailable');\n    });\n  }\n\n  filterAvailableChildren(children) {\n    const availableChildren = [];\n\n    for (let i = 0, count = children.length; i < count; i++) {\n      const parents = children[i].getAncestorModels();\n      if (this.unavailableInHierarchy(parents)) continue;\n      availableChildren.push(children[i]);\n    }\n\n    return availableChildren;\n  }\n\n  calculatePercentageComplete(model) {\n    const completionObject = this.calculateCompletion(model);\n    // take all assessment, nonassessment and subprogress into percentage\n    // this allows the user to see if assessments have been passed, if assessment components can be retaken, and all other component's completion\n    const completed = completionObject.nonAssessmentCompleted + completionObject.assessmentCompleted + completionObject.subProgressCompleted;\n    const total = completionObject.nonAssessmentTotal + completionObject.assessmentTotal + completionObject.subProgressTotal;\n    const percentageComplete = Math.floor((completed / total) * 100);\n    return percentageComplete;\n  }\n\n}\n\nexport default (Adapt.completion = new Completion());\n","import Adapt from 'core/js/adapt';\n\nclass PageLevelProgressIndicatorView extends Backbone.View {\n\n  initialize(options) {\n    options = options || {};\n    this.parent = options.parent;\n    this.calculatePercentage = options.calculatePercentage || this.calculatePercentage;\n    this.ariaLabel = options.ariaLabel || '';\n    this.type = options.type || this.model.get('_type');\n    this.addClasses();\n    this.setUpEventListeners();\n    this.setPercentageComplete();\n    this.render();\n    this.refresh();\n  }\n\n  addClasses() {\n    this.$el.addClass([\n      'pagelevelprogress__indicator',\n      'is-' + this.type\n    ].join(' '));\n  }\n\n  checkAria() {\n    if (!this.ariaLabel) {\n      this.$el.attr('aria-hidden', true);\n      return;\n    }\n    const data = this.getRenderData();\n    this.$('.js-indicator-aria-label').html(Handlebars.compile(this.ariaLabel)(data));\n  }\n\n  setUpEventListeners() {\n    if (this.parent) {\n      this.listenToOnce(this.parent, 'postRemove', this.remove);\n    } else {\n      this.listenTo(Adapt, 'remove', this.remove);\n    }\n    this.listenTo(this.model, 'change:_isComplete', this.refresh);\n    if (!this.collection) return;\n    this.listenTo(this.collection, 'change:_isComplete', this.refresh);\n  }\n\n  setPercentageComplete() {\n    const percentage = this.calculatePercentage();\n    this.model.set('percentageComplete', percentage);\n    return percentage;\n  }\n\n  calculatePercentage() {\n    return this.model.get('_isComplete') ? 100 : 0;\n  }\n\n  render() {\n    const data = this.getRenderData();\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  getRenderData() {\n    const data = this.model.toJSON();\n    data.ariaLabel = this.ariaLabel;\n    data.type = this.type;\n    return data;\n  }\n\n  refresh() {\n    this.checkCompletion();\n    this.checkAria();\n    this.$('.js-indicator-bar').css({\n      width: this.calculatePercentage() + '%'\n    });\n  }\n\n  checkCompletion() {\n    const percentage = this.setPercentageComplete();\n    this.$el\n      .toggleClass('is-complete', percentage === 100)\n      .toggleClass('is-incomplete', percentage !== 100);\n  }\n\n}\n\nPageLevelProgressIndicatorView.template = 'pageLevelProgressIndicator';\n\nexport default PageLevelProgressIndicatorView;\n","import Adapt from 'core/js/adapt';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\n\nclass PageLevelProgressItemView extends Backbone.View {\n\n  className() {\n    return [\n      'pagelevelprogress__item drawer__item',\n      this.model.get('_type') + '__indicator'\n    ].join(' ');\n  }\n\n  attributes() {\n    return {\n      role: 'listitem'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n    this.addIndicator();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  addIndicator() {\n    if (this.model.get('_isOptional')) return;\n    const item = new PageLevelProgressIndicatorView({\n      model: this.model\n    });\n    this.$('.js-indicator').append(item.$el);\n  }\n\n}\n\nPageLevelProgressItemView.template = 'pageLevelProgressItem';\n\nexport default PageLevelProgressItemView;\n","import Adapt from 'core/js/adapt';\nimport PageLevelProgressItemView from './PageLevelProgressItemView';\n\nexport default class PageLevelProgressView extends Backbone.View {\n\n  className() {\n    return 'pagelevelprogress';\n  }\n\n  events() {\n    return {\n      'click .js-pagelevelprogress-item-click': 'scrollToPageElement'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n    this.addChildren();\n  }\n\n  async scrollToPageElement(event) {\n    if (event && event.preventDefault) event.preventDefault();\n\n    const $target = $(event.currentTarget);\n    if ($target.is('.is-disabled')) return;\n\n    const id = $target.attr('data-pagelevelprogress-id');\n    const model = Adapt.findById(id);\n\n    if (!model.get('_isRendered')) {\n      try {\n        await Adapt.parentView.renderTo(id);\n      } catch (err) {\n        return;\n      }\n    }\n\n    const currentComponentSelector = `.${id}`;\n\n    Adapt.once('drawer:closed', () => {\n      Adapt.scrollTo(currentComponentSelector, { duration: 400 });\n    }).trigger('drawer:closeDrawer', $(currentComponentSelector));\n  }\n\n  render() {\n    const template = Handlebars.templates.pageLevelProgress;\n    this.$el.html(template({}));\n  }\n\n  addChildren() {\n    const $children = this.$('.js-children');\n    this.collection.each(model => {\n      $children.append(new PageLevelProgressItemView({\n        model\n      }).$el);\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\nimport PageLevelProgressView from './PageLevelProgressView';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\n\nexport default class PageLevelProgressNavigationView extends Backbone.View {\n\n  tagName() {\n    return 'button';\n  }\n\n  className() {\n    return 'btn-icon nav__btn nav__pagelevelprogress-btn pagelevelprogress__nav-btn';\n  }\n\n  events() {\n    return {\n      click: 'onProgressClicked'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'updateProgressBar');\n    this.setUpEventListeners();\n    this.render();\n    this.addIndicator();\n    this.deferredUpdate();\n  }\n\n  setUpEventListeners() {\n    this.listenTo(Adapt, {\n      remove: this.remove,\n      'router:location': this.updateProgressBar,\n      'view:childAdded pageLevelProgress:update': this.refreshProgressBar\n    });\n  }\n\n  render() {\n    const template = Handlebars.templates.pageLevelProgressNavigation;\n    this.$el.html(template({}));\n  }\n\n  addIndicator() {\n    this.indicatorView = new PageLevelProgressIndicatorView({\n      model: this.model,\n      collection: this.collection,\n      calculatePercentage: this._getPageCompletionPercentage,\n      ariaLabel: Adapt.course.get('_globals')._extensions._pageLevelProgress.pageLevelProgressIndicatorBar\n    });\n    this.$el.prepend(this.indicatorView.$el);\n  }\n\n  _getPageCompletionPercentage() {\n    return completionCalculations.calculatePercentageComplete(this.model);\n  }\n\n  deferredUpdate() {\n    _.defer(this.updateProgressBar);\n  }\n\n  updateProgressBar() {\n    this.indicatorView.refresh();\n  }\n\n  refreshProgressBar() {\n    this.collection.repopulate();\n    this.updateProgressBar();\n  }\n\n  onProgressClicked(event) {\n    if (event && event.preventDefault) event.preventDefault();\n    Adapt.drawer.triggerCustomView(new PageLevelProgressView({\n      collection: this.collection\n    }).$el, false);\n  }\n\n  remove() {\n    super.remove();\n    this.collection.reset();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\n\nexport default class PageLevelProgressCollection extends Backbone.Collection {\n\n  initialize(models, options) {\n    this.listenTo(Adapt, 'remove', this.reset);\n    if (!options?.pageModel) return;\n    this._pageModel = options.pageModel;\n    this.repopulate();\n  }\n\n  repopulate() {\n    this.reset();\n    if (!this._pageModel) return;\n\n    const allDescendants = this._pageModel.getAllDescendantModels(true);\n    const currentPageItems = allDescendants.filter(item => {\n      return item.get('_isAvailable') === true;\n    });\n    const availableItems = completionCalculations.filterAvailableChildren(currentPageItems);\n    const enabledProgressItems = completionCalculations.getPageLevelProgressEnabledModels(availableItems);\n\n    this.add(enabledProgressItems);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\nimport PageLevelProgressNavigationView from './PageLevelProgressNavigationView';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\nimport PageLevelProgressCollection from './PageLevelProgressCollection';\n\nclass PageLevelProgress extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, {\n      'app:dataReady': this.onDataReady,\n      'app:languageChanged': this.onLanguageChange\n    });\n  }\n\n  getCourseConfig() {\n    return Adapt.course.get('_pageLevelProgress');\n  }\n\n  onDataReady() {\n    // Do not proceed if pageLevelProgress is not enabled in course.json\n    const coursePLPConfig = this.getCourseConfig();\n    if (!coursePLPConfig?._isEnabled) return;\n    this.setUpEventListeners();\n  }\n\n  onLanguageChange() {\n    this.stopListening();\n    this.initialize();\n  }\n\n  setUpEventListeners() {\n    const headerIndicatorTypes = [\n      'menu',\n      'menuItem',\n      'page',\n      'article',\n      'block',\n      'component'\n    ];\n\n    const headerIndicatorEventNames = headerIndicatorTypes\n      .concat([''])\n      .join('View:render ');\n\n    this.listenTo(Adapt, headerIndicatorEventNames, this.renderHeaderIndicatorView);\n\n    this.listenTo(Adapt, {\n      'menuItemView:postRender': this.renderMenuItemIndicatorView,\n      'router:page': this.renderNavigationView\n    });\n\n    this.listenTo(Adapt.course, 'bubble:change:_isComplete', this.onCompletionChange);\n  }\n\n  onCompletionChange(event) {\n    if (!Adapt.location._currentId) return;\n\n    const currentModel = Adapt.findById(Adapt.location._currentId);\n    const completionState = {\n      currentLocation: completionCalculations.calculatePercentageComplete(currentModel),\n      course: completionCalculations.calculatePercentageComplete(Adapt.course)\n    };\n    const hasChanged = !_.isMatch(this._previousCompletionState, completionState);\n    if (!hasChanged) return;\n\n    this._previousCompletionState = completionState;\n    Adapt.trigger('pageLevelProgress:percentageCompleteChange', completionState);\n  }\n\n  renderHeaderIndicatorView(view) {\n    const model = view.model;\n    const config = model.get('_pageLevelProgress');\n    if (!config?._isEnabled || !config?._isCompletionIndicatorEnabled) return;\n\n    const pageModel = model.findAncestor('contentObjects');\n    const pageConfig = pageModel && pageModel.get('_pageLevelProgress');\n    if (!pageConfig?._isEnabled) return;\n\n    const $headings = view.$('.js-heading');\n    $headings.each((index, el) => {\n      const $el = $(el);\n      const indicatorView = new PageLevelProgressIndicatorView({\n        parent: view,\n        model\n      });\n      indicatorView.$el.insertAfter($el);\n    });\n  }\n\n  // This should add/update progress on menuView\n  renderMenuItemIndicatorView(view) {\n    // Do not render on menu, only render on menu items\n    if (view.model.get('_id') === Adapt.location._currentId) return;\n\n    // Progress bar should not render for course viewType\n    const viewType = view.model.get('_type');\n    if (viewType === 'course') return;\n\n    // Do not proceed if pageLevelProgress is not enabled for the content object\n    const pageLevelProgress = view.model.get('_pageLevelProgress');\n    if (!pageLevelProgress?._isEnabled) return;\n\n    view.$el.find('.js-menu-item-progress').append(new PageLevelProgressIndicatorView({\n      parent: view,\n      model: view.model,\n      type: 'menu-item',\n      calculatePercentage: this._getMenuItemCompletionPercentage.bind(view),\n      ariaLabel: Adapt.course.get('_globals')._extensions._pageLevelProgress.pageLevelProgressMenuBar\n    }).$el);\n  }\n\n  _getMenuItemCompletionPercentage() {\n    return completionCalculations.calculatePercentageComplete(this.model);\n  }\n\n  // This should add/update progress on page navigation bar\n  renderNavigationView(pageModel) {\n    // Do not render if turned off at course level\n    const coursePLPConfig = this.getCourseConfig();\n    if (coursePLPConfig?._isShownInNavigationBar === false) return;\n\n    // Do not proceed if pageLevelProgress is not enabled for the content object\n    const pagePLPConfig = pageModel.get('_pageLevelProgress');\n    if (!pagePLPConfig?._isEnabled) return;\n\n    const collection = new PageLevelProgressCollection(null, {\n      pageModel\n    });\n\n    if (collection.length === 0) return;\n\n    $('.nav__drawer-btn').after(new PageLevelProgressNavigationView({\n      model: pageModel,\n      collection\n    }).$el);\n  }\n\n}\n\nexport default (Adapt.pageLevelProgress = new PageLevelProgress());\n","import Adapt from 'core/js/adapt';\n\nexport default class ResourcesView extends Backbone.View {\n\n  className() {\n    return 'resources';\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-resources-filter-btn-click': 'onFilterClicked'\n    };\n  }\n\n  render() {\n    this.$el.html(Handlebars.templates.resources({\n      model: this.model.toJSON(),\n      resources: this.collection.toJSON()\n    }));\n    \n    _.defer(() => {\n      this.listenTo(Adapt, 'drawer:triggerCustomView', this.remove);\n    });\n\n    return this;\n  }\n\n  onFilterClicked(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    \n    this.$('.js-resources-filter-btn-click').removeClass('is-selected');\n    \n    let items;\n    const filter = $(e.currentTarget).addClass('is-selected').attr('data-filter');\n    if (filter === 'all') {\n      items = this.$('.js-resources-item').removeClass('u-display-none');\n    } else {\n      this.$('.js-resources-item')\n        .removeClass('u-display-none').not('.is-' + filter)\n        .addClass('u-display-none');\n      items = this.$('.js-resources-item.is-' + filter);\n    }\n\n    if (items.length < 0) return;\n    Adapt.a11y.focusFirst($(items[0]));\n  }\n}\n","import Handlebars from 'handlebars';\nimport Adapt from 'core/js/adapt';\n\nconst helpers = {\n\n  resources_has_type(resources, type, block) {\n    const hasType = resources.some(_.matcher({ _type: type }));\n    return hasType ? block.fn(this) : block.inverse(this);\n  },\n\n  resources_has_multiple_types(resources, block) {\n    if (resources.length === 1) return block.inverse(this);\n\n    const allSameType = resources.every(_.matcher({ _type: resources[0]._type }));\n    return allSameType ? block.inverse(this) : block.fn(this);\n  },\n\n  resources_get_column_count(resources) {\n    return _.uniq(_.pluck(resources, '_type')).length + 1;// add 1 for the 'All' button column\n  },\n\n  /**\n   * IE doesn't support the 'download' attribute\n   * https://github.com/adaptlearning/adapt_framework/issues/1559\n   * and iOS just opens links with that attribute in the same window\n   * https://github.com/adaptlearning/adapt_framework/issues/1852\n   */\n  resources_force_download(resource, block) {\n    if (Adapt.device.browser === 'internet explorer' || Adapt.device.OS === 'ios') {\n      return block.inverse(this);\n    }\n\n    return (resource._forceDownload || resource.filename) ? block.fn(this) : block.inverse(this);\n  }\n\n};\n\nfor (const name in helpers) {\n  Handlebars.registerHelper(name, helpers[name]);\n}\n\nexport default helpers;\n","import Adapt from 'core/js/adapt';\nimport ResourcesView from './ResourcesView';\nimport ResourcesHelpers from './ResourcesHelpers';\n\nclass Resources extends Backbone.Controller {\n  \n  initialize() {\n    this.listenTo(Adapt, 'adapt:start', this.initResources); \n  }\n  \n  initResources() {\n    const courseResources = Adapt.course.get('_resources');\n\n    // do not proceed until resource set on course.json\n    if (!courseResources || courseResources._isEnabled === false) return;\n\n    const drawerObject = {\n      title: courseResources.title,\n      description: courseResources.description,\n      className: 'is-resources',\n      drawerOrder: courseResources._drawerOrder || 0\n    };\n\n    Adapt.drawer.addItem(drawerObject, 'resources:showResources');\n\n    this.setupResources(courseResources);\n  }\n  \n  setupResources(resourcesData) {\n    const model = new Backbone.Model(resourcesData);\n    const collection = new Backbone.Collection(model.get('_resourcesItems'));\n\n    this.listenTo(Adapt, 'resources:showResources', () => {\n      Adapt.drawer.triggerCustomView(new ResourcesView({\n        model,\n        collection\n      }).$el);\n    });\n  }\n}\n\nexport default new Resources();\n","class Logger {\n\n  constructor() {\n    this.logArr = [];\n    this.registeredViews = [];\n  }\n\n  static getInstance() {\n    if (Logger.instance === null) {\n      Logger.instance = new Logger();\n    }\n    return Logger.instance;\n  }\n\n  getEntries() {\n    return this.logArr;\n  }\n\n  getLastEntry() {\n    return this.logArr[this.logArr.length - 1];\n  }\n\n  info(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_INFO, time: Date.now() };\n    this.updateViews();\n  }\n\n  warn(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_WARN, time: Date.now() };\n    this.updateViews();\n  }\n\n  error(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_ERROR, time: Date.now() };\n    this.updateViews();\n  }\n\n  debug(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_DEBUG, time: Date.now() };\n    this.updateViews();\n  }\n\n  registerView(_view) {\n    this.registeredViews[this.registeredViews.length] = _view;\n  }\n\n  unregisterView(_view) {\n    for (let i = 0, l = this.registeredViews.length; i < l; i++) {\n      if (this.registeredViews[i] !== _view) continue;\n      this.registeredViews.splice(i, 1);\n      i--;\n    }\n  }\n\n  updateViews() {\n    for (let i = 0, l = this.registeredViews.length; i < l; i++) {\n      if (!this.registeredViews[i]) continue;\n      this.registeredViews[i].update(this);\n    }\n  }\n\n}\n\nLogger.instance = null;\nLogger.LOG_TYPE_INFO = 0;\nLogger.LOG_TYPE_WARN = 1;\nLogger.LOG_TYPE_ERROR = 2;\nLogger.LOG_TYPE_DEBUG = 3;\n\n// Assign global reference for debug window\nexport default (window.Logger = Logger);\n","class ScormError {\n\n  constructor(name, data = {}) {\n    this.name = name;\n    this.data = data;\n  }\n\n}\n\nScormError.CLIENT_COULD_NOT_CONNECT = 'CLIENT_COULD_NOT_CONNECT';\nScormError.SERVER_STATUS_UNSUPPORTED = 'SERVER_STATUS_UNSUPPORTED'; // status\nScormError.CLIENT_STATUS_UNSUPPORTED = 'CLIENT_STATUS_UNSUPPORTED'; // status\nScormError.CLIENT_COULD_NOT_COMMIT = 'CLIENT_COULD_NOT_COMMIT'; // errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_NOT_CONNECTED = 'CLIENT_NOT_CONNECTED';\nScormError.CLIENT_COULD_NOT_FINISH = 'CLIENT_COULD_NOT_FINISH'; // errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_COULD_NOT_GET_PROPERTY = 'CLIENT_COULD_NOT_GET_PROPERTY'; // property, errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_COULD_NOT_SET_PROPERTY = 'CLIENT_COULD_NOT_SET_PROPERTY'; // property, value, errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_INVALID_CHOICE_VALUE = 'CLIENT_INVALID_CHOICE_VALUE';\n\nScormError.defaultMessages = {\n  title: 'An error has occurred',\n  pressOk: 'Press \\'OK\\' to view detailed debug information to send to technical support.',\n  CLIENT_COULD_NOT_CONNECT: 'The course could not connect to the Learning Management System',\n  SERVER_STATUS_UNSUPPORTED: 'An invalid lesson status of \\'{{{status}}}\\' was received from Learning Management System',\n  CLIENT_STATUS_UNSUPPORTED: 'The status \\'{{{status}}}\\' is not supported.',\n  CLIENT_COULD_NOT_COMMIT: 'There was a problem saving data to the Learning Management System\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_NOT_CONNECTED: 'The course is not connected to the Learning Management System',\n  CLIENT_COULD_NOT_FINISH: 'The course was unable to terminate the learning session\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_COULD_NOT_GET_PROPERTY: 'Unable to get the value of {{property}} from the Learning Management System\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_COULD_NOT_SET_PROPERTY: 'Unable to set {{property}} to: \\'{{{value}}}\\'\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_INVALID_CHOICE_VALUE: 'Numeric choice/matching response elements must use a value from 0 to 35 in SCORM 1.2'\n};\n\nexport default ScormError;\n","import Adapt from 'core/js/adapt';\nimport pipwerks from 'libraries/SCORM_API_wrapper';\nimport Logger from './logger';\nimport ScormError from './error';\n\nconst {\n  CLIENT_COULD_NOT_CONNECT,\n  SERVER_STATUS_UNSUPPORTED,\n  CLIENT_STATUS_UNSUPPORTED,\n  CLIENT_COULD_NOT_COMMIT,\n  CLIENT_NOT_CONNECTED,\n  CLIENT_COULD_NOT_FINISH,\n  CLIENT_COULD_NOT_GET_PROPERTY,\n  CLIENT_COULD_NOT_SET_PROPERTY,\n  CLIENT_INVALID_CHOICE_VALUE\n} = ScormError;\n\n/**\n * IMPORTANT: This wrapper uses the Pipwerks SCORM wrapper and should therefore support both SCORM 1.2 and 2004. Ensure any changes support both versions.\n */\nclass ScormWrapper {\n\n  constructor() {\n    /* configuration */\n    this.setCompletedWhenFailed = true;// this only applies to SCORM 2004\n    /**\n     * whether to commit each time there's a change to lesson_status or not\n     */\n    this.commitOnStatusChange = true;\n    /**\n     * whether to commit each time there's a change to any value\n     */\n    this.commitOnAnyChange = false;\n    /**\n     * how frequently (in minutes) to commit automatically. set to 0 to disable.\n     */\n    this.timedCommitFrequency = 10;\n    /**\n     * how many times to retry if a commit fails\n     */\n    this.maxCommitRetries = 5;\n    /**\n     * time (in milliseconds) to wait between retries\n     */\n    this.commitRetryDelay = 1000;\n\n    /**\n     * prevents commit from being called if there's already a 'commit retry' pending.\n     */\n    this.commitRetryPending = false;\n    /**\n     * how many times we've done a 'commit retry'\n     */\n    this.commitRetries = 0;\n    /**\n     * not currently used - but you could include in an error message to show when data was last saved\n     */\n    this.lastCommitSuccessTime = null;\n    /**\n     * The exit state to use when course isn't completed yet\n     */\n    this.exitStateIfIncomplete = 'auto';\n    /**\n     * The exit state to use when the course has been completed/passed\n     */\n    this.exitStateIfComplete = 'auto';\n\n    this.timedCommitIntervalID = null;\n    this.retryCommitTimeoutID = null;\n    this.logOutputWin = null;\n    this.startTime = null;\n    this.endTime = null;\n\n    this.lmsConnected = false;\n    this.finishCalled = false;\n\n    this.logger = Logger.getInstance();\n    this.scorm = pipwerks.SCORM;\n    /**\n     * Prevent the Pipwerks SCORM API wrapper's handling of the exit status\n     */\n    this.scorm.handleExitMode = false;\n\n    this.suppressErrors = false;\n    this.debouncedCommit = _.debounce(this.commit.bind(this), 100);\n    if (window.__debug) {\n      this.showDebugWindow();\n    }\n\n    if (!(window.API?.__offlineAPIWrapper && window?.API_1484_11?.__offlineAPIWrapper)) return;\n    this.logger.error('Offline SCORM API is being used. No data will be reported to the LMS!');\n  }\n\n  // ******************************* public methods *******************************\n\n  static getInstance() {\n    if (ScormWrapper.instance === null) {\n      ScormWrapper.instance = new ScormWrapper();\n    }\n\n    return ScormWrapper.instance;\n  }\n\n  getVersion() {\n    return this.scorm.version;\n  }\n\n  setVersion(value) {\n    this.logger.debug(`ScormWrapper::setVersion: ${value}`);\n    this.scorm.version = value;\n  }\n\n  initialize() {\n    this.logger.debug('ScormWrapper::initialize');\n    this.lmsConnected = this.scorm.init();\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_COULD_NOT_CONNECT));\n      return this.lmsConnected;\n    }\n\n    this.startTime = new Date();\n    this.initTimedCommit();\n\n    return this.lmsConnected;\n  }\n\n  /**\n   * allows you to check if this is the user's first ever 'session' of a SCO, even after the lesson_status has been set to 'incomplete'\n   */\n  isFirstSession() {\n    return (this.getValue(this.isSCORM2004() ? 'cmi.entry' : 'cmi.core.entry') === 'ab-initio');\n  }\n\n  setIncomplete() {\n    this.setValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status', 'incomplete');\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setCompleted() {\n    this.setValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status', 'completed');\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setPassed() {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.completion_status', 'completed');\n      this.setValue('cmi.success_status', 'passed');\n    } else {\n      this.setValue('cmi.core.lesson_status', 'passed');\n    }\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setFailed() {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.success_status', 'failed');\n\n      if (this.setCompletedWhenFailed) {\n        this.setValue('cmi.completion_status', 'completed');\n      }\n    } else {\n      this.setValue('cmi.core.lesson_status', 'failed');\n    }\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  getStatus() {\n    const status = this.getValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status');\n\n    switch (status.toLowerCase()) { // workaround for some LMSes (e.g. Arena) not adhering to the all-lowercase rule\n      case 'passed':\n      case 'completed':\n      case 'incomplete':\n      case 'failed':\n      case 'browsed':\n      case 'not attempted':\n      case 'not_attempted': // mentioned in SCORM 2004 docs but not sure it ever gets used\n      case 'unknown': // the SCORM 2004 version of not attempted\n        return status;\n      default:\n        this.handleError(new ScormError(SERVER_STATUS_UNSUPPORTED, { status }));\n        return null;\n    }\n  }\n\n  setStatus(status) {\n    switch (status.toLowerCase()) {\n      case 'incomplete':\n        this.setIncomplete();\n        break;\n      case 'completed':\n        this.setCompleted();\n        break;\n      case 'passed':\n        this.setPassed();\n        break;\n      case 'failed':\n        this.setFailed();\n        break;\n      default:\n        this.handleError(new ScormError(CLIENT_STATUS_UNSUPPORTED, { status }));\n    }\n  }\n\n  getScore() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.score.raw' : 'cmi.core.score.raw');\n  }\n\n  setScore(score, minScore = 0, maxScore = 100) {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.score.raw', score);\n      this.setValue('cmi.score.min', minScore);\n      this.setValue('cmi.score.max', maxScore);\n\n      const range = maxScore - minScore;\n      const scaledScore = ((score - minScore) / range).toFixed(7);\n      this.setValue('cmi.score.scaled', scaledScore);\n      return;\n    }\n    // SCORM 1.2\n    this.setValue('cmi.core.score.raw', score);\n    if (this.isSupported('cmi.core.score.min')) this.setValue('cmi.core.score.min', minScore);\n    if (this.isSupported('cmi.core.score.max')) this.setValue('cmi.core.score.max', maxScore);\n  }\n\n  getLessonLocation() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.location' : 'cmi.core.lesson_location');\n  }\n\n  setLessonLocation(location) {\n    this.setValue(this.isSCORM2004() ? 'cmi.location' : 'cmi.core.lesson_location', location);\n  }\n\n  getSuspendData() {\n    return this.getValue('cmi.suspend_data');\n  }\n\n  setSuspendData(data) {\n    this.setValue('cmi.suspend_data', data);\n  }\n\n  getStudentName() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.learner_name' : 'cmi.core.student_name');\n  }\n\n  getStudentId() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.learner_id' : 'cmi.core.student_id');\n  }\n\n  setLanguage(lang) {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.learner_preference.language', lang);\n      return;\n    }\n    if (!this.isSupported('cmi.student_preference.language')) return;\n    this.setValue('cmi.student_preference.language', lang);\n  }\n\n  commit() {\n    this.logger.debug('ScormWrapper::commit');\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(ScormError.CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    if (this.commitRetryPending) {\n      this.logger.debug('ScormWrapper::commit: skipping this commit call as one is already pending.');\n      return;\n    }\n\n    if (this.scorm.save()) {\n      this.commitRetries = 0;\n      this.lastCommitSuccessTime = new Date();\n      Adapt.trigger('spoor:commit', this);\n      return;\n    }\n\n    if (this.commitRetries < this.maxCommitRetries && !this.finishCalled) {\n      this.commitRetries++;\n      this.initRetryCommit();\n      return;\n    }\n\n    const errorCode = this.scorm.debug.getCode();\n    this.handleError(new ScormError(CLIENT_COULD_NOT_COMMIT, {\n      errorCode,\n      errorInfo: this.scorm.debug.getInfo(errorCode),\n      diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n    }));\n  }\n\n  finish() {\n    this.logger.debug('ScormWrapper::finish');\n\n    if (!this.lmsConnected || this.finishCalled) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    this.finishCalled = true;\n\n    if (this.timedCommitIntervalID !== null) {\n      window.clearInterval(this.timedCommitIntervalID);\n    }\n\n    if (this.commitRetryPending) {\n      window.clearTimeout(this.retryCommitTimeoutID);\n      this.commitRetryPending = false;\n    }\n\n    if (this.logOutputWin && !this.logOutputWin.closed) {\n      this.logOutputWin.close();\n    }\n\n    this.endTime = new Date();\n\n    if (this.isSCORM2004()) {\n      this.scorm.set('cmi.session_time', this.convertToSCORM2004Time(this.endTime.getTime() - this.startTime.getTime()));\n      this.scorm.set('cmi.exit', this.getExitState());\n    } else {\n      this.scorm.set('cmi.core.session_time', this.convertToSCORM12Time(this.endTime.getTime() - this.startTime.getTime()));\n      this.scorm.set('cmi.core.exit', this.getExitState());\n    }\n\n    // api no longer available from this point\n    this.lmsConnected = false;\n\n    if (this.scorm.quit()) return;\n    const errorCode = this.scorm.debug.getCode();\n    this.handleError(new ScormError(CLIENT_COULD_NOT_FINISH, {\n      errorCode,\n      errorInfo: this.scorm.debug.getInfo(errorCode),\n      diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n    }));\n  }\n\n  recordInteraction(id, response, correct, latency, type) {\n    if (!this.isSupported('cmi.interactions._count')) {\n      this.logger.info('ScormWrapper::recordInteraction: cmi.interactions are not supported by this LMS...');\n      return;\n    }\n\n    switch (type) {\n      case 'choice':\n        this.recordInteractionMultipleChoice.apply(this, arguments);\n        break;\n\n      case 'matching':\n        this.recordInteractionMatching.apply(this, arguments);\n        break;\n\n      case 'numeric':\n        this.isSCORM2004() ? this.recordInteractionScorm2004.apply(this, arguments) : this.recordInteractionScorm12.apply(this, arguments);\n        break;\n\n      case 'fill-in':\n        this.recordInteractionFillIn.apply(this, arguments);\n        break;\n\n      default:\n        console.error(`ScormWrapper.recordInteraction: unknown interaction type of '${type}' encountered...`);\n    }\n  }\n\n  // ****************************** private methods ******************************\n\n  getValue(property) {\n    this.logger.debug(`ScormWrapper::getValue: _property=${property}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::getValue: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    const value = this.scorm.get(property);\n    const errorCode = this.scorm.debug.getCode();\n\n    switch (errorCode) {\n      case 0:\n        break;\n      case 403:\n        // 403 errors are common (and normal) when targetting SCORM 2004 - they are triggered on any\n        // attempt to get the value of a data model element that hasn't yet been assigned a value.\n        this.logger.warn('ScormWrapper::getValue: data model element not initialized');\n        break;\n      default:\n        this.handleError(new ScormError(CLIENT_COULD_NOT_GET_PROPERTY, {\n          property,\n          errorCode,\n          errorInfo: this.scorm.debug.getInfo(errorCode),\n          diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n        }));\n    }\n    this.logger.debug(`ScormWrapper::getValue: returning ${value}`);\n    return value + '';\n  }\n\n  setValue(property, value) {\n    this.logger.debug(`ScormWrapper::setValue: _property=${property} _value=${value}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::setValue: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    const success = this.scorm.set(property, value);\n    if (!success) {\n      // Some LMSes have an annoying tendency to return false from a set call even when it actually worked fine.\n      // So we should only throw an error if there was a valid error code...\n      const errorCode = this.scorm.debug.getCode();\n      if (errorCode !== 0) {\n        this.handleError(new ScormError(CLIENT_COULD_NOT_SET_PROPERTY, {\n          property,\n          value,\n          errorCode,\n          errorInfo: this.scorm.debug.getInfo(errorCode),\n          diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n        }));\n        return success;\n      }\n      this.logger.warn('ScormWrapper::setValue: LMS reported that the \\'set\\' call failed but then said there was no error!');\n    }\n\n    if (this.commitOnAnyChange) this.debouncedCommit();\n\n    return success;\n  }\n\n  /**\n   * used for checking any data field that is not 'LMS Mandatory' to see whether the LMS we're running on supports it or not.\n   * Note that the way this check is being performed means it wouldn't work for any element that is\n   * 'write only', but so far we've not had a requirement to check for any optional elements that are.\n   */\n  isSupported(property) {\n    this.logger.debug(`ScormWrapper::isSupported: _property=${property}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::isSupported: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return false;\n    }\n\n    this.scorm.get(property);\n\n    return (this.scorm.debug.getCode() !== 401); // 401 is the 'not implemented' error code\n  }\n\n  initTimedCommit() {\n    this.logger.debug('ScormWrapper::initTimedCommit');\n\n    if (!this.commitOnAnyChange && this.timedCommitFrequency > 0) {\n      const delay = this.timedCommitFrequency * (60 * 1000);\n      this.timedCommitIntervalID = window.setInterval(this.commit.bind(this), delay);\n    }\n  }\n\n  initRetryCommit() {\n    this.logger.debug(`ScormWrapper::initRetryCommit ${this.commitRetries} out of ${this.maxCommitRetries}`);\n\n    this.commitRetryPending = true;// stop anything else from calling commit until this is done\n\n    this.retryCommitTimeoutID = window.setTimeout(this.doRetryCommit.bind(this), this.commitRetryDelay);\n  }\n\n  doRetryCommit() {\n    this.logger.debug('ScormWrapper::doRetryCommit');\n\n    this.commitRetryPending = false;\n\n    this.commit();\n  }\n\n  handleError(error) {\n\n    if (!Adapt.get('_isStarted')) {\n      Adapt.once('contentObjectView:ready', this.handleError.bind(this, error));\n      return;\n    }\n\n    if ('value' in error.data) {\n      // because some browsers (e.g. Firefox) don't like displaying very long strings in the window.confirm dialog\n      if (error.data.value.length && error.data.value.length > 80) error.data.value = error.data.value.slice(0, 80) + '...';\n      // if the value being set is an empty string, ensure it displays in the error as ''\n      if (error.data.value === '') error.data.value = '\\'\\'';\n    }\n\n    const config = Adapt.course.get('_spoor');\n    const messages = Object.assign({}, ScormError.defaultMessages, config && config._messages);\n    const message = Handlebars.compile(messages[error.name])(error.data);\n\n    switch (error.name) {\n      case CLIENT_COULD_NOT_CONNECT:\n        Adapt.notify.popup({\n          _isCancellable: false,\n          title: messages.title,\n          body: message\n        });\n        return;\n    }\n\n    this.logger.error(message);\n\n    if (!this.suppressErrors && (!this.logOutputWin || this.logOutputWin.closed) && confirm(`${messages.title}:\\n\\n${message}\\n\\n${messages.pressOk}`)) {\n      this.showDebugWindow();\n    }\n\n  }\n\n  getInteractionCount() {\n    const count = this.getValue('cmi.interactions._count');\n    return count === '' ? 0 : count;\n  }\n\n  recordInteractionScorm12(id, response, correct, latency, type) {\n\n    id = id.trim();\n\n    const cmiPrefix = `cmi.interactions.${this.getInteractionCount()}`;\n\n    this.setValue(`${cmiPrefix}.id`, id);\n    this.setValue(`${cmiPrefix}.type`, type);\n    this.setValue(`${cmiPrefix}.student_response`, response);\n    this.setValue(`${cmiPrefix}.result`, correct ? 'correct' : 'wrong');\n    if (latency !== null && latency !== undefined) this.setValue(`${cmiPrefix}.latency`, this.convertToSCORM12Time(latency));\n    this.setValue(`${cmiPrefix}.time`, this.getCMITime());\n  }\n\n  recordInteractionScorm2004(id, response, correct, latency, type) {\n\n    id = id.trim();\n\n    const cmiPrefix = `cmi.interactions.${this.getInteractionCount()}`;\n\n    this.setValue(`${cmiPrefix}.id`, id);\n    this.setValue(`${cmiPrefix}.type`, type);\n    this.setValue(`${cmiPrefix}.learner_response`, response);\n    this.setValue(`${cmiPrefix}.result`, correct ? 'correct' : 'incorrect');\n    if (latency !== null && latency !== undefined) this.setValue(`${cmiPrefix}.latency`, this.convertToSCORM2004Time(latency));\n    this.setValue(`${cmiPrefix}.timestamp`, this.getISO8601Timestamp());\n  }\n\n  recordInteractionMultipleChoice(id, response, correct, latency, type) {\n\n    if (this.isSCORM2004()) {\n      response = response.replace(/,|#/g, '[,]');\n    } else {\n      response = response.replace(/#/g, ',');\n      response = this.checkResponse(response, 'choice');\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  recordInteractionMatching(id, response, correct, latency, type) {\n\n    response = response.replace(/#/g, ',');\n\n    if (this.isSCORM2004()) {\n      response = response.replace(/,/g, '[,]');\n      response = response.replace(/\\./g, '[.]');\n    } else {\n      response = this.checkResponse(response, 'matching');\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  recordInteractionFillIn(id, response, correct, latency, type) {\n\n    const maxLength = this.isSCORM2004() ? 250 : 255;\n\n    if (response.length > maxLength) {\n      response = response.substr(0, maxLength);\n\n      this.logger.warn(`ScormWrapper::recordInteractionFillIn: response data for ${id} is longer than the maximum allowed length of ${maxLength} characters; data will be truncated to avoid an error.`);\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  showDebugWindow() {\n\n    if (this.logOutputWin && !this.logOutputWin.closed) {\n      this.logOutputWin.close();\n    }\n\n    this.logOutputWin = window.open('log_output.html', 'Log', 'width=600,height=300,status=no,scrollbars=yes,resizable=yes,menubar=yes,toolbar=yes,location=yes,top=0,left=0');\n\n    if (!this.logOutputWin) return;\n    this.logOutputWin.focus();\n  }\n\n  convertToSCORM12Time(msConvert) {\n\n    const msPerSec = 1000;\n    const msPerMin = msPerSec * 60;\n    const msPerHour = msPerMin * 60;\n\n    const ms = msConvert % msPerSec;\n    msConvert = msConvert - ms;\n\n    let secs = msConvert % msPerMin;\n    msConvert = msConvert - secs;\n    secs = secs / msPerSec;\n\n    let mins = msConvert % msPerHour;\n    msConvert = msConvert - mins;\n    mins = mins / msPerMin;\n\n    const hrs = msConvert / msPerHour;\n\n    if (hrs > 9999) {\n      return '9999:99:99.99';\n    }\n\n    const str = [ this.padWithZeroes(hrs, 4), this.padWithZeroes(mins, 2), this.padWithZeroes(secs, 2) ].join(':');\n    return (`${str}.${Math.floor(ms / 10)}`);\n  }\n\n  /**\n   * Converts milliseconds into the SCORM 2004 data type 'timeinterval (second, 10,2)'\n   * this will output something like 'P1DT3H5M0S' which indicates a period of time of 1 day, 3 hours and 5 minutes\n   * or 'PT2M10.1S' which indicates a period of time of 2 minutes and 10.1 seconds\n   */\n  convertToSCORM2004Time(msConvert) {\n    let csConvert = Math.floor(msConvert / 10);\n    const csPerSec = 100;\n    const csPerMin = csPerSec * 60;\n    const csPerHour = csPerMin * 60;\n    const csPerDay = csPerHour * 24;\n\n    let days = Math.floor(csConvert / csPerDay);\n    csConvert -= days * csPerDay;\n    days = days ? days + 'D' : '';\n\n    let hours = Math.floor(csConvert / csPerHour);\n    csConvert -= hours * csPerHour;\n    hours = hours ? hours + 'H' : '';\n\n    let mins = Math.floor(csConvert / csPerMin);\n    csConvert -= mins * csPerMin;\n    mins = mins ? mins + 'M' : '';\n\n    let secs = Math.floor(csConvert / csPerSec);\n    csConvert -= secs * csPerSec;\n    secs = secs || '0';\n\n    let cs = csConvert;\n    cs = cs ? '.' + cs : '';\n\n    const seconds = secs + cs + 'S';\n\n    const hms = [ hours, mins, seconds ].join('');\n\n    return 'P' + days + 'T' + hms;\n  }\n\n  getCMITime() {\n\n    const date = new Date();\n\n    const hours = this.padWithZeroes(date.getHours(), 2);\n    const min = this.padWithZeroes(date.getMinutes(), 2);\n    const sec = this.padWithZeroes(date.getSeconds(), 2);\n\n    return [ hours, min, sec ].join(':');\n  }\n\n  /**\n   * returns the current date & time in the format YYYY-MM-DDTHH:mm:ss\n   */\n  getISO8601Timestamp() {\n    const date = new Date().toISOString();\n    return date.replace(/.\\d\\d\\dZ/, ''); // Date.toISOString returns the date in the format YYYY-MM-DDTHH:mm:ss.sssZ so we need to drop the last bit to make it SCORM 2004 conformant\n  }\n\n  padWithZeroes(numToPad, padBy) {\n\n    let len = padBy;\n\n    while (--len) {\n      numToPad = '0' + numToPad;\n    }\n\n    return numToPad.slice(-padBy);\n  }\n\n  isSCORM2004() {\n    return this.scorm.version === '2004';\n  }\n\n  /**\n   * SCORM 1.2 requires that the identifiers in cmi.interactions.n.student_response for choice and matching activities be a character from [0-9a-z].\n   * When numeric identifiers are used this function attempts to map identifiers 10 to 35 to [a-z]. Resolves issues/1376.\n   */\n  checkResponse(response, responseType) {\n    if (!response) return response;\n    if (responseType !== 'choice' && responseType !== 'matching') return response;\n\n    response = response.split(/,|#/);\n\n    const self = this;\n\n    if (responseType === 'choice') {\n      response = response.map(checkIdentifier);\n    } else {\n      response = response.map(r => {\n        const identifiers = r.split('.');\n        return checkIdentifier(identifiers[0]) + '.' + checkIdentifier(identifiers[1]);\n      });\n    }\n\n    function checkIdentifier(r) {\n      // if [0-9] then ok\n      if (r.length === 1 && r >= '0' && r <= '9') return r;\n\n      // if [a-z] then ok\n      if (r.length === 1 && r >= 'a' && r <= 'z') return r;\n\n      // try to map integers 10-35 to [a-z]\n      const i = parseInt(r);\n\n      if (isNaN(i) || i < 10 || i > 35) {\n        self.handleError(new ScormError(CLIENT_INVALID_CHOICE_VALUE));\n      }\n\n      return Number(i).toString(36); // 10 maps to 'a', 11 maps to 'b', ..., 35 maps to 'z'\n    }\n\n    return response.join(',');\n  }\n\n  getExitState() {\n    const completionStatus = this.scorm.data.completionStatus;\n    const isIncomplete = completionStatus === 'incomplete' || completionStatus === 'not attempted';\n    const exitState = isIncomplete ? this.exitStateIfIncomplete : this.exitStateIfComplete;\n\n    if (exitState !== 'auto') return exitState;\n\n    if (this.isSCORM2004()) return (isIncomplete ? 'suspend' : 'normal');\n\n    return '';\n  }\n\n}\n\n// static\nScormWrapper.instance = null;\n\nexport default ScormWrapper;\n","define([\n  'underscore',\n  'libraries/lzma-min',\n  'libraries/lzma_worker-min.js'\n], function(_) {\n  const LZMAWorker = window.LZMAFactory('./libraries/lzma_worker-min.js');\n  /**\n   * 2020/05/06 SCORMSuspendData\n   *\n   * Serialize and deserialize arrays, booleans and numbers into a base64 string\n   * for transport over SCORM 1.2 based systems where storage space is restricted\n   * to only 4096 characters or 4KB.\n   *\n   * The algorithm is weighted heavily in efficiency towards storing data by\n   * its occurrence frequency when it is used to save Adapt question responses,\n   * booleans, arrays of <16 length and numbers of <4 value.\n   *\n   * Numbers can be 2 precision decimals, positive and negative numbers between\n   * -4294967295.99 and 4294967295.99. Arrays can have 0 to 65535 entries. Arrays\n   * can be nested. All arrays must have the same ES type (boolean, number or array).\n   *\n   * The appropriate binary type is chosen for each array according to the following table,\n   * an array must have one type which best fits its values:\n   *\n   *           VALUES                                VALUETYPE     PER ENTRY\n   * VALUETYPE MIN           MAX            DECIMAL  BITS          MIN BITS  MAX BITS  STORES\n   * ARRAY     0             65535 (items)  NO       2             6         23        Array length and valuetype\n   * BOOLEAN   0             1              NO       1             1         1         Entry value\n   * UINT3     0             7              NO       4             3         3         Entry value\n   * VINT8+    0             255            NO       3             3         9         Entry value\n   * VINT8-   -255           0              NO       6             3         9         Entry value\n   * SDEC15   -255.99        255.99         NO       6             8         22        Entry value\n   * SINT32   -4294967295    4294967295     NO       6             5         35        Entry value\n   * SDEC39   -4294967295.99 4294967295.99  YES      6             10        48        Entry value\n   *\n   * Output construction map:\n   *\n   *  OUTPUT = VALUETYPE + DATA\n   *  DATA = ( ARRAY | BOOLEAN | UINT3 | VINT8+ | VINT8- | SDEC15 | SINT32 | SDEC39 )\n   *  ARRAY = IS_SMALL_BIT( BOOLEAN ) + LENGTH( UINT4 | UINT16 ) + VALUETYPE + DATA[0-65535]\n   *\n   *  VALUETYPE = 0 to 111111\n   *   Signifies the type of value for the output or array data.\n   *\n   *   BINARY  NAME        USAGE RANKING\n   *   10      ARRAY       2\n   *   0       BOOLEAN     1\n   *   1110    UINT3       4\n   *   110     VINT8+      3\n   *   111100  VINT8-      7\n   *   111101  SDEC15      5\n   *   111110  SINT32      6\n   *   111111  SDEC39      8\n   *\n   *  ARRAY\n   *   Stores the number and type of items.\n   *\n   *          BINARY\n   *   BITS | SMALL LENGTH (UINT4/16) VALUETYPE = VALUE\n   *   6    | 1     0000              0         = zero length boolean array\n   *   6    | 1     1111              0         = 15 length boolean array\n   *   23   | 0     1000000000000000  111111    = 8 length sdec39 array\n   *   23   | 0     1111111111111111  111111    = 65535 length sdec39 array\n   *\n   *  BOOLEAN\n   *   A value of true or false.\n   *\n   *          BINARY\n   *   BITS | BOOL  = VALUE\n   *   1    | 0     = false\n   *   1    | 1     = true\n   *\n   *  UINT3\n   *   A value from 0 to 7 with a 3 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT3) = VALUE\n   *   3    | 000         = 0\n   *   3    | 111         = 7\n   *\n   *  UINT4\n   *   An array length from 0 to 15 with a 4 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT4) = VALUE\n   *   4    | 0000        = 0\n   *   4    | 1111        = 15\n   *\n   *  VINT8+\n   *   A value from 0 to 255 with variable length output.\n   *   Output is a UINT2/8 bit integer with a 1 bit header.\n   *\n   *          BINARY\n   *   BITS | SMALL INT (UINT2/8) = VALUE\n   *   3    | 1     00           =  0\n   *   3    | 1     11           =  3\n   *   9    | 0     00000100     =  4\n   *   9    | 0     11111111     =  255\n   *\n   *  VINT8-\n   *   A value from -255 to 0 with variable length output.\n   *   Output is a UINT2/8 bit integer with a 1 bit header.\n   *\n   *   BITS | SMALL INT (UINT2/8) = VALUE\n   *   3    | 1     00            =  0\n   *   3    | 1     11            = -3\n   *   9    | 0     00000100      = -4\n   *   9    | 0     11111111      = -255\n   *\n   *  SDEC15\n   *   A value from -255.99 to 255.99 preserving 2 decimals places\n   *   places and with variable length output.\n   *\n   *   BITS | SIGN INTSIZE INT (UINT2/8) DECSIZE DEC (UINT0/7)   = VALUE\n   *   5    | 0    0       00            0                       =  0\n   *   12   | 0    0       00            0       0000001         =  0.01\n   *   12   | 1    0       00            0       0000001         = -0.01\n   *   12   | 1    0       00            1       1100011         = -0.99\n   *   18   | 0    1       00001000      1       0000001         =  8.01\n   *   18   | 1    1       00001000      1       1100011         = -8.99\n   *   18   | 0    1       11111111      1       1100011         =  255.99\n   *   18   | 1    1       11111111      1       1100011         = -255.99\n   *\n   *  UINT16\n   *   An array length from 0 to 65535 with a 16 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT16)       = VALUE\n   *   16   | 0000000000000000  = 0\n   *   16   | 1111111111111111  = 65535\n   *\n   *  SINT32\n   *   A value from -4294967295 to 4294967295 with variable length output.\n   *   Output is a UINT2/4/16/32 bit integer with a 3 bit header.\n   *\n   *   BITS | SIGN SIZE  INT (UINT2/4/16/32)              = VALUE\n   *   5    | 0    00    00                               =  0\n   *   5    | 1    00    11                               = -3\n   *   7    | 0    01    1000                             =  8\n   *   7    | 1    01    1111                             = -15\n   *   19   | 0    10    0000000100000000                 =  256\n   *   19   | 1    10    1111111111111111                 = -65535\n   *   35   | 1    11    11111111111111111111111111111111 = -4294967295\n   *   35   | 0    11    11111111111111111111111111111111 =  4294967295\n   *\n   *  SDEC39\n   *   A value from -4294967295.99 to 4294967295.99 preserving 2 decimals places\n   *   places and with variable length output.\n   *\n   *   BITS | SIGN INTSIZE INT (UINT2/4/16/32)              DECSIZE DEC (UINT0/7)   = VALUE\n   *   6    | 0    00      00                               0                       =  0\n   *   13   | 0    00      11                               0       0000001         =  3.01\n   *   13   | 1    01      1000                             0       0000001         = -8.01\n   *   13   | 1    01      1111                             1       1100011         = -15.99\n   *   27   | 0    10      0000000100000000                 1       0000001         =  256.01\n   *   27   | 1    10      1111111111111111                 1       1100011         = -65535.99\n   *   37   | 0    11      11111111111111111111111111111111 0                       =  4294967295\n   *   37   | 1    11      11111111111111111111111111111111 0                       = -4294967295\n   *   43   | 0    11      11111111111111111111111111111111 1       1100011         =  4294967295.99\n   *   43   | 1    11      11111111111111111111111111111111 1       1100011         = -4294967295.99\n   *\n   * Output byte count formula:\n   *\n   *  byte_count = (bit_count * 1.5base64_expansion) / 8bits_per_byte\n   *\n   *  The output is in base64 so bit counts are always inflated by 1.5 from byte to base64.\n   *\n   * Example:\n   *\n   * [\n   *   [\n   *     0,\n   *     7,\n   *     1,\n   *     0\n   *   ],\n   *   [\n   *     true,\n   *     true,\n   *     true,\n   *     true,\n   *     true\n   *   ],\n   *   [\n   *     true,\n   *     false,\n   *     false,\n   *     false\n   *   ]\n   * ]\n   *\n   * In this example the parent array represents a completed question state for a\n   * single question. The first child number-array stores the block location,\n   * tracking id, score and attemptsLeft. The second child boolean-array stores\n   * the completion, correctness, submission state and user answer states. The\n   * third child boolean-array stores the user selections for a multiple choice question.\n   *\n   * When serialized with SCORMSuspendData.serialize() it becomes the following\n   * 10 characters:\n   *\n   *   hxOHIK-RAA\n   *\n   * These characters can be deserialized back into the nested arrays above using\n   * SCORMSuspendData.deserialize(\"hxOHIK-RAA\");\n   *\n   * In JSON this array would usually be 63 characters minified, at 10 characters this is\n   * a reduction of about 84%. At the worse case, storing an array containing just\n   * the largest possible number ([-4294967295.99]) the output will only be reduced\n   * by about 37% (g///////4w) when compared to the equivalent JSON. It is possible\n   * to store 500 of the above mcq state arrays in just 4088 characters. About 250\n   * question states will occupy about half of the available space in SCORM's 4096\n   * character suspend data.\n   */\n\n  // Cache for zero strings of various lengths\n  const ZeroString = {};\n  /**\n   * Make and cache a zero string up to the supplied length\n   * @param {number} length\n   * @returns {string}\n   */\n  function makeZeroString(length) {\n    ZeroString[length] = ZeroString[length] || (new Array(length + 1)).join('0');\n    return ZeroString[length];\n  }\n  // Initialize zero string cache up to 64 characters in length\n  for (let i = 1, l = 64; i <= l; i++) {\n    makeZeroString(i);\n  }\n\n  /**\n   * Zero pads to the right, making up to the supplied length\n   * @param {string} string\n   * @param {number} length\n   * @returns {string}\n   */\n  function zeroPadRightToLength(string, length) {\n    const padLength = (length - string.length);\n    if (padLength > 0) {\n      string += makeZeroString(padLength);\n    }\n    return string;\n  }\n\n  /**\n   * Zero pads to the left, making up to the supplied length\n   * @param {string} string\n   * @param {number} length\n   * @returns {string}\n   */\n  function zeroPadLeftToLength(string, length) {\n    const padLength = (length - string.length);\n    if (padLength > 0) {\n      string = makeZeroString(padLength) + string;\n    }\n    return string;\n  }\n\n  /**\n   * Zero pads to the right at even multiples\n   * @param {string} string\n   * @param {number} multiple\n   * @returns {string}\n   */\n  function zeroPadRightToMultiple(string, multiple) {\n    const padLength = multiple - (string.length % multiple);\n    if (padLength !== multiple) {\n      string += makeZeroString(padLength);\n    }\n    return string;\n  }\n\n  /**\n   * Returns a positive integer from the supplied binary string and binaryLength\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {number}\n   */\n  function binaryToUnsignedInteger(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return 0;\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const integer = parseInt(binary.slice(0, binaryLength), 2);\n    return integer;\n  }\n\n  /**\n   * Shifts a positive integer from the supplied binary string and binaryLength,\n   * returning the shifted integer and the next part of the binary string\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {[number, string]}\n   */\n  function shiftUnsignedIntegerFromBinary(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return [0, binary];\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const integer = parseInt(binary.slice(0, binaryLength), 2);\n    binary = binary.slice(binaryLength);\n    return [integer, binary];\n  }\n\n  /**\n   * Shifts binaryLength characters from the supplied binary string, returning the\n   * shifted binary string and the next part of the binary string\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {[string, string]}\n   */\n  function shiftBinary(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return ['', binary];\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const shifted = binary.slice(0, binaryLength);\n    binary = binary.slice(binaryLength);\n    return [shifted, binary];\n  }\n\n  /**\n   * Converts a positive integer to a binary string\n   * @param {number} integer\n   * @param {number} [binaryLength] Length of the output string\n   */\n  function unsignedIntegerToBinary(integer, binaryLength) {\n    if (binaryLength === 0) {\n      return '';\n    }\n    let binary = Math.abs(integer).toString(2);\n    if (typeof binaryLength === 'undefined') {\n      return binary;\n    }\n    const length = binary.length;\n    if (length > binaryLength) {\n      throw new Error(`Integer too big for specified binary length. integer: ${integer} binarylen: ${binaryLength}`);\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    return binary;\n  }\n\n  /**\n   * Converts a byte array to a string\n   * @param {[number]} array\n   * @returns {string}\n   */\n  function byteArrayToString(array) {\n    const arrayLength = array.length;\n    let string = new Array(arrayLength);\n    for (let i = 0, l = arrayLength; i < l; i++) {\n      string[i] = String.fromCharCode(array[i]);\n    }\n    string = string.join('');\n    return string;\n  }\n\n  /**\n   * Converts a string to a byte array\n   * @param {string} string\n   * @returns {[number]}\n   */\n  function stringToByteArray(string) {\n    const stringLength = string.length;\n    const array = new Array(stringLength);\n    for (let i = 0, l = stringLength; i < l; i++) {\n      array[i] = string.charCodeAt(i);\n    }\n    return array;\n  }\n\n  /** @type {number} Number of bits per byte */\n  const BYTE_BIT_LENGTH = 8;\n\n  /**\n   * Converts a binary string or nested arrays of binary strings to a base64 string\n   * @param {string|[string]} binary\n   * @returns {string}\n   */\n  function binaryToBase64(binary) {\n    binary = _.flatten(binary).join('');\n    binary = zeroPadRightToMultiple(binary, BYTE_BIT_LENGTH);\n    const bytesCount = binary.length / BYTE_BIT_LENGTH;\n    const charCodes = new Array(bytesCount);\n    for (let i = 0, l = bytesCount; i < l; i++) {\n      [ charCodes[i], binary ] = shiftUnsignedIntegerFromBinary(binary, BYTE_BIT_LENGTH);\n    }\n    let base64 = btoa(byteArrayToString(charCodes));\n    // Remove padding = or == as not necessary here\n    base64 = base64.replace(/=/g, '');\n    // Can't handle base64 with the + sign so swap with a -\n    base64 = base64.replace(/\\+/g, '-');\n    return base64;\n  }\n\n  /**\n   * Converts a base64 string to a binary string\n   * @param {string} base64\n   * @returns {string}\n   */\n  function base64ToBinary(base64) {\n    // base64 should have a + instead of a -\n    base64 = base64.replace(/-/g, '+');\n    const charCodes = stringToByteArray(atob(base64));\n    const bytesCount = charCodes.length;\n    let binary = new Array(bytesCount);\n    for (let i = 0, l = bytesCount; i < l; i++) {\n      binary[i] = unsignedIntegerToBinary(charCodes[i], BYTE_BIT_LENGTH);\n    }\n    binary = binary.join('');\n    return binary;\n  }\n\n  // Console output store\n  const logs = {\n    usedTypes: {},\n    typeLengths: {},\n    binarySamples: {}\n  };\n\n  /**\n   * An abstract base class for a ValueType value to and from binary string converter\n   */\n  class AbstractValueType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     */\n    constructor(options) {\n      Object.assign(this, options);\n      this.binaryTypeLength = this.binaryType.length;\n    }\n\n    /**\n     * Adds a record of the binary string production to the logging store\n     * @param {[Array|string]} binary\n     */\n    log(binary) {\n      const name = this.name;\n      logs.usedTypes[name] = logs.usedTypes[name] || 0;\n      logs.usedTypes[name]++;\n      logs.binarySamples[name] = logs.binarySamples[name] || [];\n      logs.binarySamples[name].push(binary);\n    }\n\n  };\n\n  /**\n   * Converts a fixed length positive integer to and from a binary string.\n   */\n  class FixedIntegerType extends AbstractValueType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.valueBinaryLength Bit length of the integer\n     */\n    constructor(options) {\n      super(options);\n      this.esType = 'number';\n      if (!this.valueBinaryLength) {\n        return;\n      }\n      this.minValue = options.minValue || 0;\n      this.maxValue = options.maxValue || Math.pow(2, this.valueBinaryLength) - 1;\n    }\n\n    /**\n     * Converts a fixed length positive integer to an array of binary strings\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      let binary = unsignedIntegerToBinary(integer, this.valueBinaryLength);\n      if (logStats) {\n        this.log(binary);\n      }\n      binary = [binary];\n      return binary;\n    }\n\n    /**\n     * Shifts a fixed length positive integer from the binary string, returning\n     * the integer and the next part of the binary string.\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let integer;\n      [integer, binary] = shiftUnsignedIntegerFromBinary(binary, this.valueBinaryLength);\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a boolean to and from a binary string\n   */\n  class FixedBooleanType extends FixedIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     */\n    constructor(options) {\n      options.valueBinaryLength = 1;\n      super(options);\n      this.esType = 'boolean';\n    }\n\n    /**\n     * Shifts a boolean from the binary string, returning\n     * the boolean and the next part of the binary string\n     * @param {string} binary\n     * @returns {[boolean, string]}\n     */\n    shiftValueFromBinary(binary) {\n      const bool = (binary[0] === '1');\n      binary = binary.slice(1);\n      return [bool, binary];\n    }\n\n  }\n\n  /**\n   * A helper for converting variable length positive integers to and from a binary string\n   */\n  class LengthAndValueBinary {\n\n    /**\n     * @param {string} parent The parent AbstractValueType\n     * @param {string} name The sub parent value part name \"integer\" or \"decimal\"\n     * @param {[number]} bitSizes An ordered array of expressible bit lengths\n     */\n    constructor(parent, name, bitSizes) {\n      this.parent = parent;\n      this.name = name;\n      this.bitSizes = bitSizes;\n      this.maxValues = _.flatten(this.bitSizes).map(value => (Math.pow(2, value) - 1));\n      this.maxValue = this.maxValues[this.maxValues.length - 1];\n      this.sizeBinaryLength = unsignedIntegerToBinary(this.bitSizes.length - 1).length;\n    }\n\n    /**\n     * Converts a positive integer to a binary string array\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      const parentName = this.parent.name;\n      const sizeIndex = this.maxValues.findIndex(maxValue => (integer <= maxValue));\n      if (sizeIndex === -1) {\n        throw new Error(`Value is too large for type: ${parentName} value: ${integer} max: ${this.maxValue}`);\n      }\n      const sizeBinary = unsignedIntegerToBinary(sizeIndex, this.sizeBinaryLength);\n      const valueLength = this.bitSizes[sizeIndex];\n      const name = this.name;\n      if (logStats) {\n        logs.typeLengths[parentName] = logs.typeLengths[parentName] || {};\n        logs.typeLengths[parentName][name] = logs.typeLengths[parentName][name] || {};\n        logs.typeLengths[parentName][name][valueLength] = logs.typeLengths[parentName][name][valueLength] || 0;\n        logs.typeLengths[parentName][name][valueLength]++;\n      }\n      const integerBinary = unsignedIntegerToBinary(integer, valueLength);\n      const binary = [sizeBinary, integerBinary];\n      return binary;\n    }\n\n    /**\n     * Shifts a positive integer from the binary string, returning\n     * the integer and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let sizeBinary;\n      [sizeBinary, binary] = shiftBinary(binary, this.sizeBinaryLength);\n      const sizeIndex = binaryToUnsignedInteger(sizeBinary);\n      const valueLength = this.bitSizes[sizeIndex];\n      let integer;\n      [integer, binary] = shiftUnsignedIntegerFromBinary(binary, valueLength);\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length positive or negative integer to and from a\n   * binary string\n   */\n  class VariableIntegerType extends FixedIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.minValue Minimum value for the integer\n     * @param {number} options.maxValue Maximum value for the integer\n     * @param {[number]} options.integerBitSizes Expressible storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.isNegative = (this.minValue < 0 && this.maxValue === 0);\n      this.integer = new LengthAndValueBinary(this, 'integer', options.integerBitSizes);\n    }\n\n    /**\n     * Converts a positive or negative integer to a array of binary strings\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      integer = integer.toFixed(0);\n      const binary = this.integer.valueToBinary(Math.abs(integer), logStats);\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts a positive or negative integer from the binary string, returning\n     * the integer and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let integer;\n      [integer, binary] = this.integer.shiftValueFromBinary(binary);\n      if (this.isNegative) {\n        integer = -integer;\n      }\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length array to and from a binary string\n   */\n  class VariableArrayType extends VariableIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {[number]} options.integerBitSizes Expressible storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.esType = 'array';\n    }\n\n    /**\n     * Converts an array to an array of binary strings\n     * @param {Array} array\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[Array|string]}\n     */\n    valueToBinary(array, logStats = null) {\n      const arrayLength = array.length;\n      const binary = super.valueToBinary(arrayLength);\n      if (arrayLength) {\n        const valueType = findValueTypeFromValues(array);\n        binary.push(valueType.binaryType);\n        binary.type = valueType.name;\n        binary.push(array.map(value => valueType.valueToBinary(value, logStats)));\n      }\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts an array from the binary string, returning\n     * the array and the next part of the binary string\n     * @param {string} binary\n     * @returns {[Array, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let arrayLength;\n      [arrayLength, binary] = super.shiftValueFromBinary(binary);\n      const value = new Array(arrayLength);\n      if (arrayLength) {\n        let valueType;\n        [valueType, binary] = shiftValueTypeFromBinary(binary);\n        for (let i = 0, l = arrayLength; i < l; i++) {\n          [value[i], binary] = valueType.shiftValueFromBinary(binary);\n        }\n      }\n      return [value, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length signed integer to and from a binary string\n   */\n  class VariableSignedIntegerType extends VariableIntegerType {\n\n    /**\n     * Converts a signed positive or negative integer to a binary string array\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      integer = integer.toFixed(0);\n      const isNegative = (integer < 0);\n      const signBinary = isNegative ? '1' : '0';\n      const integerBinary = this.integer.valueToBinary(Math.abs(integer), logStats);\n      const binary = [signBinary, integerBinary];\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts the first signed integer value from the binary string, returning\n     * the integer value and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let isNegative;\n      [isNegative, binary] = shiftUnsignedIntegerFromBinary(binary, 1);\n      let integer;\n      [integer, binary] = this.integer.shiftValueFromBinary(binary);\n      if (isNegative) {\n        integer = -integer;\n      }\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length 2 precision decimal to and from a binary string\n   */\n  class VariableDecimalType extends VariableIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.minValue Minimum value for the integer\n     * @param {number} options.maxValue Maximum value for the integer\n     * @param {[number]} options.integerBitSizes Expressible integer storage bit sizes\n     * @param {[number]} options.decimalBitSizes Expressible decimal storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.isFloat = true;\n      this.decimal = new LengthAndValueBinary(this, 'decimal', options.decimalBitSizes);\n    }\n\n    /**\n     * Converts a signed 2 precision decimal to an array of binary strings\n     * @param {number} float\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(float, logStats = null) {\n      float = float.toFixed(2);\n      const isNegative = (float < 0);\n      float = Math.abs(float);\n      const parts = String(float).split('.');\n      const higherInteger = parseInt(parts[0]);\n      const lowerInteger = parseInt(zeroPadRightToLength(parts[1] || 0, 2));\n      const signBinary = isNegative ? '1' : '0';\n      const integerValueBinary = this.integer.valueToBinary(higherInteger, logStats);\n      const decimalValueBinary = this.decimal.valueToBinary(lowerInteger, logStats);\n      const binary = [signBinary, integerValueBinary, decimalValueBinary];\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts the first signed 2 precision decimal value from the binary string,\n     * returning the decimal value and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let isNegative;\n      [isNegative, binary] = shiftUnsignedIntegerFromBinary(binary, 1);\n      let higherInteger;\n      [higherInteger, binary] = this.integer.shiftValueFromBinary(binary);\n      let lowerInteger;\n      [lowerInteger, binary] = this.decimal.shiftValueFromBinary(binary);\n      lowerInteger = zeroPadLeftToLength(String(lowerInteger), 2);\n      let float = parseFloat(higherInteger + '.' + lowerInteger);\n      if (isNegative) {\n        float = -float;\n      }\n      return [float, binary];\n    }\n\n  }\n\n  const arrayType = new VariableArrayType({\n    name: 'array',\n    binaryType: '10',\n    integerBitSizes: [4, 16]\n  });\n\n  const booleanType = new FixedBooleanType({\n    name: 'boolean',\n    binaryType: '0'\n  });\n\n  /**\n   * @type {[FixedIntegerType|VariableIntegerType]}\n   */\n  const integerTypes = [\n    new FixedIntegerType({\n      name: 'uint3',\n      binaryType: '1110',\n      valueBinaryLength: 3\n    }),\n    new VariableIntegerType({\n      name: 'vint8+',\n      binaryType: '110',\n      minValue: 0,\n      maxValue: 255,\n      integerBitSizes: [2, 8]\n    }),\n    new VariableIntegerType({\n      name: 'vint8-',\n      binaryType: '111100',\n      minValue: -255,\n      maxValue: 0,\n      integerBitSizes: [2, 8]\n    }),\n    new VariableSignedIntegerType({\n      name: 'sint32',\n      binaryType: '111110',\n      minValue: -4294967295,\n      maxValue: 4294967295,\n      integerBitSizes: [2, 4, 16, 32]\n    })\n  ];\n\n  /**\n   * @type {[VariableDecimalType]}\n   */\n  const decimalTypes = [\n    new VariableDecimalType({\n      name: 'sdec15',\n      binaryType: '111101',\n      minValue: -255.99,\n      maxValue: 255.99,\n      integerBitSizes: [2, 8],\n      decimalBitSizes: [0, 7]\n    }),\n    new VariableDecimalType({\n      name: 'sdec39',\n      binaryType: '111111',\n      minValue: -4294967295.99,\n      maxValue: 4294967295.99,\n      integerBitSizes: [2, 4, 16, 32],\n      decimalBitSizes: [0, 7]\n    })\n  ];\n\n  // Store and index all of the value types for searching by binaryType and name\n  const ValueTypes = [booleanType, arrayType].concat(integerTypes).concat(decimalTypes);\n  ValueTypes.nameIndex = {};\n  ValueTypes.forEach(valueType => (ValueTypes.nameIndex[valueType.name] = valueType));\n\n  /**\n   * Extends the native typeof keyword with array and null\n   * @param {*} value\n   * @returns {string} \"undefined\"|\"null\"|\"boolean\"|\"number\"|\"array\"|\"object\"\n   */\n  function esTypeOf(value) {\n    if (Array.isArray(value)) {\n      return 'array';\n    }\n    if (value === null) {\n      return 'null';\n    }\n    return typeof value;\n  }\n\n  /**\n   * Returns matching ValueType for the given name\n   * @param {string} name\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromName(name) {\n    return ValueTypes.nameIndex[name.toLowerCase()];\n  }\n\n  /**\n   * Returns matching ValueType for the given value\n   * @param {number|boolean|Array} value\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromValue(value) {\n    const esType = esTypeOf(value);\n    switch (esType) {\n      case 'array':\n        return arrayType;\n      case 'boolean':\n        return booleanType;\n    }\n    value = value.toFixed(2);\n    const isFloat = !Number.isInteger(value);\n    const isValueInValueTypeRange = valueType => (value >= valueType.minValue && value <= valueType.maxValue);\n    const valueType = isFloat ?\n      decimalTypes.find(isValueInValueTypeRange) :\n      integerTypes.find(isValueInValueTypeRange);\n    if (!valueType) {\n      throw new Error(`Cannot find type from value: ${value}`);\n    }\n    return valueType;\n  }\n\n  /**\n   * Returns a common ValueType for an array of values\n   * @param {Array} values\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromValues(values) {\n    if (!values.length) {\n      return;\n    }\n    let minValue = 0;\n    let maxValue = 0;\n    let isFloat = false;\n    const esTypes = values.map(value => {\n      const valueType = findValueTypeFromValue(value, isFloat);\n      if (valueType.esType === 'number') {\n        minValue = Math.min(value, minValue);\n        maxValue = Math.max(value, maxValue);\n        isFloat = isFloat || !Number.isInteger(value);\n      }\n      return valueType.esType;\n    });\n    const uniqESTypes = [...new Set(esTypes)];\n    if (uniqESTypes.length > 1) {\n      throw new Error(`Cannot resolve array to one type: ${uniqESTypes.join()}`);\n    }\n    const esType = uniqESTypes[0];\n    switch (esType) {\n      case 'array':\n        return arrayType;\n      case 'boolean':\n        return booleanType;\n    }\n    const isRangeInValueTypeRange = valueType => (minValue >= valueType.minValue && maxValue <= valueType.maxValue);\n    const valueType = isFloat ?\n      decimalTypes.find(isRangeInValueTypeRange) :\n      integerTypes.find(isRangeInValueTypeRange);\n    if (!valueType) {\n      throw new Error(`Cannot find type from value. min: ${minValue} max: ${maxValue} isfloat: ${isFloat}`);\n    }\n    return valueType;\n  }\n\n  /**\n   * Shifts the first value type representation from the binary string, returning\n   * the the ValueType found and next part of the binary string\n   * @param {string} binary\n   * @returns {[AbstractValueType, string]}\n   */\n  function shiftValueTypeFromBinary(binary) {\n    const valueType = ValueTypes.find(valueType => {\n      const binaryType = binary.slice(0, valueType.binaryTypeLength);\n      return (binaryType === valueType.binaryType);\n    });\n    if (!valueType) {\n      throw new Error(`Cannot find type from binary: ${binary.slice(0, 6)}...`);\n    }\n    binary = binary.slice(valueType.binaryTypeLength);\n    return [valueType, binary];\n  }\n\n  /**\n   * Sanitize the input throwing errors on any incorrect variable types whilst\n   * cloning the input arrays\n   * @param {number|boolean|Array} value\n   * @returns {number|boolean|Array}\n   */\n  function convertValuesToNumbers(value) {\n    const esType = esTypeOf(value);\n    switch (esType) {\n      case 'array':\n        return value.map(convertValuesToNumbers);\n      case 'undefined':\n      case 'null':\n        return (value ? 1 : 0);\n      case 'boolean':\n      case 'number':\n        return value;\n    }\n    throw new Error(`Cannot convert ${esType} to number`);\n  }\n\n  /**\n   * Main API\n   */\n  class Converter {\n\n    /**\n     * Checks the given value for conversion errors and returns the error\n     * @param {string|number|Array} value\n     * @returns {undefined|Error}\n     */\n    getInvalidTypeError(value) {\n      try {\n        value = convertValuesToNumbers(value);\n        (esTypeOf(value) === 'array') ?\n          findValueTypeFromValues(value) :\n          findValueTypeFromValue(value);\n        return;\n      } catch (err) {\n        return err;\n      }\n    }\n\n    /**\n     * Convert an array, boolean or number into a string binary representation\n     * @param {number|boolean|Array} value\n     * @param {string} [typeName] To force an internal data type for testing\n     * @param {boolean} [logStats] Console logs statistics on type use\n     * @returns {string}\n     */\n    valueToBinary(value, typeName = null, logStats = null) {\n      this.clearLog();\n      const hasInitialType = (typeof typeName === 'string');\n      value = convertValuesToNumbers(value);\n      const valueType = hasInitialType ?\n        findValueTypeFromName(typeName) :\n        findValueTypeFromValue(value);\n      if (!valueType) {\n        throw new Error(`Could not find value type from ${hasInitialType ? `name ${typeName}` : `value ${value}`} accepts: ${Object.keys(ValueTypes.nameIndex)}. Leave typeName empty for auto-detect.`);\n      }\n      const binary = valueType.valueToBinary(value, logStats);\n      if (!hasInitialType) {\n        binary.unshift(valueType.binaryType);\n      }\n      if (logStats) {\n        this.printLog();\n      }\n      return binary;\n    }\n\n    /**\n     * Convert the string binary representation back into an array, boolean or number\n     * @param {string} binary A string binary representation of data from valueToBinary\n     * @param {string} [typeName] To force an internal data type for testing\n     * @returns {number|boolean|Array}\n     */\n    valueFromBinary(binary, typeName = null) {\n      binary = _.flatten(binary).join('');\n      const hasInitialType = typeof typeName === 'string';\n      let valueType;\n      if (hasInitialType) {\n        valueType = findValueTypeFromName(typeName);\n      } else {\n        [valueType, binary] = shiftValueTypeFromBinary(binary);\n      }\n      if (!valueType || !(valueType instanceof AbstractValueType)) {\n        throw new Error(`Could not find value type from ${hasInitialType ? `name \"${typeName}\"` : `binary \"${binary.slice(0, 8)}\"...`} accepts: ${Object.keys(ValueTypes.nameIndex)}. Leave typeName empty for auto-detect.`);\n      }\n      const [value] = valueType.shiftValueFromBinary(binary);\n      return value;\n    }\n\n    /**\n     * Clears any previous logs\n     */\n    clearLog() {\n      logs.usedTypes = {};\n      logs.typeLengths = {};\n      logs.binarySamples = {};\n    }\n\n    /**\n     * Prints logs from last run\n     */\n    printLog() {\n      console.log('Types used count:', logs.usedTypes);\n      console.log('Type lengths used count:', logs.typeLengths);\n      console.log('Type binary samples:', logs.binarySamples);\n    }\n\n    /**\n     * Convert an array, boolean or number into a base64 string\n     * @param {number|boolean|Array} value\n     * @param {string} [typeName] To force an internal data type for testing\n     * @param {boolean} [logStats] Console logs statistics on type use\n     * @returns {string}\n     */\n    serialize(value, typeName = null, logStats = null) {\n      const binary = this.valueToBinary(value, typeName, logStats);\n      const base64 = binaryToBase64(binary);\n      return base64;\n    }\n\n    /**\n     * Convert an array, boolean or number into a base64 string, asynchronously\n     * @param {number|boolean|Array} value\n     * @returns {string}\n     */\n    async serializeAsync(value, typeName = null, logStats = null) {\n      const binary = this.valueToBinary(value, null, null);\n      const base64 = binaryToBase64(binary);\n      const isLargeArray = (Array.isArray(value) && value.length > 10);\n      if (isLargeArray) {\n        return new Promise(resolve => {\n          LZMAWorker.compress(JSON.stringify(value), 1, data => {\n            const compressedBase64 = `#${window.btoa(data.map(i => String.fromCharCode(i + 128)).join('')).replace(/=/g, '')}`;\n            const isCompressedSmaller = (compressedBase64.length < base64.length);\n            if (isCompressedSmaller) return resolve(compressedBase64);\n            return resolve(base64);\n          });\n        });\n      }\n      return base64;\n    }\n\n    /**\n     * Convert the base64 string back into an array, boolean or number\n     * @param {string} base64 A string representation of data from serialize\n     * @param {string} [typeName] To force an internal data type for testing\n     * @returns {number|boolean|Array}\n     */\n    deserialize(base64, typeName = null) {\n      const isLZMACompressed = (base64[0] === '#');\n      if (isLZMACompressed) return JSON.parse(window.LZMA.decompress(window.atob(base64.slice(1)).split('').map(c => c.charCodeAt(0) - 128)));\n      const binary = base64ToBinary(base64);\n      const value = this.valueFromBinary(binary, typeName);\n      return value;\n    }\n\n  }\n\n  return (window.SCORMSuspendData = new Converter());\n});\n","import Adapt from 'core/js/adapt';\nimport log from 'core/js/logging';\nimport SCORMSuspendData from './SCORMSuspendData';\n\nexport default class ComponentSerializer extends Backbone.Controller {\n\n  initialize(trackingIdType, shouldCompress) {\n    this.trackingIdType = trackingIdType;\n    this.shouldCompress = shouldCompress;\n  }\n\n  async serialize(shouldStoreResponses, shouldStoreAttempts) {\n    if (shouldStoreAttempts && !shouldStoreResponses) {\n      log.warnOnce('SPOOR configuration error, cannot use \\'_shouldStoreAttempts\\' without \\'_shouldStoreResponses\\'');\n    }\n    const states = [];\n    Adapt.data.each(model => {\n      if (model.get('_type') !== this.trackingIdType) {\n        return;\n      }\n      const trackingId = model.get('_trackingId');\n      if (typeof trackingId === 'undefined') {\n        return;\n      }\n      const isContainer = model.hasManagedChildren;\n      const components = isContainer ?\n        model.findDescendantModels('component') :\n        [model];\n      components.forEach((component, index) => {\n        if (component.get('_isTrackable') === false) {\n          return;\n        }\n        if (!shouldStoreResponses) {\n          // Store only component completion\n          const state = [\n            [ trackingId, index ],\n            [ component.get('_isComplete') ]\n          ];\n          states.push(state);\n          return;\n        }\n        let modelState = null;\n        if (!component.getAttemptState) {\n          // Legacy components without getAttemptState API\n          modelState = component.get('_isQuestionType') ?\n            [\n              [\n                component.get('_score') || 0,\n                component.get('_attemptsLeft') || 0\n              ],\n              [\n                component.get('_isComplete') || false,\n                component.get('_isInteractionComplete') || false,\n                component.get('_isSubmitted') || false,\n                component.get('_isCorrect') || false\n              ],\n              [\n                component.get('_userAnswer')\n              ]\n            ] :\n            [\n              [],\n              [\n                component.get('_isComplete') || false,\n                component.get('_isInteractionComplete') || false\n              ],\n              [\n                component.get('_userAnswer')\n              ]\n            ];\n        } else {\n          modelState = component.getAttemptState();\n        }\n        // Correct the _userAnswer array as it is sometimes not an array\n        // incomplete components are undefined and slider is a number\n        const userAnswer = modelState[2][0];\n        const hasUserAnswer = typeof userAnswer !== 'undefined' && userAnswer !== null;\n        const isUserAnswerArray = Array.isArray(userAnswer);\n        if (!hasUserAnswer) {\n          modelState[2][0] = [];\n        } else if (!isUserAnswerArray) {\n          modelState[2][0] = [modelState[2][0]];\n        }\n        // _attemptStates is empty if not a question or not attempted\n        const attemptStates = component.get('_attemptStates');\n        const hasAttemptStates = shouldStoreAttempts && Array.isArray(attemptStates);\n        if (hasAttemptStates) {\n          modelState[2][1] = attemptStates;\n        }\n        // Create the restoration state object\n        const state = [\n          [ trackingId, index ],\n          [ hasUserAnswer, isUserAnswerArray, hasAttemptStates ],\n          modelState\n        ];\n        states.push(state);\n      });\n    });\n    if (this.shouldCompress) return await SCORMSuspendData.serializeAsync(states);\n    return SCORMSuspendData.serialize(states)\n  }\n\n  deserialize(binary) {\n    // Build a table of models and their tracking ids\n    const trackingIdMap = Adapt.data.toArray().reduce((trackingIdMap, model) => {\n      const trackingId = model.get('_trackingId');\n      if (typeof trackingId === 'undefined') return trackingIdMap;\n      trackingIdMap[trackingId] = model;\n      return trackingIdMap;\n    }, {});\n    const states = SCORMSuspendData.deserialize(binary);\n    // Derive the storage settings of the data from the states array, this will allow changes\n    // in the spoor configuration for _shouldStoreResponses and _shouldStoreAttempts\n    // to be non-breaking\n    const shouldStoreResponses = (states[0].length > 2);\n    states.forEach(state => {\n      const [ trackingId, index ] = state[0];\n      const model = trackingIdMap[trackingId];\n      if (!model) {\n        // Ignore any recently missing tracking ids if a course has been updated\n        return;\n      }\n      const isContainer = model.hasManagedChildren;\n      const components = isContainer ?\n        model.findDescendantModels('component') :\n        [model];\n      const component = components[index];\n      if (!component) {\n        log.warn(`SPOOR could not restore tracking id: ${trackingId}, index: ${index}`);\n        return;\n      }\n      if (!shouldStoreResponses) {\n        // Restore only component completion\n        const isComplete = state[1][0];\n        component.set('_isComplete', isComplete);\n        return;\n      }\n      const [ hasUserAnswer, isUserAnswerArray, hasAttemptStates ] = state[1];\n      const modelState = state[2];\n      // Correct the _userAnswer value if it wasn't an array originally\n      if (!hasUserAnswer) {\n        modelState[2][0] = null;\n      } else if (!isUserAnswerArray) {\n        modelState[2][0] = modelState[2][0][0];\n      }\n      // Allow empty _attemptStates\n      if (!hasAttemptStates) {\n        modelState[2][1] = null;\n      }\n      if (component.setAttemptObject) {\n        // Restore component state with setAttemptObject API\n        component.set('_attemptStates', modelState[2][1]);\n        const attemptObject = component.getAttemptObject(modelState);\n        component.setAttemptObject(attemptObject, false);\n        return;\n      }\n      // Legacy components without getAttemptState\n      component.get('_isQuestionType') ?\n        component.set({\n          _score: modelState[0][0],\n          _attemptsLeft: modelState[0][1],\n          _isComplete: modelState[1][0],\n          _isInteractionComplete: modelState[1][1],\n          _isSubmitted: modelState[1][2],\n          _isCorrect: modelState[1][3],\n          _userAnswer: modelState[2][0],\n          _attemptStates: modelState[2][1]\n        }) :\n        component.set({\n          _isComplete: modelState[1][0],\n          _isInteractionComplete: modelState[1][1],\n          _userAnswer: modelState[2][0],\n          _attemptStates: modelState[2][1]\n        });\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport COMPLETION_STATE from 'core/js/enums/completionStateEnum';\nimport ComponentSerializer from './serializers/ComponentSerializer';\nimport SCORMSuspendData from './serializers/SCORMSuspendData';\n\nexport default class StatefulSession extends Backbone.Controller {\n\n  initialize() {\n    _.bindAll(this, 'beginSession', 'onVisibilityChange', 'endSession');\n    this.scorm = ScormWrapper.getInstance();\n    this._trackingIdType = 'block';\n    this._componentSerializer = null;\n    this._shouldCompress = false;\n    this._shouldStoreResponses = true;\n    this._shouldStoreAttempts = false;\n    this._shouldRecordInteractions = true;\n    this.beginSession();\n  }\n\n  beginSession() {\n    this.listenTo(Adapt, 'app:dataReady', this.restoreSession);\n    this._trackingIdType = Adapt.build.get('trackingIdType') || 'block';\n    // suppress SCORM errors if 'nolmserrors' is found in the querystring\n    if (window.location.search.indexOf('nolmserrors') !== -1) {\n      this.scorm.suppressErrors = true;\n    }\n    const config = Adapt.spoor.config;\n    if (!config) return;\n    const tracking = config._tracking;\n    this._shouldStoreResponses = (tracking && tracking._shouldStoreResponses) || false;\n    this._shouldStoreAttempts = (tracking && tracking._shouldStoreAttempts) || false;\n    this._shouldCompress = (tracking && tracking._shouldCompress) || false;\n    this._componentSerializer = new ComponentSerializer(this._trackingIdType, this._shouldCompress);\n    // Default should be to record interactions, so only avoid doing that if\n    // _shouldRecordInteractions is set to false\n    if (tracking?._shouldRecordInteractions === false) {\n      this._shouldRecordInteractions = false;\n    }\n    const settings = config._advancedSettings;\n    if (!settings) {\n      // force use of SCORM 1.2 by default - some LMSes (SABA/Kallidus for instance)\n      // present both APIs to the SCO and, if given the choice, the pipwerks\n      // code will automatically select the SCORM 2004 API - which can lead to\n      // unexpected behaviour.\n      this.scorm.setVersion('1.2');\n      this.scorm.initialize();\n      return;\n    }\n    if (settings._showDebugWindow) {\n      this.scorm.showDebugWindow();\n    }\n    this.scorm.setVersion(settings._scormVersion || '1.2');\n    if (_.isBoolean(settings._suppressErrors)) {\n      this.scorm.suppressErrors = settings._suppressErrors;\n    }\n    if (_.isBoolean(settings._commitOnStatusChange)) {\n      this.scorm.commitOnStatusChange = settings._commitOnStatusChange;\n    }\n    if (_.isBoolean(settings._commitOnAnyChange)) {\n      this.scorm.commitOnAnyChange = settings._commitOnAnyChange;\n    }\n    if (_.isFinite(settings._timedCommitFrequency)) {\n      this.scorm.timedCommitFrequency = settings._timedCommitFrequency;\n    }\n    if (_.isFinite(settings._maxCommitRetries)) {\n      this.scorm.maxCommitRetries = settings._maxCommitRetries;\n    }\n    if (_.isFinite(settings._commitRetryDelay)) {\n      this.scorm.commitRetryDelay = settings._commitRetryDelay;\n    }\n    if ('_exitStateIfIncomplete' in settings) {\n      this.scorm.exitStateIfIncomplete = settings._exitStateIfIncomplete;\n    }\n    if ('_exitStateIfComplete' in settings) {\n      this.scorm.exitStateIfComplete = settings._exitStateIfComplete;\n    }\n    this.scorm.initialize();\n  }\n\n  restoreSession() {\n    this.setupLearnerInfo();\n    this.restoreSessionState();\n    // defer call because AdaptModel.check*Status functions are asynchronous\n    _.defer(this.setupEventListeners.bind(this));\n  }\n\n  setupLearnerInfo() {\n    // Replace the hard-coded _learnerInfo data in _globals with the actual data\n    // from the LMS\n    // If the course has been published from the AT, the _learnerInfo object\n    // won't exist so we'll need to create it\n    const globals = Adapt.course.get('_globals');\n    if (!globals._learnerInfo) {\n      globals._learnerInfo = {};\n    }\n    Object.assign(globals._learnerInfo, Adapt.offlineStorage.get('learnerinfo'));\n  }\n\n  restoreSessionState() {\n    const sessionPairs = Adapt.offlineStorage.get();\n    const hasNoPairs = !Object.keys(sessionPairs).length;\n    if (hasNoPairs) return;\n    if (sessionPairs.c) {\n      const [ _isComplete, _isAssessmentPassed ] = SCORMSuspendData.deserialize(sessionPairs.c);\n      Adapt.course.set({\n        _isComplete,\n        _isAssessmentPassed\n      });\n    }\n    if (!sessionPairs.q) return;\n    this._componentSerializer?.deserialize(sessionPairs.q);\n  }\n\n  setupEventListeners() {\n    this.debouncedSaveSession = _.debounce(this.saveSessionState.bind(this), 1);\n    this.listenTo(Adapt.components, 'change:_isComplete', this.debouncedSaveSession);\n    this.listenTo(Adapt.course, 'change:_isComplete', this.debouncedSaveSession);\n    if (this._shouldStoreResponses) {\n      this.listenTo(Adapt.data, 'change:_isSubmitted change:_userAnswer', this.debouncedSaveSession);\n    }\n    this.listenTo(Adapt, {\n      'app:languageChanged': this.onLanguageChanged,\n      'questionView:recordInteraction': this.onQuestionRecordInteraction,\n      'tracking:complete': this.onTrackingComplete\n    });\n    const config = Adapt.spoor.config;\n    const advancedSettings = config._advancedSettings;\n    const shouldCommitOnVisibilityChange = (!advancedSettings ||\n        advancedSettings._commitOnVisibilityChangeHidden !== false);\n    if (shouldCommitOnVisibilityChange) {\n      document.addEventListener('visibilitychange', this.onVisibilityChange);\n    }\n    $(window).on('beforeunload unload', this.endSession);\n  }\n\n  async saveSessionState() {\n    const isMidRender = !Adapt.parentView?.model.get('_isReady');\n    // Wait until finished rendering to save\n    if (isMidRender) return this.debouncedSaveSession();\n    const courseState = SCORMSuspendData.serialize([\n      Boolean(Adapt.course.get('_isComplete')),\n      Boolean(Adapt.course.get('_isAssessmentPassed'))\n    ]);\n    const componentStates = await this._componentSerializer?.serialize(this._shouldStoreResponses, this._shouldStoreAttempts);\n    const sessionPairs = {\n      c: courseState,\n      q: componentStates\n    };\n    Adapt.offlineStorage.set(sessionPairs);\n    this.printCompletionInformation(sessionPairs);\n  }\n\n  printCompletionInformation(suspendData) {\n    if (typeof suspendData === 'string') {\n      // In-case LMS data is passed as a string\n      suspendData = JSON.parse(suspendData);\n    }\n    const courseState = SCORMSuspendData.deserialize(suspendData.c);\n    const courseComplete = courseState[0];\n    const assessmentPassed = courseState[1];\n    const trackingIdModels = Adapt.data.filter(model => model.get('_type') === this._trackingIdType && model.has('_trackingId'));\n    const trackingIds = trackingIdModels.map(model => model.get('_trackingId'));\n    if (!trackingIds.length) {\n      Adapt.log.info(`course._isComplete: ${courseComplete}, course._isAssessmentPassed: ${assessmentPassed}, ${this._trackingIdType} completion: no tracking ids found`);\n      return;\n    }\n    const data = SCORMSuspendData.deserialize(suspendData.q);\n    const max = Math.max(...data.map(item => item[0][0]));\n    const shouldStoreResponses = (data[0].length === 3);\n    const completionString = data.reduce((markers, item) => {\n      const trackingId = item[0][0];\n      const isComplete = shouldStoreResponses ?\n        item[2][1][0] :\n        item[1][0];\n      const mark = isComplete ? '1' : '0';\n      markers[trackingId] = (markers[trackingId] === '-' || markers[trackingId] === '1') ?\n        mark :\n        '0';\n      return markers;\n    }, (new Array(max + 1).join('-').split(''))).join('');\n    Adapt.log.info(`course._isComplete: ${courseComplete}, course._isAssessmentPassed: ${assessmentPassed}, ${this._trackingIdType} completion: ${completionString}`);\n  }\n\n  onLanguageChanged() {\n    // when the user switches language, we need to:\n    // - reattach the event listeners as the language change triggers a reload of\n    //   the json, which will create brand new collections\n    // - get and save a fresh copy of the session state. as the json has been reloaded,\n    //   the blocks completion data will be reset (the user is warned that this will\n    //   happen by the language picker extension)\n    // - check to see if the config requires that the lesson_status be reset to\n    //   'incomplete'\n    const config = Adapt.spoor.config;\n    this.removeEventListeners();\n    this.setupEventListeners();\n    this.saveSessionState();\n    if (config?._reporting?._resetStatusOnLanguageChange !== true) return;\n    Adapt.offlineStorage.set('status', 'incomplete');\n  }\n\n  onVisibilityChange() {\n    if (document.visibilityState === 'hidden') this.scorm.commit();\n  }\n\n  onQuestionRecordInteraction(questionView) {\n    if (!this._shouldRecordInteractions) return;\n    const responseType = questionView.getResponseType();\n    // If responseType doesn't contain any data, assume that the question\n    // component hasn't been set up for cmi.interaction tracking\n    if (_.isEmpty(responseType)) return;\n    const id = questionView.model.get('_id');\n    const response = questionView.getResponse();\n    const result = questionView.isCorrect();\n    const latency = questionView.getLatency();\n    Adapt.offlineStorage.set('interaction', id, response, result, latency, responseType);\n  }\n\n  onTrackingComplete(completionData) {\n    const config = Adapt.spoor.config;\n    this.saveSessionState();\n    let completionStatus = completionData.status.asLowerCase;\n    // The config allows the user to override the completion state.\n    switch (completionData.status) {\n      case COMPLETION_STATE.COMPLETED:\n      case COMPLETION_STATE.PASSED: {\n        if (!config?._reporting?._onTrackingCriteriaMet) {\n          Adapt.log.warn(`No value defined for '_onTrackingCriteriaMet', so defaulting to '${completionStatus}'`);\n        } else {\n          completionStatus = config._reporting._onTrackingCriteriaMet;\n        }\n\n        break;\n      }\n      case COMPLETION_STATE.FAILED: {\n        if (!config?._reporting?._onAssessmentFailure) {\n          Adapt.log.warn(`No value defined for '_onAssessmentFailure', so defaulting to '${completionStatus}'`);\n        } else {\n          completionStatus = config._reporting._onAssessmentFailure;\n        }\n      }\n    }\n    Adapt.offlineStorage.set('status', completionStatus);\n  }\n\n  endSession() {\n    if (!this.scorm.finishCalled) {\n      this.scorm.finish();\n    }\n    this.removeEventListeners();\n  }\n\n  removeEventListeners() {\n    $(window).off('beforeunload unload', this.endSession);\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n    this.stopListening();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport SCORMSuspendData from './serializers/SCORMSuspendData';\nimport OfflineStorage from 'core/js/offlineStorage';\n\n/**\n * SCORM handler for Adapt.offlineStorage interface.\n */\nexport default class OfflineStorageScorm extends Backbone.Controller {\n\n  initialize(statefulSession) {\n    this.offlineStorage = OfflineStorage;\n    this.scorm = ScormWrapper.getInstance();\n    this.statefulSession = statefulSession;\n    this.temporaryStore = {};\n    this.suspendDataStore = {};\n    this.suspendDataRestored = false;\n    Adapt.offlineStorage.initialize(this);\n  }\n\n  save() {\n    this.statefulSession.saveSessionState();\n    this.scorm.commit();\n  }\n\n  serialize(...args) {\n    return SCORMSuspendData.serialize(...args);\n  }\n\n  deserialize(...args) {\n    return SCORMSuspendData.deserialize(...args);\n  }\n\n  get(name) {\n    if (name === undefined) {\n      // If not connected return just temporary store.\n      if (this.useTemporaryStore()) return this.temporaryStore;\n\n      // Get all values as a combined object\n      this.suspendDataStore = this.getCustomStates();\n\n      const data = Object.assign(_.clone(this.suspendDataStore), {\n        location: this.scorm.getLessonLocation(),\n        score: this.scorm.getScore(),\n        status: this.scorm.getStatus(),\n        student: this.scorm.getStudentName(),\n        learnerInfo: this.getLearnerInfo()\n      });\n\n      this.suspendDataRestored = true;\n\n      return data;\n    }\n\n    // If not connected return just temporary store value.\n    if (this.useTemporaryStore()) return this.temporaryStore[name];\n\n    // Get by name\n    let courseState;\n    switch (name.toLowerCase()) {\n      case 'location':\n        return this.scorm.getLessonLocation();\n      case 'score':\n        return this.scorm.getScore();\n      case 'status':\n        return this.scorm.getStatus();\n      case 'student':\n        // for backwards-compatibility. learnerInfo is preferred now and will\n        // give you more information\n        return this.scorm.getStudentName();\n      case 'learnerinfo':\n        return this.getLearnerInfo();\n      case 'coursestate': {\n        courseState = this.getCustomState('c');\n        const stateArray = (courseState && SCORMSuspendData.deserialize(courseState)) || [];\n        return {\n          _isCourseComplete: Boolean(stateArray.slice(0, 1).map(Number)[0]),\n          _isAssessmentPassed: Boolean(stateArray.slice(1, 2).map(Number)[0]),\n          completion: stateArray.slice(2).map(Number).map(String).join('') || ''\n        };\n      }\n      case 'completion':\n        courseState = this.getCustomState('c');\n        return (courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(2)\n          .map(Number)\n          .map(String)\n          .join('')) || '';\n      case '_iscoursecomplete':\n        courseState = this.getCustomState('c');\n        return Boolean(courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(0, 1)\n          .map(Number)[0]);\n      case '_isassessmentpassed':\n        courseState = this.getCustomState('c');\n        return Boolean(courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(1, 2)\n          .map(Number)[0]);\n      case 'questions': {\n        const questionsState = this.getCustomState('q');\n        return questionsState || '';\n      }\n      default:\n        return this.getCustomState(name);\n    }\n  }\n\n  set(name, value) {\n    // Convert arguments to array and drop the 'name' parameter\n    const args = [...arguments].slice(1);\n    const isObject = typeof name === 'object';\n\n    if (isObject) {\n      value = name;\n      name = 'suspendData';\n    }\n\n    if (this.useTemporaryStore()) {\n      if (isObject) {\n        Object.assign(this.temporaryStore, value);\n      } else {\n        this.temporaryStore[name] = value;\n      }\n\n      return true;\n    }\n\n    switch (name.toLowerCase()) {\n      case 'interaction':\n        return this.scorm.recordInteraction(...args);\n      case 'location':\n        return this.scorm.setLessonLocation(...args);\n      case 'score':\n        return this.scorm.setScore(...args);\n      case 'status':\n        return this.scorm.setStatus(...args);\n      case 'student':\n      case 'learnerinfo':\n        return false;// these properties are read-only\n      case 'lang':\n        this.scorm.setLanguage(value);\n        // fall-through so that lang gets stored in suspend_data as well:\n        // because in SCORM 1.2 cmi.student_preference.language is an optional\n        // data element so we can't rely on the LMS having support for it.\n        // If it does support it we may as well save the user's choice there\n        // purely for reporting purposes\n        break;\n      case 'suspenddata':\n        break;\n    }\n\n    if (isObject) {\n      Object.assign(this.suspendDataStore, value);\n    } else {\n      this.suspendDataStore[name] = value;\n    }\n\n    const dataAsString = JSON.stringify(this.suspendDataStore);\n    return (this.suspendDataRestored) ? this.scorm.setSuspendData(dataAsString) : false;\n  }\n\n  getCustomStates() {\n    const isSuspendDataStoreEmpty = _.isEmpty(this.suspendDataStore);\n    if (!isSuspendDataStoreEmpty && this.suspendDataRestored) {\n      return _.clone(this.suspendDataStore);\n    }\n\n    const dataAsString = this.scorm.getSuspendData();\n    if (dataAsString === '' || dataAsString === ' ' || dataAsString === undefined) {\n      return {};\n    }\n\n    const dataAsJSON = JSON.parse(dataAsString);\n    if (!isSuspendDataStoreEmpty && !this.suspendDataRestored) {\n      Object.assign(dataAsJSON, this.suspendDataStore);\n    }\n    return dataAsJSON;\n  }\n\n  getCustomState(name) {\n    const dataAsJSON = this.getCustomStates();\n    return dataAsJSON[name];\n  }\n\n  useTemporaryStore() {\n    const cfg = Adapt.config.get('_spoor');\n\n    if (!this.scorm.lmsConnected || (cfg?._isEnabled === false)) return true;\n    return false;\n  }\n\n  /**\n   * Returns an object with the properties:\n   * - id (cmi.core.student_id)\n   * - name (cmi.core.student_name - which is usually in the format\n   *    'Lastname, Firstname' or 'Firstname Lastname' - but it sometimes doesn't\n   *    have the space after the comma\n   *   )\n   * - firstname\n   * - lastname\n   */\n  getLearnerInfo() {\n    const id = this.scorm.getStudentId();\n\n    let name = this.scorm.getStudentName();\n    let firstname = '';\n    let lastname = '';\n\n    let hasName = (name && name !== 'undefined');\n    const isNameCommaSeparated = hasName && name.includes(',');\n    const isNameSpaceSeparated = hasName && name.includes(' ');\n\n    // Name must have either a comma or a space\n    hasName = hasName && (isNameCommaSeparated || isNameSpaceSeparated);\n\n    if (!hasName) {\n      console.log('SPOOR: LMS learner_name not in \\'lastname, firstname\\' or \\'firstname lastname\\' format');\n      return { id, name, firstname, lastname };\n    }\n\n    const separator = isNameCommaSeparated ? ',' : ' ';\n    const nameParts = name.split(separator);\n    if (isNameCommaSeparated) {\n      // Assume lastname appears before the comma\n      nameParts.reverse();\n    }\n    [ firstname, lastname ] = nameParts.map(part => part.trim());\n    name = `${firstname} ${lastname}`;\n    return { id, name, firstname, lastname };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport StatefulSession from './adapt-stateful-session';\nimport OfflineStorage from './adapt-offlineStorage-scorm';\n\nclass Spoor extends Backbone.Controller {\n\n  initialize() {\n    this.config = null;\n    this.scorm = ScormWrapper.getInstance();\n    this.listenToOnce(Adapt, 'offlineStorage:prepare', this._prepare);\n  }\n\n  _prepare() {\n    this.config = Adapt.config.get('_spoor');\n    if (!this.isEnabled) {\n      Adapt.offlineStorage.setReadyStatus();\n      return;\n    }\n    this.statefulSession = new StatefulSession();\n    this.offlineStorage = new OfflineStorage(this.statefulSession);\n    // force offlineStorage-scorm to initialise suspendDataStore - this allows\n    // us to do things like store the user's chosen language before the rest\n    // of the course data loads\n    Adapt.offlineStorage.get();\n    Adapt.offlineStorage.setReadyStatus();\n    // setup debug window keyboard shortcut\n    require(['libraries/jquery.keycombo'], () => {\n      // listen for user holding 'd', 'e', 'v' keys together\n      $.onKeyCombo([68, 69, 86], () => {\n        Adapt.spoor.scorm.showDebugWindow();\n      });\n    });\n  }\n\n  get isEnabled() {\n    return (this.config && this.config._isEnabled);\n  }\n\n}\n\nAdapt.spoor = new Spoor();\n\nexport default Adapt.spoor;\n","import Adapt from 'core/js/adapt';\nimport data from 'core/js/data';\nimport logging from 'core/js/logging';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport CourseModel from 'core/js/models/courseModel';\n\n/**\n * Utility function for applying deep defaults\n * @param {Object} original\n * @param  {...Object} defaultObjects\n * @returns {Object} Returns original\n */\nexport function _deepDefaults(original, ...defaultObjects) {\n  defaultObjects.reverse();\n  defaultObjects.forEach(defaults => {\n    const keyValuePairs = Object.entries(defaults);\n    keyValuePairs.forEach(([ key, defaultValue ]) => {\n      const isRecursiveObject = (typeof defaultValue === 'object' && !Array.isArray(defaultValue) && defaultValue !== null);\n      if (isRecursiveObject) {\n        original[key] = _deepDefaults(original[key] || {}, defaultValue);\n        return;\n      }\n      const isValueAlreadySet = Object.prototype.hasOwnProperty.call(original, key);\n      if (isValueAlreadySet) return;\n      original[key] = defaultValue;\n    });\n  });\n  return original;\n}\n\nexport const configDefaults = {\n  _isEnabled: false,\n  _isInherited: false,\n  _autoScroll: true,\n  _scrollTo: '@block +1',\n  _onChildren: false,\n  _button: {\n    _isEnabled: true,\n    _isFullWidth: true,\n    _autoHide: false,\n    _hasIcon: false,\n    _styleBeforeCompletion: 'hidden',\n    _styleAfterClick: 'hidden',\n    _component: 'trickle-button',\n    _className: '',\n    text: 'Continue',\n    ariaLabel: '',\n    startText: '',\n    startAriaLabel: '',\n    finalText: '',\n    finalAriaLabel: ''\n  },\n  _stepLocking: {\n    _isEnabled: true,\n    _isCompletionRequired: true,\n    _isLockedOnRevisit: false\n  }\n};\n\n/**\n * @param {Backbone.Model} model\n * @returns {Boolean}\n */\nexport function isModelArticleWithOnChildren(model) {\n  const type = model.get('_type');\n  const trickleConfig = model.get('_trickle');\n  return (type === 'article' && trickleConfig && trickleConfig._onChildren !== false);\n}\n\n/**\n * Get the default trickle configuration for the given model\n * @param {Backbone.Model} model\n */\nexport function getModelConfigDefaults(model) {\n  const type = model.get('_type');\n  const config = {};\n  // Setup default legacy article behaviour, onChildren === isArticle if omitted\n  _deepDefaults(config, configDefaults, {\n    _onChildren: (type === 'article')\n  });\n  // Default startText and finalText when _onChildren: true\n  if (config._onChildren) {\n    config._button.startText = config._button.startText ?? 'Begin';\n    config._button.startAriaLabel = config._button.startAriaLabel ?? '';\n    config._button.finalText = config._button.finalText ?? 'Finish';\n    config._button.finalAriaLabel = config._button.finalAriaLabel ?? '';\n  }\n  // Force step locking for _isFullWidth buttons\n  if (config._button._isFullWidth) {\n    config._stepLocking._isEnabled = true;\n  }\n  return config;\n}\n\n/**\n * Returns an array of models from which to derive a trickle config or null\n * @param {Backbone.Model} configModel\n * @returns {[Backbone.Model]|null}\n */\nexport function getModelInheritanceChain(configModel) {\n  if (!data.isReady) throw new Error('Trickle cannot resolve inheritance chains until data is ready');\n  const type = configModel.get('_type');\n  if (type === 'block') {\n    const parentModel = configModel.getParent();\n    const parentConfig = parentModel.get('_trickle');\n    const blockConfig = configModel.get('_trickle');\n    const isParentEnabledNotOnChildren = (parentConfig?._isEnabled && parentConfig._onChildren === false);\n    const isNoChildConfig = (!blockConfig?._isEnabled);\n    if (isParentEnabledNotOnChildren && isNoChildConfig) {\n      return null;\n    }\n    return [ configModel, parentModel ].filter(ancestor => {\n      const config = ancestor.get('_trickle');\n      // Remove models with no config and models which explicitly require inheritance\n      return (config && !config._isInherited);\n    });\n  }\n  if (type === 'article') {\n    return [ configModel ];\n  }\n  return null;\n};\n\n/**\n * Returns the derived trickle configuration for the given model\n * @param {Backbone.Model} model\n * @returns {Object}\n */\nexport function getModelConfig(model) {\n  const inheritance = getModelInheritanceChain(model);\n  if (!inheritance?.length || isModelArticleWithOnChildren(model)) return null;\n  const config = $.extend(true, {}, ...inheritance.reverse().map((inheritModel, index, arr) => {\n    const isLast = (index === arr.length - 1);\n    const defaults = isLast ? getModelConfigDefaults(inheritModel) : null;\n    return $.extend(true, {}, defaults, inheritModel.get('_trickle'));\n  }));\n  if (!config._isEnabled) return null;\n  return config;\n}\n\n/**\n * Returns the first model in the inheritance chain with _onChildren: true\n * @param {Backbone.Model} model\n * @returns {Backbone.Model}\n */\nexport function getModelContainer(model) {\n  const inheritance = getModelInheritanceChain(model);\n  return inheritance?.find(inheritModel => {\n    const defaults = getModelConfigDefaults(inheritModel);\n    const config = $.extend(true, {}, defaults, inheritModel.get('_trickle'));\n    return config._onChildren;\n  });\n}\n\n/**\n * Fetch the defined or default completion attribute on which trickle should\n * listen for completion\n * @return {string}\n */\nexport function getCompletionAttribute() {\n  return Adapt.config.get('_trickle')?._completionAttribute || '_isComplete';\n}\n\n/**\n * Reapply trickle locks if the completion attribute has changed on the given model\n * @param {Backbone.Model} model\n */\nexport function checkApplyLocks(model) {\n  const completionAttribute = getCompletionAttribute();\n  if (!Object.prototype.hasOwnProperty.call(model.changed, completionAttribute)) return;\n  // Apply the locks lazily\n  debouncedApplyLocks();\n}\n\n/**\n * Calculates and applies the new locking state for each sub-page model according\n * to each trickle configuration\n */\nexport function applyLocks() {\n  if (!data.isReady) return;\n  const completionAttribute = getCompletionAttribute();\n  const locks = {};\n  const modelsById = {};\n  // Fetch the component model from the store incase it needs overriding by another extension\n  const TrickleButtonModel = Adapt.getModelClass('trickle-button');\n  // Check all models for trickle potential\n  Adapt.course.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(siteModel => {\n    const trickleConfig = getModelConfig(siteModel);\n    if (!trickleConfig || !trickleConfig._isEnabled) return;\n    const isStepLocked = Boolean(trickleConfig?._stepLocking?._isEnabled);\n    const isLocked = isStepLocked &&\n      !siteModel?.get(completionAttribute) &&\n      !siteModel?.get('_isOptional');\n    const id = siteModel.get('_id');\n    modelsById[id] = siteModel;\n    locks[id] = locks[id] || false;\n    // Apply lock to all subsequent models\n    const subsequentLockingModels = _getAncestorNextSiblings(siteModel);\n    subsequentLockingModels.forEach((model, index) => {\n      const id = model.get('_id');\n      const isButtonModel = (model instanceof TrickleButtonModel);\n      // Do not stop at TrickleButtonModels\n      model.set('_isTrickled', !isButtonModel);\n      // Store the new locking state of each model in the locks variable\n      // Don't unlock anything that was locked in a previous group\n      modelsById[id] = model;\n      locks[id] = locks[id] || isLocked;\n      // Cascade inherited locks through the hierarchyd\n      model.getAllDescendantModels().forEach(descendant => {\n        const descendantId = descendant.get('_id');\n        modelsById[descendantId] = descendant;\n        locks[descendantId] = locks[id];\n      });\n    });\n  });\n  // Apply only changed locking states\n  Object.entries(locks).forEach(([ id, isLocked ]) => {\n    const model = modelsById[id];\n    const wasLocked = model.get('_isLocked');\n    if (wasLocked === isLocked) return;\n    model.set('_isLocked', isLocked);\n  });\n  logTrickleState();\n}\n\nexport const debouncedApplyLocks = _.debounce(applyLocks, 1);\n\n/**\n * Returns all of the contentobject descendant models directly subsequent to the\n * given model through each ancestor\n * If fromModel is a block; its block next siblings and article next siblings\n * @param {Backbone.Model} child\n * @returns {Array<Backbone.Model>}\n */\nexport function _getAncestorNextSiblings(fromModel) {\n  if (!fromModel) return [];\n  // Fetch all subsequent siblings\n  const allSiblings = fromModel.getParent().getAvailableChildModels();\n  const subsequentSiblings = allSiblings.slice(allSiblings.findIndex(sibling => sibling === fromModel) + 1);\n  // Fetch all ancestors between the page and the child\n  const allAncestors = fromModel.getAncestorModels();\n  const inPageAncestors = allAncestors.slice(0, allAncestors.findIndex(parent => parent instanceof ContentObjectModel) + 1);\n  // Move from the next ancestor down as we already have the parent's children (fromModel siblings)\n  // Collect all subsequent in-page ancestor siblings\n  const subsequentInPageAncestors = [];\n  inPageAncestors.slice(1).forEach((grandParent, previousIndex) => {\n    const parent = inPageAncestors[previousIndex];\n    const allGrandParentChildren = grandParent.getAvailableChildModels();\n    const subsequentAncestorSiblings = allGrandParentChildren.slice(allGrandParentChildren.findIndex(child => child === parent) + 1);\n    subsequentInPageAncestors.push(...subsequentAncestorSiblings);\n  });\n  // Combine and return entire set\n  const subsequentContentObjectDescendantModels = subsequentSiblings.concat(subsequentInPageAncestors);\n  return subsequentContentObjectDescendantModels;\n}\n\n/**\n * Adds trickle button components in their relevant places throughout the course\n */\nexport function addButtonComponents() {\n  // Fetch the component model from the store incase it needs overriding by another extension\n  const TrickleButtonModel = Adapt.getModelClass('trickle-button');\n  let uid = 0;\n  data.forEach(buttonModelSite => {\n    if (buttonModelSite instanceof CourseModel) return;\n    const trickleConfig = getModelConfig(buttonModelSite);\n    if (!trickleConfig || !trickleConfig?._isEnabled || buttonModelSite.get('_isTrickleSiteConfigured')) return;\n    buttonModelSite.set('_isTrickleSiteConfigured', true);\n    const parentId = buttonModelSite.get('_id');\n    const trickleButtonModel = new TrickleButtonModel({\n      _id: `trickle-${uid++}`,\n      _type: 'component',\n      _component: 'trickle-button',\n      _parentId: parentId,\n      _isAvailable: true,\n      _layout: 'full',\n      _trickle: { _isEnabled: true },\n      _renderPosition: 'outer-append',\n      _isTrackable: false\n    });\n    trickleButtonModel.setupModel();\n    // This line would usually append a trickle button to an article or block\n    buttonModelSite.getChildren().add(trickleButtonModel);\n  });\n}\n\n/**\n * Pretty print locking state for current page\n */\nexport function logTrickleState() {\n  if (logging._config?._level !== 'debug') return;\n  if (!Adapt.parentView?.model?.isTypeGroup('page')) {\n    logging.debug('TRICKLE GLOBAL STATE');\n    Adapt.course.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(model => {\n      const isLocked = model.get('_isLocked');\n      const isTrickled = model.get('_isTrickled');\n      logging.debug(`${' '.repeat(model.getAncestorModels().length)}${model.get('_type')} ${model.get('_id')} isLocked: ${isLocked} isTrickled: ${isTrickled}`);\n    });\n    return;\n  }\n  logging.debug('TRICKLE STATE');\n  Adapt.parentView.model.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(model => {\n    const isLocked = model.get('_isLocked');\n    const isTrickled = model.get('_isTrickled');\n    logging.debug(`${' '.repeat(model.getAncestorModels().length)}${model.get('_type')} ${model.get('_id')} isLocked: ${isLocked} isTrickled: ${isTrickled}`);\n  });\n}\n\n/**\n * Utility functions for trickle model operations\n */\nexport default {\n  _deepDefaults,\n  configDefaults,\n  getModelConfigDefaults,\n  getModelInheritanceChain,\n  getModelConfig,\n  getModelContainer,\n  getCompletionAttribute,\n  checkApplyLocks,\n  applyLocks,\n  debouncedApplyLocks,\n  _getAncestorNextSiblings,\n  addButtonComponents,\n  logTrickleState\n};\n","import Adapt from 'core/js/adapt';\nimport data from 'core/js/data';\nimport a11y from 'core/js/a11y';\nimport {\n  checkApplyLocks,\n  addButtonComponents,\n  applyLocks,\n  debouncedApplyLocks,\n  getModelConfig,\n  isModelArticleWithOnChildren\n} from './models';\n\n/** @typedef {import('core/js/childEvent').default} ChildEvent  */\n\nclass TrickleController extends Backbone.Controller {\n\n  initialize() {\n    this.checkIsFinished = _.debounce(this.checkIsFinished, 1);\n    this.listenTo(data, {\n      'ready': this.onDataReady,\n      // Check that the locking is accurate after any completion, this happens asynchronously\n      'change:_isInteractionComplete change:_isComplete change:_isAvailable add remove': checkApplyLocks,\n      // Check whether trickle is finished after any locking changes\n      'change:_isLocked': this.checkIsFinished\n    });\n    this.listenTo(Adapt, {\n      // Reapply locks after assessment reset, this happens asynchronously where possible\n      'assessments:reset': this.onAssessmentReset,\n      // Reset trickle's global state when changing content objects\n      'contentObjectView:preRender': this.reset,\n      // Stop rendering where necessary before a child is rendered\n      'view:addChild': this.onAddChildView,\n      // Temporarily remove trickle from the current content object\n      'trickle:kill': this.kill\n    });\n  }\n\n  onAssessmentReset() {\n    // If mid render then apply locks immediately\n    const isMidRender = !Adapt.parentView?.model.get('_isReady');\n    if (isMidRender) return applyLocks();\n    // Otherwise apply them lazily\n    debouncedApplyLocks();\n  }\n\n  async onDataReady() {\n    Adapt.wait.for(done => {\n      addButtonComponents();\n      applyLocks();\n      done();\n    });\n  }\n\n  /**\n   * Returns true if the current page is or was locked by trickle\n   */\n  get isStarted() {\n    return Boolean(Adapt.parentView?.model.get('_isTrickleStarted'));\n  }\n\n  set isStarted(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleStarted', value);\n    if (!value) return;\n    Adapt.trigger('trickle:started');\n  }\n\n  /**\n   * When each child view is added to its parent, check to see if trickle should\n   * stop the render at this child according to the locking state\n   * @param {ChildEvent} event\n   */\n  onAddChildView(event) {\n    if (this.isKilled) return;\n    if (event.hasRequestChild) applyLocks();\n    const isManagedByTrickleAndLocked = (event.model.get('_isTrickled') && event.model.get('_isLocked'));\n    if (!isManagedByTrickleAndLocked) return;\n    event.stop();\n  }\n\n  /**\n   * Returns true if the current page is locked by trickle\n   */\n  get isTrickling() {\n    const isTrickling = Adapt.parentView.model.getAllDescendantModels().some(model => {\n      return model.get('_isAvailable') && model.get('_isTrickled') && model.get('_isLocked');\n    });\n    return isTrickling;\n  }\n\n  /**\n   * Make the framework try to render the next set of children\n   */\n  async continue() {\n    applyLocks();\n    await Adapt.parentView.addChildren();\n    await Adapt.parentView.whenReady();\n  }\n\n  /**\n   * Scroll to the next section as defined by the trickle configuration on the\n   * specified model\n   * @param {Backbone.Model} fromModel\n   */\n  async scroll(fromModel) {\n    const trickleConfig = getModelConfig(fromModel);\n    if (!trickleConfig?._isEnabled) return false;\n\n    if (isModelArticleWithOnChildren(fromModel)) return false;\n\n    const isAutoScrollOff = !trickleConfig._autoScroll;\n    const hasTrickleButton = trickleConfig._button._isEnabled;\n    if (isAutoScrollOff && !hasTrickleButton) {\n      return;\n    }\n\n    const getScrollToId = () => {\n      const scrollTo = trickleConfig._scrollTo;\n      const firstCharacter = scrollTo.substr(0, 1);\n      switch (firstCharacter) {\n        case '@': {\n          // NAVIGATE BY RELATIVE TYPE\n          // Allows trickle to scroll to a sibling / cousin component\n          // relative to the current trickle item\n          const relativeModel = fromModel.findRelativeModel(scrollTo, {\n            filter: model => model.get('_isAvailable')\n          });\n          if (relativeModel === undefined) return;\n          return relativeModel.get('_id');\n        }\n        case '.':\n          // NAVIGATE BY CLASS\n          return scrollTo.substr(1, scrollTo.length - 1);\n        default:\n          return scrollTo;\n      }\n    };\n\n    let scrollToId = getScrollToId();\n    if (scrollToId === '') return;\n\n    const isDescendant = Adapt.parentView.model.getAllDescendantModels().some(model => {\n      return model.get('_id') === scrollToId;\n    });\n    if (!isDescendant) {\n      applyLocks();\n      // Navigate to another content object\n      const model = Adapt.findById(scrollToId);\n      const contentObject = model.isTypeGroup('contentobject') ? model : model.findAncestor('contentobject');\n      await Adapt.navigateToElement(contentObject.get('_id'));\n      // Recalculate the relative id after the page is ready as it may change\n      scrollToId = getScrollToId();\n      await Adapt.navigateToElement(scrollToId);\n      return;\n    }\n\n    await Adapt.parentView.renderTo(scrollToId);\n\n    if (hasTrickleButton) {\n      // Only set focus if there is a trickle button - see https://github.com/adaptlearning/adapt_framework/issues/2813\n      a11y.focusFirst($('.' + scrollToId), { preventScroll: true });\n    }\n\n    if (isAutoScrollOff) return false;\n\n    const duration = trickleConfig._scrollDuration || 500;\n    Adapt.scrollTo('.' + scrollToId, { duration });\n  }\n\n  /**\n   * Returns true if the current page was locked by trickle and is now finished\n   */\n  get isFinished() {\n    if (!Adapt.parentView) return false;\n    return Boolean(!this.isStarted || Adapt.parentView.model.get('_isTrickleFinished') || this.isKilled);\n  }\n\n  set isFinished(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleFinished', value);\n    if (!value) return;\n    Adapt.trigger('trickle:finished');\n  }\n\n  checkIsFinished() {\n    if (!this.isStarted) return;\n    if (this.isKilled || this.isFinished) return;\n    if (this.isTrickling) return;\n    this.isFinished = true;\n  }\n\n  /**\n   * Turn off all trickle locking, continue rendering and set the page model state as killed\n   */\n  async kill() {\n    // Fetch the component model from the store incase it needs overriding by another extension\n    const TrickleModel = Adapt.getModelClass('trickle-button');\n    this.isKilled = true;\n    Adapt.parentView.model.getAllDescendantModels().forEach(model => {\n      const isButtonModel = (model instanceof TrickleModel);\n      if (isButtonModel) {\n        model.setCompletionStatus();\n      }\n      if (!model.get('_isTrickled')) return;\n      model.set('_isLocked', false);\n    });\n    await this.continue();\n  }\n\n  /**\n   * Returns true if the current page was locked by trickle and is now killed\n   */\n  get isKilled() {\n    if (!Adapt.parentView) return false;\n    return !this.isStarted || Adapt.parentView.model.get('_isTrickleKilled');\n  }\n\n  set isKilled(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleKilled', value);\n    if (!value) return;\n    Adapt.trigger('trickle:killed');\n  }\n\n  /**\n   * Reset the page trickle state\n   */\n  reset() {\n    this.isKilled = false;\n    if (!this.isTrickling) {\n      this.isStarted = false;\n      this.isFinished = false;\n      return;\n    }\n    this.isStarted = true;\n    this.isFinished = false;\n  }\n\n}\n\nexport default new TrickleController();\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport controller from './controller';\nimport {\n  getModelConfig,\n  getCompletionAttribute\n} from './models';\n\n/** @typedef {import('core/js/modelEvent').default} ModelEvent  */\n\nclass TrickleButtonView extends ComponentView {\n\n  className() {\n    const config = getModelConfig(this.model.getParent());\n    return [\n      'trickle',\n      this.model.get('_id'),\n      config._button._component,\n      config._button._isFullWidth && 'is-full-width',\n      config._button._className\n    ].filter(Boolean).join(' ');\n  }\n\n  events() {\n    return {\n      'click .js-trickle-btn': 'onButtonClick'\n    };\n  }\n\n  initialize() {\n    this.openPopupCount = 0;\n    this.isAwaitingPopupClose = false;\n    this.wasButtonClicked = false;\n    this.model.calculateButtonText();\n    this.calculateButtonState();\n    this.setupEventListeners();\n    this.render();\n    if (!this.model.isEnabled()) {\n      this.setCompletionStatus();\n    }\n    _.defer(this.setReadyStatus.bind(this));\n  }\n\n  /**\n   * Taking account of open popups, recalculate the button visible and enabled states\n   */\n  calculateButtonState() {\n    const isDisabledByPopups = (this.openPopupCount > 0);\n    this.model.calculateButtonState(isDisabledByPopups, this.wasButtonClicked);\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    data._globals = Adapt.course.get('_globals');\n    data._trickle = getModelConfig(this.model.getParent());\n    this.$el.html(Handlebars.templates[TrickleButtonView.template](data));\n  }\n\n  setupEventListeners() {\n    this.tryButtonAutoHide = this.tryButtonAutoHide.bind(this);\n    // Add async delay on each call to onParent complete\n    // to wait for autoscroll question feedback notify to appear\n    const onParentComplete = this.onParentComplete.bind(this);\n    this.onParentComplete = (...args) => _.delay(() => onParentComplete(...args), 100);\n    this.listenTo(Adapt.parentView, 'postRemove', this.onRemove);\n    this.listenTo(Adapt, 'trickle:killed', this.updateButtonState);\n    if (this.model.isStepUnlocked() && this.model.isFinished()) {\n      // Already complete, no need to listen to anything else\n      return;\n    }\n    this.$el.on('onscreen', this.tryButtonAutoHide);\n    this.listenTo(Adapt, {\n      'popup:opened': this.onPopupOpened,\n      'popup:closed': this.onPopupClosed\n    });\n    const parentModel = this.model.getParent();\n    const completionAttribute = getCompletionAttribute();\n    this.listenTo(parentModel, {\n      'change:_requireCompletionOf': this.onStepUnlocked,\n      [`bubble:change:${completionAttribute}`]: this.onStepUnlocked,\n      [`change:${completionAttribute}`]: this.onParentComplete\n    });\n  }\n\n  /**\n   * Keep count of the number of open popups\n   */\n  onPopupOpened() {\n    this.openPopupCount++;\n    const shouldUserInteractWithButton = (this.model.isStepUnlocked() && !this.model.isFinished());\n    if (!shouldUserInteractWithButton) return;\n    this.updateButtonState();\n  }\n\n  /**\n   * Keep count of the number of open popups\n   */\n  async onPopupClosed() {\n    this.openPopupCount--;\n    if (this.openPopupCount) return;\n    if (this.isAwaitingPopupClose) {\n      // Had completed with an open popup, perform final part of finishing\n      return this.finish();\n    }\n    const shouldUserInteractWithButton = (this.model.isStepUnlocked() && !this.model.isFinished());\n    if (!shouldUserInteractWithButton) return;\n    this.updateButtonState();\n    await Adapt.parentView.addChildren();\n  }\n\n  /**\n   * Modify the DOM according to the current button states\n   */\n  updateButtonState() {\n    this.calculateButtonState();\n    const isButtonHidden = !(this.model.get('_isButtonVisible') && !this.model.get('_isButtonAutoHidden'));\n    this.$('.js-trickle-btn-container').toggleClass('u-display-none', isButtonHidden);\n    const isButtonDisabled = this.model.get('_isButtonDisabled');\n    const $button = this.$('.js-trickle-btn');\n    const $ariaLabel = this.$('.aria-label');\n    Adapt.a11y.toggleEnabled($button, !isButtonDisabled);\n    if (!isButtonDisabled) {\n      // move focus forward if it's on the aria-label\n      if (document.activeElement instanceof HTMLElement && document.activeElement.isSameNode($ariaLabel[0])) {\n        a11y.focusNext($ariaLabel);\n      }\n      // make label unfocusable as it is no longer needed\n      a11y.toggleAccessibleEnabled($ariaLabel, false);\n    }\n    const $buttonText = this.$('.js-trickle-btn-text');\n    const text = this.model.get('buttonText');\n    const ariaLabel = this.model.get('buttonAriaLabel');\n    $buttonText.html(text);\n    $button.attr('aria-label', ariaLabel);\n  }\n\n  /**\n   * Update the button state when any completion changes occur in the trickle button\n   * parent or descendants\n   * @param {ModelEvent} event\n   */\n  async onStepUnlocked(event) {\n    if (event.value === false) return;\n    // Defer to allow for a feedback notify to open\n    _.defer(this.updateButtonState.bind(this));\n  }\n\n  async onButtonClick() {\n    const wasComplete = this.model.get('_isComplete');\n    // Assuming step locking completion is required, setting this model as complete\n    // will cause onParentComplete to fire\n    this.model.setCompletionStatus();\n    this.wasButtonClicked = true;\n    const isStepLockingCompletionRequired = this.model.isStepLockingCompletionRequired();\n    if (isStepLockingCompletionRequired && !wasComplete) return;\n    // Assuming step locking completion is NOT required, continue and scroll\n    await this.continue();\n  }\n\n  /**\n   * Fires when all children in the button parent are complete, including the button\n   */\n  async onParentComplete(model, value) {\n    if (!value) return;\n    const parentModel = this.model.getParent();\n    const completionAttribute = getCompletionAttribute();\n    this.stopListening(parentModel, {\n      [`bubble:change:${completionAttribute}`]: this.onStepUnlocked,\n      [`change:${completionAttribute}`]: this.onParentComplete\n    });\n    if (controller.isKilled) return;\n    if (this.openPopupCount > 0) {\n      // Has completed with an open popup, defer finish until popup closed\n      this.isAwaitingPopupClose = true;\n      return;\n    }\n    await this.finish();\n  }\n\n  /**\n   * Stop listening, update the button and continue if required\n   */\n  async finish() {\n    this.stopListening(Adapt, {\n      'popup:opened': this.onPopupOpened,\n      'popup:closed': this.onPopupClosed\n    });\n    this.updateButtonState();\n    const isStepLockingCompletionRequired = this.model.isStepLockingCompletionRequired();\n    if (!isStepLockingCompletionRequired) return;\n    // Continue and scroll only if steplocking completion is required\n    await this.continue();\n  }\n\n  /**\n   * Causes Adapt to attempt to render more children and scroll to the next content\n   * element if required\n   */\n  async continue() {\n    const parent = this.model.getParent();\n    await controller.continue();\n    await controller.scroll(parent);\n  }\n\n  tryButtonAutoHide() {\n    if (!this.model.get('_isButtonVisible')) return;\n    const trickleConfig = getModelConfig(this.model.getParent());\n    if (!trickleConfig._button._autoHide) {\n      this.model.set('_isButtonAutoHidden', false);\n      return;\n    }\n    const measurements = this.$el.onscreen();\n    // This is to fix common miscalculation issues\n    const isJustOffscreen = (measurements.bottom > -100);\n    const isButtonAutoHidden = !measurements.onscreen && !isJustOffscreen;\n    this.model.set('_isButtonAutoHidden', isButtonAutoHidden);\n    this.updateButtonState();\n  }\n\n  onRemove() {\n    this.$el.off('onscreen', this.tryButtonAutoHide);\n    this.remove();\n  }\n\n}\n\nTrickleButtonView.template = 'trickle-button';\n\nexport default TrickleButtonView;\n","import controller from './controller';\nimport ComponentModel from 'core/js/models/componentModel';\nimport {\n  getModelContainer,\n  getModelConfig,\n  getCompletionAttribute\n} from './models';\n\nexport default class TrickleButtonModel extends ComponentModel {\n\n  init() {\n    super.init();\n    if (!this.isStepComplete()) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * @returns {boolean} true if the button is enabled in its trickle configuration\n   */\n  isEnabled() {\n    const trickleConfig = getModelConfig(this.getParent());\n    const isEnabled = trickleConfig._isEnabled && trickleConfig._button?._isEnabled;\n    return isEnabled;\n  }\n\n  /**\n   * @return {boolean} true if page truncation (step locking) is active\n   */\n  isStepLocking() {\n    const config = getModelConfig(this.getParent());\n    const isStepLocking = config._stepLocking?._isEnabled;\n    return isStepLocking;\n  }\n\n  /**\n   * @return {boolean} true if completion is required to unlock this step\n   */\n  isStepLockingCompletionRequired() {\n    const config = getModelConfig(this.getParent());\n    const isStepLockingCompletionRequired = config._stepLocking &&\n      config._stepLocking._isEnabled &&\n      config._stepLocking._isCompletionRequired;\n    return isStepLockingCompletionRequired;\n  }\n\n  /**\n   * @returns {boolean} true if all available siblings are complete, optional or not available\n   */\n  isStepUnlocked() {\n    const completionAttribute = getCompletionAttribute();\n    // Check if completion is blocked by another extension\n    const isCompletionBlocked = (this.getParent().get('_requireCompletionOf') === Number.POSITIVE_INFINITY);\n    if (isCompletionBlocked) return;\n    return this.getSiblings().every(sibling => {\n      if (sibling === this) {\n        return true;\n      }\n      return sibling.get(completionAttribute) ||\n        sibling.get('_isOptional') ||\n        !sibling.get('_isAvailable');\n    });\n  }\n\n  /**\n   * @returns {boolean} true if the parent container is already complete\n   */\n  isStepComplete() {\n    const completionAttribute = getCompletionAttribute();\n    const isParentComplete = this.getParent().get(completionAttribute);\n    return isParentComplete;\n  }\n\n  /**\n   * @returns {boolean} true if this button should always be locked on revisit\n   */\n  isStepLockedOnRevisit() {\n    const trickleConfig = getModelConfig(this.getParent());\n    return Boolean(trickleConfig._stepLocking._isLockedOnRevisit);\n  }\n\n  /**\n   * @return {boolean} true if completion is not required or if completion has been fulfilled\n   * and the button has been clicked\n   */\n  isFinished() {\n    const isStepUnlocked = this.isStepUnlocked();\n    const isStepLockingCompletionRequired = this.isStepLockingCompletionRequired();\n    const isButtonComplete = this.get('_isComplete');\n    const isFinished = ((isStepUnlocked || !isStepLockingCompletionRequired) && isButtonComplete);\n    return isFinished;\n  }\n\n  isLastInContentObject() {\n    const contentObject = this.findAncestor('contentobject');\n    const allDescendants = contentObject.getAllDescendantModels(true);\n    const lastDescendant = allDescendants[allDescendants.length - 1];\n    return (this === lastDescendant);\n  }\n\n  /**\n   * Apply start and final text amongst the current siblings\n   * Siblings in assessments can be randomised so this must be derived at runtime\n   */\n  calculateButtonText() {\n    const parentModel = this.getParent();\n    const trickleConfig = getModelConfig(parentModel);\n    let isStart = false;\n    let isFinal = false;\n    if (trickleConfig._onChildren) {\n      const parentId = parentModel.get('_id');\n      const trickleParent = getModelContainer(parentModel);\n      const trickleSiblings = trickleParent.getAllDescendantModels(true).filter(model => {\n        return model.get('_isAvailable') && model.get('_isTrickled');\n      });\n      const index = trickleSiblings.findIndex(model => model.get('_id') === parentId);\n      isStart = (index === 0);\n      isFinal = (index === trickleSiblings.length - 1 && !trickleParent.get('_canRequestChild'));\n    }\n    const text = (isStart && trickleConfig._button.startText) ?\n      trickleConfig._button.startText :\n      (isFinal && trickleConfig._button.finalText) ?\n        trickleConfig._button.finalText :\n        trickleConfig._button.text;\n    const ariaLabel = (isStart && trickleConfig._button.startAriaLabel) ?\n      trickleConfig._button.startAriaLabel :\n      (isFinal && trickleConfig._button.finalAriaLabel) ?\n        trickleConfig._button.finalAriaLabel :\n        trickleConfig._button.ariaLabel;\n    this.set({\n      buttonText: text,\n      buttonAriaLabel: ariaLabel\n    });\n  }\n\n  /**\n   * Will reset this button if the step has been unlocked and should be relocked\n   * on revisit\n   */\n  checkIfResetOnRevisit() {\n    if (this.isStepUnlocked() && !this.isStepLockedOnRevisit()) return;\n    this.set({\n      _isComplete: false,\n      _isInteractionComplete: false\n    });\n  }\n\n  /**\n   * Calculate the current button visible and enabled states\n   * @param {boolean} isButtonDisableForced Set to true to signify that the button must not be enabled\n   * @param {boolean} isButtonHiddenForced Set to true to signify that the button must not be visible\n   */\n  calculateButtonState(isButtonDisableForced = false, isButtonHiddenForced = false) {\n    if (!this.isEnabled()) {\n      this.set({\n        _isButtonVisible: false,\n        _isButtonDisabled: !this.isStepUnlocked()\n      });\n      return;\n    };\n\n    const trickleConfig = getModelConfig(this.getParent());\n    if (this.isLastInContentObject() && trickleConfig._button._showEndOfPage === false) {\n      return this.set({\n        _isButtonVisible: false,\n        _isButtonDisabled: true\n      });\n    }\n\n    const isTrickleKilled = controller.isKilled;\n    const isStepUnlocked = this.isStepUnlocked() || isTrickleKilled;\n    const isFinished = this.isFinished() || isTrickleKilled;\n    const isButtonVisibleBeforeCompletion = (trickleConfig._button._styleBeforeCompletion !== 'hidden');\n    // Force button to be hidden after completion if _isFullWidth, otherwise absolutely positioned buttons will stack\n    const isButtonVisibleAfterCompletion = (trickleConfig._button._styleAfterClick !== 'hidden') && !trickleConfig._button._isFullWidth;\n\n    const isStepLockingCompletionRequired = this.isStepLockingCompletionRequired();\n\n    const isNoCompletionRequiredAndLockedVisible = (!isStepLockingCompletionRequired && !isFinished && isButtonVisibleBeforeCompletion);\n    const isNoCompletionRequiredAndUnlockedVisible = (!isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n    const isNoCompletionRequiredAndFinishedVisible = (!isStepLockingCompletionRequired && isFinished && isButtonVisibleAfterCompletion);\n    const isStepLockedAndVisibleBeforeCompletion = (isStepLockingCompletionRequired && !isStepUnlocked && isButtonVisibleBeforeCompletion && !isButtonHiddenForced);\n    const isFinishedAndVisibleAfterCompletion = (isStepLockingCompletionRequired && isFinished && isButtonVisibleAfterCompletion);\n    const isStepUnlockedAndButtonIncomplete = (isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n\n    const isButtonVisible = isNoCompletionRequiredAndLockedVisible ||\n      isNoCompletionRequiredAndUnlockedVisible ||\n      isNoCompletionRequiredAndFinishedVisible ||\n      isStepLockedAndVisibleBeforeCompletion ||\n      isFinishedAndVisibleAfterCompletion ||\n      isStepUnlockedAndButtonIncomplete;\n\n    const isButtonEnabledBeforeCompletion = (trickleConfig._button._styleBeforeCompletion !== 'disabled');\n    const isButtonEnabledAfterCompletion = (trickleConfig._button._styleAfterClick !== 'disabled');\n\n    const isNoCompletionRequiredAndLockedEnabled = (!isStepLockingCompletionRequired && !isFinished && isButtonEnabledBeforeCompletion);\n    const isNoCompletionRequiredAndUnlockedEnabled = (!isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n    const isNoCompletionRequiredAndFinishedEnabled = (!isStepLockingCompletionRequired && isFinished && isButtonEnabledAfterCompletion);\n    const isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced = (isStepLockingCompletionRequired && isStepUnlockedAndButtonIncomplete && !isButtonDisableForced);\n    const isFinishedAndEnabledAfterCompletion = (isStepLockingCompletionRequired && isFinished && isButtonEnabledAfterCompletion);\n\n    const isButtonEnabled = isNoCompletionRequiredAndLockedEnabled ||\n      isNoCompletionRequiredAndUnlockedEnabled ||\n      isNoCompletionRequiredAndFinishedEnabled ||\n      isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced ||\n      isFinishedAndEnabledAfterCompletion ||\n      false;\n\n    this.set({\n      _isButtonVisible: isButtonVisible,\n      _isButtonDisabled: !isButtonEnabled\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TrickleButtonView from './TrickleButtonView';\nimport TrickleButtonModel from './TrickleButtonModel';\n\nexport default Adapt.register('trickle-button', {\n  view: TrickleButtonView,\n  model: TrickleButtonModel\n});\n","import Adapt from 'core/js/adapt';\nimport controller from './controller';\nimport models from './models';\nimport trickleButton from './trickleButton';\nimport TrickleButtonModel from './TrickleButtonModel';\nimport TrickleButtonView from './TrickleButtonView';\n\n// Export main API\nexport default (Adapt.trickle = controller);\n\n// Export everything\nexport {\n  controller,\n  models,\n  trickleButton,\n  TrickleButtonModel,\n  TrickleButtonView\n};\n","const TUTOR_TYPE = ENUM([\n  'NOTIFY',\n  'INLINE',\n  'OVERLAY',\n  'NONE'\n]);\n\nexport default TUTOR_TYPE;\n","import Adapt from 'core/js/adapt';\nimport TUTOR_TYPE from './TUTOR_TYPE';\n\nexport default class TutorModel extends Backbone.Model {\n\n  defaults() {\n    return {\n      _type: TUTOR_TYPE.NOTIFY.asLowerCase,\n      _classes: '',\n      _hasNotifyBottomButton: false,\n      _button: {\n        text: '{{_globals._extensions._tutor.hideFeedback}}',\n        ariaLabel: '{{_globals._extensions._tutor.hideFeedback}}'\n      },\n      ...Adapt.course.get('_tutor')\n    };\n  }\n\n  initialize(data, parentModel) {\n    data = $.extend(true, this.defaults(), data?._isInherited === true ? null : data, {\n      _attributes: { 'data-adapt-id': parentModel.get('_id') },\n      title: parentModel.get('feedbackTitle'),\n      body: parentModel.get('feedbackMessage')\n    });\n    data._classes += ` tutor ${this.getOriginClasses(parentModel)}`;\n    this.set(data);\n  }\n\n  getOriginClasses(model) {\n    const component = model.get('_component');\n    const extension = model.get('_extension');\n\n    return [\n      model.get('_isCorrect') ?\n        'is-correct' :\n        model.get('_isAtLeastOneCorrectSelection') ?\n          'is-partially-correct' :\n          'is-incorrect',\n      component && `is-component is-${component}`,\n      extension && `is-extension is-${extension}`\n    ].filter(Boolean).join(' ');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport notify from 'core/js/notify';\n\nexport default class TutorNotify extends Backbone.Controller {\n\n  initialize(options) {\n    this.parentView = options.parentView;\n    this.listenToOnce(Adapt, 'notify:closed', this.onNotifyClosed);\n    this.triggerNotify();\n  }\n\n  triggerNotify() {\n    const {\n      _hasNotifyBottomButton: isButtonEnabled,\n      _button: { text: promptText }\n    } = this.model.toJSON();\n\n    this.notifyOptions = {\n      ...this.model.toJSON(),\n      _prompts: isButtonEnabled && [{\n        promptText: Handlebars.compile(promptText)({ _globals: Adapt.course.get('_globals') })\n      }],\n      _type: isButtonEnabled ? 'prompt' : 'popup'\n    };\n\n    notify.create(this.notifyOptions);\n    Adapt.trigger('tutor:opened', this.parentView, this.notifyOptions);\n  }\n\n  onNotifyClosed() {\n    Adapt.trigger('tutor:closed', this.parentView, this.notifyOptions);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\nimport a11y from 'core/js/a11y';\n\nexport default class TutorView extends Backbone.View {\n\n  className() {\n    return [\n      'tutor',\n      `tutor-type-${this.model.get('_type')}`,\n      this.model.get('_classes')\n    ].join(' ');\n  }\n\n  events() {\n    return { 'click .js-tutor-btn': 'onCloseClick' };\n  }\n\n  initialize(options) {\n    this.parentView = options.parentView;\n    this.buttonsView = this.parentView.buttonsView;\n    this.listenTo(this.parentView, 'postRemove', this.onTutorClosed);\n    this.listenTo(this.buttonsView, 'buttons:stateUpdate', this.onButtonsStateUpdate);\n    this.render();\n  }\n\n  render() {\n    this.$el.html(Handlebars.templates.tutor(this.model.toJSON()));\n    _.defer(this.postRender.bind(this));\n  }\n\n  postRender() {\n    this.toggleFeedback({ shouldOpen: true });\n  }\n\n  toggleFeedback({ shouldOpen, shouldManageFocus = true } = {}) {\n    const animation = this.model.get('_type') === 'inline' ? 'slide' : 'fade';\n\n    const onAnimationEnd = shouldOpen ?\n      this.onTutorOpened.bind(this, shouldManageFocus) :\n      this.onTutorClosed.bind(this, shouldManageFocus);\n\n    if (shouldManageFocus) {\n      a11y.toggleEnabled(this.buttonsView.$('.js-btn-feedback'), !shouldOpen);\n    }\n\n    this.$('.tutor__inner').stop()[`${animation}Toggle`](200, onAnimationEnd);\n  }\n\n  onCloseClick() {\n    this.toggleFeedback({ shouldOpen: false });\n  }\n\n  onTutorOpened(shouldManageFocus) {\n    if (shouldManageFocus) {\n      a11y.focus(this.$('.tutor__inner'), { defer: true, preventScroll: true });\n    }\n    Adapt.trigger('tutor:opened', this.parentView, this.model.toJSON());\n  }\n\n  onTutorClosed(shouldManageFocus) {\n    if (shouldManageFocus) {\n      const $showFeedbackButton = this.buttonsView.$('.js-btn-feedback');\n      a11y.focus($showFeedbackButton, { defer: true, preventScroll: true });\n    }\n    Adapt.trigger('tutor:closed', this.parentView, this.model.toJSON());\n    this.remove();\n  }\n\n  onButtonsStateUpdate(state) {\n    if (state !== BUTTON_STATE.RESET) return;\n    this.toggleFeedback({ shouldOpen: false, shouldManageFocus: false });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TutorModel from './TutorModel';\nimport TutorNotify from './TutorNotify';\nimport TutorView from './TutorView';\nimport TUTOR_TYPE from './TUTOR_TYPE';\n\nclass Tutor extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'questionView:showFeedback', this.onQuestionViewShowFeedback);\n  }\n\n  onQuestionViewShowFeedback(view) {\n    const parentModel = view.model;\n    const tutorModel = new TutorModel(parentModel.get('_tutor'), parentModel);\n    const options = { model: tutorModel, parentView: view };\n\n    switch (TUTOR_TYPE(tutorModel.get('_type').toUpperCase())) {\n      case TUTOR_TYPE.NOTIFY:\n        new TutorNotify(options);\n        break;\n      case TUTOR_TYPE.INLINE:\n      case TUTOR_TYPE.OVERLAY:\n        view.$('.component__inner').append(new TutorView(options).$el);\n        break;\n      case TUTOR_TYPE.NONE:\n      default:\n        // do nothing\n    }\n  }\n\n}\n\nexport default (Adapt.tutor = new Tutor());\n","/*\n * adapt-contrib-xapi\n * License      - http://github.com/adaptlearning/adapt_framework/LICENSE\n * Maintainers  - Dennis Heaney <dennis@learningpool.com>\n *              - Barry McKay <barry@learningpool.com>\n *              - Brian Quinn <brian@learningpool.com>\n */\ndefine([\n  'core/js/adapt',\n  'core/js/enums/completionStateEnum',\n  'libraries/async.min',\n  'libraries/xapiwrapper.min',\n  'libraries/url-polyfill.min'\n], function(Adapt, COMPLETION_STATE, Async) {\n\n  'use strict';\n\n  /**\n   * @callback ErrorOnlyCallback\n   * @param {?Error} error\n   */\n  var xAPI = Backbone.Model.extend({\n\n    /** Declare defaults and model properties */\n\n    // Default model properties.\n    defaults: {\n      lang: 'en-US',\n      displayLang: 'en-US',\n      generateIds: false,\n      activityId: null,\n      actor: null,\n      shouldTrackState: true,\n      shouldUseRegistration: false,\n      componentBlacklist: 'blank,graphic',\n      isInitialised: false,\n      state: {}\n    },\n\n    startAttemptDuration: 0,\n    startTimeStamp: null,\n    courseName: '',\n    courseDescription: '',\n    defaultLang: 'en-US',\n    isComplete: false,\n    debug: false,\n\n    // Default events to send statements for.\n    coreEvents: {\n      Adapt: {\n        'router:page': false,\n        'router:menu': false,\n        'assessments:complete': true,\n        'questionView:recordInteraction': true\n      },\n      contentObjects: {\n        'change:_isComplete': false\n      },\n      articles: {\n        'change:_isComplete': false\n      },\n      blocks: {\n        'change:_isComplete': false\n      },\n      components: {\n        'change:_isComplete': true\n      }\n    },\n\n    // An object describing the core Adapt framework collections.\n    coreObjects: {\n      course: 'course',\n      contentObjects: ['menu', 'page'],\n      articles: 'article',\n      blocks: 'block',\n      components: 'component',\n      offlineStorage: 'offlineStorage'\n    },\n\n    /** Implementation starts here */\n    initialize: function() {\n      if (!Adapt.config) {\n        return;\n      }\n\n      this.config = Adapt.config.get('_xapi');\n\n      if (!this.getConfig('_isEnabled')) {\n        return this;\n      }\n\n      Adapt.wait.begin();\n\n      // Initialize the xAPIWrapper.\n      this.initializeWrapper(_.bind(function(error) {\n        if (error) {\n          this.onInitialised(error);\n          return this;\n        }\n\n        this.set({\n          activityId: (this.getLRSAttribute('activity_id') || this.getConfig('_activityID') || this.getBaseUrl()),\n          displayLang: Adapt.config.get('_defaultLanguage'),\n          lang: this.getConfig('_lang'),\n          generateIds: this.getConfig('_generateIds'),\n          shouldTrackState: this.getConfig('_shouldTrackState'),\n          shouldUseRegistration: this.getConfig('_shouldUseRegistration') || false,\n          componentBlacklist: this.getConfig('_componentBlacklist') || []\n        });\n\n        var componentBlacklist = this.get('componentBlacklist');\n\n        if (!_.isArray(componentBlacklist)) {\n          // Create the blacklist array and force the items to lowercase.\n          componentBlacklist = componentBlacklist.split(/,\\s?/).map(function(component) {\n            return component.toLowerCase();\n          });\n        }\n\n        this.set('componentBlacklist', componentBlacklist);\n\n        if (!this.validateProps()) {\n          var error = new Error('Missing required properties');\n          Adapt.log.error('adapt-contrib-xapi: xAPI Wrapper initialisation failed', error);\n          this.onInitialised(error);\n          return this;\n        }\n\n        this.startTimeStamp = new Date();\n        this.courseName = Adapt.course.get('displayTitle') || Adapt.course.get('title');\n        this.courseDescription = Adapt.course.get('description') || '';\n\n        // Send the 'launched' and 'initialized' statements.\n        var statements = [\n          this.getCourseStatement(ADL.verbs.launched),\n          this.getCourseStatement(ADL.verbs.initialized)\n        ];\n\n        this.sendStatements(statements, _.bind(function(error) {\n          if (error) {\n            this.onInitialised(error);\n            return this;\n          }\n\n          if (['ios', 'android'].indexOf(Adapt.device.OS) > -1) {\n            $(document).on('visibilitychange', this.onVisibilityChange.bind(this));\n          } else {\n            $(window).on('beforeunload unload', this.sendUnloadStatements.bind(this));\n          }\n\n          if (!this.get('shouldTrackState')) {\n            // xAPI is not managing the state.\n            this.onInitialised();\n            return this;\n          }\n\n          // Retrieve the course state.\n          this.getState(_.bind(function(error) {\n            if (error) {\n              this.onInitialised(error);\n              return this;\n            }\n\n            if (_.isEmpty(this.get('state'))) {\n              // This is a new attempt, send 'attempted'.\n              this.sendStatement(this.getCourseStatement(ADL.verbs.attempted));\n            } else {\n              // This is a continuation of an existing attempt, send 'resumed'.\n              this.sendStatement(this.getCourseStatement(ADL.verbs.resumed));\n            }\n\n            this.restoreState();\n            this.onInitialised();\n            return this;\n          }, this));\n        }, this));\n      }, this));\n    },\n\n    /**\n     * Replace the hard-coded _learnerInfo data in _globals with the actual data from the LRS.\n     */\n    getLearnerInfo: function() {\n      var globals = Adapt.course.get('_globals');\n\n      if (!globals._learnerInfo) {\n          globals._learnerInfo = {};\n      }\n\n      _.extend(globals._learnerInfo, Adapt.offlineStorage.get('learnerinfo'));\n    },\n  \n    /**\n     * Intializes the ADL xapiWrapper code.\n     * @param {ErrorOnlyCallback} callback\n     */\n    initializeWrapper: function(callback) {\n      // If no endpoint has been configured, assume the ADL Launch method.\n      if (!this.getConfig('_endpoint')) {\n        //check to see if configuration has been passed in URL\n        this.xapiWrapper = window.xapiWrapper || ADL.XAPIWrapper;\n        if (this.checkWrapperConfig()) {\n          // URL had all necessary configuration so we continue using it.\n          // Set the LRS specific properties.\n          this.set({\n            registration: this.getLRSAttribute('registration'),\n            actor: this.getLRSAttribute('actor')\n          });\n\n          this.xapiWrapper.strictCallbacks = true;\n\n          callback();\n        } else {\n          // If no endpoint is configured, assume this is using the ADL launch method.\n          ADL.launch(_.bind(function(error, launchData, xapiWrapper) {\n            if (error) {\n              return callback(error);\n            }\n\n            // Initialise the xAPI wrapper.\n            this.xapiWrapper = xapiWrapper;\n\n            this.set({\n              actor: launchData.actor\n            });\n\n            this.xapiWrapper.strictCallbacks = true;\n\n            callback();\n          }, this), true, true);\n        }\n      } else {\n        // The endpoint has been defined in the config, so use the static values.\n        // Initialise the xAPI wrapper.\n        this.xapiWrapper = window.xapiWrapper || ADL.XAPIWrapper;\n\n        // Set any attributes on the xAPIWrapper.\n        var configError;\n        try {\n          this.setWrapperConfig();\n        } catch (error) {\n          configError = error;\n        }\n\n        if (configError) {\n          return callback(error);\n        }\n\n        function uuidv4() {\n          return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n          );\n        }\n\n        function getDomain(url) {\n          var domain = new URL(url).hostname;\n          var elems = domain.split('.');\n          var iMax = elems.length - 1;\n          \n          var isSecondLevel = elems.length >= 3 && (elems[iMax] + elems[iMax - 1]).length <= 5;\n          var tld = elems.splice( isSecondLevel ? -3 : -2 ).join('.');\n          if (tld != \"localhost\") {\n            return \".\"+tld;\n          }\n          return tld;\n        }\n\n        function setCookie(cname, cvalue, exdays) {\n          const d = new Date();\n          d.setTime(d.getTime() + (exdays*24*60*60*1000));\n          let expires = \"expires=\"+ d.toUTCString();\n          document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/;domain=\"+getDomain(window.location);\n        }      \n\n        function getCookie(cname) {\n          let name = cname + \"=\";\n          let decodedCookie = decodeURIComponent(document.cookie);\n          let ca = decodedCookie.split(';');\n          for(let i = 0; i <ca.length; i++) {\n            let c = ca[i];\n            while (c.charAt(0) == ' ') {\n              c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n              return c.substring(name.length, c.length);\n            }\n          }\n          return \"\";\n        }\n        if (this.debug) {\n          console.log('xAPI: Checking Cookies for actor, or generating random actor'); \n        }\n        if (getCookie('info.learndata.actor') !== \"\") {\n          //  this.xapiWrapper.lrs.actor = `{\"objectType\":\"Agent\",\"name\":\"Testy+McTestface\",\"account\":{\"homePage\":\"http://www.example.com/users\",\"name\":\"1234567890\"}}`\n          this.xapiWrapper.lrs.actor = `${getCookie('info.learndata.actor')}`\n          if(this.debug) { \n            console.log('xAPI: an actor exists in cookies and is:')\n            console.log(`${getCookie('info.learndata.actor')}`)\n          }\n          this.set({\n            registration: getCookie('info.learndata.registration'),\n            actor: JSON.parse(getCookie('info.learndata.actor'))\n          });\n          // insertActorAsUrl();\n          this.xapiWrapper.strictCallbacks = true;\n          callback(); \n        } else if (getCookie('info.learndata.actor') === \"\") {\n          if(this.debug) { \n            console.log('xAPI: actor does not exist in local storage') \n          }\n\n          var courseUser = `${uuidv4()}`\n          var actor = {\n            \"objectType\": \"Agent\",\n            \"name\": courseUser,\n            \"account\": {\n              \"homePage\": \"https://theodi.org\",\n              \"name\": courseUser\n            }\n          }\n          \n          // an actor does not exist in the url so set one from local storage\n          setCookie('info.learndata.actor', JSON.stringify(actor), 365);\n          setCookie('registration', courseUser, 365);\n          this.set({\n            registration: courseUser,\n            actor: actor\n          });\n          if(this.debug) { \n            console.log('xAPI: Generated new actor');\n            console.log(actor);\n            console.log(getCookie('info.learndata.actor'));\n          }\n          this.xapiWrapper.strictCallbacks = true;\n          callback(); \n        } else {\n          if(this.debug) { \n            console.log('xAPI: Failed to generate actor, looking for actor in config?'); \n          }\n\n          // Set the LRS specific properties.\n          this.set({\n            registration: this.getLRSAttribute('registration'),\n            actor: this.getLRSAttribute('actor')\n          });\n\n          this.xapiWrapper.strictCallbacks = true;\n\n          callback();\n        }\n      }\n    },\n\n    /**\n     * Triggers 'plugin:endWait' event (if required).\n     */\n    onInitialised: function(error) {\n      this.set({ isInitialised: !!!error });\n\n      Adapt.wait.end();\n\n      _.defer(function() {\n        if (error) {\n          Adapt.trigger('xapi:lrs:initialize:error', error);\n          return;\n        }\n\n        Adapt.trigger('xapi:lrs:initialize:success');\n      });\n    },\n\n    onLanguageChanged: function(newLanguage) {\n      // Update the language.\n      this.set({ displayLang: newLanguage });\n\n      // Since a language change counts as a new attempt, reset the state.\n      this.deleteState(function() {\n        // Send a statement to track the (new) course.\n        this.sendStatement(this.getCourseStatement(ADL.verbs.launched));\n      });\n    },\n\n    /**\n     * Sends 'suspended' and 'terminated' statements to the LRS when the window\n     * is closed or the browser app is minimised on a device. Sends a 'resume'\n     * statement when switching back to a suspended session.\n     */\n    onVisibilityChange: function() {\n      if (document.visibilityState === 'visible') {\n        this.isTerminated = false;\n\n        return this.sendStatement(this.getCourseStatement(ADL.verbs.resumed));\n      }\n\n      this.sendUnloadStatements();\n    },\n\n    // Sends (optional) 'suspended' and 'terminated' statements to the LRS.\n    sendUnloadStatements: function() {\n      if (this.isTerminated) {\n        return;\n      }\n\n      var statements = [];\n\n      if (!this.isComplete) {\n        // If the course is still in progress, send the 'suspended' verb.\n        statements.push(this.getCourseStatement(ADL.verbs.suspended));\n      }\n\n      // Always send the 'terminated' verb.\n      statements.push(this.getCourseStatement(ADL.verbs.terminated));\n\n      // Note: it is not possible to intercept these synchronous statements.\n      this.sendStatementsSync(statements);\n\n      this.isTerminated = true;\n    },\n\n    /**\n    * Check Wrapper to see if all parameters needed are set.\n    */\n    checkWrapperConfig: function() {\n      if (this.xapiWrapper.lrs.endpoint && this.xapiWrapper.lrs.actor\n        && this.xapiWrapper.lrs.auth && this.xapiWrapper.lrs.activity_id ) {\n          return true;\n        } else {\n          return false;\n        }\n    },\n\n    /**\n     * Attempt to extract endpoint, user and password from the config.json.\n     */\n    setWrapperConfig: function() {\n      var keys = ['endpoint', 'user', 'password'];\n      var newConfig = {};\n\n      _.each(keys, function(key) {\n        var val = this.getConfig('_' + key);\n\n        if (val) {\n          // Note: xAPI wrapper requires a trailing slash and protocol to be present\n          if (key === 'endpoint') {\n            val = val.replace(/\\/?$/, '/');\n\n            if (!/^https?:\\/\\//i.test(val)) {\n              Adapt.log.warn('adapt-contrib-xapi: \"_endpoint\" value is missing protocol (defaulting to http://)');\n\n              val = 'http://' + val;\n            }\n          }\n\n          newConfig[key] = val;\n        }\n      }, this);\n\n      if (!_.isEmpty(newConfig)) {\n        this.xapiWrapper.changeConfig(newConfig);\n\n        if (!this.xapiWrapper.testConfig()) {\n          throw new Error('Incorrect xAPI configuration detected');\n        }\n      }\n    },\n\n    /**\n     * Gets the URL the course is currently running on.\n     * @return {string} The URL to the current course.\n     */\n    getBaseUrl: function() {\n      var url = window.location.origin + window.location.pathname;\n\n      Adapt.log.info('adapt-contrib-xapi: Using detected URL (' + url + ') as ActivityID');\n\n      return url;\n    },\n\n    getAttemptDuration: function() {\n      return this.startAttemptDuration + this.getSessionDuration();\n    },\n\n    getSessionDuration: function() {\n      return Math.abs((new Date()) - this.startTimeStamp);\n    },\n\n    /**\n     * Converts milliseconds to an ISO8601 duration\n     * @param {int} inputMilliseconds - Duration in milliseconds\n     * @return {string} - Duration in ISO8601 format\n     */\n    convertMillisecondsToISO8601Duration: function(inputMilliseconds) {\n      var hours;\n      var minutes;\n      var seconds;\n      var i_inputMilliseconds = parseInt(inputMilliseconds, 10);\n      var i_inputCentiseconds;\n      var inputIsNegative = '';\n      var rtnStr = '';\n\n      // Round to nearest 0.01 seconds.\n      i_inputCentiseconds = Math.round(i_inputMilliseconds / 10);\n\n      if (i_inputCentiseconds < 0) {\n        inputIsNegative = '-';\n        i_inputCentiseconds = i_inputCentiseconds * -1;\n      }\n\n      hours = parseInt(((i_inputCentiseconds) / 360000), 10);\n      minutes = parseInt((((i_inputCentiseconds) % 360000) / 6000), 10);\n      seconds = (((i_inputCentiseconds) % 360000) % 6000) / 100;\n\n      rtnStr = inputIsNegative + 'PT';\n      if (hours > 0) {\n        rtnStr += hours + 'H';\n      }\n\n      if (minutes > 0) {\n        rtnStr += minutes + 'M';\n      }\n\n      rtnStr += seconds + 'S';\n\n      return rtnStr;\n    },\n\n    setupListeners: function() {\n      if (!this.get('isInitialised')) {\n        Adapt.log.warn('adapt-contrib-xapi: Unable to setup listeners for xAPI');\n        return;\n      }\n\n      // Allow surfacing the learner's info in _globals.\n      this.getLearnerInfo()\n\n      this.listenTo(Adapt, 'app:languageChanged', this.onLanguageChanged);\n\n      if (this.get('shouldTrackState')) {\n        this.listenTo(Adapt, 'state:change', this.sendState);\n      }\n\n      // Use the config to specify the core events.\n      this.coreEvents = _.extend(this.coreEvents, this.getConfig('_coreEvents'));\n\n      // Always listen out for course completion.\n      this.listenTo(Adapt, 'tracking:complete', this.onTrackingComplete);\n\n      // Conditionally listen to the events.\n      // Visits to the menu.\n      if (this.coreEvents['Adapt']['router:menu']) {\n        this.listenTo(Adapt, 'router:menu', this.onItemExperience);\n      }\n\n      // Visits to a page.\n      if (this.coreEvents['Adapt']['router:page']) {\n        this.listenTo(Adapt, 'router:page', this.onItemExperience);\n      }\n\n      // When an interaction takes place on a question.\n      if (this.coreEvents['Adapt']['questionView:recordInteraction']) {\n        this.listenTo(Adapt, 'questionView:recordInteraction', this.onQuestionInteraction);\n      }\n\n      // When an assessment is completed.\n      if (this.coreEvents['Adapt']['assessments:complete']) {\n        this.listenTo(Adapt, 'assessments:complete', this.onAssessmentComplete);\n      }\n\n      // Standard completion events for the various collection types, i.e.\n      // course, contentobjects, articles, blocks and components.\n      _.each(_.keys(this.coreEvents), function(key) {\n        if (key !== 'Adapt') {\n          var val = this.coreEvents[key];\n\n          if (typeof val === 'object' && val['change:_isComplete'] === true) {\n            this.listenTo(Adapt[key], 'change:_isComplete', this.onItemComplete);\n          }\n        }\n      }, this);\n    },\n\n    /**\n     * Gets an xAPI Activity (with an 'id of the activityId) representing the course.\n     * @returns {ADL.XAPIStatement.Activity} Activity representing the course.\n     */\n    getCourseActivity: function() {\n      var object = new ADL.XAPIStatement.Activity(this.get('activityId'));\n      var name = {};\n      var description = {};\n\n      name[this.get('displayLang')] = this.courseName;\n      description[this.get('displayLang')] = this.courseDescription;\n\n      object.definition = {\n        type: ADL.activityTypes.course,\n        name: name,\n        description: description\n      };\n\n      return object;\n    },\n\n    /**\n     * Creates an xAPI statement related to the Adapt.course object.\n     * @param {object | string} verb - A valid ADL.verbs object or key.\n     * @param {object} [result] - An optional result object.\n     * @return A valid ADL statement object.\n     */\n    getCourseStatement: function(verb, result) {\n      if (typeof result === 'undefined') {\n        result = {};\n      }\n\n      var object = this.getCourseActivity()\n\n      // Append the duration.\n      switch (verb) {\n        case ADL.verbs.launched:\n        case ADL.verbs.initialized:\n        case ADL.verbs.attempted: {\n          result.duration = 'PT0S';\n          break;\n        }\n\n        case ADL.verbs.failed:\n        case ADL.verbs.passed:\n        case ADL.verbs.suspended: {\n          result.duration = this.convertMillisecondsToISO8601Duration(this.getAttemptDuration());\n          break;\n        }\n\n        case ADL.verbs.terminated: {\n          result.duration = this.convertMillisecondsToISO8601Duration(this.getSessionDuration());\n          break;\n        }\n      }\n\n      return this.getStatement(this.getVerb(verb), object, result);\n    },\n\n    /**\n     * Gets a name object from a given model.\n     * @param {Backbone.Model} model - An instance of Adapt.Model (or Backbone.Model).\n     * @return {object} An object containing a key-value pair with the language code and name.\n     */\n    getNameObject: function(model) {\n      var name = {};\n\n      name[this.get('displayLang')] = model.get('displayTitle') || model.get('title');\n\n      return name;\n    },\n\n    /**\n     * Gets the activity type for a given model.\n     * @param {Backbone.Model} model - An instance of Adapt.Model (or Backbone.Model).\n     * @return {string} A URL to the current activity type.\n     */\n    getActivityType: function(model) {\n      var type = '';\n\n      switch (model.get('_type')) {\n        case 'component': {\n          type = model.get('_isQuestionType') ? ADL.activityTypes.interaction : ADL.activityTypes.media;\n          break;\n        }\n        case 'block':\n        case 'article': {\n          type = ADL.activityTypes.interaction; //??\n          break;\n        }\n        case 'course': {\n          type = ADL.activityTypes.course;\n          break;\n        }\n        case 'menu': {\n          type = ADL.activityTypes.module;\n          break;\n        }\n        case 'page': {\n          type = ADL.activityTypes.lesson;\n          break;\n        }\n      }\n\n      return type;\n    },\n\n    /**\n     * Sends an 'answered' statement to the LRS.\n     * @param {ComponentView} view - An instance of Adapt.ComponentView.\n     */\n    onQuestionInteraction: function(view) {\n      if (!view.model || view.model.get('_type') !== 'component' && !view.model.get('_isQuestionType')) {\n        return;\n      }\n\n      if (this.isComponentOnBlacklist(view.model.get('_component'))) {\n        // This component is on the blacklist, so do not send a statement.\n        return;\n      }\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(view.model));\n      var isComplete = view.model.get('_isComplete');\n      var lang = this.get('displayLang');\n      var statement;\n      var description = {};\n\n      description[this.get('displayLang')] = this.stripHtml(view.model.get('body'));\n\n      object.definition = {\n        name: this.getNameObject(view.model),\n        description: description,\n        type: ADL.activityTypes.question,\n        interactionType: view.getResponseType()\n      };\n\n      if (typeof view.getInteractionObject === 'function') {\n        // Get any extra interactions.\n        _.extend(object.definition, view.getInteractionObject());\n\n        // Ensure any 'description' properties are objects with the language map.\n        _.each(_.keys(object.definition), function(key) {\n          if (_.isArray(object.definition[key]) && object.definition[key].length !== 0) {\n            for (var i = 0; i < object.definition[key].length; i++) {\n              if (!object.definition[key][i].hasOwnProperty('description')) {\n                break;\n              }\n\n              if (typeof object.definition[key][i].description === 'string') {\n                var description = {};\n                description[lang] = object.definition[key][i].description;\n\n                object.definition[key][i].description = description;\n              }\n            }\n          }\n        });\n      }\n\n      var result = {\n        score: {\n          raw: view.model.get('_score') || 0\n        },\n        success: view.model.get('_isCorrect'),\n        completion: isComplete,\n        response: this.processInteractionResponse(object.definition.interactionType, view.getResponse())\n      };\n\n      // Answered\n      statement = this.getStatement(this.getVerb(ADL.verbs.answered), object, result);\n\n      this.addGroupingActivity(view.model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Removes the HTML tags/attributes and returns a string.\n     * @param {string} html - A string containing HTML\n     * @returns {string} The same string minus HTML\n     */\n    stripHtml: function(html) {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      return tempDiv.textContent || tempDiv.innerText || '';\n    },\n\n    /**\n     * In order to support SCORM 1.2 and SCORM 2004, some of the components return a non-standard\n     * response.\n     * @param {string} responseType - The type of the response.\n     * @param {string} response - The unprocessed response string.\n     * @returns {string} A response formatted for xAPI compatibility.\n     */\n    processInteractionResponse: function(responseType, response) {\n      switch (responseType) {\n        case 'choice': {\n          response = response.replace(/,|#/g, '[,]');\n\n          break;\n        }\n        case 'matching': {\n          // Example: 1[.]1_1[,]2[.]2_5\n          response = response\n            .split('#')\n            .map(function(val, i) {\n              return (i + 1) + '[.]' + val.replace('.', '_')\n            })\n            .join('[,]');\n          break;\n        }\n      }\n\n      return response;\n    },\n\n    /**\n     * Sends an xAPI statement when an item has been experienced.\n     * @param {AdaptModel} model - An instance of AdaptModel, i.e. ContentObjectModel, etc.\n     */\n    onItemExperience: function(model) {\n      if (model.get('_id') === 'course') {\n        // We don't really want to track actions on the home menu.\n        return;\n      }\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(model));\n      var statement;\n\n      object.definition = {\n        name: this.getNameObject(model),\n        type: this.getActivityType(model)\n      };\n\n      // Experienced.\n      statement = this.getStatement(this.getVerb(ADL.verbs.experienced), object);\n\n      this.addGroupingActivity(model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Checks if a given component is blacklisted from sending statements.\n     * @param {string} component - The name of the component.\n     * @returns {boolean} true if the component exists on the blacklist.\n     */\n    isComponentOnBlacklist: function(component) {\n      return this.get('componentBlacklist').indexOf(component) !== -1;\n    },\n\n    /**\n     * Sends an xAPI statement when an item has been completed.\n     * @param {AdaptModel} model - An instance of AdaptModel, i.e. ComponentModel, BlockModel, etc.\n     * @param {boolean} isComplete - Flag to indicate if the model has been completed\n     */\n    onItemComplete: function(model, isComplete) {\n      if (isComplete === false) {\n        // The item is not actually completed, e.g. it may have been reset.\n        return;\n      }\n\n      // If this is a question component (interaction), do not record multiple statements.\n      if (model.get('_type') === 'component' && model.get('_isQuestionType') === true\n        && this.coreEvents['Adapt']['questionView:recordInteraction'] === true\n        && this.coreEvents['components']['change:_isComplete'] === true) {\n        // Return because 'Answered' will already have been passed.\n        return;\n      }\n\n      if (model.get('_type') === 'component' && this.isComponentOnBlacklist(model.get('_component'))) {\n        // This component is on the blacklist, so do not send a statement.\n        return;\n      }\n\n      var result = { completion: true };\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(model));\n      var statement;\n\n      object.definition = {\n        name: this.getNameObject(model),\n        type: this.getActivityType(model)\n      };\n\n      // Completed.\n      statement = this.getStatement(this.getVerb(ADL.verbs.completed), object, result);\n\n      this.addGroupingActivity(model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Gets a lesson activity for a given page.\n     * @param {string|Adapt.Model} page - Either an Adapt contentObject model of type 'page', or the _id of one.\n     * @returns {XAPIStatement.Activity} Activity corresponding to the lesson.\n     */\n    getLessonActivity: function(page) {\n      var pageModel = (typeof page === 'string')\n        ? Adapt.findById(page)\n        : page\n      var activity = new ADL.XAPIStatement.Activity(this.getUniqueIri(pageModel))\n      var name = this.getNameObject(pageModel)\n\n      activity.definition = {\n        name: name,\n        type: ADL.activityTypes.lesson\n      }\n\n      return activity;\n    },\n\n    /**\n     * Adds a 'grouping' and/or 'parent' value to a statement's contextActivities.\n     * Note: the 'parent' is only added in the case of a question component which is part of\n     * an assessment. All articles, blocks and components are grouped by page.\n     * @param {Adapt.Model} model - Any Adapt model.\n     * @param {ADL.XAPIStatement} statement - A valid xAPI statement object.\n     */\n    addGroupingActivity: function(model, statement) {\n      var type = model.get('_type');\n\n      if (type !== 'course') {\n        // Add a grouping for the course.\n        statement.addGroupingActivity(this.getCourseActivity())\n      }\n\n      if (['article', 'block', 'component'].indexOf(type) !== -1) {\n        // Group these items by page/lesson.\n        var pageModel = model.findAncestor('pages')\n\n        statement.addGroupingActivity(this.getLessonActivity(pageModel));\n      }\n\n      if (type === 'component' && model.get('_isPartOfAssessment')) {\n        // Get the article containing this question component.\n        let articleModel = model.findAncestor('articles')\n\n        if (articleModel && articleModel.has('_assessment') && articleModel.get('_assessment')._isEnabled) {\n          // Set the assessment as the parent.\n          var assessment = {\n            id: articleModel.get('_assessment')._id,\n            articleId: articleModel.get('_id'),\n            type: 'article-assessment',\n            pageId: articleModel.get('_parentId')\n          }\n\n          statement.addParentActivity(this.getAssessmentObject(assessment))\n        }\n      }\n    },\n\n    /**\n     * Takes an assessment state and returns a results object based on it.\n     * @param {object} assessment - An instance of the assessment state.\n     * @return {object} - A result object containing score, success and completion properties.\n     */\n    getAssessmentResultObject: function(assessment) {\n      var result = {\n        score: {\n          scaled: (assessment.scoreAsPercent / 100),\n          raw: assessment.score,\n          min: 0,\n          max: assessment.maxScore\n        },\n        success: assessment.isPass,\n        completion: assessment.isComplete\n      };\n\n      return result;\n    },\n\n    /**\n     * Gets an Activity for use in an xAPI statement.\n     * @param {object} assessment - Object representing the assessment.\n     * @returns {ADL.XAPIStatement.Activity} - Activity representing the assessment.\n     */\n    getAssessmentObject: function(assessment) {\n      // Instantiate a Model so it can be used to obtain an IRI.\n      var fakeModel = new Backbone.Model({\n        _id: assessment.id || assessment.articleId,\n        _type: assessment.type,\n        pageId: assessment.pageId\n      });\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(fakeModel));\n      var name = {};\n\n      name[this.get('displayLang')] = assessment.id || 'Assessment';\n\n      object.definition = {\n        name: name,\n        type: ADL.activityTypes.assessment\n      };\n\n      return object\n    },\n\n    /**\n     * Sends an xAPI statement when an assessment has been completed.\n     * @param {object} assessment - Object representing the state of the assessment.\n     */\n    onAssessmentComplete: function(assessment) {\n      var self = this;\n\n      var object = this.getAssessmentObject(assessment)\n      var result = this.getAssessmentResultObject(assessment);\n      var statement;\n\n      if (assessment.isPass) {\n        // Passed.\n        statement = this.getStatement(this.getVerb(ADL.verbs.passed), object, result);\n      } else {\n        // Failed.\n        statement = this.getStatement(this.getVerb(ADL.verbs.failed), object, result);\n      }\n\n      statement.addGroupingActivity(this.getCourseActivity())\n      statement.addGroupingActivity(this.getLessonActivity(assessment.pageId))\n\n      // Delay so that component completion can be recorded before assessment completion.\n      _.delay(function() {\n        self.sendStatement(statement);\n      }, 500);\n    },\n\n    /**\n     * Gets a valid 'verb' object in the ADL.verbs and returns the correct language version.\n     * @param {object|stirng} verb - A valid ADL verb object or key, e.g. 'completed'.\n     * @return {object} An ADL verb object with 'id' and language specific 'display' properties.\n     */\n    getVerb: function(verb) {\n      if (typeof verb === 'string') {\n        var key = verb.toLowerCase();\n        verb = ADL.verbs[key];\n\n        if (!verb) {\n          Adapt.log.error('adapt-contrib-xapi: Verb \"' + key + '\" does not exist in ADL.verbs object');\n        }\n      }\n\n      if (typeof verb !== 'object') {\n        throw new Error('Unrecognised verb: ' + verb);\n      }\n\n      var lang = this.get('lang') || this.defaultLang;\n\n      var singleLanguageVerb = {\n        id: verb.id,\n        display: {}\n      };\n\n      var description = verb.display[lang];\n\n      if (description) {\n        singleLanguageVerb.display[lang] = description;\n      } else {\n        // Fallback in case the verb translation doesn't exist.\n        singleLanguageVerb.display[this.defaultLang] = verb.display[this.defaultLang];\n      }\n\n      return singleLanguageVerb;\n    },\n\n    /**\n     * Gets a unique IRI for a given model.\n     * @param {AdaptModel} model - An instance of an AdaptModel object.\n     * @return {string} An IRI formulated specific to the passed model.\n     */\n    getUniqueIri: function(model) {\n      var iri = this.get('activityId');\n      var type = model.get('_type');\n\n      if (type !== 'course') {\n        if (type === 'article-assessment') {\n          iri = iri + ['#', 'assessment', model.get('_id')].join('/');\n        } else {\n          iri = iri + ['#/id', model.get('_id')].join('/');\n        }\n      }\n\n      return iri;\n    },\n\n    /**\n     * Handler for the Adapt Framework's 'tracking:complete' event.\n     * @param {object} completionData\n     */\n    onTrackingComplete: function(completionData) {\n      var self = this;\n      var result = {};\n      var completionVerb;\n\n      // Check the completion status.\n      switch (completionData.status) {\n        case COMPLETION_STATE.PASSED: {\n          completionVerb = ADL.verbs.passed;\n          break;\n        }\n\n        case COMPLETION_STATE.FAILED: {\n          completionVerb = ADL.verbs.failed;\n          break;\n        }\n\n        default: {\n          completionVerb = ADL.verbs.completed;\n        }\n      }\n\n      if (completionVerb === ADL.verbs.completed) {\n        result = { completion: true };\n      } else {\n        // The assessment(s) play a part in completion, so use their result.\n        result = this.getAssessmentResultObject(completionData.assessment);\n      }\n\n      // Store a reference that the course has actually been completed.\n      this.isComplete = true;\n\n      _.defer(function() {\n        // Send the completion status.\n        self.sendStatement(self.getCourseStatement(completionVerb, result));\n      });\n    },\n\n    /**\n     * Refresh course progress from loaded state.\n     */\n    restoreState: function() {\n      var state = this.get('state');\n\n      if (_.isEmpty(state)) {\n        return;\n      }\n\n      var Adapt = require('core/js/adapt');\n\n      if (state.components) {\n        _.each(state.components, function(stateObject) {\n          var restoreModel = Adapt.findById(stateObject._id);\n\n          if (restoreModel) {\n            restoreModel.setTrackableState(stateObject);\n          } else {\n            Adapt.log.warn('adapt-contrib-xapi: Unable to restore state for component: ' + stateObject._id);\n          }\n        });\n      }\n\n      if (state.blocks) {\n        _.each(state.blocks, function(stateObject) {\n          var restoreModel = Adapt.findById(stateObject._id);\n\n          if (restoreModel) {\n            restoreModel.setTrackableState(stateObject);\n          } else {\n            Adapt.log.warn('adapt-contrib-xapi: Unable to restore state for block: ' + stateObject._id);\n          }\n        });\n      }\n    },\n\n    /**\n     * Generate an XAPIstatement object for the xAPI wrapper sendStatement methods.\n     * @param {object} verb - A valid ADL.verbs object.\n     * @param {object} object -\n     * @param {object} [result] - optional\n     * @param {object} [context] - optional\n     * @return {ADL.XAPIStatement} A formatted xAPI statement object.\n     */\n    getStatement: function(verb, object, result, context) {\n      var statement = new ADL.XAPIStatement(\n        new ADL.XAPIStatement.Agent(this.get('actor')),\n        verb,\n        object\n      );\n\n      if (result && !_.isEmpty(result)) {\n        statement.result = result;\n      }\n\n      if (context) {\n        statement.context = context;\n      }\n\n      if (this.get('_generateIds')) {\n        statement.generateId();\n      }\n\n      return statement;\n    },\n\n    /**\n     * Sends the state to the or the given model to the configured LRS.\n     * @param {AdaptModel} model - The AdaptModel whose state has changed.\n     */\n    sendState: function(model, modelState) {\n      if (this.get('shouldTrackState') !== true) {\n        return;\n      }\n\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var type = model.get('_type');\n      var state = this.get('state');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n      var collectionName = _.findKey(this.coreObjects, function(o) {\n        return o === type || o.indexOf(type) > -1\n      });\n      var stateCollection = _.isArray(state[collectionName]) ? state[collectionName] : [];\n      var newState;\n\n      if (collectionName !== 'course' && collectionName !== 'offlineStorage') {\n        var index = _.findIndex(stateCollection, { _id: model.get('_id') });\n\n        if (index !== -1) {\n          stateCollection.splice(index, 1, modelState);\n        } else {\n          stateCollection.push(modelState);\n        }\n\n        newState = stateCollection;\n      } else {\n        newState = modelState;\n      }\n\n      // Update the locally held state.\n      state[collectionName] = newState;\n      this.set({\n        state: state\n      });\n\n      // Pass the new state to the LRS.\n      this.xapiWrapper.sendState(activityId, actor, collectionName, registration, newState, null, null, function(error, xhr) {\n        if (error) {\n          Adapt.trigger('xapi:lrs:sendState:error', error);\n        }\n\n        Adapt.trigger('xapi:lrs:sendState:success', newState);\n      });\n    },\n\n    /**\n     * Retrieves the state information for the current course.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    getState: function(callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      var self = this;\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n      var state = {};\n\n      Async.each(_.keys(this.coreObjects), function(type, nextType) {\n        self.xapiWrapper.getState(activityId, actor, type, registration, null, function(error, xhr) {\n          _.defer(function() {\n            if (error) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(error);\n            }\n\n            if (!xhr) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(new Error('\\'xhr\\' parameter is missing from callback'));\n            }\n\n            if (xhr.status === 404) {\n              return nextType();\n            }\n\n            if (xhr.status !== 200) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(new Error('Invalid status code ' + xhr.status + ' returned from getState() call'));\n            }\n\n            var response;\n            var parseError;\n\n            // Check for empty response, otherwise the subsequent JSON.parse() will fail.\n            if (xhr.response === '') {\n              return nextType();\n            }\n\n            try {\n              response = JSON.parse(xhr.response);\n            } catch (e) {\n              parseError = e;\n            }\n\n            if (parseError) {\n              return nextType(parseError);\n            }\n\n            if (!_.isEmpty(response)) {\n              state[type] = response;\n            }\n\n            return nextType();\n          });\n        });\n      }, function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        if (!_.isEmpty(state)) {\n          self.set({ state: state });\n        }\n\n        Adapt.trigger('xapi:stateLoaded');\n\n        callback();\n      });\n    },\n\n    /**\n     * Deletes all state information for the current course.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    deleteState: function(callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      var self = this;\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n \n      Async.each(_.keys(this.coreObjects), function(type, nextType) {\n        self.xapiWrapper.deleteState(activityId, actor, type, registration, null, null, function(error, xhr) {\n          if (error) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(error);\n          }\n\n          if (!xhr) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(new Error('\\'xhr\\' parameter is missing from callback'));\n          }\n\n          if (xhr.status !== 204) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(new Error('Invalid status code ' + xhr.status + ' returned from getState() call'));\n          }\n\n          return nextType();\n        });\n      }, function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        callback();\n      });\n    },\n\n    /**\n     * Retrieve a config item for the current course, e.g. '_activityID'.\n     * @param {string} key - The data attribute to fetch.\n     * @return {object|boolean} The attribute value, or false if not found.\n     */\n    getConfig: function(key) {\n      if (!this.config || key === '' || typeof this.config[key] === 'undefined') {\n        return false;\n      }\n\n      return this.config[key];\n    },\n\n    /**\n     * Retrieve an LRS attribute for the current session, e.g. 'actor'.\n     * @param {string} key - The attribute to fetch.\n     * @return {object|null} the attribute value, or null if not found.\n     */\n    getLRSAttribute: function(key) {\n      if (!this.xapiWrapper || !this.xapiWrapper.lrs || undefined === this.xapiWrapper.lrs[key]) {\n        return null;\n      }\n\n      try {\n        switch(key) {\n          case 'actor': {\n            var actor = JSON.parse(this.xapiWrapper.lrs[key]);\n\n            if (_.isArray(actor.name)) {\n              // Convert the name from an array to a string.\n              actor.name = actor.name[0];\n            }\n\n            if (_.isArray(actor.mbox)) {\n              // Convert mbox from an array to a string.\n              actor.mbox = actor.mbox[0];\n            }\n\n            // If the account is an array, some work will be required.\n            if (_.isArray(actor.account)) {\n              var account = {};\n\n              // Convert 'accountServiceHomePage' to 'homePage'.\n              if (typeof actor.account[0].accountServiceHomePage !== 'undefined') {\n                account.homePage = actor.account[0].accountServiceHomePage;\n              } else if (actor.account[0].homePage !== 'undefined') {\n                account.homePage = actor.account[0].homePage;\n              }\n\n              // Convert 'accountName' to 'name'.\n              if (typeof actor.account[0].accountName !== 'undefined') {\n                account.name = actor.account[0].accountName;\n              } else if (typeof actor.account[0].name !== 'undefined') {\n                account.name = actor.account[0].name;\n              }\n\n              // Out with the old array.\n              delete actor.account;\n\n              // In with the new object.\n              actor.account = account;\n            }\n\n            return actor;\n          }\n          // case 'registration': {\n          //   var registration = this.xapiWrapper.lrs[key];\n          //   if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(registration)) {\n          //     // The 'registration' isn't a valid UUID, generate one.\n          //     return ADL.ruuid();\n          //   } else {\n          //     return registration;\n          //   }\n          // }\n          default:\n            return this.xapiWrapper.lrs[key];\n        }\n      } catch (e) {\n        return null;\n      }\n    },\n\n    getLRSExtendedAttribute: function(key) {\n      var extended = this.getLRSAttribute('extended');\n      if (extended == null) {\n        return null;\n      }\n\n      try {\n        if (key === 'definition') {\n          return JSON.parse(extended.definition);\n        }\n\n        return extended[key];\n      } catch (e) {\n        return null;\n      }\n    },\n\n    /**\n     * Checks that the required properties -- actor and activityId -- are defined, and\n     * logs a warning if any of them are not.\n     * @return {boolean} true if the properties are valid, false otherwise.\n     */\n    validateProps: function() {\n      var errorCount = 0;\n\n      if (!this.get('actor') || typeof this.get('actor') !== 'object') {\n        Adapt.log.warn('adapt-contrib-xapi: \"actor\" attribute not found!');\n        errorCount++;\n      }\n\n      if (!this.get('activityId')) {\n        Adapt.log.warn('adapt-contrib-xapi: \"activityId\" attribute not found!');\n        errorCount++;\n      }\n\n      // if (!this.get('registration')) {\n      //   Adapt.log.warn('adapt-contrib-xapi: \"registration\" attribute not found!');\n      // }\n\n      if (errorCount > 0) {\n        return false;\n      }\n\n      return true;\n    },\n\n    /**\n     * Prepares to send a single xAPI statement to the LRS.\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     * @param {array} [attachments] - An array of attachments to pass to the LRS.\n     */\n    sendStatement: function(statement, callback, attachments) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      if (!statement) {\n        return;\n      }\n\n      Adapt.trigger('xapi:preSendStatement', statement);\n\n      // Allow the trigger above to augment attachments if the attachments\n      // parameter is not set.\n      if (_.isUndefined(attachments) && statement.attachments) {\n        return this.processAttachments(statement, callback);\n      } else {\n        this.onStatementReady(statement, callback, attachments);\n      }\n    },\n\n    /**\n     * Sends statements using the Fetch API in order to make use of the keepalive\n     * feature not available in AJAX requests. This makes the sending of suspended\n     * and terminated statements more reliable.\n     */\n    sendStatementsSync: function(statements) {\n      var lrs = ADL.XAPIWrapper.lrs;\n\n      // Fetch not supported in IE and keepalive/custom headers\n      // not supported for CORS preflight requests so attempt\n      // to send the statement in the usual way\n      if (!window.fetch || this.isCORS(lrs.endpoint)) {\n        return this.sendStatements(statements);\n      }\n\n      var url = lrs.endpoint + 'statements';\n      var credentials = ADL.XAPIWrapper.withCredentials ? 'include' : 'omit';\n      var headers = {\n        'Content-Type': 'application/json',\n        'Authorization': lrs.auth,\n        'X-Experience-API-Version': ADL.XAPIWrapper.xapiVersion\n      };\n\n      // Add extended LMS-specified values to the URL\n      var extended = _.map(lrs.extended, function(value, key) {\n        return key + '=' + encodeURIComponent(value);\n      });\n\n      if (extended.length > 0) {\n        url += (url.indexOf('?') > -1 ? '&' : '?') + extended.join('&');\n      }\n\n      fetch(url, {\n        body: JSON.stringify(statements),\n        cache: 'no-cache',\n        credentials: credentials,\n        headers: headers,\n        mode: 'same-origin',\n        keepalive: true,\n        method: 'POST'\n      }).then(function() {\n        Adapt.trigger('xapi:lrs:sendStatement:success', statements);\n      }).catch(function(error) {\n        Adapt.trigger('xapi:lrs:sendStatement:error', error);\n      })\n    },\n\n    /**\n     * Determine if sending the statement involves a Cross Origin Request\n     * @param {string} url - the lrs endpoint\n     * @returns {boolean}\n     */\n    isCORS: function(url) {\n      var urlparts = url.toLowerCase().match(/^(.+):\\/\\/([^:\\/]*):?(\\d+)?(\\/.*)?$/);\n      var isCORS = (location.protocol.toLowerCase().replace(':', '') !== urlparts[1] || location.hostname.toLowerCase() !== urlparts[2]);\n      if (!isCORS) {\n        var urlPort = (urlparts[3] === null ? (urlparts[1] === 'http' ? '80' : '443') : urlparts[3]);\n        isCORS = (urlPort === location.port);\n      }\n\n      return isCORS;\n    },\n\n    /**\n     * Send an xAPI statement to the LRS once all async operations are complete\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     * @param {array} [attachments] - An array of attachments to pass to the LRS.\n     */\n    onStatementReady: function(statement, callback, attachments) {\n      this.xapiWrapper.sendStatement(statement, function(error) {\n        if (error) {\n          Adapt.trigger('xapi:lrs:sendStatement:error', error);\n          return callback(error);\n        }\n\n        Adapt.trigger('xapi:lrs:sendStatement:success', statement);\n        return callback();\n      }, attachments);\n    },\n\n    /**\n     * Process any attachments that have been added to the statement object by\n     * intercepting the send operation at the xapi:preSendStatement trigger\n     * If a url is specified for an attachment then retrieve the text content\n     * and store this instead\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     */\n    processAttachments: function(statement, callback) {\n      var attachments = statement.attachments;\n\n      Async.each(attachments, function(attachment, nextAttachment) {\n\n        // First check the attachment for a value\n        if (attachment.value) {\n          nextAttachment();\n        } else if (attachment.url) {\n          // If a url is specified then we need to obtain the string value\n          // Use native xhr so we can set the responseType to 'blob'\n          var xhr = new XMLHttpRequest();\n          xhr.onreadystatechange = function() {\n            if (this.readyState === 4 && this.status === 200) {\n\n              // Use FileReader to retrieve the blob contents as a string\n              var reader = new FileReader();\n              reader.onload = function() {\n\n                // Store the string value in the attachment object and\n                // delete the url property which is no longer needed\n                attachment.value = reader.result;\n                delete attachment.url;\n                nextAttachment()\n              };\n              reader.readAsBinaryString(this.response);\n            }\n          };\n          xhr.open('GET', attachment.url);\n          xhr.responseType = 'blob';\n          xhr.send();\n        } else {\n          Adapt.log.warn('Attachment object contained neither a value or url property.');\n        }\n      }, function() {\n        delete statement.attachments;\n        this.onStatementReady(statement, callback, attachments);\n      }.bind(this));\n    },\n\n    /**\n     * Sends multiple xAPI statements to the LRS.\n     * @param {ADL.XAPIStatement[]} statements - An array of valid ADL.XAPIStatement objects.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    sendStatements: function(statements, callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      if (!statements || statements.length === 0) {\n        return;\n      }\n\n      Adapt.trigger('xapi:preSendStatements', statements);\n\n      // Rather than calling the wrapper's sendStatements() function, iterate\n      // over each statement and call sendStatement().\n      Async.each(statements, function(statement, nextStatement) {\n        this.sendStatement(statement, nextStatement);\n      }.bind(this), function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        callback();\n      });\n    },\n\n    getGlobals: function() {\n      return _.defaults(\n        (\n          Adapt &&\n          Adapt.course &&\n          Adapt.course.get('_globals') &&\n          Adapt.course.get('_globals')._extensions &&\n          Adapt.course.get('_globals')._extensions._xapi\n        ) || {},\n        {\n          'confirm': 'OK',\n          'lrsConnectionErrorTitle': 'LRS not available',\n          'lrsConnectionErrorMessage': 'We were unable to connect to your Learning Record Store (LRS). This means that your progress cannot be recorded.'\n        }\n      );\n    },\n\n    showError: function() {\n      if (this.getConfig('_lrsFailureBehaviour') === 'ignore') {\n        return;\n      }\n\n      var notifyObject = {\n        title: this.getGlobals().lrsConnectionErrorTitle,\n        body: this.getGlobals().lrsConnectionErrorMessage,\n        confirmText: this.getGlobals().confirm\n      };\n\n      // Setup wait so that notify does not get dismissed when the page loads\n      Adapt.wait.begin();\n      Adapt.trigger('notify:alert', notifyObject);\n      // Ensure notify appears on top of the loading screen\n      $('.notify').css({ position: 'relative', zIndex: 5001 });\n      Adapt.once('notify:closed', Adapt.wait.end);\n    }\n  });\n\n  xAPI.getInstance = function() {\n    if (!xAPI.instance) {\n      xAPI.instance = new xAPI();\n    }\n\n    return xAPI.instance;\n  };\n\n  /** Adapt event listeners begin here */\n  Adapt.once('app:dataLoaded', function() {\n    var xapi = xAPI.getInstance();\n\n    xapi.initialize();\n\n    Adapt.on('adapt:initialize', function() {\n      xapi.setupListeners();\n    });\n\n    Adapt.on('xapi:lrs:initialize:error', function(error) {\n      Adapt.log.error('adapt-contrib-xapi: xAPI Wrapper initialisation failed', error);\n      xapi.showError();\n    });\n\n    Adapt.on('xapi:lrs:sendStatement:error', function(error) {\n      xapi.showError();\n    });\n\n    Adapt.on('xapi:lrs:sendState:error', function(error) {\n      xapi.showError();\n    });\n  });\n\n  return xAPI.getInstance();\n});\n","define([\n  'core/js/adapt',\n  './adapt-contrib-xapi'\n], function(Adapt, xapi) {\n\n  //xAPI handler for Adapt.offlineStorage interface.\n  var offlineStorage = {\n\n    load: function() {\n      // Use a lightweight fake model to pass into xAPI.sendState\n      var fakeModel = {\n        get: function() {\n          return 'offlineStorage';\n        }\n      };\n\n      var store = new Backbone.Model();\n      var isDataRestored = false;\n\n      Adapt.offlineStorage.initialize({\n\n        get: function(name) {\n          if (!name) {\n            return this.getAll();\n          }\n\n          if (!this.useTemporaryStore() && name.toLowerCase() === 'learnerinfo') {\n            return this.getLearnerInfo();\n          }\n\n          return store.get(name);\n        },\n\n        getAll: function() {\n          if (!isDataRestored) {\n            var state = xapi.get('state') || {};\n            store.set(state.offlineStorage);\n            isDataRestored = true;\n          }\n\n          //If not connected return just the store.\n          if (this.useTemporaryStore()) {\n            return store.toJSON();\n          }\n\n          return _.extend(store.toJSON(), {\n            learnerInfo: this.getLearnerInfo()\n          });\n        },\n\n        set: function(name, value) {\n          store.set(name, value);\n\n          // xAPI may not yet be initialised so use a soft trigger rather than hard calling xAPI.sendState\n          Adapt.trigger('state:change', fakeModel, store.toJSON());\n        },\n\n        useTemporaryStore: function() {\n          return !xapi.get('isInitialised');\n        },\n\n        /**\n         * @returns {{id: string, name: string, firstname: string, lastname: string}} The learner's id, full name (in the format Firstname Lastname), first and last names\n         */\n        getLearnerInfo: function() {\n          var actor = xapi.get('actor') || {};\n          var name = actor.name || '';\n          var lastname;\n          var firstname;\n          var matches = name.match(/(\\S+)\\s(.+)/);\n\n          if (matches && matches.length > 2) {\n            lastname = matches[2];\n            firstname = matches[1];\n          } else {\n            console.log('xAPI: actor name not in \"firstname lastname\" format');\n          }\n\n          return {\n            id: this.getLearnerId(actor),\n            name: name,\n            lastname: lastname,\n            firstname: firstname\n          };\n        },\n\n        /**\n         * Get the learner's id by checking the actor properties in the order 'name', 'openid', 'mbox'\n         * @param {object} actor\n         * @return {string} the learner's unique id\n         */\n        getLearnerId: function(actor) {\n          var name = actor.account && actor.account.name;\n\n          if (name) {\n            return name;\n          }\n\n          if (actor.openid) {\n            return actor.openid;\n          }\n\n          if (typeof actor.mbox === 'string' && actor.mbox.length > 0) {\n            return actor.mbox.replace('mailto:', '')\n          }\n\n          console.log('xAPI: could not determine the learner\\'s ID');\n\n          return null;\n        }\n\n      });\n    }\n\n  };\n\n  return offlineStorage;\n\n});\n","define([\n  'core/js/adapt',\n  './adapt-offlineStorage-xapi',\n  './adapt-contrib-xapi',\n], function(Adapt, offlineStorage) {\n\n  Adapt.on('app:dataLoaded', initialise);\n\n  function initialise() {\n    var config = Adapt.config.get('_xapi') || {};\n\n    if (!config._isEnabled) {\n      return;\n    }\n\n    offlineStorage.load();\n\n    // Wait for offline storage to be restored if _shouldTrackState is enabled\n    var successEvent = config._shouldTrackState ? 'xapi:stateLoaded' : 'xapi:lrs:initialize:success';\n\n    // Ensure that the course still loads if there is a connection error\n    Adapt.once('xapi:lrs:initialize:error ' + successEvent, function() {\n      Adapt.offlineStorage.get();\n      Adapt.offlineStorage.setReadyStatus();\n    });\n  }\n\n});","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var DevtoolsModel = Backbone.Model.extend({\n\n    initialize:function() {\n      var config = Adapt.config.has('_devtools') ? Adapt.config.get('_devtools') : this.getDefaultConfig();\n      this.set(_.extend({\n        '_trickleEnabled':false,\n        '_hintingAvailable':true,\n        '_hintingEnabled':false,\n        '_toggleFeedbackAvailable':true,\n        '_feedbackEnabled':true,\n        '_autoCorrectAvailable':true,\n        '_autoCorrectEnabled':false,\n        '_altTextAvailable':true,\n        '_altTextEnabled':false,\n        '_tutorListener':null,\n        '_unlockAvailable':true,\n        '_unlocked':false,\n        '_toggleBankingAvailable':true,\n        '_traceFocusAvailable':true,\n        '_traceFocusEnabled':false,\n        '_extended':true\n      }, config));\n    },\n\n    getDefaultConfig:function() {\n      return {\n        '_isEnabled':false,\n        '_extended':true\n      };\n    },\n\n    toggleFeedback:function() {\n      this.set('_feedbackEnabled', !this.get('_feedbackEnabled'));\n    },\n\n    toggleHinting:function() {\n      this.set('_hintingEnabled', !this.get('_hintingEnabled'));\n    },\n\n    toggleAutoCorrect:function() {\n      this.set('_autoCorrectEnabled', !this.get('_autoCorrectEnabled'));\n    },\n\n    toggleAltText:function() {\n      this.set('_altTextEnabled', !this.get('_altTextEnabled'));\n    },\n\n    toggleTraceFocus:function() {\n      this.set('_traceFocusEnabled', !this.get('_traceFocusEnabled'));\n    }\n  });\n\n  return DevtoolsModel;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var Hinting = _.extend({\n\n    initialize:function() {\n      this.listenTo(Adapt.devtools, 'change:_hintingEnabled', this.toggleHints);\n    },\n\n    toggleHints:function() {\n      var contentObject = Adapt.findById(Adapt.location._currentId);\n      var components = contentObject.findDescendantModels('components');\n      var renderedQuestions = _.filter(components, function(m) {\n        return m.get('_isQuestionType') === true && m.get('_isReady') === true;\n      });\n\n      _.each(renderedQuestions, function(model) {\n        this.setHinting($('.'+model.get('_id')), model, Adapt.devtools.get('_hintingEnabled'));\n      }, this);\n\n      if (Adapt.devtools.get('_hintingEnabled')) this.listenTo(Adapt, 'componentView:postRender', this.onComponentRendered);\n      else this.stopListening(Adapt, 'componentView:postRender');\n    },\n\n    onComponentRendered:function(view, hintingEnabled) {\n      if (view.model.get('_isQuestionType')) this.setHinting(view.$el, view.model);\n    },\n\n    setHinting:function($el, model, hintingEnabled) {\n      switch (model.get('_component')) {\n        case 'mcq':this.setMcqHinting($el, model, hintingEnabled !== false); break;\n        case 'gmcq':this.setGmcqHinting($el, model, hintingEnabled !== false); break;\n        case 'matching':this.setMatchingHinting($el, model, hintingEnabled !== false); break;\n        case 'ppq':this.setPpqHinting($el, model, hintingEnabled !== false); break;\n        case 'slider':this.setSliderHinting($el, model, hintingEnabled !== false); break;\n        case 'textinput':this.setTextInputHinting($el, model, hintingEnabled !== false); break;\n        case 'questionStrip':this.setQuestionStripHinting($el, model, hintingEnabled !== false); break;\n      }\n    },\n\n    setMcqHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          $el.find('.js-mcq-item').eq(index).addClass(item._shouldBeSelected ? 'hint-is-correct' : 'hint-is-incorrect');\n        });\n      }\n      else {\n        $el.find('.js-mcq-item').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setGmcqHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          $el.find('.js-mcq-item').eq(index).addClass(item._shouldBeSelected ? 'hint-is-correct' : 'hint-is-incorrect');\n        });\n      }\n      else {\n        $el.find('.js-mcq-item').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setMatchingHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, itemIndex) {\n          var $item = $el.find('.item').eq(itemIndex);\n          var $options = $item.find('.js-dropdown-list-item');\n          _.each(item._options, function(option, optionIndex) {\n            /*if (Modernizr.touch) {*/\n            if (option._isCorrect) $options.eq(optionIndex+1).find('.js-dropdown-list-item-inner').append('<span class=\"hint\"> (correct)</span>');\n            /*}\n            else {\n              $options.eq(optionIndex+1).addClass(option._isCorrect ? 'hintCorrect' : 'hintIncorrect');\n            }*/\n          });\n        });\n      }\n      else {\n        /*if (Modernizr.touch) */\n        $el.find('.js-dropdown-list-item-inner .hint').remove();\n        /*else $el.find('option').removeClass('hintCorrect hintIncorrect');*/\n      }\n    },\n\n    setSliderHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        var correctAnswer = model.get('_correctAnswer');\n        if (correctAnswer) {\n          $el.find('.js-slider-number').addClass('hint-is-incorrect');\n          $el.find('.js-slider-number[data-id=\"'+correctAnswer+'\"]').removeClass('hint-is-incorrect').addClass('hint-is-correct');\n        }\n        else {\n          $el.find('.js-slider-number').addClass('hint-is-incorrect');\n          var bottom = model.get('_correctRange')._bottom;\n          var top = model.get('_correctRange')._top;\n          for (var i = bottom; i <= top; i++)\n          $el.find('.js-slider-number[data-id=\"'+i+'\"]').removeClass('hint-is-incorrect').addClass('hint-is-correct');\n        }\n      }\n      else {\n        $el.find('.js-slider-number').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setTextInputHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          if (model.get('_answers')) {\n            // generic answers\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', model.get('_answers')[index][0]);\n          }\n          else {\n            // specific answers\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', item._answers[0]);\n          }\n        });\n      }\n      else {\n        _.each(model.get('_items'), function(item, index) {\n          if (model.get('_answers')) {\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', item.placeholder);\n          }\n        });\n      }\n    },\n\n    // --------------------------------------------------\n    // --------------------------------------------------\n    // NEEDS UPDATING?\n    // --------------------------------------------------\n    // --------------------------------------------------\n    setQuestionStripHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, itemIndex) {\n          var $item = $el.find('.component-item').eq(itemIndex);\n          var $subItems = $item.find('.qs-strapline-header-inner:not(.qs-noop) .qs-strapline-title-inner');\n          _.each(item._subItems, function(subItem, subItemIndex) {\n            if (subItem._isCorrect) $subItems.eq(subItemIndex).append('<span class=\"hint\"> (correct)</span>');\n          });\n        });\n      }\n      else {\n        $el.find('.qs-strapline-title-inner .hint').remove();\n      }\n    },\n\n    setPpqHinting:function($el, model, hintingEnabled) {console.log('setPpqHinting', hintingEnabled);\n      if (!model.get('_developerMode')) {\n        $el.find('.ppq-correct-zone').toggleClass('display-none', !hintingEnabled);\n        $el.find('.ppq-pinboard').toggleClass('developer-mode', hintingEnabled);\n      }\n    }\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    Hinting.initialize();\n  });\n\n  return Hinting;\n\n});\n","define(function(require) {\n\n  function isQuestionSupported(model) {\n    switch (model.get('_component')) {\n      case 'mcq':\n      case 'gmcq':\n      case 'matching':\n      case 'ppq':\n      case 'slider':\n      case 'textinput':\n      case 'questionStrip':return true;\n      default: return false;\n    }\n  }\n\n  return isQuestionSupported;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var ItemsQuestionModel = undefined;\n  var Hinting = require('./hinting');\n  var isQuestionSupported = require('./is-question-supported');\n\n  var AutoAnswer = _.extend({\n\n    mousedownHandlers:[],\n\n    initialize:function() {\n      this.listenTo(Adapt, {\n        'componentView:postRender': this.componentRendered,\n        'remove': this.onRemove\n      });\n    },\n\n    componentRendered:function(view) {\n      if (isQuestionSupported(view.model)) {\n        if (view.buttonsView) {\n          var handler = _.bind(this.onQuestionMouseDown, this, view);\n          view.$el.on('mousedown', handler);\n          this.mousedownHandlers.push({\n            element:view.$el,\n            handler:handler\n          });\n        }\n        else if (Adapt.devtools.get('_debug')) {\n          console.warn('adapt-devtools: could not find submit button on '+view.model.get('_id'));\n        }\n      }\n    },\n\n    onQuestionMouseDown:function(view, e) {\n      // remove hinting if enabled\n      if (Adapt.devtools.get('_hintingEnabled')) Hinting.setHinting(view.$el, view.model, false);\n\n      if ((e.ctrlKey && !e.shiftKey) || Adapt.devtools.get('_autoCorrectEnabled')) {\n        this.answer(view);\n      }\n      else if (e.ctrlKey && e.shiftKey) {\n        this.answer(view, true);\n      }\n    },\n\n    isItemsQuestionModel:function(model) {\n      if (ItemsQuestionModel) {\n        return model instanceof ItemsQuestionModel;\n      } else if (ItemsQuestionModel === null) {\n        return false;\n      }\n\n      if (require.defined('core/js/models/'+'itemsQuestionModel')) {\n        ItemsQuestionModel = require('core/js/models/'+'itemsQuestionModel');\n        return model instanceof ItemsQuestionModel;\n      } else {\n        ItemsQuestionModel = null;\n        return false;\n      }\n    },\n\n    answer:function(view, incorrectly) {\n      if (view.model.get('_isSubmitted')) return;\n\n      if (Adapt.devtools.get('_debug')) {\n        console.log('adapt-devtools: answer '+view.model.get('_id')+(incorrectly === true ? ' incorrectly' : ''));\n      }\n\n      if (incorrectly === true) {\n        switch (view.model.get('_component')) {\n          case 'mcq':this.answerMultipleChoiceIncorrectly(view); break;\n          case 'gmcq':this.answerMultipleChoiceIncorrectly(view, true); break;\n          case 'matching':this.answerMatchingIncorrectly(view); break;\n          case 'ppq':this.answerPpqIncorrectly(view); break;\n          case 'slider':this.answerSliderIncorrectly(view); break;\n          case 'textinput':this.answerTextInputIncorrectly(view); break;\n          case 'questionStrip':this.answerQuestionStripIncorrectly(view); break;\n          default:this.answerUnsupportedIncorrectly(view);\n        }\n      }\n      else {\n        switch (view.model.get('_component')) {\n          case 'mcq':this.answerMultipleChoice(view); break;\n          case 'gmcq':this.answerMultipleChoice(view, true); break;\n          case 'matching':this.answerMatching(view); break;\n          case 'ppq':this.answerPpq(view); break;\n          case 'slider':this.answerSlider(view); break;\n          case 'textinput':this.answerTextInput(view); break;\n          case 'questionStrip':this.answerQuestionStrip(view); break;\n          default:this.answerUnsupported(view);\n        }\n      }\n\n      view.$('.js-btn-action').trigger('click');\n    },\n\n    answerMultipleChoice:function(view, isGraphical) {\n      var items = this.isItemsQuestionModel(view.model) ? view.model.getChildren().toJSON() : view.model.get('_items');\n      var noCorrectOptions = _.where(items, {'_shouldBeSelected':true}).length == 0;\n\n      if (this.isItemsQuestionModel(view.model)) {\n        if (noCorrectOptions) {\n          view.model.getItem(_.random(items.length - 1)).set('_isActive', true);\n        } else {\n          view.model.getChildren().forEach(item => {\n            if (item.get('_shouldBeSelected') && !item.get('_isActive') || !item.get('_shouldBeSelected') && item.get('_isActive')) {\n              item.toggleActive();\n            }\n          })\n        }\n        return;\n      }\n\n      if (noCorrectOptions) {\n        if (_.where(items, {'_isSelected':true}).length == 0) {\n          view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(_.random(items.length - 1)).trigger('change');\n        }\n      } else {\n        _.each(items, function(item, index) {\n          if (item._shouldBeSelected && !item._isSelected || !item._shouldBeSelected && item._isSelected) {\n            view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(index).trigger('change');\n          }\n        });\n      }\n    },\n\n    answerMultipleChoiceIncorrectly:function(view, isGraphical) {\n      var model = view.model;\n      var items = this.isItemsQuestionModel(model) ? model.getChildren().toJSON() : model.get('_items');\n      var itemCount = items.length;\n      var selectionStates = _.times(itemCount, function() {return false;});\n      // number of items that should be selected\n      var nShould = _.where(items, {_shouldBeSelected:true}).length;\n      // and number that should not\n      var nShouldNot = itemCount - nShould;\n      // decide how many items to select\n      var nSelect = model.get('_selectable');\n      // decide how many of these should be incorrect\n      var nIncorrect = nShouldNot == 0 ? 0 : _.random(nShould == 1 ? 1 : 0, Math.min(nShouldNot, nSelect));\n      // and how many should be correct\n      var nCorrect = nIncorrect == 0 ? _.random(1, Math.min(nShould - 1, nSelect)) : _.random(0, Math.min(nShould, nSelect - nIncorrect));\n\n      if (itemCount == 1 || nSelect == 0) {\n        console.warn('adapt-devtools: not possible to answer '+model.get('_id')+' incorrectly');\n        return;\n      }\n\n      for (var j = 0; j < nIncorrect; j++) {\n        // start at a random position in items to avoid bias (err is contingency for bad data)\n        for (var k=_.random(itemCount), err=itemCount, found=false; !found && err>=0; k++, err--) {\n          var index = k%itemCount;\n          if (selectionStates[index] === false) {\n            if (!items[index]._shouldBeSelected) selectionStates[index] = found = true;\n          }\n        }\n      }\n      for (var j = 0; j < nCorrect; j++) {\n        // start at a random position in items to avoid bias (err is contingency for bad data)\n        for (var k=_.random(itemCount), err=itemCount, found=false; !found && err>=0; k++, err--) {\n          var index = k%itemCount;\n          if (selectionStates[index] === false) {\n            if (items[index]._shouldBeSelected) selectionStates[index] = found = true;\n          }\n        }\n      }\n\n      if (this.isItemsQuestionModel(view.model)) {\n        view.model.getChildren().forEach((item, index) => {\n          if (selectionStates[index] && !item.get('_isActive') || !selectionStates[index] && item.get('_isActive')) {\n            item.toggleActive();\n          }\n        })\n        return;\n      }\n\n      _.each(items, function(item, index) {\n        if (selectionStates[index] && !item._isSelected || !selectionStates[index] && item._isSelected) {\n          view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(index).trigger('change');\n        }\n      });\n    },\n\n    answerMatching:function(view) {\n      _.each(view.model.get('_items'), function(item, itemIndex) {\n        var noCorrectOptions = _.where(item._options, {'_isCorrect':true}).length == 0;\n\n        if (noCorrectOptions) {\n          if (!view.dropdowns[itemIndex].getFirstSelectedItem()) {\n            var i = _.random(item._options.length - 1);\n            view.selectValue(itemIndex, i);\n          }\n        } else {\n          _.each(item._options, function(option, optionIndex) {\n            if (option._isCorrect) {\n              view.selectValue(itemIndex, option._index);\n            }\n          });\n        }\n      });\n    },\n\n    answerMatchingIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n\n      _.each(items, function(item, itemIndex) {\n        var $select = view.$('select').eq(itemIndex);\n        var $options = $select.find('option');\n        // check if this item is to be answered incorrectly\n        if (selectionStates[itemIndex]) {\n          // start at a random position in options to avoid bias (err is contingency for bad data)\n          for (var count=item._options.length, i=_.random(count), err=count; err>=0; i++, err--)\n          if (!item._options[i%count]._isCorrect) {\n            if (view.selectValue) {\n              var option = item._options[i%count];\n              view.selectValue(itemIndex, option._index);\n            }\n            else if (view.model.setOptionSelected) {\n              var option = item._options[i%count];\n              $select.val(option.text);\n              $select.trigger('change');\n              view.model.setOptionSelected(itemIndex, i%count, true);\n            } else {\n              $options.eq((i%count)+1).prop('selected', true);\n            }\n            return;\n          }\n        }\n        else {\n          _.each(item._options, function(option, optionIndex) {\n            if (option._isCorrect) {\n              if (view.selectValue) {\n                view.selectValue(itemIndex, option._index);\n              }\n              else if (view.model.setOptionSelected) {\n                $select.val(option.text);\n                $select.trigger('change');\n                view.model.setOptionSelected(itemIndex, optionIndex, true);\n              } else {\n                $options.eq(optionIndex+1).prop('selected', true);\n              }\n            }\n          });\n        }\n      });\n    },\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n    answerSlider:function(view) {\n      var correctAnswer = view.model.get('_correctAnswer');\n      if (correctAnswer) {\n        view.$('.js-slider-number[data-id=\"'+correctAnswer+'\"]').trigger('click');\n      }\n      else {\n        var bottom = view.model.get('_correctRange')._bottom;\n        var top = view.model.get('_correctRange')._top;\n        var d = top - bottom;\n        // select from range at random\n        view.$('.js-slider-number[data-id=\"'+(bottom+Math.floor(Math.random()*(d+1)))+'\"]').trigger('click');\n      }\n    },\n\n    answerSliderIncorrectly:function(view) {\n      var correctAnswer = view.model.get('_correctAnswer');\n      var start = view.model.get('_scaleStart'), end = view.model.get('_scaleEnd');\n      var incorrect = _.times(end-start+1, function(i) {return start+i;});\n      if (correctAnswer) {\n        incorrect.splice(correctAnswer-start, 1);\n      }\n      else {\n        var bottom = view.model.get('_correctRange')._bottom;\n        var top = view.model.get('_correctRange')._top;\n        incorrect.splice(bottom-start, top-bottom+1);\n      }\n      view.$('.js-slider-number[data-id=\"'+_.shuffle(incorrect)[0]+'\"]').trigger('click');\n    },\n\n    answerTextInput:function(view) {\n      var answers = view.model.get('_answers');\n      _.each(view.model.get('_items'), function(item, index) {\n        if (answers) view.$('.js-textinput-textbox').eq(index).val(answers[index][0]).trigger('change'); // generic answers\n        else view.$('.js-textinput-textbox').eq(index).val(item._answers[0]).trigger('change'); // specific answers\n      });\n    },\n\n    answerTextInputIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n      var answers = view.model.get('_answers');\n      _.each(items, function(item, index) {\n        if (selectionStates[index]) {\n          view.$('.js-textinput-textbox').eq(index).val('***4n 1nc0rr3ct 4nsw3r***').trigger('change'); // probably\n        }\n        else {\n          if (answers) view.$('.js-textinput-textbox').eq(index).val(answers[index][0]).trigger('change');\n          else view.$('.js-textinput-textbox').eq(index).val(item._answers[0]).trigger('change');\n        }\n      });\n    },\n\n    // --------------------------------------------------\n    // --------------------------------------------------\n    // NEEDS UPDATING?\n    // --------------------------------------------------\n    // --------------------------------------------------\n    answerQuestionStrip:function(view) {\n      _.each(view.model.get('_items'), function(item, itemIndex) {\n        _.each(item._subItems, function(subItem, subItemIndex) {\n          if (subItem._isCorrect) view.setStage(itemIndex, subItemIndex, true);\n        });\n      });\n    },\n\n    answerQuestionStripIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n\n      _.each(items, function(item, itemIndex) {\n        // check if this item is to be answered incorrectly\n        if (selectionStates[itemIndex]) {\n          // start at a random position in subitems to avoid bias (err is contingency for bad data)\n          for (var count=item._subItems.length, i=_.random(count), err=count; err>=0; i++, err--)\n          if (!item._subItems[i%count]._isCorrect) {\n            view.setStage(itemIndex, i%count, true);\n            return;\n          }\n        }\n        else {\n          _.each(item._subItems, function(subItem, subItemIndex) {\n            if (subItem._isCorrect) view.setStage(itemIndex, subItemIndex, true);\n          });\n        }\n      });\n    },\n\n    answerPpq:function(view) {\n      var model = view.model, items = model.get('_items'), itemCount = items.length;\n      // determine screen size\n      var isDesktop = Adapt.device.screenSize != 'small';\n      // select appropriate pinboard\n      var items = _.pluck(model.get('_items'), isDesktop ? 'desktop' : 'mobile');\n\n      var $pinboard = view.$('.ppq-pinboard');\n      var boardw = $pinboard.width();\n      var boardh = $pinboard.height();\n\n      for (i=0; i < itemCount; i++) {\n        var zone = items[i];\n        var pin = view.getNextUnusedPin();\n        var x = zone.left + zone.width / 2;\n        var y = zone.top + zone.height / 2;\n\n        console.log('using correct position',x+','+y);\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n    },\n\n    answerPpqIncorrectly:function(view) {\n      var model = view.model, items = model.get('_items'), itemCount = items.length;\n      // determine screen size\n      var isDesktop = Adapt.device.screenSize != 'small';\n      // select appropriate pinboard\n      var items = _.pluck(model.get('_items'), isDesktop ? 'desktop' : 'mobile');\n      // decide how many items to select\n      var nSelect = _.random(model.get('_minSelection'), model.get('_maxSelection'));\n      // decide how many of these should be incorrect\n      var nIncorrect = _.random(1, nSelect);\n      // and how many should be correct\n      var nCorrect = nSelect - nIncorrect;\n\n      var $pinboard = view.$('.ppq-pinboard');\n      var boardw = $pinboard.width();\n      var boardh = $pinboard.height();\n\n      console.log('nIncorrect=', nIncorrect, 'nCorrect=', nCorrect);\n\n      var maxSize = function(zone) {\n        return zone.left < 1 && zone.top < 1 && zone.width > 9999 && zone.height > 9999;\n      };\n\n      // work with integers for accuracy and simplicity\n      items = _.map(items, function(item) {\n        return {\n          'left':Math.round(item.left * 100),\n          'top':Math.round(item.top * 100),\n          'width':Math.round(item.width * 100),\n          'height':Math.round(item.height * 100)\n        };\n      });\n\n      if (_.some(items, maxSize) || nSelect == 0) {\n        console.warn('adapt-devtools: not possible to answer '+model.get('_id')+' incorrectly');\n        return;\n      }\n\n      view.resetPins();\n\n      // simplified approach for readability; statistically probable that finding pin positions will be extremely quick\n\n      for (var i=0; i < nIncorrect; i++) {\n        var ok = false;\n        var x, y;\n\n        // find a suitable x-coordinate\n        while (!ok) {\n          x = _.random(1, 10000);\n          ok = !_.some(items, function(zone) {\n            return x >= zone.left && x < zone.left + zone.width && zone.top < 1 && zone.height > 9999;\n          });\n        }\n\n        ok = false;\n\n        // find a suitable y-coordinate\n        while (!ok) {\n          y = _.random(1, 10000);\n          ok = !_.some(items, function(zone) {\n            return x >= zone.left && x < zone.left + zone.width && y >= zone.top && y < zone.top + zone.height;\n          });\n        }\n\n        x = x / 100;\n        y = y / 100;\n\n        console.log('using incorrect position',x+','+y);\n\n        var pin = view.getNextUnusedPin();\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n\n      // decide in which zones to place a pin\n      var correct = _.shuffle(_.times(itemCount, function(i) {return i;}));\n\n      for (i=0; i < nCorrect; i++) {\n        var zone = items[correct[i]];\n        var pin = view.getNextUnusedPin();\n        var x = zone.left + zone.width / 2;\n        var y = zone.top + zone.height / 2;\n\n        x = x / 100;\n        y = y / 100;\n\n        console.log('using correct position',x+','+y);\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n    },\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n    answerUnsupported:function(view) {\n      var model = view.model;\n\n      model.set({\"_isComplete\":true, \"_isInteractionComplete\":true, \"_isCorrect\":true, \"_isSubmitted\":true, \"_score\":1});\n      model.set(\"_attemptsLeft\", Math.max(0, model.get(\"_attempts\") - 1));\n    },\n\n    answerUnsupportedIncorrectly:function(view) {\n      var model = view.model;\n\n      model.set({\"_isComplete\":true, \"_isInteractionComplete\":true, \"_isCorrect\":false, \"_isSubmitted\":true, \"_score\":0});\n      model.set(\"_attemptsLeft\", Math.max(0, model.get(\"_attempts\") - 1));\n    },\n\n    onRemove:function() {\n      this.mousedownHandlers.forEach(tuple => {\n        tuple.element.off('mousedown', tuple.handler);\n      })\n    }\n  }, Backbone.Events);\n\n  Adapt.on('app:dataReady devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    AutoAnswer.initialize();\n  });\n\n  return AutoAnswer;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var AutoAnswer = require('./auto-answer');\n\n  var PassHalfFail = _.extend({\n    syncIterations:1,\n    mouseTarget:null,\n\n    initialize:function() {\n      _.bindAll(this, 'onMouseDown', 'onMouseUp', 'onKeypress', 'onPassHalfFailComplete');\n      this._questionViews = [];\n      this._currentPageId = null;\n      this.listenTo(Adapt, 'pageView:preRender', this.onPagePreRender);\n      this.listenTo(Adapt, 'remove', this.onRemove);\n      $(window).off(\"keypress\", this.onKeypress);\n      $(window).off('mousedown', this.onMouseDown);\n      $(window).off('mouseup', this.onMouseUp);\n      $(window).on(\"keypress\", this.onKeypress);\n      $(window).on('mousedown', this.onMouseDown);\n      $(window).on('mouseup', this.onMouseUp);\n    },\n\n    _completeNonQuestions:function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n      var nonQuestions = _.filter(currentModel.findDescendantModels(\"components\"), function(m) {return m.get('_isQuestionType') !== true;});\n\n      _.each(nonQuestions, function(item) {\n        item.set(\"_isComplete\", true);\n        item.set(\"_isInteractionComplete\", true);\n      });\n    },\n\n    pass:function(callback) {\n      var i = 0, qs = this._questionViews, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i]);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    half:function(callback) {\n      var notSubmitted = function(view) {return !view.model.get('_isSubmitted')};\n      var qs = _.shuffle(_.filter(this._questionViews, notSubmitted));\n      var i = 0, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i], i % 2 == 0);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    fail:function(callback) {\n      var i = 0, qs = this._questionViews, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i], true);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    onPagePreRender:function(view) {\n      this._currentPageId = view.model.get('_id');\n      this.listenTo(Adapt, 'componentView:postRender', this.onComponentRendered);\n    },\n\n    onRemove:function() {\n      this.stopListening(Adapt, 'componentView:postRender', this.onComponentRendered);\n      this._questionViews = [];\n    },\n\n    onComponentRendered:function(view) {\n      // check component is part of current page\n      if (view.model.has('_parentId') && view.model.findAncestor('contentObjects').get('_id') == this._currentPageId) {\n        if (view.model.get('_isQuestionType')) {\n          this._questionViews.push(view);\n        }\n      }\n    },\n\n    onMouseDown:function(e) {\n      if (e.which === 1) this.mouseTarget = e.target;\n    },\n  \n    onMouseUp:function(e) {\n      if (e.which === 1) this.mouseTarget = null;\n    },\n\n    onKeypress:function(e) {\n\t\t\tvar char = String.fromCharCode(e.which).toLowerCase();\n\n\t\t\tvar perform = function(type) {\n\t\t\t\tif (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger(\"trickle:kill\");\n\n\t\t\t\tvar tutorEnabled = Adapt.devtools.get('_feedbackEnabled');\n\n\t\t\t\tif (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', false);\n\n\t\t\t\tif (type == 'pass') this.pass(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\t\t\t\telse if (type == 'half') this.half(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\t\t\t\telse this.fail(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\n\t\t\t\tAdapt.trigger('drawer:closeDrawer');\n\t\t\t}.bind(this);\n\n      if (this.mouseTarget && $('.drawer .devtools').length === 0) {\n        switch (char) {\n          case 'p': return perform('pass');\n          case 'h': return perform('half');\n          case 'f': return perform('fail');\n        }\n      } else {\n        switch (char) {\n          case 'p': return perform('pass');\n          case 'h': return perform('half');\n          case 'f': return perform('fail');\n        }\n      }\n\t\t},\n\n\t\tonPassHalfFailComplete: function(tutorEnabled) {\n\t\t\tconsole.log('onPassHalfFailComplete');\n\n\t\t\tif (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', true);\n\t\t}\n  }, Backbone.Events);\n\n  Adapt.on('app:dataReady devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    PassHalfFail.initialize();\n  });\n\n  return PassHalfFail;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/router'\n], function(Adapt, Router) {\n\n  var ToggleBanking = {\n\n    initialize: function() {\n      Adapt.articles.each(function(m) {\n        var config = this.getConfig(m);\n        if (m.has('_assessment') && m.get('_assessment')._banks && !m.get('_assessment')._banks._isEnabled) {\n          config._assessmentBankDisabled = true;\n        }\n      }, this);\n    },\n\n    getConfig: function(articleModel) {\n      if (!articleModel.has('_devtools')) articleModel.set('_devtools', {});\n      return articleModel.get('_devtools');\n    },\n\n    getBankedAssessmentsInCurrentPage: function() {\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n      var f = function(m) {\n        var config = this.getConfig(m);\n        if (!config._assessmentBankDisabled &&\n          m.has('_assessment') &&\n          m.get('_assessment')._isEnabled &&\n          m.get('_assessment')._banks._split.length > 1) return true;\n\n        return false;\n      };\n\n      return Adapt.location._contentType === 'menu' ? [] : _.filter(pageModel.findDescendantModels('articles'), f, this);\n    },\n\n    toggle: function() {\n      var bankedAssessments = this.getBankedAssessmentsInCurrentPage();\n      var isBankingEnabled = function(m) { return m.get('_assessment')._banks._isEnabled; };\n      var enable = !_.some(bankedAssessments, isBankingEnabled);\n\n      _.each(bankedAssessments, function(articleModel) {\n        articleModel.get('_assessment')._banks._isEnabled = enable;\n        // set properties to trigger setup of assessment data\n        articleModel.set({\n          _attemptInProgress: false,\n          _isPass: false\n        });\n      });\n\n      // reload page\n      Router.handleId(Adapt.location._currentId);\n    }\n  };\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    ToggleBanking.initialize();\n  });\n\n  return ToggleBanking;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/router'\n], function(Adapt, Router) {\n\n  var MapView = Backbone.View.extend({\n\n    events: {\n      'click a': 'onLinkClicked'\n    },\n\n    initialize: function() {\n      this.$('html').addClass('has-devtools-map');\n      this._renderIntervalId = setInterval(this._checkRenderInterval.bind(this), 500);\n      this.listenTo(Adapt.components, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.blocks, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.articles, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.contentObjects, 'change:_isComplete', this.onModelCompletionChanged);\n      this.render();\n    },\n\n    render: function() {\n      var data = this.model;\n      // var startTime = new Date().getTime();\n\n      var template = Handlebars.templates.devtoolsMap;\n      this.$('body').html(template(data));\n\n      // console.log('adapt-devtools: map rendered in ' + ((new Date().getTime())-startTime) + ' ms');\n    },\n\n    remove: function() {\n      clearInterval(this._renderIntervalId);\n      this.$('body').html('Course closed!');\n      this.stopListening();\n      return this;\n    },\n\n    _checkRenderInterval: function() {\n      if (this._invalid) {\n        this._invalid = false;\n        this.render();\n      }\n    },\n\n    _getConfig: function(pageModel) {\n      if (!pageModel.has('_devtools')) pageModel.set('_devtools', {});\n      return pageModel.get('_devtools');\n    },\n\n    _disablePageIncompletePrompt: function(pageModel) {\n      var config = this._getConfig(pageModel);\n\n      if (pageModel.has('_pageIncompletePrompt')) {\n        config._pageIncompletePromptExists = true;\n        if (pageModel.get('_pageIncompletePrompt').hasOwnProperty('_isEnabled')) {\n          config._pageIncompletePromptEnabled = pageModel.get('_pageIncompletePrompt')._isEnabled;\n        }\n      } else {\n        config._pageIncompletePromptExists = false;\n        pageModel.set('_pageIncompletePrompt', {});\n      }\n\n      pageModel.get('_pageIncompletePrompt')._isEnabled = false;\n    },\n\n    _restorePageIncompletePrompt: function(pageModel) {\n      var config = this._getConfig(pageModel);\n\n      if (config._pageIncompletePromptExists) {\n        if (config.hasOwnProperty('_pageIncompletePromptEnabled')) pageModel.get('_pageIncompletePrompt')._isEnabled = config._pageIncompletePromptEnabled;\n        else delete pageModel.get('_pageIncompletePrompt')._isEnabled;\n      } else {\n        pageModel.unset('_pageIncompletePrompt');\n      }\n      delete config._pageIncompletePromptExists;\n      delete config._pageIncompletePromptEnabled;\n    },\n\n    onModelCompletionChanged: function() {\n      this.invalidate();\n    },\n\n    onLinkClicked: function(e) {\n      var $target = $(e.currentTarget);\n      var id = $target.attr('href').slice(1);\n      var model = Adapt.findById(id);\n\n      e.preventDefault();\n\n      if (e.ctrlKey && this.el.defaultView) {\n        id = id.replace(/-/g, '');\n        this.el.defaultView[id] = model;\n        this.el.defaultView.console.log('devtools: add property window.' + id + ':');\n        this.el.defaultView.console.log(model);\n      } else if (e.shiftKey) {\n        this.navigateAndDisableTrickle(id);\n      } else {\n        this.navigateAndDisableTrickleUpTo(id);\n      }\n    },\n\n    invalidate: function() {\n      this._invalid = true;\n    },\n\n    /**\n    * Navigate to the element with the given id (or as closely to it as possible). Disable trickle up to the given id.\n    * N.B. because trickle cannot be reliably manipulated in situ we must reload the page. Trickle remains disabled on\n    * affected article(s)|block(s).\n    */\n    navigateAndDisableTrickleUpTo: function(id) {\n      var model = Adapt.findById(id);\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n\n      // first ensure page incomplete prompt won't activate\n      this._disablePageIncompletePrompt(pageModel);\n\n      // now navigate\n\n      if (model._siblings === 'contentObjects') {\n        Backbone.history.navigate('#/id/' + id, { trigger: true });\n      } else {\n        var level = model.get('_type') === 'component' ? model.getParent() : model;\n        var siblings = level.getParent().getChildren(); var sibling = null;\n        // disable trickle on all preceeding article(s)|block(s)\n        for (var i = 0, count = siblings.indexOf(level); i < count; i++) {\n          sibling = siblings.at(i);\n          console.log('disabling trickle on ' + sibling.get('_id'));\n          if (sibling.has('_trickle')) {\n            sibling.get('_trickle')._isEnabled = false;\n          } else {\n            sibling.set('_trickle', { _isEnabled: false });\n          }\n        }\n        // check if already on page\n        if (Adapt.location._currentId === model.findAncestor('contentObjects').get('_id')) {\n          this.listenToOnce(Adapt, 'pageView:ready', function(view) {\n            _.defer(function() {\n              Adapt.scrollTo($('.' + id));\n              this.checkVisibility(id);\n            }.bind(this));\n          });\n          if (Adapt.location._currentId === Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n          else Router.handleId(Adapt.location._currentId);\n        } else {\n          this.listenToOnce(Adapt, 'pageView:ready', function() {\n            _.defer(function() {\n              this.checkVisibility(id);\n            }.bind(this));\n          });\n          Backbone.history.navigate('#/id/' + id, { trigger: true });\n        }\n      }\n\n      // restore pageIncompletePrompt config\n      this._restorePageIncompletePrompt(pageModel);\n\n      this.invalidate();\n    },\n\n    /**\n    * Navigate to the element with the given id (or as closely to it as possible). Disable trickle on containing\n    * page temporarily.\n    */\n    navigateAndDisableTrickle: function(id) {\n      var model = Adapt.findById(id);\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n\n      // first ensure page incomplete prompt won't activate\n      this._disablePageIncompletePrompt(pageModel);\n\n      if (model._siblings === 'contentObjects') {\n        Backbone.history.navigate('#/id/' + id, { trigger: true });\n      } else {\n        // if already on page ensure trickle is disabled\n        if (Adapt.location._currentId === model.findAncestor('contentObjects').get('_id')) {\n          Adapt.devtools.set('_trickleEnabled', false);\n          Adapt.scrollTo($('.' + id));\n          this.checkVisibility(id);\n        } else {\n          // pick target model to determine trickle config according to trickle version (2.1 or 2.0.x)\n          var targetModel = Adapt.trickle ? model.findAncestor('contentObjects') : Adapt.course;\n\n          // if necessary disable trickle (until page is ready)\n          if (!targetModel.has('_trickle')) {\n            targetModel.set('_trickle', { _isEnabled: false });\n            this.listenToOnce(Adapt, 'pageView:ready', function() {\n              _.defer(function() {\n                targetModel.get('_trickle')._isEnabled = true;\n                this.checkVisibility(id);\n              }.bind(this));\n            });\n          } else if (targetModel.get('_trickle')._isEnabled) {\n            targetModel.get('_trickle')._isEnabled = false;\n            this.listenToOnce(Adapt, 'pageView:ready', function() {\n              _.defer(function() {\n                targetModel.get('_trickle')._isEnabled = true;\n                this.checkVisibility(id);\n              }.bind(this));\n            });\n          }\n\n          Backbone.history.navigate('#/id/' + id, { trigger: true });\n        }\n      }\n\n      // restore pageIncompletePrompt config\n      this._restorePageIncompletePrompt(pageModel);\n\n      this.invalidate();\n    },\n\n    checkVisibility: function(id) {\n      var model = Adapt.findById(id);\n      if ($('.' + id).is(':visible') || model === Adapt.course) return;\n\n      while (!$('.' + id).is(':visible') && model !== Adapt.course) {\n        model = model.getParent();\n        id = model.get('_id');\n      }\n      console.log('adapt-devtools::checkVisibility scrolling to ancestor ' + id);\n      Adapt.scrollTo($('.' + id));\n    }\n  });\n\n  var CourseMap = _.extend({\n    initialize: function() {\n      this.listenTo(Adapt, 'devtools:mapLoaded', this.onMapLoaded);\n      $(window).on('unload', this.onCourseClosed.bind(this));\n\n      function isMenu(options) {\n        if (this.get('_type') !== 'page') {\n          return options.fn(this);\n        }\n        return options.inverse(this);\n      }\n\n      function eachChild(options) {\n        var ret = '';\n        var children = this.getChildren().models;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          ret = ret + options.fn(children[i], { data: { index: i, first: i === 0, last: i === j - 1 } });\n        }\n\n        return ret;\n      }\n\n      function getId(options) {\n        const val = this.get('_id') || '';\n        return val.slice(-6);\n      }\n\n      function getProp(prop, options) {\n        return this.get(prop);\n      }\n\n      function isStringEmpty(str) {\n        return !str || (str.trim && str.trim().length === 0) || ($.trim(str).length === 0);\n      }\n\n      function getTitle(options) {\n        var t = this.get('displayTitle');\n        if (isStringEmpty(t)) t = this.get('title');\n        if (isStringEmpty(t)) t = this.get('_id');\n        return t;\n      }\n\n      function when(prop, options) {\n        if (this.get(prop)) {\n          return options.fn(this);\n        } else {\n          return options.inverse(this);\n        }\n      }\n\n      function isTrickled(options) {\n        var trickleConfig = this.get('_trickle');\n        var trickled = false;\n        var isBlock = this.get('_type') === 'block';\n\n        if (trickleConfig) trickled = (isBlock || trickleConfig._onChildren !== true) && trickleConfig._isEnabled;\n        else if (isBlock) {\n          trickleConfig = this.getParent().get('_trickle');\n          if (trickleConfig) trickled = trickleConfig._onChildren && trickleConfig._isEnabled;\n        }\n\n        if (trickled) {\n          return options.fn(this);\n        } else {\n          return options.inverse(this);\n        }\n      }\n\n      Handlebars.registerHelper('isMenu', isMenu);\n      Handlebars.registerHelper('eachChild', eachChild);\n      Handlebars.registerHelper('getId', getId);\n      Handlebars.registerHelper('getProp', getProp);\n      Handlebars.registerHelper('getTitle', getTitle);\n      Handlebars.registerHelper('when', when);\n      Handlebars.registerHelper('isTrickled', isTrickled);\n    },\n\n    open: function() {\n      if (!this.mapWindow) {\n        this.mapWindow = window.open('assets/map.html', 'Map');\n      } else {\n        this.mapWindow.focus();\n      }\n    },\n\n    onMapClosed: function() {\n      console.log('onMapClosed');\n      this.mapWindow = null;\n    },\n\n    onMapLoaded: function(mapWindow) {\n      console.log('onMapLoaded');\n      this.mapWindow = mapWindow;\n      this.mapWindow.focus();\n      $('html', this.mapWindow.document).addClass($('html', window.document).attr('class'));\n      this.mapView = new MapView({ model: Adapt, el: this.mapWindow.document });\n      $(this.mapWindow).on('unload', this.onMapClosed.bind(this));\n    },\n\n    onCourseClosed: function() {\n      if (this.mapView) {\n        this.mapView.remove();\n        // this.mapWindow.close();\n      }\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    CourseMap.initialize();\n  });\n\n  return CourseMap;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var AdaptModel = require('coreModels/adaptModel');\n  var QuestionView = require('coreViews/questionView');\n\n  var mouseTarget = null;\n\n  function onMouseDown(e) {\n    if (e.which == 1) mouseTarget = e.target;\n  }\n\n  function onMouseUp(e) {\n    if (e.which == 1) mouseTarget = null;\n  }\n\n  function onKeypress(e) {\n    var char = String.fromCharCode(e.which).toLowerCase();\n\n    if (mouseTarget) {\n      if (char == 'm') {\n        var model = Utils.getModelForElement(mouseTarget);\n\n        if (model) {\n          var id = model.get('_id').replace(/-/g, '');\n          window[id] = model;\n          console.log('devtools: add property window.'+id+':');\n          console.log(model.attributes);\n        }\n      }\n    }\n  }\n\n  function getAdaptCoreVersion() {\n    try {\n      if (Adapt.build && Adapt.build.has('package')) return Adapt.build.get('package').version || \">=v3.0.0\";\n      // v2.2.4-v2.2.5 not possible to distinguish\n      if (typeof AdaptModel.prototype.checkCompletionStatusFor == 'function') return \">=v2.2.3\";\n      if (typeof AdaptModel.prototype.setCompletionStatus == 'function') return \">=v2.0.10\";\n      if (typeof AdaptModel.prototype.checkLocking == 'function') return \"v2.0.9\";\n      if (typeof Adapt.checkingCompletion == 'function') return \"v2.0.8\";\n      if (typeof AdaptModel.prototype.getParents == 'function') return \"v2.0.7\";\n      if ($.a11y && $.a11y.options.hasOwnProperty('isIOSFixesEnabled')) return \"v2.0.5-v2.0.6\";\n      if (Adapt instanceof Backbone.Model) return \"v2.0.4\";\n      if (typeof QuestionView.prototype.recordInteraction == 'function') return \"v2.0.2-v2.0.3\";\n      if (typeof Adapt.findById == 'function') return \"v2.0.0-v2.0.1\";\n      return \"v1.x\";\n    }\n    catch (e) {\n      return 'unknown version';\n    }\n  }\n\n  var Utils = {\n    getModelForElement:function(element) {\n      var $target = $(element);\n\n      if ($target.length == 0) return false;\n\n      var id = $target.parents('[data-adapt-id]').data('adapt-id');\n\n      return !id ? false : Adapt.findById(id);\n    }\n  };\n\n  Adapt.once('adapt:initialize', function() {\n    var str = 'Version of Adapt core detected: '+getAdaptCoreVersion();\n    var horz = getHorzLine();\n\n    console.log(horz+'\\nVersion of Adapt core detected: '+getAdaptCoreVersion()+'\\n'+horz);\n\n    function getHorzLine() {\n      for (var s='', i=0, c=str.length; i<c; i++) s+='*';\n      return s;\n    }\n  });\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    $(window).on(\"keypress\", onKeypress);\n    $(window).on(\"mousedown\", onMouseDown);\n    $(window).on(\"mouseup\", onMouseUp);\n\n    // useful for command-line debugging\n    if (!window.Adapt) window.Adapt = Adapt;\n  });\n\n  return Utils;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  function onTrickleBegun() {\n    if (!Adapt.devtools.get('_trickleEnabled')) {\n      console.log('Trickle started');\n      Adapt.devtools.set('_trickleEnabled', true);\n      // listen for user request to end trickle\n      Adapt.devtools.once('change:_trickleEnabled', onTrickleChange);\n    }\n  }\n\n  function onTrickleEnded() {\n    console.log('Trickle ended');\n    Adapt.devtools.off('change:_trickleEnabled', onTrickleChange);\n    Adapt.devtools.set('_trickleEnabled', false);\n  }\n\n  function onTrickleChange() {\n    if (!Adapt.devtools.get('_trickleEnabled')) {\n      // user triggered\n      Adapt.trigger('trickle:kill');\n    }\n  }\n\n  function remove() {\n    if (Adapt.devtools.get('_trickleEnabled')) {\n      onTrickleEnded();\n    }\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    Adapt.on('trickle:interactionInitialize trickle:started', onTrickleBegun);\n    Adapt.on('trickle:kill trickle:finished', onTrickleEnded);\n    Adapt.on('remove', remove);\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  function onShowFeedback() {\n    // trickle waits for tutor to close so pretend that this happens\n    //Adapt.trigger('tutor:opened'); trickle-tutorPlugin doesn't actually listen to this(!)\n    Adapt.trigger('tutor:closed');\n  }\n\n  function hushTutor() {\n    Adapt.devtools.set('_tutorListener', Adapt._events['questionView:showFeedback'].pop());\n    Adapt.on('questionView:showFeedback', onShowFeedback);\n  }\n\n  function reinstateTutor() {\n    Adapt.off('questionView:showFeedback', onShowFeedback);\n\n    if (!Adapt._events.hasOwnProperty('questionView:showFeedback')) {\n      Adapt._events['questionView:showFeedback'] = [];\n    }\n\n    Adapt._events['questionView:showFeedback'].push(Adapt.devtools.get('_tutorListener'));\n  }\n\n  function onFeedbackToggled() {\n    if (Adapt.devtools.get('_feedbackEnabled')) {\n      reinstateTutor();\n      $(document).off('mouseup', '.js-btn-feedback');\n    }\n    else {\n      hushTutor();\n      $(document).on('mouseup', '.js-btn-feedback', onFeedbackButtonClicked);\n    }\n  }\n\n  function onFeedbackButtonClicked(e) {\n    var classes = $(e.currentTarget).parents('.component').attr('class');\n    var componentId = /[\\s]+(c\\-[^\\s]+)/.exec(classes)[1];\n\n    if (componentId) {\n      // bring tutor back temporarily\n      reinstateTutor();\n      // tutor expects a view, but it's not actually needed\n      Adapt.trigger('questionView:showFeedback', {model:Adapt.findById(componentId)});\n      // and hush it again\n      hushTutor();\n    }\n    else console.error('devtools:onFeedbackButtonClicked: malformed component class name');\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (Adapt.devtools.get('_toggleFeedbackAvailable')) {\n      // assume single registrant is adapt-contrib-tutor\n      if (Adapt._events.hasOwnProperty('questionView:showFeedback') && Adapt._events['questionView:showFeedback'].length == 1) {\n        Adapt.devtools.on('change:_feedbackEnabled', onFeedbackToggled);\n      }\n      else {\n        console.warn('devtools: no tutor or multiple registrants of questionView:showFeedback so disabling ability to toggle feedback.');\n        Adapt.devtools.set('_toggleFeedbackAvailable', false);\n      }\n    }\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var AltText = _.extend({\n\n    initialize:function() {\n      this.listenTo(Adapt.devtools, 'change:_altTextEnabled', this.toggleAltText);\n\n      // if available we can use to avoid unnecessary checks\n      if (typeof MutationObserver == 'function') {\n        this.observer = new MutationObserver(_.bind(this.onDomMutation, this));\n      }\n    },\n\n    addTimer:function(fireNow) {\n      this.timerId = setInterval(_.bind(this.onTimer, this), 1000);\n      if (fireNow) this.onTimer();\n    },\n\n    removeTimer:function() {\n      clearInterval(this.timerId);\n    },\n\n    connectObserver:function() {\n      if (this.observer) this.observer.observe(document.getElementById('wrapper'), {\n        childList: true,\n        subtree:true,\n        attributes:true,\n        attributeFilter:['class', 'style']\n      });\n    },\n\n    disconnectObserver:function() {\n      if (this.observer) this.observer.disconnect();\n    },\n\n    toggleAltText:function() {\n      if (Adapt.devtools.get('_altTextEnabled')) {\n        this.addTimer(true);\n        this.connectObserver();\n      }\n      else {\n        this.removeTimer();\n        this.removeAllAnnotations();\n        this.disconnectObserver();\n      }\n    },\n\n    addAnnotation:function($img, $annotation) {\n      var template = Handlebars.templates['devtoolsAnnotation'];\n      var text = $img.attr('alt');\n\n      if (!text) text = $img.attr('aria-label');\n\n      var $annotation = $(template({text:text}));\n\n      if (!text) $annotation.addClass('has-annotation-warning');\n\n      $img.after($annotation);\n      $img.data('annotation', $annotation);\n\n      this.updateAnnotation($img, $annotation);\n    },\n\n    removeAnnotation:function($img, $annotation) {\n      $annotation.remove();\n      $img.removeData('annotation');\n    },\n\n    removeAllAnnotations:function() {\n      $('img').each(_.bind(function(index, element) {\n        var $img = $(element);\n        var $annotation = $img.data('annotation');\n\n        if ($annotation) this.removeAnnotation($img, $annotation);\n      }, this));\n    },\n\n    updateAnnotation:function($img, $annotation) {\n      var position = $img.position();\n      position.left += parseInt($img.css('marginLeft'), 10) + parseInt($img.css('paddingLeft'), 10);\n      position.top += parseInt($img.css('marginTop'), 10) + parseInt($img.css('paddingTop'), 10);\n      $annotation.css(position);\n    },\n\n    onDomMutation:function(mutations) {\n      this.mutated = true;\n    },\n\n    onTimer:function() {\n      if (this.mutated === false) return;\n      if (this.observer) this.mutated = false;\n\n      //console.log('devtools::toggle-alt-text:run check');\n\n      this.disconnectObserver();\n\n      $('img').each(_.bind(function(index, element) {\n        var $img = $(element);\n        var $annotation = $img.data('annotation');\n        var isVisible = $img.is(':visible');\n\n        if (isVisible) {\n          if (!$annotation) this.addAnnotation($img, $annotation);\n          else this.updateAnnotation($img, $annotation);\n        }\n        else if ($annotation) {\n          this.removeAnnotation($img, $annotation);\n        }\n      }, this));\n\n      this.connectObserver();\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    AltText.initialize();\n  });\n\n  return AltText;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var Router = require('coreJS/router');\n\n  function breakCoreLocking() {\n    Adapt.course.unset('_lockType');\n\n    breakLocks(Adapt.contentObjects);\n    breakLocks(Adapt.articles);\n    breakLocks(Adapt.blocks);\n\n    function breakLocks(collection) {\n      collection.each(function(model) {\n        model.unset('_lockType');\n        model.unset('_isLocked');\n      });\n    }\n  }\n\n  function onUnlocked() {\n    if (Adapt.devtools.get('_unlocked')) {\n      breakCoreLocking();\n      // reload the page/menu\n      if (Adapt.location._currentId == Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n      else Router.handleId(Adapt.location._currentId);\n    }\n  }\n\n  // menu unlock legacy (for courses authored prior to v2.0.9 or which otherwise do not use core locking)\n  function onMenuPreRender(view) {\n    if (Adapt.devtools.get('_unlocked')) {\n      if (Adapt.location._currentId == view.model.get('_id')) {\n        view.model.once('change:_isReady', _.bind(onMenuReady, view));\n        view.model.getChildren().each(function(item) {\n          // first pass: attempt to manipulate commonly employed locking mechanisms\n          if (item.has('_lock')) item.set('_lock', item.get('_lock').length > -1 ? [] : false);\n          if (item._lock) item._lock = item._lock.length > -1 ? [] : false;\n          if (item._locked === true) item._locked = false;\n          if (item._isLocked === true) item._isLocked = false;\n        });\n      }\n    }\n  }\n\n  // menu unlock legacy (for courses authored prior to v2.0.9 or which otherwise do not use core locking)\n  function onMenuReady() {\n    if (Adapt.devtools.get('_unlocked')) {\n      // second pass: attempt to enable clickable elements\n      this.$('a, button').prop('disabled', false).css('pointer-events', 'auto');\n    }\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (Adapt.devtools.get('_unlockAvailable')) {\n      Adapt.devtools.on('change:_unlocked', onUnlocked);\n      Adapt.on('menuView:preRender', onMenuPreRender);\n    }\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var Router = require('coreJS/router');\n\n  var buffer = '';\n  var isMouseDown = false;\n  var hitArea = 100;\n  var coords = {};\n  var topLeftTapHold = false;\n  var topRightTapHold = false;\n  var listenType = 0;\n  var timeoutId;\n  var focusableElements = \"a,button,input,select,textarea,[tabindex],label\";\n\n  function onKeypress(e) {\n    var c = String.fromCharCode(e.which).toLowerCase();\n    buffer += c;\n    if (isMouseDown && c == '5' && !Adapt.devtools.get('_isEnabled')) enable();\n    else processBuffer();\n  }\n\n  function onMouseDown() {\n    isMouseDown = true;\n  }\n\n  function onMouseUp() {\n    isMouseDown = false;\n  }\n\n  function processBuffer() {\n    var blen = buffer.length;\n    if (blen > 100) buffer = buffer.substr(1,100);\n    blen = buffer.length;\n\n    if (buffer.substr( blen - (\"kcheat\").length, (\"kcheat\").length  ) == \"kcheat\") {\n      if (!Adapt.devtools.get('_isEnabled')) enable();\n    }\n  }\n\n  function enable() {\n    removeHooks();\n    Adapt.devtools.set('_isEnabled', true);\n    Adapt.trigger('devtools:enable');\n\n    // reload the menu/page\n    if (Adapt.location._currentId == Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n    else Router.handleId(Adapt.location._currentId);\n  }\n\n  function addHooks() {\n    $(window).on(\"keypress\", onKeypress);\n    $(window).on(\"mousedown\", onMouseDown);\n    $(window).on(\"mouseup\", onMouseUp);\n\n    window.kcheat = function() {\n      buffer = \"kcheat\";\n      processBuffer();\n    };\n\n    Router.route('kcheat', 'kcheat', function() {\n      if (window.kcheat) window.kcheat();\n    });\n\n    if (Modernizr.touch) addTouchHook();\n  }\n\n  function removeHooks() {\n    $(window).off(\"keypress\", onKeypress);\n    $(window).off(\"mousedown\", onMouseDown);\n    $(window).off(\"mouseup\", onMouseUp);\n    window.kcheat = undefined;\n    if (Modernizr.touch) removeTouchHook();\n  }\n\n  function addTouchHook() {\n    $('body').on('touchstart', onTouchStart);\n    $('body').on('touchend', onTouchEnd);\n\n    // a11y will stop propagation of event on focusable elements so we need to listen specifically to these\n    $('body').on('touchstart', focusableElements, onTouchStart);\n  }\n\n  function removeTouchHook() {\n    clearTimeout(timeoutId);\n\n    $('body').off('touchstart', onTouchStart);\n    $('body').off('touchend', onTouchEnd);\n    $('body').off('touchstart', focusableElements, onTouchStart);\n  }\n\n  function onTouchStart(event){\n    var touches = event.originalEvent.touches;\n\n    if(touches.length != 1) return;\n\n    coords.x = touches[0].pageX;\n    coords.y = touches[0].pageY;\n\n    if (coords.x >= 0 && coords.x < hitArea && coords.y >= 0 && coords.y < hitArea) {\n      listenType = 1;\n    } else if (coords.x >= $(window).width() - hitArea && coords.x < $(window).width() && coords.y >= 0 && coords.y < hitArea) {\n      listenType = 2;\n    } else {\n      listenType = topLeftTapHold = topRightTapHold = false;\n    }\n\n    if (listenType) {\n      timeoutId = setTimeout(function() {\n        // if finger still held\n        if (listenType) {\n          if (listenType == 1) topLeftTapHold = true;\n          else if (listenType == 2) topRightTapHold = true;\n\n          if (topLeftTapHold && topRightTapHold) {\n            if (window.kcheat) window.kcheat();\n          }\n        }\n      }, 200);\n    }\n  }\n\n  function onTouchEnd(event) {\n    listenType = false;\n    clearTimeout(timeoutId);\n  }\n\n  Adapt.once('adapt:initialize', function() {\n    if (Adapt.devtools.get('_isEnabled')) return;\n\n    // some plugins (e.g. bookmarking) will manipulate the router so defer the call\n    _.defer(function () {addHooks();});\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var TraceFocus = _.extend({\n\n    openingTags:new RegExp(\"<[\\\\w-]+((\\\\s+[\\\\w-]+(\\\\s*=\\\\s*(?:\\\".*?\\\"|'.*?'|[^'\\\">\\\\s]+))*)+\\\\s*|\\\\s*)/?>\"),\n    consoleStyle:'background: lightgray; color: blue',\n\n    initialize:function() {\n      this.onFocusIn = _.bind(this.onFocusIn, this);\n\n      this.listenTo(Adapt.devtools, 'change:_traceFocusEnabled', this.toggleTraceFocus);\n\n      this.toggleTraceFocus();\n    },\n\n    toggleTraceFocus:function() {\n      if (Adapt.devtools.get('_traceFocusEnabled')) {\n        $('body').on('focusin', this.onFocusIn);\n      }\n      else {\n        $('body').off('focusin', this.onFocusIn);\n      }\n    },\n\n    onFocusIn:function(e) {\n      if (!$('html').is('.ie, .Edge')) return console.log('%cfocussed', this.consoleStyle, e.target);\n\n      var $el = $(e.target);\n\n      if (!$el[0] || !$el[0].outerHTML) return console.log('focussed: ', e.target);\n\n      var openingTag = this.openingTags.exec($el[0].outerHTML)[0];\n\n      if (openingTag) {\n        // add some context if possible\n        // strip leading whitespace/nbsp and get first line of text\n        var tokens = $el.text().replace(/[\\s\\xA0]*/, '').split(/\\r\\n|\\r|\\n/);\n\n        if (tokens[0]) openingTag = openingTag.slice(0, 20) + '[...]';\n\n        if ($('html').is('.ie8')) {\n          console.log('focussed: ', openingTag, tokens[0]);\n        } else {\n          console.log('focussed: ', openingTag, tokens[0], $el);\n        }\n      } else {\n        console.log('focussed: '+e.target);\n      }\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    TraceFocus.initialize();\n  });\n\n  return TraceFocus;\n\n});\n","define([\n  'core/js/adapt',\n  './utils'\n], function(Adapt, Utils) {\n\n  var mouseTarget = null;\n\n  function init() {\n    $(window).on('keypress', onKeypress);\n    $(window).on('mousedown', onMouseDown);\n    $(window).on('mouseup', onMouseUp);\n  }\n\n  function onKeypress(e) {\n    var char = String.fromCharCode(e.which).toLowerCase();\n\n    if (mouseTarget) {\n      switch (char) {\n        case 'c': return complete(mouseTarget);\n        case 'r': return reset(mouseTarget);\n      }\n    }\n  }\n\n  function complete(element) {\n    var model = Utils.getModelForElement(element);\n    if (!model) return;\n\n    function doCompletion(component) {\n      component.set('_isComplete', true);\n    }\n\n    var descendantComponents = model.findDescendantModels('components');\n    if (!descendantComponents || descendantComponents.length === 0) {\n      console.log('devtools: completing', model.get('_id'));\n      doCompletion(model);\n      return;\n    }\n\n    console.log('devtools: completing all components in', model.get('_id'));\n    _.each(descendantComponents, function(model) {\n      doCompletion(model);\n    });\n  }\n\n  function reset(element) {\n    var model = Utils.getModelForElement(element);\n    if (!model) return;\n\n    var descendantComponents = model.findDescendantModels('components');\n    if (!descendantComponents || descendantComponents.length === 0) {\n      console.log('devtools: resetting', model.get('_id'));\n      model.reset(true, true);\n      return;\n    }\n    console.log('devtools: resetting all components in', model.get('_id'));\n    _.each(descendantComponents, function(model) {\n      model.reset(true, true);\n    });\n  }\n\n  function onMouseDown(e) {\n    if (e.which === 1) mouseTarget = e.target;\n  }\n\n  function onMouseUp(e) {\n    if (e.which === 1) mouseTarget = null;\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    init();\n  });\n\n});\n","/*\n* adapt-devtools\n* License - http://github.com/adaptlearning/adapt_framework/LICENSE\n* Maintainers - Chris Steele <chris.steele@kineo.com>, Oliver Foster <oliver.foster@kineo.com>\n*/\n\ndefine([\n  'core/js/adapt',\n  'core/js/models/adaptModel',\n  './devtools-model',\n  './pass-half-fail',\n  './toggle-banking',\n  './map',\n  './auto-answer',\n  './utils',\n  './end-trickle',\n  './hinting',\n  './toggle-feedback',\n  './toggle-alt-text',\n  './unlock',\n  './enable',\n  './toggle-trace-focus',\n  './toggle-completion'\n], function(Adapt, AdaptModel, DevtoolsModel, PassHalfFail, ToggleBanking, CourseMap) {\n\n  var navigationView;\n\n  var DevtoolsView = Backbone.View.extend({\n\n    className: 'devtools',\n\n    events: {\n      'click .end-trickle': 'onEndTrickle',\n      'change .hinting input': 'onToggleHinting',\n      'change .banking input': 'onToggleBanking',\n      'change .feedback input': 'onToggleFeedback',\n      'change .auto-correct input': 'onToggleAutoCorrect',\n      'change .alt-text input': 'onToggleAltText',\n      'click .unlock': 'onUnlock',\n      'click .open-map': 'onOpenMap',\n      'click .open-spoor-log': 'onOpenSpoorLog',\n      'click .complete-page': 'onCompletePage',\n      'click .complete-menu': 'onCompleteMenu',\n      'click .pass': 'onPassHalfFail',\n      'click .half': 'onPassHalfFail',\n      'click .fail': 'onPassHalfFail',\n      'change .trace-focus input': 'onToggleTraceFocus'\n    },\n\n    initialize: function() {\n      this.render();\n\n      this._checkUnlockVisibility();\n      this._checkSpoorLogVisibility();\n      this._checkTrickleEndVisibility();\n      this._checkBankingVisibility();\n      this._checkFeedbackVisibility();\n      this._checkHintingVisibility();\n      this._checkAutoCorrectVisibility();\n      this._checkAltTextVisibility();\n      this._checkPassHalfFailVisibility();\n      this._checkCompletePageVisibility();\n      this._checkCompleteMenuVisibility();\n      this._checkTraceFocusVisibility();\n    },\n\n    render: function() {\n      var data = Adapt.devtools.toJSON();\n      var template = Handlebars.templates['devtools'];\n      this.$el.html(template(data));\n      return this;\n    },\n\n    /*************************************************/\n    /** ******************* UNLOCK *******************/\n    /*************************************************/\n\n    _checkUnlockVisibility: function() {\n      // check if function available and not already activated\n      if (!Adapt.devtools.get('_unlockAvailable') || Adapt.devtools.get('_unlocked')) this.$('.unlock').addClass('u-display-none');\n      else this.$('.unlock').toggleClass('u-display-none', !this._checkForLocks());\n    },\n\n    _checkForLocks: function() {\n      if (typeof AdaptModel.prototype.checkLocking !== 'function') return Adapt.location._contentType === 'menu';\n\n      var hasLock = function(model) { return model.has('_lockType'); };\n\n      if (hasLock(Adapt.course)) return true;\n      if (Adapt.contentObjects.some(hasLock)) return true;\n      if (Adapt.articles.some(hasLock)) return true;\n      if (Adapt.blocks.some(hasLock)) return true;\n\n      return false;\n    },\n\n    onUnlock: function() {\n      Adapt.devtools.set('_unlocked', true);\n      this._checkUnlockVisibility();\n    },\n\n    /*************************************************/\n    /** ******************** MAP *********************/\n    /*************************************************/\n\n    onOpenMap: function() {\n      CourseMap.open();\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /*************************************************/\n    /** ******************* SPOOR ********************/\n    /*************************************************/\n\n    _checkSpoorLogVisibility: function() {\n      var spoorInstalled = require.defined('extensions/adapt-contrib-spoor/js/adapt-contrib-spoor');\n      if (spoorInstalled) return;\n      this.$('.open-spoor-log').addClass('is-disabled').attr('disabled', 'disabled');\n    },\n\n    onOpenSpoorLog: function() {\n      Adapt.trigger('drawer:closeDrawer');\n      if (Adapt.spoor) {\n        Adapt.spoor.scorm.showDebugWindow();\n        return;\n      }\n      require('extensions/adapt-contrib-spoor/js/scorm').showDebugWindow();\n    },\n\n    /*************************************************/\n    /** ****************** TRICKLE *******************/\n    /*************************************************/\n\n    _checkTrickleEndVisibility: function() {\n      this.$('.end-trickle').toggleClass('u-display-none', !Adapt.devtools.get('_trickleEnabled'));\n    },\n\n    onEndTrickle: function() {\n      Adapt.devtools.set('_trickleEnabled', false);\n      this._checkTrickleEndVisibility();\n    },\n\n    /*************************************************/\n    /** ************* QUESTION BANKING ***************/\n    /*************************************************/\n\n    _checkBankingVisibility: function() {\n      if (!Adapt.devtools.get('_toggleFeedbackAvailable')) {\n        this.$('.banking').addClass('u-display-none');\n        return;\n      }\n\n      var bankedAssessments = ToggleBanking.getBankedAssessmentsInCurrentPage();\n      var isBankingEnabled = function(m) {return m.get('_assessment')._banks._isEnabled;};\n\n      if (bankedAssessments.length > 0) {\n        this.$('.banking').removeClass('u-display-none');\n        this.$('.banking label').toggleClass('is-selected', _.some(bankedAssessments, isBankingEnabled));\n        return;\n      }\n      this.$('.banking').addClass('u-display-none');\n    },\n\n    onToggleBanking: function() {\n      ToggleBanking.toggle();\n      this._checkBankingVisibility();\n    },\n\n    /*************************************************/\n    /** ********* QUESTION FEEDBACK (TUTOR) **********/\n    /*************************************************/\n\n    _checkFeedbackVisibility: function() {\n      if (Adapt.devtools.get('_toggleFeedbackAvailable')) {\n        this.$('.feedback').removeClass('u-display-none');\n        this.$('.feedback label').toggleClass('is-selected', Adapt.devtools.get('_feedbackEnabled'));\n        return;\n      }\n      this.$('.feedback').addClass('u-display-none');\n    },\n\n    onToggleFeedback: function() {\n      Adapt.devtools.toggleFeedback();\n      this._checkFeedbackVisibility();\n    },\n\n    /*************************************************/\n    /** ************* QUESTION HINTING ***************/\n    /*************************************************/\n\n    _checkHintingVisibility: function() {\n      if (Adapt.devtools.get('_hintingAvailable')) {\n        this.$('.hinting').removeClass('u-display-none');\n        this.$('.hinting label').toggleClass('is-selected', Adapt.devtools.get('_hintingEnabled'));\n        return;\n      }\n      this.$('.hinting').addClass('u-display-none');\n    },\n\n    onToggleHinting: function() {\n      Adapt.devtools.toggleHinting();\n      this._checkHintingVisibility();\n    },\n\n    /*************************************************/\n    /** *************** AUTO CORRECT *****************/\n    /*************************************************/\n\n    _checkAutoCorrectVisibility: function() {\n      if (Adapt.devtools.get('_autoCorrectAvailable')) {\n        this.$('.is-toggle.auto-correct').removeClass('u-display-none');\n        this.$('.is-toggle.auto-correct label').toggleClass('is-selected', Adapt.devtools.get('_autoCorrectEnabled'));\n        this.$('.is-tip.auto-correct').toggleClass('u-display-none', Adapt.devtools.get('_autoCorrectEnabled'));\n        return;\n      }\n      this.$('.auto-correct').addClass('u-display-none');\n    },\n\n    onToggleAutoCorrect: function() {\n      Adapt.devtools.toggleAutoCorrect();\n      this._checkAutoCorrectVisibility();\n    },\n\n    /*************************************************/\n    /** ***************** ALT TEXT *******************/\n    /*************************************************/\n\n    _checkAltTextVisibility: function() {\n      if (Adapt.devtools.get('_altTextAvailable')) {\n        this.$('.is-toggle.alt-text').removeClass('u-display-none');\n        this.$('.is-toggle.alt-text label').toggleClass('is-selected', Adapt.devtools.get('_altTextEnabled'));\n        this.$('.is-tip.alt-text').toggleClass('u-display-none', Adapt.devtools.get('_altTextEnabled'));\n        return;\n      }\n      this.$('.alt-text').addClass('u-display-none');\n    },\n\n    onToggleAltText: function() {\n      Adapt.devtools.toggleAltText();\n      this._checkAltTextVisibility();\n    },\n\n    /*************************************************/\n    /** *************** COMPLETE PAGE ****************/\n    /*************************************************/\n\n    _checkCompletePageVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'page') {\n        this.$('.complete-page').addClass('u-display-none');\n        return;\n      }\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isInteractionComplete: false } });\n\n      this.$('.complete-page').toggleClass('u-display-none', incomplete.length === 0);\n\n    },\n\n    onCompletePage: function(e) {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isInteractionComplete: false } });\n\n      incomplete.forEach(function(component) {\n        if (component.get('_isQuestionType')) {\n          component.set({\n            _isCorrect: true,\n            _isSubmitted: true,\n            _score: 1\n          });\n          component.set('_attemptsLeft', Math.max(0, component.set('_attempts') - 1));\n        }\n\n        component.set('_isComplete', true);\n        component.set(currentModel.has('_isInteractionsComplete') ? '_isInteractionsComplete' : '_isInteractionComplete', true);\n      });\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /*************************************************/\n    /** *************** COMPLETE MENU ****************/\n    /*************************************************/\n\n    _checkCompleteMenuVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'menu' && currentModel.get('_type') !== 'course') {\n        this.$('.complete-menu').addClass('u-display-none');\n        return;\n      }\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isComplete: false } });\n\n      this.$('.complete-menu').toggleClass('u-display-none', incomplete.length === 0);\n\n    },\n\n    onCompleteMenu: function(e) {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isComplete: false } });\n      _.invoke(incomplete, 'set', '_isComplete', true);\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /************************************************************/\n    /** ***** Similar to original adapt-cheat functionality *****/\n    /************************************************************/\n\n    _checkPassHalfFailVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'page') {\n        this.$('.pass, .half, .fail').addClass('u-display-none');\n        return;\n      }\n\n      var unanswered = currentModel.findDescendantModels('components', { where: { _isQuestionType: true, _isSubmitted: false } });\n\n      if (unanswered.length === 0) this.$('.tip.pass-half-fail').html('');\n      else this.$('.is-tip.pass-half-fail').html('With the '+unanswered.length+' unanswered question(s) in this page do the following:');\n\n      this.$('.pass, .half, .fail').toggleClass('u-display-none', unanswered.length === 0);\n\n    },\n\n    onPassHalfFail: function(e) {\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      // potentially large operation so show some feedback\n      $('.js-loading').show();\n\n      var tutorEnabled = Adapt.devtools.get('_feedbackEnabled');\n\n      if (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', false);\n\n      if ($(e.currentTarget).hasClass('pass')) PassHalfFail.pass(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n      else if ($(e.currentTarget).hasClass('half')) PassHalfFail.half(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n      else PassHalfFail.fail(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    onPassHalfFailComplete: function(tutorEnabled) {\n      console.log('onPassHalfFailComplete');\n\n      if (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', true);\n\n      $('.js-loading').hide();\n    },\n\n    /*************************************************/\n    /** ***************** EXTENDED *******************/\n    /*************************************************/\n\n    _checkTraceFocusVisibility: function() {\n      if (Adapt.devtools.get('_traceFocusAvailable')) {\n        this.$('.is-toggle.trace-focus').removeClass('u-display-none');\n        this.$('.is-toggle.trace-focus label').toggleClass('is-selected', Adapt.devtools.get('_traceFocusEnabled'));\n        return;\n      }\n      this.$('.trace-focus').addClass('u-display-none');\n    },\n\n    onToggleTraceFocus: function() {\n      Adapt.devtools.toggleTraceFocus();\n      this._checkTraceFocusVisibility();\n    }\n  });\n\n  var DevtoolsNavigationView = Backbone.View.extend({\n\n    initialize: function() {\n      var template = Handlebars.templates.devtoolsNavigation;\n\n      this.$el = $(template());\n\n      $('html').addClass('devtools-enabled').toggleClass('devtools-extended', Adapt.devtools.get('_extended'));\n\n      if (this.$el.is('a') || this.$el.is('button')) this.$el.on('click', this.onDevtoolsClicked.bind(this));\n      else this.$el.find('a, button').on('click', this.onDevtoolsClicked.bind(this));\n\n      // keep drawer item to left of PLP, resources, close button etc\n      this.listenTo(Adapt, 'pageView:postRender menuView:postRender', this.onContentRendered);\n      // ensure render occurs at least once (_isReady will not change to true on menus that exclude content objects)\n      this.listenToOnce(Adapt, 'pageView:postRender menuView:postRender', this.render);\n    },\n\n    render: function() {\n      $('.nav__inner').append(this.$el);\n      return this;\n    },\n\n    remove: function() {\n      this.$el.remove();\n      this.stopListening();\n      return this;\n    },\n\n    deferredRender: function() {\n      _.defer(this.render.bind(this));\n    },\n\n    onContentRendered: function(view) {\n      if (view.model.get('_id') === Adapt.location._currentId) {\n        this.stopListening(view.model, 'change:_isReady', this.deferredRender);\n        this.listenToOnce(view.model, 'change:_isReady', this.deferredRender);\n      }\n    },\n\n    onDevtoolsClicked: function(event) {\n      if (event && event.preventDefault) event.preventDefault();\n      Adapt.drawer.triggerCustomView(new DevtoolsView().$el, false);\n    }\n\n  });\n\n  Adapt.once('courseModel:dataLoaded', function() {\n    Adapt.devtools = new DevtoolsModel();\n  });\n\n  function initNavigationView() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (navigationView) navigationView.remove();\n\n    navigationView = new DevtoolsNavigationView();\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    initNavigationView();\n    Adapt.on('app:languageChanged', initNavigationView);\n  });\n\n});\n","import Adapt from 'core/js/adapt';\n\n/**\n * Allows the modification of filtered dom nodes on addition and removal\n */\nexport class DOMModifier {\n\n  constructor({\n    elementAddFilter = () => {},\n    elementRemoveFilter = () => {},\n    onElementAdd = () => {},\n    onElementRemove = () => {}\n  }) {\n    elementAddFilter = elementAddFilter.bind(this);\n    elementRemoveFilter = elementRemoveFilter.bind(this);\n    onElementAdd = onElementAdd.bind(this);\n    onElementRemove = onElementRemove.bind(this);\n    function filter(list, prop, predicate) {\n      const nodes = list.reduce((nodes, item) => {\n        const arr = _.toArray(item[prop]);\n        return nodes.concat(arr);\n      }, []);\n      const elementNodes = nodes.filter(el => el.nodeType === 1);\n      const foundNodes = elementNodes.reduce((nodes, el) => nodes.concat([el, ...$(el).find('*').toArray()].filter(predicate)), []);\n      return foundNodes;\n    }\n    const observer = new MutationObserver((list, observer) => {\n      const added = filter(list, 'addedNodes', elementAddFilter);\n      const removed = filter(list, 'removedNodes', elementRemoveFilter);\n      if (added.length) {\n        added.forEach(onElementAdd);\n      }\n      if (removed.length) {\n        removed.forEach(onElementRemove);\n      }\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport Lottie from 'libraries/lottie.min';\nimport _ from 'underscore';\n\nexport default class LottieView extends Backbone.View {\n\n  events() {\n    return {\n      'click .graphiclottie__playpause': 'onPlayPauseClick',\n      'click': 'onGeneralPlayPause'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'render', 'onScreenChange', 'update', 'onDataReady');\n    this.config = Adapt.course.get('_graphicLottie');\n    const fileExtension = this.config._fileExtension || 'svgz';\n    this._rex = new RegExp(`\\\\.${fileExtension}`, 'i');\n    this.hasUserPaused = false;\n    this.isDataReady = false;\n    this.animation = null;\n    this.setUpAttributeChangeObserver();\n    this.setUpListeners();\n    this.render();\n  }\n\n  setUpAttributeChangeObserver() {\n    const observer = new MutationObserver(this.render);\n    observer.observe(this.el, { attributes: true });\n  }\n\n  setUpListeners() {\n    this.$el.on('onscreen', this.onScreenChange);\n    this.listenTo(Adapt, 'device:resize', this.render);\n  }\n\n  onScreenChange(event, { onscreen, percentInview } = {}) {\n    if (!this.animation) return;\n    const isOffScreen = (!onscreen || percentInview < (this.config._onScreenPercentInviewVertical ?? 1));\n    if (isOffScreen) return this.onOffScreen();\n    this.onOnScreen();\n  }\n\n  onOffScreen() {\n    if (this.isPaused || this.hasUserPaused) return;\n    if (!this.config._offScreenPause) return;\n    this.pause(true);\n    if (!this.config._offScreenRewind) return;\n    this.rewind();\n  }\n\n  onOnScreen() {\n    if (!this.isPaused) return;\n    this.$player.removeClass('is-graphiclottie-nocontrols');\n    if (!this.config._autoPlay) return;\n    if (this.hasUserPaused) return;\n    this.play(true);\n  }\n\n  play(noControls = false) {\n    const isFinished = (this.animation.currentFrame === this.animation.totalFrames - 1);\n    if (isFinished) {\n      this.animation.stop();\n    }\n    this.animation.play();\n    this.update();\n    if (noControls) {\n      this.$player.removeClass('is-graphiclottie-nocontrols');\n    }\n  }\n\n  pause(noControls = false) {\n    if (noControls) {\n      this.$player.addClass('is-graphiclottie-nocontrols');\n    }\n    this.animation.pause();\n    this.update();\n  }\n\n  get isPaused() {\n    return this.animation.isPaused;\n  }\n\n  togglePlayPause(noControls) {\n    this[this.isPaused ? 'play' : 'pause'](noControls);\n  }\n\n  rewind() {\n    const isPaused = this.isPaused;\n    this.animation.stop();\n    this.animation[isPaused ? 'goToAndStop' : 'goToAndPlay'](0, true);\n    this.update();\n  }\n\n  update() {\n    this.$player.toggleClass('is-graphiclottie-playing', !this.animation.isPaused);\n    this.$player.toggleClass('is-graphiclottie-paused', this.animation.isPaused);\n    Adapt.a11y.toggleEnabled(this.$player.find('.graphiclottie__rewind'), this.animation.currentFrame !== 0);\n  }\n\n  render() {\n    if (!this.shouldRender) return;\n    this._renderedSrc = this.src;\n    const isAnimation = this._rex.test(this.src);\n    this.destroyAnimation();\n    this.$el.html(Handlebars.templates.graphicLottie({\n      ...this.config,\n      _isAnimation: isAnimation,\n      _src: this.src,\n      alt: this.alt\n    }));\n    if (!isAnimation) return;\n    this.createAnimation();\n  }\n\n  get canvas() {\n    return this.$('canvas')[0];\n  }\n\n  get $player() {\n    return this.$('.graphiclottie__player');\n  }\n\n  createAnimation() {\n    const loop = this.config._loops;\n    this.animation = Lottie.loadAnimation({\n      container: null,\n      renderer: 'canvas',\n      loop: loop === -1 ? true : loop,\n      autoplay: false, // we'll use checkIfOnScreen to control when playback starts\n      path: this.src,\n      rendererSettings: {\n        context: this.canvas.getContext('2d'), // the canvas context, only support \"2d\" context\n        preserveAspectRatio: 'xMinYMin slice', // Supports the same options as the svg element's preserveAspectRatio property\n        clearCanvas: true\n      }\n    });\n    this.animation.addEventListener('data_ready', this.onDataReady);\n    this.animation.addEventListener('complete', this.update);\n    this.animation.addEventListener('loopComplete', this.update);\n    this.animation.addEventListener('enterFrame', this.update);\n  }\n\n  onDataReady() {\n    this.isDataReady = true;\n    this.canvas.height = this.animation.animationData.h;\n    this.canvas.width = this.animation.animationData.w;\n    this.animation.resize();\n    this.pause();\n    this.rewind();\n    this.trigger('ready');\n  }\n\n  onEnterFrame() {\n    this.update();\n  }\n\n  onGeneralPlayPause() {\n    if (!this.config._showPauseControl) return;\n    this.togglePlayPause();\n    this.hasUserPaused = this.animation.isPaused;\n    if (this.hasUserPaused && this.config._onPauseRewind) {\n      this.rewind();\n    }\n  }\n\n  onPlayPauseClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.onGeneralPlayPause();\n  }\n\n  destroyAnimation() {\n    if (!this.animation) return;\n    this.animation.stop();\n    this.animation.destroy();\n    this.animation = null;\n  }\n\n  get shouldRender() {\n    return (this._renderedSrc !== this.src);\n  }\n\n  get src() {\n    const small = this.$el.attr('data-small');\n    const large = this.$el.attr('data-large');\n    const src = this.$el.attr('src');\n    return src || (Adapt.device.screenSize === 'small' ? small : large) || large;\n  }\n\n  get alt() {\n    this._alt = this.$el.attr('aria-label') || this.$el.attr('alt') || this._alt;\n    this.$el.removeAttr('aria-label attr');\n    return this._alt;\n  }\n\n  remove() {\n    this.destroyAnimation();\n    super.remove();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport { DOMModifier } from './injector';\nimport LottieView from './LottieView';\n\nclass GraphicLottie extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'app:dataReady', this.onDataReady);\n  }\n\n  onDataReady() {\n    const config = Adapt.course.get('_graphicLottie');\n    if (!config?._isEnabled) return;\n    this.setUpEventListeners();\n    this.setUp();\n  }\n\n  setUpEventListeners() {\n    document.body.addEventListener('transitionend', this.checkOnScreen.bind(this));\n    this.listenTo(Adapt, 'notify:opened', this.checkOnScreen);\n  }\n\n  checkOnScreen() {\n    $.inview();\n  }\n\n  setUp() {\n    const config = Adapt.course.get('_graphicLottie');\n    const fileExtension = config._fileExtension || 'svgz';\n    const rex = new RegExp(`\\\\.${fileExtension}`, 'i');\n    let waitFor = 0;\n    new DOMModifier({\n      elementAddFilter(element) {\n        if (element.nodeName !== 'IMG') return;\n        const img = element;\n        return rex.test(img.src) || rex.test(img.getAttribute('data-large')) || rex.test(img.getAttribute('data-small'));\n      },\n      onElementAdd(img) {\n        const div = document.createElement('div');\n        $(img).replaceWith(div);\n        div.setAttribute('data-graphiclottie', true);\n        $(div).attr({\n          ...[...img.attributes].reduce((attrs, { name, value }) => ({ ...{ [name]: value }, ...attrs }), {}),\n          'class': img.className,\n          'id': img.id\n        });\n        if (waitFor === 0) {\n          Adapt.wait.begin();\n        }\n        waitFor++;\n        div.lottieView = new LottieView({ el: div });\n        div.lottieView.on('ready', () => {\n          waitFor--;\n          if (waitFor === 0) {\n            Adapt.wait.end();\n          }\n        })\n      },\n      elementRemoveFilter(element) {\n        return element.getAttribute('data-graphiclottie');\n      },\n      onElementRemove(div) {\n        if (waitFor !== 0) return;\n        div.lottieView?.remove();\n        div.lottieView = null;\n      }\n    });\n  }\n\n}\n\nexport default new GraphicLottie();\n","import AdaptView from 'core/js/views/adaptView';\n\nclass MenuItemView extends AdaptView {\n\n  attributes() {\n    return AdaptView.resultExtend('attributes', {\n      'role': 'listitem',\n      'aria-labelledby': this.model.get('_id') + '-heading'\n    }, this);\n  }\n\n  className() {\n    return [\n      'menu-item',\n      this.constructor.className,\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isVisited') ? 'is-visited' : ''),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isLocked') ? 'is-locked' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n  preRender() {\n    this.model.checkCompletionStatus();\n    this.model.checkInteractionCompletionStatus();\n  }\n\n  postRender() {\n    this.$el.imageready(this.setReadyStatus.bind(this));\n  }\n\n}\n\nMenuItemView.type = 'menuItem';\n\nexport default MenuItemView;\n","import ContentObjectView from 'core/js/views/contentObjectView';\nimport MenuItemView from 'core/js/views/menuItemView';\n\nclass MenuView extends ContentObjectView {}\n\nObject.assign(MenuView, {\n  /**\n   * TODO:\n   * child view here should not be fixed to the MenuItemView\n   * menus may currently rely on this\n   */\n  childContainer: '.js-children',\n  childView: MenuItemView,\n  type: 'menu',\n  template: 'menu'\n});\n\nexport default MenuView;\n","import MenuItemView from 'core/js/views/menuItemView';\nimport router from 'core/js/router';\n\nclass BoxMenuItemView extends MenuItemView {\n\n  className() {\n    return `${super.className()} boxmenu-item`;\n  }\n\n  events() {\n    return {\n      'click .js-btn-click': 'onClickMenuItemButton'\n    };\n  }\n\n  onClickMenuItemButton(event) {\n    if (event && event.preventDefault) event.preventDefault();\n    if (this.model.get('_isLocked')) return;\n    router.navigateToElement(this.model.get('_id'));\n  }\n}\n\nBoxMenuItemView.template = 'boxMenuItem';\n\nexport default BoxMenuItemView;\n","import MenuItemView from 'core/js/views/menuItemView';\nimport BoxMenuItemView from './BoxMenuItemView';\n\nclass BoxMenuGroupView extends MenuItemView {\n\n  className() {\n    return `${super.className()} boxmenu-group`;\n  }\n\n  postRender() {\n    _.defer(this.addChildren.bind(this));\n    this.$el.imageready(this.setReadyStatus.bind(this));\n    this.$el.parents('.boxmenu__item-container').addClass('has-groups');\n  }\n}\n\nBoxMenuGroupView.template = 'boxMenuGroup';\nBoxMenuGroupView.childContainer = '.js-group-children';\nBoxMenuGroupView.childView = BoxMenuItemView;\n\nexport default BoxMenuGroupView;\n","import Adapt from 'core/js/adapt';\nimport MenuView from 'core/js/views/menuView';\nimport BoxMenuItemView from './BoxMenuItemView';\nimport BoxMenuGroupView from './BoxMenuGroupView';\n\nclass BoxMenuView extends MenuView {\n\n  className() {\n    return `${super.className()} boxmenu`;\n  }\n\n  initialize() {\n    super.initialize();\n    this.setStyles();\n\n    this.listenTo(Adapt, 'device:changed', this.onDeviceResize);\n  }\n\n  onDeviceResize() {\n    this.setStyles();\n  }\n\n  addChildren() {\n    let nthChild = 0;\n    const models = this.model.getChildren().models;\n    const childViews = [];\n    models.forEach(model => {\n      if (!model.get('_isAvailable')) return;\n\n      if (model.get('_isHidden')) {\n        model.set('_isReady', true);\n        return;\n      }\n\n      nthChild++;\n      model.set('_nthChild', nthChild);\n\n      const ChildView = (model.get('_type') === 'menu' && model.get('_boxMenu') && model.get('_boxMenu')._renderAsGroup) ?\n        BoxMenuGroupView :\n        BoxMenuItemView;\n\n      const $parentContainer = this.$(this.constructor.childContainer);\n      const childView = new ChildView({ model });\n\n      childViews.push(childView);\n\n      $parentContainer.append(childView.$el);\n    });\n\n    this.setChildViews(childViews);\n  }\n\n  setStyles() {\n    this.setBackgroundImage();\n    this.setBackgroundStyles();\n    this.processHeader();\n  }\n\n  setBackgroundImage() {\n    const config = this.model.get('_boxMenu');\n    const backgroundImages = config?._backgroundImage;\n    if (!backgroundImages) return;\n    const backgroundImage = backgroundImages[`_${Adapt.device.screenSize}`] ?? backgroundImages._small;\n    this.$el\n      .toggleClass('has-bg-image', Boolean(backgroundImage))\n      .css('background-image', backgroundImage ? 'url(' + backgroundImage + ')' : '');\n  }\n\n  setBackgroundStyles() {\n    const config = this.model.get('_boxMenu');\n    const styles = config?._backgroundStyles;\n    if (!styles) return;\n    this.$el.css({\n      'background-repeat': styles._backgroundRepeat,\n      'background-size': styles._backgroundSize,\n      'background-position': styles._backgroundPosition\n    });\n  }\n\n  processHeader() {\n    const config = this.model.get('_boxMenu');\n    const header = config?._menuHeader;\n\n    if (!header) return;\n\n    const $header = this.$('.menu__header');\n\n    this.setHeaderBackgroundImage(header, $header);\n    this.setHeaderBackgroundStyles(header, $header);\n    this.setHeaderMinimumHeight(header, $header);\n  }\n\n  setHeaderBackgroundImage(config, $header) {\n    const backgroundImages = config._backgroundImage;\n    if (!backgroundImages) return;\n    const backgroundImage = backgroundImages[`_${Adapt.device.screenSize}`] ?? backgroundImages._small;\n    $header\n      .toggleClass('has-bg-image', Boolean(backgroundImage))\n      .css('background-image', backgroundImage ? 'url(' + backgroundImage + ')' : '');\n  }\n\n  setHeaderBackgroundStyles(config, $header) {\n    const styles = config._backgroundStyles;\n\n    if (!styles) return;\n\n    $header.css({\n      'background-repeat': styles._backgroundRepeat,\n      'background-size': styles._backgroundSize,\n      'background-position': styles._backgroundPosition\n    });\n  }\n\n  setHeaderMinimumHeight(config, $header) {\n    const minimumHeights = config._minimumHeights;\n    if (!minimumHeights) return;\n    const minimumHeight = minimumHeights[`_${Adapt.device.screenSize}`] ?? minimumHeights._small;\n    $header\n      .toggleClass('has-min-height', Boolean(minimumHeight))\n      .css('min-height', minimumHeight ? minimumHeight + 'px' : '');\n  }\n\n}\n\nBoxMenuView.template = 'boxMenu';\n\nexport default BoxMenuView;\n","import Adapt from 'core/js/adapt';\nimport MenuModel from 'core/js/models/menuModel';\nimport BoxMenuView from './BoxMenuView';\n\n// Use as default \"_type\": \"course\" or \"_type\": \"menu\" view.\n// Note: This is necessary to maintain legacy behaviour in the AAT where\n// only one menu is usable per course and the course / menu is assumed to be\n// a core model and use the only installed MenuView.\nAdapt.register('course menu', {\n  view: BoxMenuView\n});\n\n// Use for \"_component\": \"boxMenu\", or \"_view\": \"boxMenu\" and \"_model\": \"boxMenu\"\nAdapt.register('boxMenu', {\n  view: BoxMenuView,\n  model: MenuModel.extend({})\n});\n","define([\n  \"core/js/adapt\"\n], function(Adapt) {\n\n  var ThemeView = Backbone.View.extend({\n\n    className: function() {},\n\n    initialize: function() {\n      this.setStyles();\n\n      this.listenTo(Adapt, {\n        \"device:changed\": this.onDeviceResize,\n        \"remove\": this.remove\n      });\n    },\n\n    onDeviceResize: function() {\n      this.setStyles();\n    },\n\n    remove: function() {\n      Backbone.View.prototype.remove.call(this);\n\n      this.onRemove();\n    },\n\n    setStyles: function() {\n      this.setClasses();\n      this.setBackgroundImage();\n      this.setBackgroundStyles();\n      this.setMinimumHeight();\n      this.setCustomStyles();\n    },\n\n    setClasses: function() {\n      this.$el.addClass(this.className());\n    },\n\n    setBackgroundImage: function() {\n      \n      var backgroundImages = this.model.get(\"_backgroundImage\");\n\n      if (!backgroundImages) return;\n\n      var backgroundImage;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          backgroundImage = backgroundImages._large;\n          break;\n        case \"medium\":\n          backgroundImage = backgroundImages._medium;\n          break;\n        default:\n          backgroundImage = backgroundImages._small;\n      }\n\n      if (backgroundImage) {\n        this.$el\n          .addClass(\"has-bg-image\")\n          .css(\"background-image\", \"url(\" + backgroundImage + \")\");\n      } else {\n        this.$el\n          .removeClass(\"has-bg-image\")\n          .css(\"background-image\", \"\");\n      }\n    },\n\n    setBackgroundStyles: function () {\n      var styles = this.model.get(\"_backgroundStyles\");\n\n      if (!styles) return;\n\n      this.$el.css({\n        'background-repeat': styles._backgroundRepeat,\n        'background-size': styles._backgroundSize,\n        'background-position': styles._backgroundPosition\n      });\n    },\n\n    setMinimumHeight: function() {\n      var minimumHeights = this.model.get(\"_minimumHeights\");\n\n      if (!minimumHeights) return;\n\n      var minimumHeight;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          minimumHeight = minimumHeights._large;\n          break;\n        case \"medium\":\n          minimumHeight = minimumHeights._medium;\n          break;\n        default:\n          minimumHeight = minimumHeights._small;\n      }\n\n      if (minimumHeight) {\n        this.$el\n          .addClass(\"has-min-height\")\n          .css(\"min-height\", minimumHeight + \"px\");\n      } else {\n        this.$el\n          .removeClass(\"has-min-height\")\n          .css(\"min-height\", \"\");\n      }\n    },\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeView;\n\n});\n","define([\n  './themeView',\n  'core/js/adapt'\n], function(ThemeView, Adapt) {\n\n  var ThemePageView = ThemeView.extend({\n\n    className: function() {},\n\n    setCustomStyles: function() {\n      this.processHeader();\n    },\n\n    processHeader: function() {\n      var header = this.model.get('_pageHeader');\n\n      if (!header) return;\n\n      var $header = this.$('.page__header');\n\n      this.setHeaderBackgroundImage(header, $header);\n      this.setHeaderBackgroundStyles(header, $header);\n      this.setHeaderMinimumHeight(header, $header);\n    },\n\n    setHeaderBackgroundImage: function(config, $header) {\n      var backgroundImages = config._backgroundImage;\n\n      if (!backgroundImages) return;\n\n      var backgroundImage;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          backgroundImage = backgroundImages._large;\n          break;\n        case \"medium\":\n          backgroundImage = backgroundImages._medium;\n          break;\n        default:\n          backgroundImage = backgroundImages._small;\n      }\n\n      if (backgroundImage) {\n        $header\n          .addClass(\"has-bg-image\")\n          .css(\"background-image\", \"url(\" + backgroundImage + \")\");\n      } else {\n        $header\n          .removeClass(\"has-bg-image\")\n          .css(\"background-image\", \"\");\n      }\n    },\n\n    setHeaderBackgroundStyles: function (config, $header) {\n      var styles = config._backgroundStyles;\n\n      if (!styles) return;\n\n      $header.css({\n        'background-repeat': styles._backgroundRepeat,\n        'background-size': styles._backgroundSize,\n        'background-position': styles._backgroundPosition\n      });\n    },\n\n    setHeaderMinimumHeight: function(config, $header) {\n      var minimumHeights = config._minimumHeights;\n\n      if (!minimumHeights) return;\n\n      var minimumHeight;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          minimumHeight = minimumHeights._large;\n          break;\n        case \"medium\":\n          minimumHeight = minimumHeights._medium;\n          break;\n        default:\n          minimumHeight = minimumHeights._small;\n      }\n\n      if (minimumHeight) {\n        $header\n          .addClass(\"has-min-height\")\n          .css(\"min-height\", minimumHeight + \"px\");\n      } else {\n        $header\n          .removeClass(\"has-min-height\")\n          .css(\"min-height\", \"\");\n      }\n    },\n\n    onRemove: function() {}\n\n  });\n\n  return ThemePageView;\n\n});\n","define([\n  \"./themeView\",\n  \"core/js/adapt\"\n], function(ThemeView, Adapt) {\n\n  var ThemeArticleView = ThemeView.extend({\n\n    className: function() {},\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeArticleView;\n\n});\n","define([\n  \"./themeView\",\n  \"core/js/adapt\"\n], function(ThemeView, Adapt) {\n\n  var ThemeBlockView = ThemeView.extend({\n\n    className: function() {\n      return this.model.get(\"_isDividerBlock\") ? \"is-divider-block\" : \"\";\n    },\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeBlockView;\n\n});\n","define([\n  \"core/js/adapt\",\n  \"./themePageView\",\n  \"./themeArticleView\",\n  \"./themeBlockView\",\n  \"./themeView\"\n], function(Adapt, ThemePageView, ThemeArticleView, ThemeBlockView, ThemeView) {\n\n  function onDataReady() {\n    $(\"html\").addClass(Adapt.course.get(\"_courseStyle\"));\n  }\n\n  function onPostRender(view) {\n    var model = view.model;\n    var theme = model.get(\"_odi-generic\");\n\n    if (!theme) return;\n\n    switch (model.get(\"_type\")) {\n      case \"page\":\n        new ThemePageView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      case \"article\":\n        new ThemeArticleView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      case \"block\":\n        new ThemeBlockView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      default:\n        new ThemeView({ model: new Backbone.Model(theme), el: view.$el });\n    }\n  }\n\n  Adapt.on({\n    \"app:dataReady\": onDataReady,\n    \"pageView:postRender articleView:postRender blockView:postRender\": onPostRender\n  });\n});\n","import Adapt from 'core/js/adapt';\nimport React, { useRef } from 'react';\nimport { html, prefixClasses, compile } from 'core/js/reactHelpers';\n\n/**\n * Content header for displayTitle, body, instruction text, etc.\n * instruction and mobileInstruction will switch automatically\n * @param {Object} props\n * @param {string} [props.displayTitle]\n * @param {string} [props.body]\n * @param {string} [props.instruction]\n * @param {string} [props.mobileInstruction]\n * @param {string} [props._type]\n * @param {string} [props._component]\n * @param {string} [props._disableAccessibilityState]\n */\nexport default function Header(props) {\n  // Create references to un-controlled view containers\n  const jsxHeading = useRef(null);\n  const {\n    _id,\n    displayTitle,\n    body,\n    instruction,\n    mobileInstruction,\n    _type,\n    _component,\n    _disableAccessibilityState,\n    _isA11yComponentDescriptionEnabled,\n    classNamePrefixes = [\n      _type && _type.toLowerCase(),\n      _component && _component.toLowerCase()\n    ].filter(Boolean)\n  } = props;\n  const sizedInstruction = (mobileInstruction && Adapt.device.screenSize !== 'large') ?\n    mobileInstruction :\n    instruction;\n  const isSet = (displayTitle || body || sizedInstruction);\n  if (!isSet) return null;\n  const _globals = Adapt.course.get('_globals');\n  const ariaRegion = _globals?._components?.[`_${_component}`]?.ariaRegion;\n  return (\n    <div id={`${_id}-header`} className={prefixClasses(classNamePrefixes, ['__header'])}>\n      <div className={prefixClasses(classNamePrefixes, ['__header-inner'])}>\n        {displayTitle &&\n        <div className={prefixClasses(classNamePrefixes, ['__title'])}>\n\n          {!_disableAccessibilityState &&\n          <div className=\"js-heading\" ref={jsxHeading}></div>\n          }\n\n          <div className={prefixClasses(classNamePrefixes, ['__title-inner'])} aria-hidden={!_disableAccessibilityState}>\n            {html(compile(displayTitle, props))}\n          </div>\n\n        </div>\n        }\n\n        {_isA11yComponentDescriptionEnabled && ariaRegion &&\n        <div className=\"aria-label\">\n          {html(compile(ariaRegion))}\n        </div>\n        }\n\n        {body &&\n        <div className={prefixClasses(classNamePrefixes, ['__body'])}>\n          <div className={prefixClasses(classNamePrefixes, ['__body-inner'])}>\n            {html(compile(body, props))}\n          </div>\n        </div>\n        }\n\n        {sizedInstruction &&\n        <div className={prefixClasses(classNamePrefixes, ['__instruction'])}>\n          <div className={prefixClasses(classNamePrefixes, ['__instruction-inner'])}>\n            {html(compile(sizedInstruction, props))}\n          </div>\n        </div>\n        }\n\n      </div>\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { html, classes, prefixClasses } from 'core/js/reactHelpers';\n\n/**\n * Size switching content image\n * @param {Object} props\n * @param {Array} props.classNamePrefixes\n * @param {Array} [props.attributionClassNamePrefixes]\n */\nexport default function Image(props) {\n  const hasMediumSetting = (Object.prototype.hasOwnProperty.call(props, '_medium') || Object.prototype.hasOwnProperty.call(props, 'medium'));\n  const screenSize = hasMediumSetting\n    ? Adapt.device.screenSize\n    : (Adapt.device.screenSize === 'large' ? 'large' : 'small');\n  const src = (\n    props[`_${screenSize}`] ||\n    props[`${screenSize}`] ||\n    props._src ||\n    props.src\n  );\n  const hasSource = Boolean(src);\n  if (!hasSource) return null;\n  const attributionClassNamePrefixes = (props.attributionClassNamePrefixes || props.classNamePrefixes);\n  return (\n    <div className={classes([\n      prefixClasses(props.classNamePrefixes, ['__image-container']),\n      props.attribution && 'has-attribution'\n    ])}>\n\n      <img\n        className={prefixClasses(props.classNamePrefixes, ['__image'])}\n        src={src}\n        aria-label={Adapt.a11y.normalize(props.alt)}\n        aria-hidden={!props.alt}\n        loading='eager'\n      />\n\n      {props.attribution &&\n      <div className={prefixClasses(attributionClassNamePrefixes, ['__attribution'])}>\n        <div className={prefixClasses(attributionClassNamePrefixes, ['__attribution-inner'])}>\n          {html(props.attribution)}\n        </div>\n      </div>\n      }\n\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { templates, classes, html, compile } from 'core/js/reactHelpers';\n\nexport default function Choose(props) {\n  const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n  const {\n    _id,\n    _isEnabled,\n    _isInteractionComplete,\n    _isCorrect,\n    _canShowMarking,\n    displayTitle,\n    body,\n    instruction,\n    onKeyPress,\n    onItemOptionSelect,\n    _isCorrectAnswerShown,\n    isInteractive\n  } = props;\n\n  const shouldShowMarking = isInteractive() && _canShowMarking;\n\n  return (\n    <div className='component__inner choose__inner'>\n      <templates.header {...props} />\n\n      <div\n        className={classes([\n          'component__widget',\n          'choose__widget',\n          !_isEnabled && 'is-disabled',\n          _isInteractionComplete && 'is-complete is-submitted show-user-answer',\n          _isCorrect && 'is-correct'\n        ])}\n        role='radiogroup'\n        aria-labelledby={\n          (displayTitle || body || instruction) && `${_id}-header`\n        }\n      >\n\n        {props._items.map(({ text, _graphic, _options, _index, _isCorrect, _selected }, index) => (\n          <div\n            className={classes([\n              `choose__item item-${index}`,\n              _selected && 'is-selected',\n              _selected && `selected-option-${_selected._index}`,\n              _isInteractionComplete && _isCorrect && 'is-correct',\n              _isInteractionComplete && !_isCorrect && 'is-incorrect'\n            ])}\n            key={_index}\n            data-index={_index}>\n            <div\n              className={classes([\n                'choose__item-state',\n                _isInteractionComplete && _isCorrect && 'choose__item-correct-icon',\n                _isInteractionComplete && !_isCorrect && 'choose__item-incorrect-icon'\n              ])}\n            >\n              <div className='icon'></div>\n            </div>\n            <div className='choose__item-text'>\n              {html(compile(text))}\n            </div>\n            <templates.image {..._graphic}\n              classNamePrefixes={['choose__item']}\n              attributionClassNamePrefixes={['component', 'choose']}\n            />\n            <div className='choose__item-choices'>\n              {_options.map((option) => (\n                <div\n                  className={classes([\n                    'choose__item-choice',\n                    option._isSelected && 'is-selected',\n                    _isCorrectAnswerShown && option._isCorrect && 'is-correct',\n                    _isCorrectAnswerShown && !option._isCorrect && 'is-incorrect'\n                  ])}\n                  key={option._index}\n                >\n                  <label\n                    aria-hidden={true}\n                    htmlFor={`input-${_id}-${_index}-${option._index}`}\n                    data-adapt-index={_index}\n                  >\n\n                    <div className='choose__item-choice-text'>\n                      {html(compile(option.text))}\n                    </div>\n\n                    <templates.image {...option._graphic}\n                      classNamePrefixes={['choose__item-choice']}\n                      attributionClassNamePrefixes={['component', 'choose']}\n                    />\n\n                    <div className='choose__item-icon'>\n                      <div className='icon'></div>\n                    </div>\n                  </label>\n                  <input\n                    type='radio'\n                    name={`choices-${_id}-${_index}`}\n                    id={`input-${_id}-${_index}-${option._index}`}\n                    value={option._index}\n                    disabled={!_isEnabled}\n                    aria-label={\n                      !shouldShowMarking\n                        ? `${\n                          _isCorrect\n                            ? ariaLabels.correct\n                            : ariaLabels.incorrect\n                        }, ${Adapt.a11y.normalize(text)}`\n                        : `${Adapt.a11y.normalize(text)}`\n                    }\n                    data-adapt-index={_index}\n                    onKeyPress={onKeyPress}\n                    onChange={onItemOptionSelect}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        )\n        )}\n      </div>\n\n      <div className='btn__container'></div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { templates } from 'core/js/reactHelpers';\n\nconst LinkWrapper = ({ href, children, target, className, role }) =>\n  href\n    ? <a href={href} target={target} className={className} role={role}>{children}</a>\n    : children;\n\nexport default function Graphic(props) {\n  const {\n    _graphic\n  } = props;\n  return (\n    <div className='component__inner graphic__inner'>\n\n      <templates.header {...props} />\n\n      <div className='component__widget graphic__widget'>\n\n        <LinkWrapper\n          href = {_graphic._url}\n          target = {_graphic._target}\n          className = 'graphic__link js-graphic-link'\n          role = 'link'\n        >\n\n          <templates.image {..._graphic}\n            classNamePrefixes={[\n              'component',\n              'graphic'\n            ]}\n          />\n\n        </LinkWrapper>\n\n      </div>\n\n    </div>\n  );\n}\n","import React from 'react';\nimport { templates } from 'core/js/reactHelpers';\n\nexport default function Text(props) {\n  return (\n    <div className=\"component__inner text__inner\">\n      <templates.header {...props} />\n    </div>\n  );\n}\n","// import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { templates, classes, html, compile } from 'core/js/reactHelpers';\n\nexport default function DropItems(props) {\n  // const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n  const {\n    _id,\n    _isEnabled,\n    _isInteractionComplete,\n    _isCorrect,\n    _isCorrectAnswerShown,\n    _canShowMarking,\n    displayTitle,\n    body,\n    _graphic,\n    instruction,\n    isInteractive\n\n  } = props;\n  const shouldShowMarking = !isInteractive() && _canShowMarking;\n  return (\n    <div className='component__inner dropitems__inner'>\n      <templates.header {...props} />\n\n      <div\n        className={classes([\n          'component__widget',\n          'dropitems__widget',\n          !_isEnabled && 'is-disabled',\n          _isInteractionComplete && 'is-complete is-submitted show-user-answer',\n          _isCorrect && 'is-correct'\n        ])}\n        role='section'\n        aria-labelledby={\n          (displayTitle || body || instruction) && `${_id}-header`\n        }>\n\n        <div className='dropitems__container'>\n          {props._items.map(({ _index, title, body, _graphic, _shouldBeSelected, _isActive }, index) => (\n            <div\n              className={classes([\n                `dropitems__item dropitems__item-${index}`,\n                (_isCorrectAnswerShown ? _shouldBeSelected : _isActive) && 'is-selected',\n                shouldShowMarking && _shouldBeSelected && 'is-correct',\n                shouldShowMarking && !_shouldBeSelected && 'is-incorrect'\n              ])}\n              key={_index}\n            >\n              <div\n                className={classes([\n                  'dropitems__item-state'\n\n                ])}\n              >\n                <div className='icon'></div>\n              </div>\n              {_graphic &&\n              <templates.image {..._graphic}\n                classNamePrefixes={['dropitems__item-graphic']}\n                attributionClassNamePrefixes={['component', 'dropitems']}\n              />\n              }\n              {\n                title &&\n            <div className='dropitems__item-title'>\n              {html(compile(title))}\n            </div>\n              }\n              {\n                body &&\n            <div className='dropitems__item-title'>\n              {html(compile(body))}\n            </div>\n              }\n\n            </div>\n          )\n          )}\n        </div>\n        <div className='dropitems__dropzone'>\n          <div className='dropitems__dropzone-inner'>\n            {_graphic &&\n            <templates.image {..._graphic}\n              classNamePrefixes={['dropitems__item-graphic']}\n              attributionClassNamePrefixes={['component', 'dropitems']}\n            />\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className='btn__container'></div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { html, templates } from 'core/js/reactHelpers';\n\nexport default function LottieInteractivity(props) {\n  const { lottieplayer, description, failed } = props;\n  return (\n    <div className=\"component__inner lottieinteractivity__inner\">\n      <templates.header {...props} />\n      {failed && <p className=\"lottieinteractivity__error\">{failed}</p>}\n      <div className='component__widget lottieinteractivity__widget'>\n        <div dangerouslySetInnerHTML={{ __html: lottieplayer }} />\n      </div>\n      <div className='lottieinteractivity__description'>\n        {html(description)}\n      </div>\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport 'core/js/templates';\nimport 'core/js/fixes';\nimport 'core/js/accessibility';\nimport 'core/js/data';\nimport 'core/js/offlineStorage';\nimport 'core/js/logging';\nimport 'core/js/tracking';\nimport 'core/js/device';\nimport 'core/js/drawer';\nimport 'core/js/notify';\nimport 'core/js/router';\nimport 'core/js/models/lockingModel';\nimport 'core/js/mpabc';\nimport 'core/js/helpers';\nimport 'core/js/scrolling';\nimport 'core/js/headings';\nimport 'core/js/navigation';\nimport 'plugins';\n\n$('body').append(Handlebars.templates.loading());\n\nAdapt.data.on('ready', function triggerInit() {\n  Adapt.log.debug('Calling Adapt.init');\n\n  Adapt.init();\n\n  Adapt.off('adaptCollection:dataLoaded courseModel:dataLoaded');\n}).init();\n"],"names":["_waitCount","_callbackHandle","being","begin","bind","end","isWaiting","trigger","clearTimeout","setTimeout","callback","Promise","resolve","once","_","defer","Backbone","Controller","attrName","attrVal","options","stopProcessing","isLocking","arguments","isSettingValueForSpecificPlugin","pluginName","console","error","defaults","undefined","_lockedAttributes","lockingValue","isAttemptingToLock","setLockState","skipcheck","totalLockValue","getLockCount","defaultLockValue","_lockedAttributesValues","Object","keys","length","isCheckingGeneralLockingState","isUsingLockedAttributes","Boolean","lockedAttributes","result","isAttributeALockingAttribute","hasOwnProperty","shouldSkipCheck","isGettingValueForSpecificPlugin","lockingAttributeValues","values","lockingAttributeValuesSum","reduce","sum","value","Model","AdaptSingleton","loadScript","window","__loadScript","location","store","setupWait","_canScroll","_outstandingCompletionChecks","_pluginWaitCount","_isStarted","_shouldDestroyContentObjects","log","deprecated","addDirection","disableAnimation","wait","queue","deferUntilCompletionChecked","History","started","history","start","set","outstandingChecks","get","checkIfAnyChecksOutstanding","model","off","on","Wait","beginWait","endWait","ready","isEventListening","_events","listenTo","isWaitingForPlugins","name","object","Array","isArray","forEach","register","split","view","View","template","isModelSetAndInvalid","prototype","Function","Error","isViewSetAndInvalid","assign","nameModelViewOrData","toJSON","foundName","entries","key","entry","names","_view","_component","_type","filter","find","pop","getViewName","warnOnce","isBackboneView","nameModelOrData","isViewOnlyQuestion","_isQuestionType","_model","getModelName","isBackboneModel","id","data","findById","parentView","idPathToView","currentLocationId","_currentId","currentLocationModel","getAncestorModels","modelId","unshift","warn","foundView","currentId","childViews","getChildViews","trackingPosition","findByTrackingPosition","relativeString","splitIndex","search","type","slice","replace","offset","parseInt","trim","defaultDirection","config","$","addClass","attr","disableAnimationArray","i","l","is","toggleClass","currentView","setOnChildren","_isReady","_isRendered","destroy","LockingModel","mode","args","onRender","cb","intercept","Handlebars","templates","partials","preRenderEvent","TemplateRenderEvent","Adapt","postRenderEvent","_imgLazyLoad","applyImgLoadingFix","findImgTag","hasLoadingAttr","event","imgTagsFound","match","img","test","loading","LOG_LEVEL","ENUM","Logging","_config","_isEnabled","_level","INFO","asLowerCase","_console","_warnFirstOnly","_warned","listenToOnce","onLoadConfigData","loadConfig","debug","has","checkQueryStringOverride","matches","override","toUpperCase","_log","DEBUG","WARN","ERROR","FATAL","concat","_hasWarned","level","isEnabled","configLevel","isLogLevelAllowed","_logToConsole","shouldLogToConsole","asUpperCase","push","hash","map","String","join","_jsxReactHelpersHTML","applyReactHelpersHTML","tagName","props","children","hasSomeUnsafeConversions","some","c","__html","hasManyChildren","child","attributes","logging","HTMLReactParser","dangerouslySetInnerHTML","_onBlur","_onClick","$body","_attachEventListeners","addEventListener","a11y","_options","_isFocusNextOnDisabled","$element","target","removeAttr","currentTarget","focusNext","isAriaDisabled","closest","preventDefault","stopImmediatePropagation","_isFocusOnClickEnabled","$stack","toArray","parents","$focusable","_tabbableElements","focus","preventScroll","_onKeyDown","$html","showOnKeys","document","_start","_isFocusOutlineDisabled","_isFocusOutlineKeyboardOnlyEnabled","keyCode","_focusOutlineKeyboardOnlyIgnore","removeClass","_warn","_canWarn","removed","_onTouchStart","_onTouchEnd","_onScrollEvent","_scrollDisabledElements","$window","_preventScrollOnKeys","_ignoreKeysOnElementsMatching","_isRunning","_touchStartEventObject","$elements","add","_checkRunning","clear","not","_stop","passive","fix","_preventScroll","$target","isGesture","touches","scrollingParent","_getScrollingParent","scroll","isTouchEvent","hasTouchStartEvent","originalEvent","directionY","_getScrollDirection","$parent","_isScrollable","_isScrolling","scrollType","css","pointerEvents","scrollTop","Math","ceil","innerHeight","outerHeight","scrollHeight","hasScrollingSpace","deltaY","_getScrollDelta","startOriginalEvent","currentY","pageY","previousY","hasDeltaY","wheelDeltaY","wheelDelta","removeEventListener","bindAll","_focusguard","_onWrapAround","_isPopupWrapFocusEnabled","stopPropagation","focusFirst","_floorStack","_focusStack","_tabIndexes","_ariaHiddens","_elementUIDIndex","ignoreInternalTrigger","opened","closed","$popupElement","silent","activeElement","_addPopupLayer","_isPopupManagementEnabled","_tabbableElementsExcludes","$branch","$siblings","siblings","each","index","item","$item","elementUID","a11y_uid","tabindex","ariaHidden","_isPopupTabIndexManagementEnabled","_isPopupAriaHiddenManagementEnabled","$items","_ariaHiddenExcludes","$focusElement","$previousFocusElement","_removeLastPopupLayer","previousTabIndex","previousAriaHidden","$original","_menu","_menuGroup","_menuItem","_page","_article","_block","_componentItem","_notify","fn","isFixedPostion","a11y_aria_label","limitedScrollTo","a11y_text","a11y_selected","a11y_on","isOn","$tabbable","findTabbable","toggleAccessible","a11y_only","scrollDisable","_isScrollDisableEnabled","scrollEnable","a11y_popup","popupOpened","a11y_cntrl","withDisabled","toggleEnabled","a11y_cntrl_enabled","toggleAccessibleEnabled","isReadable","findForward","selector","_findFirstForward","findWalk","_findFindForwardDescendant","focusNoScroll","returnOnly","findFirstReadable","focusOrNext","a11y_focus","dontDefer","a11y_alert","a11y_update","text","toggleHidden","a11y_popdown","$focusTarget","popupClosed","a11y_normalize","html","normalize","a11y_remove_breaks","removeBreaks","A11y","_isFocusAssignmentEnabled","_isAriaHiddenManagementEnabled","_focusableElements","_readableElements","_focusForwardElementsExcludes","_wrapStyleElements","isFocusable","isTabbable","_htmlCharRegex","_browserFocus","BrowserFocus","_keyboardFocusOutline","KeyboardFocusOutline","_wrapFocus","WrapFocus","_popup","Popup","_scroll","Scroll","Log","_removeLegacyElements","_onConfigDataLoaded","_setupNoSelect","_onNavigationStart","_onNavigationEnd","_isActive","offlineStorage","_addFocuserDiv","_disableTextSelectOnClasses","classes","isMatch","className","append","$legacyElements","$navigationElements","remove","defaultLevelOrType","overrideLevelOrType","cfg","isNaN","isString","ariaLevels","_ariaLevels","defaultAriaLevels","isHidden","isAccessibleEnabled","first","element","checkParents","isNotVisible","hasNativeFocusOrIsScreenReadable","childNodes","cl","childNode","isTextNode","nodeType","isOnlyWhiteSpace","nodeValue","iterator","$tag","$found","_findFirstForwardDescendant","nextAll","sibling","$sibling","reverse","parent","$notFound","stack","stackIndexPosition","childIndexPosition","stackEntry","$stackItem","splice","FocusOptions","findFirstFocusable","perform","y","e","device","browser","scrollTo","htmls","$div","stackIndex","outputs","nodes","usable","node","isStyleElement","apply","rtnText","outerHTML","textContent","enable","disable","setCloseTo","defineProperty","models","loadedData","Collection","jsonext","attrs","url","fetch","success","isLoaded","version","semver","satisfies","includePrerelease","plugin","screenSize","large","medium","small","_forceRouteLocking","_canLoadData","_disableAnimation","paramMappings","dir","lang","params","URLSearchParams","passedVal","build","includes","setValuesFromURLParams","canBubble","deepPath","timeStamp","json","_children","_parent","extend","_canShowFeedback","_classes","_canReset","_canRequestChild","_isComplete","_isInteractionComplete","_isA11yRegionEnabled","_isA11yCompletionDescriptionEnabled","_requireCompletionOf","_isResetOnRevisit","_isAvailable","_isOptional","_isVisible","_isLocked","_isHidden","firstDescendant","getAllDescendantModels","nearestTrackingIdModel","trackingId","trackingIdDescendants","indexInTrackingIdDescendants","findIndex","descendant","trackingIdAncestors","ancestorDistance","ancestor","hasManagedChildren","setupChildListeners","init","checkCompletionStatus","checkInteractionCompletionStatus","checkLocking","setupTrackables","originalTrackableStateFunction","triggerTrackableState","compose","isQueued","debounce","changed","trackablePropertyNames","changedPropertyNames","isTrackable","getChildren","all","onAll","bubble","checkReadyStatus","onIsComplete","trackable","resultExtend","pick","state","getTrackableState","canReset","getAvailableChildModels","checkingCompletion","checkCompletionStatusFor","completionAttribute","completed","requireCompletionOf","every","checkedCompletion","typeGroup","hasUpperCase","isPluralized","lowerCased","toLowerCase","singular","singularLowerCased","pluralizedLowerCaseTypes","typeGroups","getTypeGroups","intersection","_typeGroups","parentClass","getPrototypeOf","call","getTypeGroup","uniq","s","ancestorType","getParent","isTypeGroup","findAncestor","descendants","allDescendantsModels","returnedDescendants","where","property","isParentFirst","subDescendants","rootModel","limitParentId","course","relativeDescriptor","parseRelativeString","searchBackwards","moveBy","abs","movementCount","hasDescendantsOfType","findDescendantModels","pageDescendants","modelIndex","pageDescendant","isFilterFunction","loop","totalOfType","count","isSelf","_childrenCollection","childrenCollection","comparator","sort","setChildren","_parentModel","parentId","setParent","shouldIncludeChild","context","passSiblingsAndIncludeSelf","_hasSiblingsAndSelf","siblingsCollection","lockType","setSequentialLocking","setUnlockFirstLocking","setLockLastLocking","setCustomLocking","previousChild","isLockedByPreviousChild","firstChild","shift","isLockedByFirstChild","lastChild","isLockedByChildren","shouldLock","lockedBy","anotherModel","isResetOnRevisit","reset","modifier","ModelClass","constructor","clonedModel","clonedId","hasId","shouldAssignUniqueId","cid","uniqueId","cidPrefix","deepClone","clone","setupModel","ModelEvent","addPath","isParentCourse","AdaptModel","MenuModel","ContentObjectModel","CourseModel","StartController","replaceState","getStartHash","startIds","startId","_skipIfComplete","alwaysForce","getStartId","isRouteSpecified","href","indexOf","shouldForceStartId","shouldNavigateToStartId","_className","skipIfComplete","_id","hasClass","startController","loadCourseData","setStartLocation","returnToStartLocation","Data","getModelClass","parse","onAdded","onRemoved","_byAdaptID","BuildModel","whenReady","loadConfigData","ConfigModel","onLoadCourseData","onLanguageChange","onDirectionChange","direction","language","newLanguage","courseFolder","loadManifestFiles","triggerDataLoaded","triggerDataReady","triggerInit","path","reject","getJSON","__path__","fail","languagePath","manifestPath","manifest","filePath","allFileData","allModelData","fileData","modelData","performStartController","router","navigate","isReady","trackingIdModel","AdaptCollection","OfflineStorage","handler","_handler","save","serialize","JSON","stringify","deserialize","COMPLETION_STATE","Tracking","_requireContentCompleted","_requireAssessmentCompleted","_assessmentState","setupEventListeners","onAssessmentComplete","onAssessmentRestored","checkCompletion","assessmentState","submitScore","_shouldSubmitScore","isPercentageBased","scoreAsPercent","score","minScore","maxScore","completionData","getCompletionData","status","INCOMPLETE","assessment","isPass","PASSED","FAILED","COMPLETED","tracking","Device","touch","Modernizr","touchevents","screenWidth","getScreenWidth","screenHeight","getScreenHeight","Bowser","OS","getOperatingSystem","osVersion","osversion","renderingEngine","getRenderingEngine","onWindowResize","onConfigDataLoaded","browserString","getAppleDeviceType","pixelDensity","checkScreenSize","orientation","screenSizeConfig","screensizeEmThreshold","baseFontSize","mediumEmBreakpoint","smallEmBreakpoint","fontSize","parseFloat","screenSizeEmWidth","isAppleDevice","getAppleScreenWidth","innerWidth","width","getAppleScreenHeight","height","flags","os","platform","navigator","previousWidth","previousHeight","newScreenSize","userAgent","MSStream","screen","devicePixelRatio","DrawerItemView","role","render","el","appendTo","eventCallback","DrawerView","drawerDir","drawerDuration","_duration","toggleDrawer","openCustomView","onCloseDrawer","onRemove","onKeyUp","setupEscapeKey","which","drawer","_globals","prependTo","shadowTemplate","shadow","postRender","checkIfDrawerIsAvailable","hasBackButton","_hasBackButton","_isCustomViewVisible","showDrawer","isEmptyDrawer","collection","hideDrawer","$toElement","emptyDrawer","$el","renderItems","hideDrawerBackButton","complete","addShadowEvent","velocity","opacity","duration","easing","_showEasing","empty","_hideEasing","removeShadowEvent","one","childContainer","childView","DrawerCollection","Drawer","addItem","drawerObject","triggerCustomView","updateIndexPosition","updatePushPosition","preRender","hasBeenRemoved","delay","closePush","elementHeight","navigationHeight","currentIndex","flippedIndex","positionLowerPush","_showIcon","_timeout","NotifyModel","onPushAdded","onRemovePush","checkPushCanShow","canShowPush","showPush","availablePushNotifications","NotifyPushView","inactivePushNotifications","isForced","isStoppedImmediate","isStoppedNext","hasRequestChild","immediate","stopNext","component","original","React","createElement","compile","output","flatten","prefixClasses","prefixes","prefixed","prefix","AdaptView","toggleVisibility","onIsCompleteChange","isJSX","_classSet","Set","_isRemoved","setupOnScreenHandler","addChildren","eventName","startsWith","Template","updateViewProperties","ReactDOM","classesToAdd","classesToRemove","_setAttributes","onscreen","m","minVerticalInview","_percentInviewVertical","percentInviewVertical","nthChild","addDescendants","addedCount","_getAddChildEvent","subsequentModels","_nthChild","ChildView","getViewClass","addChildView","setChildViews","$parentContainer","addedDescendantCount","onReadyChange","stopListening","isRequestChild","ChildEvent","canRequestChild","close","findDescendantViews","descendantComponents","preRemove","unmountComponentAtNode","isComplete","_childViews","indexBy","isOpen","hasOpened","closeNotify","resetNotifySize","cancelNotify","notify","showNotify","resizeNotify","windowHeight","notifyHeight","isFullWindow","addSubView","$previousActiveElement","imageready","onLoaded","onOpened","inview","subView","prepend","check","stackItem","onCloseReady","removeSubView","views","Notify","_stack","notifyPushes","NotifyPushCollection","_deprecated","notifyObject","create","_isCancellable","_showCloseButton","_closeOnShadowClick","NotifyView","_canNavigate","_shouldNavigateFocus","Router","_isBackward","_navigationRoot","_isCircularNavigationInProgress","showLoading","$wrapper","setDocumentTitle","navigateToArguments","show","hide","currentModel","_currentModel","hasSubTitle","title","escapedTitle","v","handleRoute","handleId","handlePluginRouter","action","pluginLocation","updateLocation","isContentObject","navigateToId","isRoot","_isMenuDisabled","_previousId","navigateBack","isCourse","handleNavigationFocus","ViewClass","isMenu","invoke","isScrolling","navigateToElement","currentLocation","_previousModel","_previousContentType","_contentType","_currentLocation","_lastVisitedType","_lastVisitedMenu","_lastVisitedPage","setGlobalClasses","htmlClasses","currentClasses","_previousClasses","back","force","route","previousModel","navigateToParent","parentModel","settings","currentModelId","shouldReplace","contentObject","contentObjectId","isNotInCurrentContentObject","renderTo","disableScrollToAnimation","offsetTop","top","left","axis","RouterModel","loadSubset","groupBy","ArticleModel","BlockModel","ComponentModel","_isA11yComponentDescriptionEnabled","_userAnswer","_attemptStates","onAdaptInitialize","restoreUserAnswers","wasReset","resetUserAnswer","trackables","types","trackableType","n","booleans","numbers","Number","arrays","getAttemptState","getAttemptObject","attemptStates","states","PageModel","setVisibility","lock","isReact","_isTriggeredReady","performIsReady","unlock","styleOptions","isRenderToSelf","isLocked","ids","forceUntilId","addingId","PageView","$pageLabel","ContentObjectView","ArticleView","setHidden","BlockView","MPABC","waitForDataLoaded","loaded","onDataLoaded","setupSubsetCollections","contentObjects","AdaptSubsetCollection","articles","blocks","components","mpabc","helpers","lowercase","capitalise","charAt","inc","dec","odd","equals","block","compare","operator","inverse","math","lvalue","rvalue","any","specified","none","toString","root","compile_a11y_text","compile_a11y_normalize","compile_a11y_remove_breaks","import_globals","import_adapt","adapt","directImport","indexedImport","importArray","importIndex","i1","l1","component_description","isNotDefined","_components","hasOverride","description","ariaRegion","SafeString","a11y_aria_label_relative","a11y_aria_image","texts","a11y_wrap_focus","a11y_attrs_heading","levelOrType","ariaLevel","_ariaLevel","a11y_attrs_tabbable","a11y_alt_text","visible","alternatives","if_value_equals","lowerCase","registerHelper","Scrolling","isLegacyScrolling","_loadConfig","limitTo","_limitToSelector","isIncluded","_windowScrollFix","_addStyling","_updateScrollbarWidth","$tester","scrollBarWidth","outerWidth","documentStyle","documentElement","style","setProperty","body","scrolling","scrollY","scrollX","scrollLeft","scrollWidth","defineProperties","pageYOffset","pageXOffset","isObject","MouseEvent","pageX","clientX","clientY","HeadingView","updateAria","customHeadingType","$rendered","Headings","onViewRender","$headingSeats","NavigationView","hideNavigationButton","_accessibility","insertBefore","currentEvent","navigateToPreviousRoute","navigateToHomeRoute","skipNavigation","shouldHide","NavigationController","addNavigationBar","adaptConfig","_isDefaultNavigationDisabled","navigation","ComponentView","inviewElementSelector","setCompletionStatus","$inviewElement","inviewCallback","onInview","visiblePartX","visiblePartY","hasSeenTop","hasSeenBottom","removeInviewListener","ChartJSView","events","onScreenSizeChanged","onDeviceChanged","onAccessibilityToggle","onDataChanged","checkIfResetOnRevisit","dynamicInsert","setupChart","datasets","dataURL","fetchJson","response","then","ctx","chart","Chart","setReadyStatus","update","_isVisibleTop","_isVisibleBottom","obj","display","onCompletion","ChartJSModel","updateDataset","datasetData","datasetIndex","RangeError","BUTTON_STATE","textPropertyName","SUBMIT","CORRECT","INCORRECT","SHOW_CORRECT_ANSWER","HIDE_CORRECT_ANSWER","SHOW_FEEDBACK","RESET","onButtonStateChanged","onFeedbackMessageChanged","onAttemptsChanged","onCanSubmitChange","buttons","refresh","isSubmitted","buttonState","checkResetSubmittedState","correctAnswer","getCorrectAnswerAsText","updateAnswerLiveRegion","userAnswer","getUserAnswerAsText","changedAttribute","updateAttemptsCount","$buttonsAction","propertyName","asString","ariaLabel","buttonText","canShowFeedback","isInteractionComplete","attemptsLeft","shouldDisplayAttempts","attemptsString","remainingAttemptText","remainingAttemptsText","showMarking","answer","shouldShowMarking","isCorrect","ariaLabels","_ariaLabels","answeredCorrectly","answeredIncorrectly","checkFeedbackState","QuestionModel","_shouldDisplayAttempts","_shouldShowMarking","_canShowModelAnswer","_canShowMarking","_canSubmit","_isSubmitted","_isCorrectAnswerShown","_questionWeight","_hasItemScoring","_items","setupDefaultSettings","setLocking","updateRawScore","setupWeightSettings","setupButtonSettings","globalButtons","componentButtons","canSubmit","_rawScore","_maxScore","_minScore","canShowModelAnswer","setupCorrectFeedback","isPartlyCorrect","setupPartlyCorrectFeedback","setupIncorrectFeedback","feedbackTitle","getFeedbackTitle","feedbackMessage","correct","feedback","_partlyCorrect","setAttemptSpecificFeedback","_incorrect","notFinal","attempts","_attemptsLeft","_isCorrect","_buttonState","resetQuestion","addAttemptObject","isInteractive","QuestionView","onEnabledChanged","ensureLegacyLifecycleState","_runModelCompatibleFunction","setupQuestion","disableQuestion","enableQuestion","resetQuestionOnRevisit","onHideCorrectAnswerClicked","onResetClicked","addButtonsView","onQuestionRendered","buttonsView","ButtonsView","onButtonStateUpdate","onSubmitClicked","onShowCorrectAnswerClicked","showFeedback","showInstructionError","onCannotSubmit","removeInstructionError","recordInteraction","resize","onSubmitted","setQuestionAsSubmitted","checkQuestionCompletion","setQuestionAsReset","checkCanSubmit","getButtonState","setQuestionAsShowCorrect","showCorrectAnswer","setQuestionAsHideCorrect","hideCorrectAnswer","lookForViewOnlyFunction","ViewOnlyQuestionViewCompatibilityLayer","getInteractionObject","getResponse","getResponseType","updateAttempts","storeUserAnswer","_isInViewOnlyCompatibleMode","markQuestion","setScore","updateButtons","setupFeedback","checkForFunction","hasCompatibleVersion","usingCompatibleVersion","ChooseView","onKeyPress","onItemOptionSelect","setupRandomisation","setupItems","_spaceSize","_spaces","_choose","updateItem","_selected","getChoose","_hasGraphic","_graphic","selected","getItemElement","_text","_index","$input","itemIndex","optionIndex","val","setOptionSelected","replaceWith","option","_isSelected","setupQuestionItemIndexes","choice","shuffle","isSelected","numberOfCorrectAnswers","a","questionWeight","itemLength","interactions","correctResponsesPattern","source","items","questionIndex","flat","Infinity","responses","correctAnswerTemplate","ariaCorrectAnswer","ariaAnswer","correctOption","itemText","userAnswerTemplate","ariaUserAnswer","answerArray","ChooseModel","_isVisited","_score","isActive","isVisited","setUpItems","booleanArray","ItemModel","findWhere","getVisitedItems","areAllItemsCompleted","toggleActive","getItem","activeItem","getActiveItem","AccordionModel","ItemsComponentModel","_shouldCollapseItems","_shouldExpandFirstItem","_toggleSpeed","previousActiveItem","toggleVisited","setActiveItem","AccordionView","resetActiveItems","checkExpandFirstItem","onItemsActiveChange","onItemsVisitedChange","setupInviewCompletion","toggleItemsState","toggleItem","shouldExpand","stop","slideUp","slideDown","AssessmentResultsModel","onAssessmentReset","checkIfAssessmentComplete","assessmentModel","getState","allowResetIfPassed","_state","attemptsSpent","setFeedbackBand","checkRetryEnabled","setFeedbackText","scoreProp","bands","sortBy","isScoreInBandRange","canResetInPage","feedbackBand","isRetryEnabled","_allowRetry","isAttemptsLeft","showRetry","_isRetryEnabled","retryFeedback","isVisibleBeforeCompletion","wasVisible","isAttemptInProgress","attemptInProgress","hasHadAttempt","isVisible","resetType","_feedbackBand","AssessmentResultsView","unsetLocking","addClassesToArticle","onRetryClicked","_routeToAssessment","articleId","BlankView","McqView","isCorrectAnswerShown","initialize","onItemSelect","onItemFocus","onItemBlur","itemModel","shouldSelect","isSingleSelect","isAtActiveLimit","getLastActiveItem","resetItems","updateSelection","updateMarking","prop","canShowMarking","$itemInput","shouldBeSelected","incorrect","selectedAnswer","unselectedAnswer","BlendedItemsComponentQuestionModel","getOwnPropertyNames","itemModels","activeItems","getActiveItems","b","allChildren","activeChildren","isItemCorrect","isItemPartlyCorrect","isItemIncorrect","list","predicate","_numberOfRequiredAnswers","_numberOfCorrectAnswers","_numberOfPartlyCorrectAnswers","_numberOfIncorrectAnswers","_isAtLeastOneCorrectSelection","numberOfSelectableAnswers","hasSelectableCorrectAnswers","hasAllCorrectAnswers","hasCorrectAnswers","hasIncorrectAnswers","hasPartlyCorrectAnswers","scores","setupIndividualFeedback","selectedItem","selectedItems","choices","correctItems","activeIndexes","globals","ariaCorrectAnswers","correctOptions","_shouldBeSelected","ariaUserAnswers","ItemsQuestionModel","Gmcq","Mcq","resizeImage","onDeviceResize","setUpColumns","imageWidth","$img","newSrc","columns","isLarge","alt","GraphicView","_url","_target","isNewWindow","open","isRouterNavigation","substr","GraphicModel","HotgraphicPopupView","onControlClick","applyNavigationClasses","updatePageCount","handleTabs","itemCount","canCycleThroughPagination","shouldEnableBack","shouldEnableNext","$controls","_hotgraphic","popupPagination","labelText","itemNumber","totalItems","applyItemClasses","handleFocus","getNextIndex","setItemState","lastIndex","nextItem","HotGraphicView","setUpViewData","setUpModelData","setUpEventListeners","popupView","_isPopupOpen","reRender","replaceWithNarrative","NarrativeView","prepareNarrativeModel","newNarrative","$container","findViewByModelId","_wasHotgraphic","originalBody","originalInstruction","$pin","visitedLabel","visited","innerHTML","openPopup","popup","_attributes","onPopupClosed","HotgraphicView","click","$inner","select","$button","deselectAll","setActiveDescendantId","isPlaceholder","getValue","removeActiveDescendantId","getIndex","scrollToItem","placeholder","DropDown","setUpElements","addEventListeners","toggleOpen","load","$list","$options","DropDownOption","onStartInteraction","onButtonClick","onListBlur","onKeyDown","wasOpen","deselect","getFirstSelectedItem","reselect","blurTimeout","handleBlur","getPrevious","getLast","getNext","getFirst","removeEventListeners","openList","offsetLeft","getBoundingClientRect","isOffscreen","closeList","clientHeight","pos","dropdowns","dropdown","toggleDisabled","onPostRemove","onOptionSelected","setUpDropdowns","selectedOption","isEmpty","eq","resetAll","selectValue","tempUserAnswer","_tempUserAnswer","_matching","MatchingView","MatchingModel","mepPrototype","mejs","MediaElementPlayer","detectFullscreenMode","vendorPrefix","getVendorPrefix","fsEventName","fullScreenEventHandler","elementName","MepDefaults","keyActions","defaultSeekForwardInterval","defaultSeekBackwardInterval","purge","d","i18n","locale","strings","ariaLabelMappings","playText","pauseText","stopText","audioPlayerText","videoPlayerText","tracksText","timeSliderText","muteText","unmuteStatusText","muteStatusText","volumeSliderText","fullscreenText","goFullscreenText","turnOffFullscreenText","noneText","skipBackText","allyVolumeControlText","progessHelpText","dynamicLabels","fixedDefaults","_media","k","MediaView","playerOptions","toggleCaptionsButtonWhenOnlyOne","onMediaStop","_isMediaEnded","_isMediaPlaying","media","protocol","setupPlayer","addMejsButtonClass","modelOptions","pluginPath","flashName","flashScriptAccess","features","onPlayerReady","startLanguage","checkForSupportedCCLanguage","alwaysShowControls","hideVideoControlsOnLoad","addMediaTypeClass","addThirdPartyFixes","mediaelementplayer","cleanUpPlayer","mp3","mp4","ogv","webm","typeClass","ogg","froogaloopAdded","getScript","done","completionEvent","mediaElement","seeking","onMediaElementSeeking","timeupdate","onMediaElementTimeUpdate","play","onMediaElementPlay","pause","onMediaElementPause","ended","onMediaElementEnded","listenForCaptionsChange","srclang","player","selectedTrack","onCaptionsChanged","setTrack","$inputs","cc","queueGlobalEvent","onWidgetInview","isInView","paused","maxViewed","currentTime","clickToPlayPause","onOverlayClick","onMediaElementClick","isPaused","isRemoved","playerId","players","src","pluginElement","domObject","hasTouch","MediaFeatures","setupPlayPauseToggle","addThirdPartyAfterFixes","cleanUpPlayerAfter","setVolume","$transcriptBodyContainer","$buttonText","inlineTranscriptButton","inlineTranscriptCloseButton","_setCompletionOnView","eventType","time","Date","now","lastEvent","timeSinceLastEvent","debounceTime","eventTimeout","triggerGlobalEvent","eventObj","pluginType","isVideo","_isInitial","renderMode","calculateWidths","isTextBelowImage","setStage","setFocus","$straplineHeaderElm","hasStraplineTransition","isLargeMode","focusOnNarrativeElement","dataIndexAttr","$elementToFocus","MODE","LARGE","SMALL","calculateMode","setupNarrative","replaceInstructions","_totalWidth","_itemWidth","previousMode","evaluateNavigation","replaceWithHotgraphic","resizeControl","evaluateCompletion","prepareHotgraphicModel","newHotgraphic","instruction","cssValue","$sliderElm","indexSelector","$slideGraphics","$narrativeItems","$narrativeStraplineButtons","shouldShowInstructionError","moveSliderToIndex","active","isAtStart","isAtEnd","$left","$right","ariaLabelsGlobals","narrativeGlobals","_narrative","ariaLabelPrevious","previous","ariaLabelNext","next","prevTitle","nextTitle","currentItem","$btn","prevItemIndex","NarrativeModel","selectItem","getIndexFromValue","$sliderScaleMarker","$slider","step","rangeslider","polyfill","onSlide","handleSlide","oldValue","_deferEnable","setAllItemsEnabled","position","pixels","mapIndexToPixels","animateToPosition","setupRangeslider","setScalePositions","showScaleMarker","newPosition","mobileHA","itemValue","scaleStart","scaleEnd","round","mapValue","$widthObject","numberOfItems","low","high","range","inputLow","inputHigh","outputLow","outputHigh","normal","normalise","newItemIndex","max","min","setSliderValue","getValueFromIndex","animate","change","resetControlStyles","normalisedPosition","$markers","$scaler","showScaleNumbers","$numbers","scaleWidth","$number","newLeft","showScale","showLabels","remapSliderBar","answers","getCorrectAnswers","middleAnswer","floor","showModelAnswers","correctAnswerArray","$parentDiv","startingLeft","fadeIn","userAnswerIndex","deselectAllItems","showNumber","$scaleMarker","setupModelItems","selectDefaultItem","num","dp","getDecimalPlaces","toFixed","_bottom","_top","_marginDir","answerSingle","answerMultiple","bottom","_slider","ariaCorrectAnswerRange","answerTemplate","SliderView","SliderModel","TextView","setupInview","getInviewElementSelector","TextModel","showValidationError","correctAnswers","_answers","setItemUserAnswer","TextInputModel","genericAnswerIndexOffset","_answerIndex","genericAnswers","answerIndex","markGenericAnswers","markSpecificAnswers","usedAnswerIndexes","answerGroup","checkAnswerIsCorrect","cleanupUserAnswer","possibleAnswers","uAnswer","answerIsCorrect","cAnswer","TextInputView","getElementById","d3","parsedCSV","csv","parseRows","selectAll","enter","insertTable","csv2d3","DraggieView","draggie","setUpDraggie","Draggabilly","container","onDragStart","onDragMove","onDragEnd","pointer","isOverlap","_isOverlap","setPositionTarget","resetPosition","targetPosition","setPosition","targetLocation","targetX","targetY","x","DropItemsView","draggies","onResize","onDropIt","setSizeDrop","_selectable","DropItemsModel","LottieInteractivityView","lottieModel","lottieplayerEl","controls","setAttribute","autoplay","speed","renderer","background","preserveAspectRatio","lottieplayer","failed","interactivity","LottieInteractivity","LottieInteractivityModel","f","self","postMessage","o","h","t","dynamicTyping","M","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","r","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","userError","input","workerId","download","p","readable","read","g","File","stream","unparse","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","newline","quoteChar","header","escapeChar","escapeFormulae","RegExp","j","u","fields","meta","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","NODE_STREAM_INPUT","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","E","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","FileReader","files","file","inputElem","instanceConfig","before","reason","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_nextChunk","isFirstChunk","_completeResults","errors","w","chunkSize","streamer","parseChunk","beforeFirstChunk","aborted","cursor","substring","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","message","readyState","responsefile","getResponseHeader","lastIndexOf","statusfile","webkitSlice","mozSlice","FileReaderSync","size","readAsfile","encoding","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","removeListener","pow","abort","transformHeader","code","row","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","S","O","I","T","D","A","fastMode","L","F","z","C","R","linebreak","truncated","terminate","require","exports","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","str","nil","_Code","Name","IDENTIFIER","_CodeOrName","_str","_names","emptyStr","or","and","CodeGen","operators","varKinds","ValueScopeName","ValueScope","Scope","enumerable","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","varKind","rhs","es5","_n","lhs","sideEffects","op","label","optimizeNodes","optimizeNames","kind","condition","iteration","from","to","iterable","P","async","N","_values","_blockStarts","_constants","opts","lines","_extScope","_scope","_nodes","_root","scopeRefs","scopeCode","toName","_leafNode","_def","_blockNode","endIf","_elseNode","_endBlockNode","endFor","_for","forRange","ownProperties","forOf","_currNode","endBlock","endFunc","UsedValueState","Started","Completed","_prefixes","_newName","_nameGroup","scopePath","scope","ref","Map","setValue","_reduceValues","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","vErrors","gen","validateName","schemaEnv","$async","ValidationError","keyword","schemaType","it","compositeRule","allErrors","schemaValue","errsCount","instancePath","errorPath","errSchemaPath","verbose","schemaPath","schema","parentSchema","createErrors","topSchemaRef","messages","getErrorPath","Type","Str","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","refs","dynamicAnchors","schemaId","baseId","normalizeId","localRefs","getFullPath","uriResolver","scopeValue","scopeName","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","rootId","jtd","_compilations","validateFunctionCode","optimize","process","validateCode","scopeValues","unevaluated","evaluated","dynamicProps","dynamicItems","validate","logger","inlineRef","inlineRefs","schemas","_getFullPath","resolveUrl","fragment","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","jsonPos","jsonLen","jsonPart","missingRef","missingSchema","getSchemaRefs","eachItem","allKeys","$anchor","$dynamicAnchor","getRules","isJSONType","number","rules","string","array","integer","post","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","mergeNames","mergeToName","mergeValues","resultToName","decodeURIComponent","encodeURIComponent","Num","definition","shouldUseRule","shouldUseGroup","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","schemaCode","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","Correct","Wrong","nullable","coerceTypes","strictNumbers","elseIf","assignDefaults","useDefaults","properties","getData","KeywordCxt","func","dynamicRef","$comment","ignoreKeywordsWithRef","strictTypes","allowUnionTypes","validateKeywordUsage","$data","def","validSchemaType","allowUndefined","trackErrors","failResult","invalid$data","setParams","_error","$dataError","check$data","validateSchema","getSubschema","extendSubschemaData","extendSubschemaMode","funcKeywordCode","macroKeywordCode","exec","macro","subschema","pass","callValidateCode","passContext","modifying","valid","block$data","ok","dependencies","errorsText","schemaProp","dataProp","dataPropType","jsPropertySyntax","jtdDiscriminator","jtdMetadata","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","sourceCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","unicode","strict","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","_metaOpts","_addVocabularies","_addDefaultMetaSchema","addMetaSchema","addKeyword","$id","defaultMeta","getSchema","_addSchema","_compileSchemaEnv","loadSchema","$schema","addSchema","_checkUnique","_removeAllSchemas","separator","dataVar","_compileMetaSchema","addFormat","addVocabulary","MissingRefError","metaSchema","anyOf","required","additionalProperties","definitions","schemaArray","minItems","nonNegativeInteger","minimum","nonNegativeIntegerDefault0","allOf","simpleTypes","stringArray","readOnly","examples","multipleOf","exclusiveMinimum","maximum","exclusiveMaximum","maxLength","minLength","pattern","additionalItems","maxItems","contains","maxProperties","minProperties","patternProperties","propertyNames","contentMediaType","contentEncoding","oneOf","charCodeAt","ajv","validation","validateAdditionalItems","len","additionalProperty","removeAdditional","allSchemaProperties","forIn","isOwnProperty","usePattern","validateUnion","minContains","maxContains","validateSchemaDeps","validatePropertyDeps","depsCount","deps","missingProperty","propertyInData","checkReportMissingProp","checkMissingProp","reportMissingProp","mergeValidEvaluated","ifClause","validateTuple","validateArray","prefixItems","passing","discriminator","allowMatchingProperties","schemaProperties","noPropertyInData","hasPropFunc","callRef","getValidate","discrError","DiscrError","Tag","tag","mapping","Mapping","metadataVocabulary","contentVocabulary","fail$data","okStr","multipleOfPrecision","valueOf","pre","arrayKeywords","propsKeywords","skipKeywords","$defs","URI","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","Symbol","TypeError","overflow","fromCodePoint","V","q","scheme","userinfo","host","query","iri","reference","port","unicodeSupport","domainHost","U","absolutePath","K","tolerant","H","G","J","secure","B","resourceName","W","Q","Z","Y","X","ee","te","re","oe","se","ae","ne","ie","subject","headers","setInterval","ce","le","nid","nss","de","ue","uuid","SCHEMES","pctEncChar","pctDecChars","removeDotSegments","resolveComponents","equal","escapeComponent","unescapeComponent","$dataMetaSchema","readFile","reader","res","err","readAsText","onSubmit","contents","Papa","fileObj","getFile","tableData","record","recordVals","numCols","alert","col","tableHeader","DataTable","csvLineBreaks","encodingErrors","lineBreaks","csvLineBreaks_unique","whiteSpace","csv_lines","csvRows","csvRows_whitespace","checkUTF8","utf8Text","escape","encodingInside","singleCommaSeparated","csvRows_columns","csvRows_columns_unique","headerColumns","undeclaredHeader","csv_headers","columnValidation","emptyColumnName","csv_headers_blank","duplicateColumnName","csv_headers_unique","rowValidation","raggedRows","blankRows","csvRows_blank","itemsValidation","inconsistentValues","csvRows_columns_unique_max","csvRows_columns_unique_max_index","csvRows_columns_unique_max_columns","csvRows_columns_unique_max_columns_values","csvRows_columns_unique_max_columns_values_numeric","nonEmptyArrays","feedbackString","arr","convertIntObj","parsed","arrayResult","Ajv","_schema","errorList","errText","colName","colType","problem","errMsg","missingCol","allowed","errTextFixes","userResult","validateAjv","checkCsvStructure","combinedArr","table","createTable","fileInputView","StackList","TRANSITION_TIME","setupButton","setupListItems","setupItemOffsets","_button","btnAriaLabel","_stacklist","ariaButtonLabel","buttonAriaLabel","startText","continueText","wWin","offsetRight","stage","buttonOffset","isLeft","updateButton","blur","$buttonDiv","StackListView","AssessmentView","AdaptArticleView","isAssessmentEnabled","_setupEventListeners","getConfig","_questions","_onAssessmentComplete","_onAssessmentReset","_onRemove","_removeEventListeners","info","QuestionBank","quizBankid","numQuestionBlocks","uniqueQuestions","_articleId","_numQuestionBlocks","_uniqueQuestions","questionBlocks","unUsedQuestionBlocks","usedQuestionBlocks","checkResetUnunsedBlocks","question","getRandomQuestion","random","questionBlock","givenIdCount","assessmentConfigDefaults","_resetType","_suppressMarking","_isPercentageBased","_scoreToPass","_correctToPass","_includeInTotalScore","_assessmentWeight","_reloadPageOnReset","_attempts","_allowResetIfPassed","AssessmentModel","_getCurrentQuestionComponents","questions","_getAllQuestionComponents","_postInitialize","assessmentConfig","_originalChildModels","_questionBanks","_forceResetOnRevisit","_assessmentCompleteInSession","_attemptInProgress","_isAssessmentComplete","_numberOfQuestionsAnswered","_lastAttemptScoreAsPercent","_attemptsSpent","_onDataReady","setupCurrentQuestionComponents","_setAssessmentOwnershipOnChildrenModels","_updateQuestionsState","assessmentQuestionsConfig","childConfig","_isPartOfAssessment","_assessmentId","blockModel","_setupAssessmentData","hasAttemptsLeft","shouldResetOnRevisit","shouldResetAssessment","shouldResetQuestions","quizModels","_banks","_split","_setupBankedAssessment","_randomisation","_setupRandomisedAssessment","_resetQuestions","_overrideQuestionComponentSettings","_setupQuestionListeners","_checkNumberOfQuestionsAnswered","saveState","_setupBanks","questionModels","questionBank","getRandomQuestionBlocks","banks","bankId","bank","blockAssessmentConfig","_quizBankID","addBlock","randomisationModel","blockModels","_blockCount","newSettings","_getMarkingSettings","questionConfig","questionComponents","_removeQuestionListeners","_onBlockCompleted","numberOfQuestionsAnswered","questionModel","_onQuestionCompleted","_checkAssessmentComplete","allQuestionsAdded","POSITIVE_INFINITY","allQuestionsAnswered","wasAttemptInProgess","_spendAttempt","_scoreAsPercent","_getScoreAsPercent","_getScore","_getMaxScore","_getMinScore","_correctCount","_getCorrectCount","_correctAsPercent","_getCorrectAsPercent","_questionCount","_getQuestionCount","_checkIsPass","_isMarkingSuppressionEnabled","_isAttemptsLeft","_overrideMarkingSettings","_refreshQuestions","scoreToPass","correctToPass","correctAsPercent","correctCount","markingSettings","_shouldSuppressMarking","newMarkingSettings","questionCount","_getLastAttemptScoreAsPercent","_checkReloadPage","_reloadPage","_scrollToOnReset","_setCompletionStatus","_checkIfQuestionsWereRestored","wereQuestionsRestored","isPageReload","getSaveState","banksActive","randomisationActive","blockTrackingPositions","blockCompletion","blockData","dataPackage","setRestoreState","restoreState","_trackingId","nonBlockChildren","blockIndex","blockQuestions","pageId","includeInTotalScore","assessmentWeight","lastAttemptScoreAsPercent","assessmentsConfigDefaults","_isDefaultsLoaded","Assessment","_assessments","_byPageId","_byAssessmentId","_onAssessmentsComplete","_checkResetAssessmentsOnRevisit","_handleRoute","assessmentId","_getStateByAssessmentId","_setPageProgress","_checkAssessmentsComplete","_saveStateModel","toObject","pageAssessmentModels","_getAssessmentByPageId","resetAllAssessments","allAssessmentHaveReset","numberOfAssessments","numberOfResetAssessments","forceAssessmentReset","haveAllModelsReset","_restoredCount","allAssessmentsComplete","assessmentToPostBack","_getStatesByAssessmentId","assessmentStates","_setupSingleAssessmentConfiguration","assessmentsConfig","assessments","assessmentsTotal","assessmentsPassed","pageModel","_subProgressTotal","_subProgressComplete","getRelatedQuestions","currentAssessmentId","currentAssessment","getQuestionNumber","related","pluck","getTotalQuestions","_addToAssessmentIdMap","_restoreModelState","_setupQuestionNumbering","assessmentsComplete","scoreRange","canRetry","isFailed","ArticleViewInitialize","AdaptAssessmentArticleView","ArticleModelInitialize","AdaptAssessmentArticleModel","returnValue","Bookmarking","bookmarkLevel","restoredLocationID","currentLocationID","checkCourseIsEnabled","checkRestoreLocation","courseBookmarkModel","_onScroll","checkLocation","setupMenu","setupPage","restoreLocation","isAlreadyOnScreen","_showPrompt","navigateToPrevious","showPrompt","locationOnscreen","isLocationOnscreen","percentInview","isLocationFullyInview","_buttons","yes","no","navigateCancel","prompt","_prompts","promptText","_callbackEvent","isSinglePage","setLocationID","menuView","menuModel","resetLocationID","defaultLevel","bookmarkModel","isInherit","pageView","pageBookmarkModel","getBookmarkLevel","releaseViews","contentObjectBookmarkModel","possibleViewIds","desc","highestOnscreen","highestOnscreenLocation","measurements","setupHelpers","initializeNavigation","destroyNavigation","setLanguage","navigationView","promptObject","getPromptObject","onDrawerClosed","onPopupOpened","onDoChangeLanguage","onDontChangeLanguage","$finishFocus","setPopupCloseTo","setTrackedData","getLanguageDetails","_direction","warningTitle","warningMessage","classNames","customClass","LanguagePickerDrawerView","trackedData","locationId","displayTitle","_languages","markLanguageAsSelected","_language","_activeLanguage","_defaultDirection","isTrackedDataEmpty","setTrackableState","isEqual","stateObject","restoreModel","LanguagePicker","onConfigLoaded","languagePickerModel","LanguagePickerModel","setupNavigationView","paramLang","onOfflineStorageReady","storedLanguage","showLanguagePickerView","languagePickerView","LanguagePickerView","courseGlobals","_extensions","navigationBarLabel","_languagePicker","languagePickerNavView","LanguagePickerNavView","Completion","subProgressCompleted","subProgressTotal","nonAssessmentCompleted","nonAssessmentTotal","assessmentCompleted","assessmentTotal","contentObjectModel","completion","viewType","availableChildren","filterAvailableChildren","getPageLevelProgressEnabledModels","nonAssessmentComponents","getNonAssessmentComponents","getComponentsCompleted","assessmentComponents","getAssessmentComponents","getComponentsInteractionCompleted","_excludeAssessments","showPageCompletionCourse","_showPageCompletion","showPageCompletionPage","completionObject","calculateCompletion","unavailableInHierarchy","total","percentageComplete","PageLevelProgressIndicatorView","calculatePercentage","addClasses","setPercentageComplete","getRenderData","percentage","checkAria","PageLevelProgressItemView","addIndicator","currentComponentSelector","pageLevelProgress","$children","deferredUpdate","updateProgressBar","refreshProgressBar","pageLevelProgressNavigation","indicatorView","_getPageCompletionPercentage","_pageLevelProgress","pageLevelProgressIndicatorBar","completionCalculations","calculatePercentageComplete","repopulate","PageLevelProgressView","_pageModel","allDescendants","currentPageItems","availableItems","enabledProgressItems","PageLevelProgress","onDataReady","coursePLPConfig","getCourseConfig","headerIndicatorTypes","headerIndicatorEventNames","renderHeaderIndicatorView","renderMenuItemIndicatorView","renderNavigationView","onCompletionChange","completionState","hasChanged","_previousCompletionState","_isCompletionIndicatorEnabled","pageConfig","$headings","insertAfter","_getMenuItemCompletionPercentage","pageLevelProgressMenuBar","_isShownInNavigationBar","pagePLPConfig","PageLevelProgressCollection","after","PageLevelProgressNavigationView","resources","resources_has_type","hasType","matcher","resources_has_multiple_types","allSameType","resources_get_column_count","resources_force_download","resource","_forceDownload","filename","Resources","initResources","courseResources","drawerOrder","_drawerOrder","setupResources","resourcesData","ResourcesView","Logger","logArr","registeredViews","LOG_TYPE_INFO","updateViews","LOG_TYPE_WARN","LOG_TYPE_ERROR","LOG_TYPE_DEBUG","instance","ScormError","CLIENT_COULD_NOT_CONNECT","SERVER_STATUS_UNSUPPORTED","CLIENT_STATUS_UNSUPPORTED","CLIENT_COULD_NOT_COMMIT","CLIENT_NOT_CONNECTED","CLIENT_COULD_NOT_FINISH","CLIENT_COULD_NOT_GET_PROPERTY","CLIENT_COULD_NOT_SET_PROPERTY","CLIENT_INVALID_CHOICE_VALUE","defaultMessages","pressOk","ScormWrapper","setCompletedWhenFailed","commitOnStatusChange","commitOnAnyChange","timedCommitFrequency","maxCommitRetries","commitRetryDelay","commitRetryPending","commitRetries","lastCommitSuccessTime","exitStateIfIncomplete","exitStateIfComplete","timedCommitIntervalID","retryCommitTimeoutID","logOutputWin","startTime","endTime","lmsConnected","finishCalled","getInstance","scorm","pipwerks","SCORM","handleExitMode","suppressErrors","debouncedCommit","commit","__debug","showDebugWindow","API","__offlineAPIWrapper","API_1484_11","handleError","initTimedCommit","isSCORM2004","setIncomplete","setCompleted","setPassed","setFailed","scaledScore","isSupported","initRetryCommit","errorCode","getCode","errorInfo","getInfo","diagnosticInfo","getDiagnosticInfo","clearInterval","convertToSCORM2004Time","getTime","getExitState","convertToSCORM12Time","quit","latency","recordInteractionMultipleChoice","recordInteractionMatching","recordInteractionScorm2004","recordInteractionScorm12","recordInteractionFillIn","doRetryCommit","_messages","confirm","cmiPrefix","getInteractionCount","getCMITime","getISO8601Timestamp","checkResponse","scormRecordInteraction","msConvert","msPerSec","msPerMin","msPerHour","ms","secs","mins","hrs","padWithZeroes","csConvert","csPerSec","csPerMin","csPerHour","csPerDay","days","hours","cs","seconds","hms","date","getHours","getMinutes","sec","getSeconds","toISOString","numToPad","padBy","responseType","checkIdentifier","identifiers","completionStatus","isIncomplete","exitState","LZMAWorker","LZMAFactory","ZeroString","makeZeroString","zeroPadRightToLength","padLength","zeroPadLeftToLength","zeroPadRightToMultiple","multiple","binaryToUnsignedInteger","binary","binaryLength","shiftUnsignedIntegerFromBinary","shiftBinary","shifted","unsignedIntegerToBinary","byteArrayToString","arrayLength","stringToByteArray","stringLength","BYTE_BIT_LENGTH","binaryToBase64","bytesCount","charCodes","base64","btoa","base64ToBinary","atob","logs","usedTypes","typeLengths","binarySamples","AbstractValueType","binaryTypeLength","binaryType","FixedIntegerType","esType","valueBinaryLength","minValue","maxValue","logStats","FixedBooleanType","bool","LengthAndValueBinary","bitSizes","maxValues","sizeBinaryLength","parentName","sizeIndex","sizeBinary","valueLength","integerBinary","VariableIntegerType","isNegative","integerBitSizes","valueToBinary","shiftValueFromBinary","VariableArrayType","valueType","findValueTypeFromValues","shiftValueTypeFromBinary","VariableSignedIntegerType","signBinary","VariableDecimalType","isFloat","decimal","decimalBitSizes","float","parts","higherInteger","lowerInteger","integerValueBinary","decimalValueBinary","arrayType","booleanType","integerTypes","decimalTypes","ValueTypes","nameIndex","esTypeOf","findValueTypeFromName","findValueTypeFromValue","isInteger","isValueInValueTypeRange","esTypes","uniqESTypes","isRangeInValueTypeRange","convertValuesToNumbers","Converter","typeName","clearLog","hasInitialType","printLog","isLargeArray","compress","compressedBase64","isCompressedSmaller","isLZMACompressed","LZMA","decompress","valueFromBinary","SCORMSuspendData","trackingIdType","shouldCompress","shouldStoreResponses","shouldStoreAttempts","isContainer","modelState","hasUserAnswer","isUserAnswerArray","hasAttemptStates","serializeAsync","trackingIdMap","setAttemptObject","attemptObject","_trackingIdType","_componentSerializer","_shouldCompress","_shouldStoreResponses","_shouldStoreAttempts","_shouldRecordInteractions","beginSession","restoreSession","spoor","_tracking","ComponentSerializer","_advancedSettings","setVersion","_showDebugWindow","_scormVersion","isBoolean","_suppressErrors","_commitOnStatusChange","_commitOnAnyChange","isFinite","_timedCommitFrequency","_maxCommitRetries","_commitRetryDelay","_exitStateIfIncomplete","_exitStateIfComplete","setupLearnerInfo","restoreSessionState","_learnerInfo","sessionPairs","hasNoPairs","_isAssessmentPassed","debouncedSaveSession","saveSessionState","onLanguageChanged","onQuestionRecordInteraction","onTrackingComplete","advancedSettings","shouldCommitOnVisibilityChange","_commitOnVisibilityChangeHidden","onVisibilityChange","endSession","isMidRender","courseState","componentStates","printCompletionInformation","suspendData","courseComplete","assessmentPassed","trackingIdModels","trackingIds","completionString","markers","mark","_reporting","_resetStatusOnLanguageChange","visibilityState","questionView","getLatency","_onTrackingCriteriaMet","_onAssessmentFailure","finish","statefulSession","temporaryStore","suspendDataStore","suspendDataRestored","useTemporaryStore","getCustomStates","getLessonLocation","getScore","getStatus","student","getStudentName","learnerInfo","getLearnerInfo","getCustomState","stateArray","_isCourseComplete","questionsState","setLessonLocation","setStatus","dataAsString","setSuspendData","isSuspendDataStoreEmpty","getSuspendData","dataAsJSON","getStudentId","firstname","lastname","hasName","isNameCommaSeparated","isNameSpaceSeparated","nameParts","part","Spoor","_prepare","StatefulSession","onKeyCombo","_deepDefaults","defaultObjects","keyValuePairs","defaultValue","isRecursiveObject","isValueAlreadySet","configDefaults","_isInherited","_autoScroll","_scrollTo","_onChildren","_isFullWidth","_autoHide","_hasIcon","_styleBeforeCompletion","_styleAfterClick","startAriaLabel","finalText","finalAriaLabel","_stepLocking","_isCompletionRequired","_isLockedOnRevisit","isModelArticleWithOnChildren","trickleConfig","getModelConfigDefaults","getModelInheritanceChain","configModel","parentConfig","blockConfig","isParentEnabledNotOnChildren","isNoChildConfig","getModelConfig","inheritance","inheritModel","isLast","getModelContainer","getCompletionAttribute","_completionAttribute","checkApplyLocks","debouncedApplyLocks","applyLocks","locks","modelsById","TrickleButtonModel","siteModel","isStepLocked","subsequentLockingModels","_getAncestorNextSiblings","isButtonModel","descendantId","wasLocked","logTrickleState","fromModel","allSiblings","subsequentSiblings","allAncestors","inPageAncestors","subsequentInPageAncestors","grandParent","previousIndex","allGrandParentChildren","subsequentAncestorSiblings","subsequentContentObjectDescendantModels","addButtonComponents","uid","buttonModelSite","trickleButtonModel","_parentId","_layout","_trickle","_renderPosition","_isTrackable","isTrickled","repeat","TrickleController","checkIsFinished","onAddChildView","kill","isKilled","isManagedByTrickleAndLocked","isTrickling","isAutoScrollOff","hasTrickleButton","getScrollToId","firstCharacter","relativeModel","findRelativeModel","scrollToId","isDescendant","_scrollDuration","isStarted","isFinished","TrickleModel","TrickleButtonView","openPopupCount","isAwaitingPopupClose","wasButtonClicked","calculateButtonText","calculateButtonState","isDisabledByPopups","tryButtonAutoHide","onParentComplete","updateButtonState","isStepUnlocked","onStepUnlocked","shouldUserInteractWithButton","isButtonHidden","isButtonDisabled","$ariaLabel","HTMLElement","isSameNode","wasComplete","isStepLockingCompletionRequired","controller","isJustOffscreen","isButtonAutoHidden","isStepComplete","isStepLocking","isCompletionBlocked","getSiblings","isParentComplete","isButtonComplete","lastDescendant","isStart","isFinal","trickleParent","trickleSiblings","isStepLockedOnRevisit","isButtonDisableForced","isButtonHiddenForced","_isButtonVisible","_isButtonDisabled","isLastInContentObject","_showEndOfPage","isTrickleKilled","isButtonVisibleBeforeCompletion","isButtonVisibleAfterCompletion","isNoCompletionRequiredAndLockedVisible","isNoCompletionRequiredAndUnlockedVisible","isNoCompletionRequiredAndFinishedVisible","isStepLockedAndVisibleBeforeCompletion","isFinishedAndVisibleAfterCompletion","isStepUnlockedAndButtonIncomplete","isButtonVisible","isButtonEnabledBeforeCompletion","isButtonEnabledAfterCompletion","isNoCompletionRequiredAndLockedEnabled","isNoCompletionRequiredAndUnlockedEnabled","isNoCompletionRequiredAndFinishedEnabled","isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced","isFinishedAndEnabledAfterCompletion","isButtonEnabled","trickle","TUTOR_TYPE","NOTIFY","_hasNotifyBottomButton","getOriginClasses","extension","onNotifyClosed","triggerNotify","notifyOptions","onTutorClosed","onButtonsStateUpdate","tutor","toggleFeedback","shouldOpen","shouldManageFocus","animation","onAnimationEnd","onTutorOpened","$showFeedbackButton","Tutor","onQuestionViewShowFeedback","tutorModel","TutorModel","TutorNotify","INLINE","OVERLAY","TutorView","NONE","xAPI","displayLang","generateIds","activityId","actor","shouldTrackState","shouldUseRegistration","componentBlacklist","isInitialised","startAttemptDuration","startTimeStamp","courseName","courseDescription","defaultLang","coreEvents","coreObjects","initializeWrapper","onInitialised","getLRSAttribute","getBaseUrl","validateProps","statements","getCourseStatement","ADL","verbs","launched","initialized","sendStatements","sendUnloadStatements","sendStatement","attempted","resumed","xapiWrapper","XAPIWrapper","checkWrapperConfig","registration","strictCallbacks","launch","launchData","uuidv4","crypto","getRandomValues","Uint8Array","getDomain","domain","hostname","elems","iMax","isSecondLevel","tld","setCookie","cname","cvalue","exdays","setTime","expires","toUTCString","cookie","getCookie","decodedCookie","ca","configError","setWrapperConfig","lrs","courseUser","deleteState","isTerminated","suspended","terminated","sendStatementsSync","endpoint","auth","activity_id","newConfig","changeConfig","testConfig","origin","pathname","getAttemptDuration","getSessionDuration","convertMillisecondsToISO8601Duration","inputMilliseconds","minutes","i_inputMilliseconds","i_inputCentiseconds","inputIsNegative","rtnStr","setupListeners","sendState","onItemExperience","onQuestionInteraction","onItemComplete","getCourseActivity","XAPIStatement","Activity","activityTypes","verb","passed","getStatement","getVerb","getNameObject","getActivityType","interaction","module","lesson","isComponentOnBlacklist","getUniqueIri","statement","stripHtml","interactionType","raw","processInteractionResponse","answered","addGroupingActivity","tempDiv","innerText","experienced","getLessonActivity","page","activity","articleModel","addParentActivity","getAssessmentObject","getAssessmentResultObject","scaled","fakeModel","singleLanguageVerb","completionVerb","Agent","generateId","collectionName","findKey","stateCollection","newState","xhr","isFunction","Async","nextType","parseError","mbox","account","accountServiceHomePage","homePage","accountName","getLRSExtendedAttribute","extended","errorCount","attachments","isUndefined","processAttachments","onStatementReady","isCORS","credentials","xapiVersion","keepalive","method","urlparts","urlPort","attachment","nextAttachment","onreadystatechange","readAsBinaryString","nextStatement","getGlobals","_xapi","showError","lrsConnectionErrorTitle","lrsConnectionErrorMessage","confirmText","zIndex","xapi","isDataRestored","getAll","getLearnerId","openid","initialise","successEvent","_shouldTrackState","DevtoolsModel","getDefaultConfig","toggleHinting","toggleAutoCorrect","toggleAltText","toggleTraceFocus","Hinting","devtools","toggleHints","renderedQuestions","setHinting","onComponentRendered","hintingEnabled","setMcqHinting","setGmcqHinting","setMatchingHinting","setPpqHinting","setSliderHinting","setTextInputHinting","setQuestionStripHinting","$subItems","_subItems","subItem","subItemIndex","Events","isQuestionSupported","AutoAnswer","mousedownHandlers","componentRendered","onQuestionMouseDown","ctrlKey","shiftKey","isItemsQuestionModel","defined","incorrectly","answerMultipleChoiceIncorrectly","answerMatchingIncorrectly","answerPpqIncorrectly","answerSliderIncorrectly","answerTextInputIncorrectly","answerQuestionStripIncorrectly","answerUnsupportedIncorrectly","answerMultipleChoice","answerMatching","answerPpq","answerSlider","answerTextInput","answerQuestionStrip","answerUnsupported","isGraphical","noCorrectOptions","selectionStates","times","nShould","nShouldNot","nSelect","nIncorrect","nCorrect","found","$select","isDesktop","$pinboard","boardw","boardh","zone","pin","getNextUnusedPin","maxSize","resetPins","tuple","PassHalfFail","syncIterations","mouseTarget","_questionViews","_currentPageId","onPagePreRender","onKeypress","onMouseDown","onMouseUp","_completeNonQuestions","nonQuestions","qs","half","notSubmitted","char","tutorEnabled","partial","onPassHalfFailComplete","ToggleBanking","_assessmentBankDisabled","getBankedAssessmentsInCurrentPage","toggle","bankedAssessments","isBankingEnabled","_isPass","MapView","_renderIntervalId","_checkRenderInterval","onModelCompletionChanged","devtoolsMap","_invalid","_getConfig","_disablePageIncompletePrompt","_pageIncompletePromptExists","_pageIncompletePromptEnabled","_restorePageIncompletePrompt","unset","invalidate","onLinkClicked","defaultView","navigateAndDisableTrickle","navigateAndDisableTrickleUpTo","_siblings","at","checkVisibility","handleCourse","targetModel","CourseMap","onMapLoaded","onCourseClosed","eachChild","ret","last","getId","getProp","isStringEmpty","getTitle","when","trickled","isBlock","mapWindow","onMapClosed","mapView","Utils","getModelForElement","getAdaptCoreVersion","getParents","horz","getHorzLine","onTrickleBegun","onTrickleChange","onTrickleEnded","onShowFeedback","hushTutor","reinstateTutor","onFeedbackToggled","onFeedbackButtonClicked","componentId","AltText","MutationObserver","observer","onDomMutation","addTimer","fireNow","timerId","onTimer","removeTimer","connectObserver","observe","childList","subtree","attributeFilter","disconnectObserver","disconnect","removeAllAnnotations","addAnnotation","$annotation","updateAnnotation","removeAnnotation","removeData","mutations","mutated","breakCoreLocking","breakLocks","onUnlocked","onMenuPreRender","onMenuReady","_lock","_locked","buffer","isMouseDown","hitArea","coords","topLeftTapHold","topRightTapHold","listenType","timeoutId","focusableElements","processBuffer","blen","removeHooks","addHooks","kcheat","addTouchHook","removeTouchHook","onTouchStart","onTouchEnd","TraceFocus","openingTags","consoleStyle","onFocusIn","openingTag","tokens","doCompletion","DevtoolsView","_checkUnlockVisibility","_checkSpoorLogVisibility","_checkTrickleEndVisibility","_checkBankingVisibility","_checkFeedbackVisibility","_checkHintingVisibility","_checkAutoCorrectVisibility","_checkAltTextVisibility","_checkPassHalfFailVisibility","_checkCompletePageVisibility","_checkCompleteMenuVisibility","_checkTraceFocusVisibility","_checkForLocks","hasLock","onUnlock","onOpenMap","spoorInstalled","onOpenSpoorLog","onEndTrickle","onToggleBanking","onToggleFeedback","onToggleHinting","onToggleAutoCorrect","onToggleAltText","incomplete","onCompletePage","onCompleteMenu","unanswered","onPassHalfFail","onToggleTraceFocus","DevtoolsNavigationView","devtoolsNavigation","onDevtoolsClicked","onContentRendered","deferredRender","initNavigationView","DOMModifier","elementAddFilter","elementRemoveFilter","onElementAdd","onElementRemove","elementNodes","foundNodes","added","fileExtension","_fileExtension","_rex","hasUserPaused","isDataReady","setUpAttributeChangeObserver","setUpListeners","onScreenChange","isOffScreen","_onScreenPercentInviewVertical","onOffScreen","onOnScreen","_offScreenPause","_offScreenRewind","rewind","$player","_autoPlay","noControls","currentFrame","totalFrames","shouldRender","_renderedSrc","isAnimation","destroyAnimation","graphicLottie","_isAnimation","_src","createAnimation","_loops","Lottie","loadAnimation","rendererSettings","canvas","getContext","clearCanvas","animationData","_showPauseControl","togglePlayPause","_onPauseRewind","onGeneralPlayPause","_alt","GraphicLottie","setUp","checkOnScreen","rex","waitFor","nodeName","getAttribute","div","lottieView","LottieView","MenuItemView","MenuView","BoxMenuItemView","BoxMenuGroupView","BoxMenuView","setStyles","_renderAsGroup","setBackgroundImage","setBackgroundStyles","processHeader","backgroundImages","_backgroundImage","backgroundImage","_small","styles","_backgroundStyles","_backgroundRepeat","_backgroundSize","_backgroundPosition","_menuHeader","$header","setHeaderBackgroundImage","setHeaderBackgroundStyles","setHeaderMinimumHeight","minimumHeights","_minimumHeights","minimumHeight","ThemeView","setClasses","setMinimumHeight","setCustomStyles","_large","_medium","ThemePageView","ThemeArticleView","ThemeBlockView","onPostRender","theme","Header","jsxHeading","useRef","mobileInstruction","_disableAccessibilityState","classNamePrefixes","sizedInstruction","isSet","Image","hasMediumSetting","hasSource","attributionClassNamePrefixes","attribution","Choose","LinkWrapper","Graphic","Text","DropItems"],"mappings":"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"}