{"version":3,"file":"adapt.min.js","sources":["../../core/js/wait.js","../../core/js/models/lockingModel.js","../../core/js/adapt.js","../../core/js/templateRenderEvent.js","../../core/js/templates.js","../../core/js/fixes/img.lazyload.js","../../core/js/enums/logLevelEnum.js","../../core/js/logging.js","../../core/js/fixes/reactHelpers.html.js","../../core/js/a11y/browserFocus.js","../../core/js/a11y/focusOptions.js","../../core/js/a11y/keyboardFocusOutline.js","../../core/js/a11y/log.js","../../core/js/a11y/scroll.js","../../core/js/a11y/wrapFocus.js","../../core/js/a11y/popup.js","../../core/js/enums/defaultAriaLevels.js","../../core/js/a11y/deprecated.js","../../core/js/a11y.js","../../core/js/accessibility.js","../../core/js/collections/adaptCollection.js","../../core/js/models/buildModel.js","../../core/js/models/configModel.js","../../core/js/modelEvent.js","../../core/js/models/adaptModel.js","../../core/js/models/contentObjectModel.js","../../core/js/models/menuModel.js","../../core/js/models/courseModel.js","../../core/js/startController.js","../../core/js/data.js","../../core/js/offlineStorage.js","../../core/js/enums/completionStateEnum.js","../../core/js/tracking.js","../../core/js/device.js","../../core/js/views/drawerItemView.js","../../core/js/views/drawerView.js","../../core/js/drawer.js","../../core/js/views/notifyPushView.js","../../core/js/models/notifyModel.js","../../core/js/collections/notifyPushCollection.js","../../core/js/childEvent.js","../../core/js/reactHelpers.js","../../core/js/views/adaptView.js","../../core/js/views/notifyView.js","../../core/js/notify.js","../../core/js/models/routerModel.js","../../core/js/router.js","../../core/js/collections/adaptSubsetCollection.js","../../core/js/models/articleModel.js","../../core/js/models/blockModel.js","../../core/js/models/componentModel.js","../../core/js/models/pageModel.js","../../core/js/views/contentObjectView.js","../../core/js/views/pageView.js","../../core/js/views/articleView.js","../../core/js/views/blockView.js","../../core/js/mpabc.js","../../core/js/helpers.js","../../core/js/scrolling.js","../../core/js/views/headingView.js","../../core/js/headings.js","../../core/js/views/navigationView.js","../../core/js/navigation.js","../../core/js/views/componentView.js","../../core/js/enums/buttonStateEnum.js","../../core/js/views/buttonsView.js","../../core/js/models/questionModel.js","../../core/js/views/questionView.js","../../components/adapt-choose/js/chooseView.js","../../components/adapt-choose/js/chooseModel.js","../../components/adapt-choose/js/adapt-choose.js","../../core/js/models/itemModel.js","../../core/js/models/itemsComponentModel.js","../../components/adapt-contrib-accordion/js/accordionModel.js","../../components/adapt-contrib-accordion/js/accordionView.js","../../components/adapt-contrib-accordion/js/adapt-contrib-accordion.js","../../components/adapt-contrib-assessmentResults/js/assessmentResultsModel.js","../../components/adapt-contrib-assessmentResults/js/assessmentResultsView.js","../../components/adapt-contrib-assessmentResults/js/adapt-contrib-assessmentResults.js","../../components/adapt-contrib-blank/js/blankView.js","../../components/adapt-contrib-blank/js/adapt-contrib-blank.js","../../components/adapt-contrib-mcq/js/mcqView.js","../../core/js/models/itemsQuestionModel.js","../../components/adapt-contrib-mcq/js/adapt-contrib-mcq.js","../../components/adapt-contrib-gmcq/js/adapt-contrib-gmcq.js","../../components/adapt-contrib-graphic/js/GraphicView.js","../../components/adapt-contrib-graphic/js/GraphicModel.js","../../components/adapt-contrib-graphic/js/adapt-contrib-graphic.js","../../components/adapt-contrib-hotgraphic/js/hotgraphicPopupView.js","../../components/adapt-contrib-hotgraphic/js/hotgraphicView.js","../../components/adapt-contrib-hotgraphic/js/adapt-contrib-hotgraphic.js","../../components/adapt-contrib-matching/js/dropdownOption.js","../../components/adapt-contrib-matching/js/dropdown.js","../../components/adapt-contrib-matching/js/matchingView.js","../../components/adapt-contrib-matching/js/matchingModel.js","../../components/adapt-contrib-matching/js/adapt-contrib-matching.js","../../components/adapt-contrib-media/libraries/mediaelement-fullscreen-hook.js","../../components/adapt-contrib-media/js/mediaView.js","../../components/adapt-contrib-media/js/adapt-contrib-media.js","../../components/adapt-contrib-narrative/js/NarrativeModel.js","../../components/adapt-contrib-narrative/js/modeEnum.js","../../components/adapt-contrib-narrative/js/NarrativeView.js","../../components/adapt-contrib-narrative/js/adapt-contrib-narrative.js","../../components/adapt-contrib-slider/js/sliderView.js","../../components/adapt-contrib-slider/js/sliderModel.js","../../components/adapt-contrib-slider/js/adapt-contrib-slider.js","../../components/adapt-contrib-text/js/TextView.js","../../components/adapt-contrib-text/js/TextModel.js","../../components/adapt-contrib-text/js/adapt-contrib-text.js","../../components/adapt-contrib-textInput/js/textInputView.js","../../components/adapt-contrib-textInput/js/textInputModel.js","../../components/adapt-contrib-textInput/js/adapt-contrib-textInput.js","../../components/adapt-dropItems/js/draggieView.js","../../components/adapt-dropItems/js/dropItemsView.js","../../components/adapt-dropItems/js/dropItemsModel.js","../../components/adapt-dropItems/js/adapt-dropItems.js","../../components/adapt-lottieInteractivity/js/LottieInteractivityView.js","../../components/adapt-lottieInteractivity/js/LottieInteractivityModel.js","../../components/adapt-lottieInteractivity/js/adapt-lottieInteractivity.js","../../components/adapt-odi-fileInput/js/csvToJson.js","../../components/adapt-odi-fileInput/js/ajv7.min.js","../../components/adapt-odi-fileInput/js/fileInputView.js","../../components/adapt-odi-fileInput/js/adapt-odi-fileInput.js","../../components/adapt-stacklist/js/StackListView.js","../../components/adapt-stacklist/js/adapt-stacklist.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleView.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentQuestionBank.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleModel.js","../../extensions/adapt-contrib-assessment/js/assessment.js","../../extensions/adapt-contrib-assessment/js/adapt-assessmentArticleExtension.js","../../extensions/adapt-contrib-bookmarking/js/adapt-contrib-bookmarking.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerNavigationView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerDrawerView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerNavView.js","../../extensions/adapt-contrib-languagePicker/js/languagePickerModel.js","../../extensions/adapt-contrib-languagePicker/js/adapt-languagePicker.js","../../extensions/adapt-contrib-pageLevelProgress/js/completionCalculations.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressIndicatorView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressItemView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressNavigationView.js","../../extensions/adapt-contrib-pageLevelProgress/js/PageLevelProgressCollection.js","../../extensions/adapt-contrib-pageLevelProgress/js/adapt-contrib-pageLevelProgress.js","../../extensions/adapt-contrib-resources/js/ResourcesView.js","../../extensions/adapt-contrib-resources/js/ResourcesHelpers.js","../../extensions/adapt-contrib-resources/js/adapt-contrib-resources.js","../../extensions/adapt-contrib-spoor/js/scorm/logger.js","../../extensions/adapt-contrib-spoor/js/scorm/error.js","../../extensions/adapt-contrib-spoor/js/scorm/wrapper.js","../../extensions/adapt-contrib-spoor/js/serializers/SCORMSuspendData.js","../../extensions/adapt-contrib-spoor/js/serializers/ComponentSerializer.js","../../extensions/adapt-contrib-spoor/js/adapt-stateful-session.js","../../extensions/adapt-contrib-spoor/js/adapt-offlineStorage-scorm.js","../../extensions/adapt-contrib-spoor/js/adapt-contrib-spoor.js","../../extensions/adapt-contrib-trickle/js/models.js","../../extensions/adapt-contrib-trickle/js/controller.js","../../extensions/adapt-contrib-trickle/js/TrickleButtonView.js","../../extensions/adapt-contrib-trickle/js/TrickleButtonModel.js","../../extensions/adapt-contrib-trickle/js/trickleButton.js","../../extensions/adapt-contrib-trickle/js/adapt-contrib-trickle.js","../../extensions/adapt-contrib-tutor/js/TUTOR_TYPE.js","../../extensions/adapt-contrib-tutor/js/TutorModel.js","../../extensions/adapt-contrib-tutor/js/TutorNotify.js","../../extensions/adapt-contrib-tutor/js/TutorView.js","../../extensions/adapt-contrib-tutor/js/adapt-contrib-tutor.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/adapt-contrib-xapi.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/adapt-offlineStorage-xapi.js","../../extensions/adapt-contrib-xapi-odi-guid-0.8.3-cookies/js/index.js","../../extensions/adapt-devtools/js/devtools-model.js","../../extensions/adapt-devtools/js/hinting.js","../../extensions/adapt-devtools/js/is-question-supported.js","../../extensions/adapt-devtools/js/auto-answer.js","../../extensions/adapt-devtools/js/pass-half-fail.js","../../extensions/adapt-devtools/js/toggle-banking.js","../../extensions/adapt-devtools/js/map.js","../../extensions/adapt-devtools/js/utils.js","../../extensions/adapt-devtools/js/end-trickle.js","../../extensions/adapt-devtools/js/toggle-feedback.js","../../extensions/adapt-devtools/js/toggle-alt-text.js","../../extensions/adapt-devtools/js/unlock.js","../../extensions/adapt-devtools/js/enable.js","../../extensions/adapt-devtools/js/toggle-trace-focus.js","../../extensions/adapt-devtools/js/toggle-completion.js","../../extensions/adapt-devtools/js/adapt-devtools.js","../../extensions/adapt-graphicLottie/js/injector.js","../../extensions/adapt-graphicLottie/js/LottieView.js","../../extensions/adapt-graphicLottie/js/adapt-graphicLottie.js","../../core/js/views/menuItemView.js","../../core/js/views/menuView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuItemView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuGroupView.js","../../menu/adapt-contrib-boxMenu/js/BoxMenuView.js","../../menu/adapt-contrib-boxMenu/js/adapt-contrib-boxMenu.js","../../theme/adapt-theme-odi-generic/js/themeView.js","../../theme/adapt-theme-odi-generic/js/themePageView.js","../../theme/adapt-theme-odi-generic/js/themeArticleView.js","../../theme/adapt-theme-odi-generic/js/themeBlockView.js","../../theme/adapt-theme-odi-generic/js/theme.js","../../core/templates/header.jsx","../../core/templates/image.jsx","../../components/adapt-choose/templates/choose.jsx","../../components/adapt-contrib-graphic/templates/graphic.jsx","../../components/adapt-contrib-text/templates/text.jsx","../../components/adapt-dropItems/templates/drop-items.jsx","../../components/adapt-lottieInteractivity/templates/lottieInteractivity.jsx","../../core/js/app.js"],"sourcesContent":["export default class Wait extends Backbone.Controller {\n\n  initialize() {\n    this._waitCount = 0;\n    this._callbackHandle = null;\n    this.being = this.begin.bind(this);\n    this.end = this.end.bind(this);\n  }\n\n  /**\n   * Returns true if there are items in the waiting count.\n   *\n   * @return {Boolean}\n   */\n  isWaiting() {\n    return (this._waitCount !== 0);\n  }\n\n  /**\n   * Add one item to the waiting count.\n   *\n   * @return {Object}\n   */\n  begin() {\n    if (!this.isWaiting()) this.trigger('wait');\n\n    this._waitCount++;\n\n    if (this._callbackHandle) {\n      clearTimeout(this._callbackHandle);\n      this._callbackHandle = null;\n    }\n\n    return this;\n  }\n\n  /**\n   * Remove an item from the waiting count and trigger ready asynchronously if no more items are waiting.\n   *\n   * @return {Object}\n   */\n  end() {\n    if (!this.isWaiting()) return this;\n\n    this._waitCount--;\n\n    if (this.isWaiting() || this._callbackHandle) return this;\n\n    this._callbackHandle = setTimeout(function() {\n      this._callbackHandle = null;\n      this.trigger('ready');\n    }.bind(this), 0);\n\n    return this;\n  }\n\n  /**\n   * Queue this function until all open waits have been ended.\n   *\n   * @param  {Function} [callback]\n   * @return {Object|Promise}\n   */\n  queue(callback) {\n    if (!callback) {\n      this.begin();\n\n      return new Promise(resolve => {\n        this.once('ready', resolve);\n        this.end();\n      });\n    }\n\n    this.begin();\n    this.once('ready', callback);\n    this.end();\n\n    return this;\n  }\n\n  /**\n   * Wait for this asynchronous function to execute before triggering ready event.\n   *\n   * @param  {Function} callback   [ Function to execute whilst holding queued callback. Once complete run first argument, done(). ]\n   * @return {Object}\n   */\n  for(callback) {\n    this.begin();\n    _.defer(() => callback(_.once(this.end)));\n    return this;\n  }\n\n}\n","export default class LockingModel extends Backbone.Model {\n\n  set(attrName, attrVal, options = {}) {\n    const stopProcessing = (typeof attrName === 'object' || typeof attrVal !== 'boolean' || !this.isLocking(attrName));\n    if (stopProcessing) return super.set(...arguments);\n\n    const isSettingValueForSpecificPlugin = options?.pluginName;\n    if (!isSettingValueForSpecificPlugin) {\n      console.error('Must supply a pluginName to change a locked attribute');\n      options.pluginName = 'compatibility';\n    }\n\n    const pluginName = options.pluginName;\n    if (this.defaults[attrName] !== undefined) {\n      this._lockedAttributes[attrName] = !this.defaults[attrName];\n    }\n    const lockingValue = this._lockedAttributes[attrName];\n    const isAttemptingToLock = (lockingValue === attrVal);\n\n    if (isAttemptingToLock) {\n      this.setLockState(attrName, true, { pluginName: pluginName, skipcheck: true });\n      return super.set(attrName, lockingValue);\n    }\n\n    this.setLockState(attrName, false, { pluginName: pluginName, skipcheck: true });\n\n    const totalLockValue = this.getLockCount(attrName, { skipcheck: true });\n    if (totalLockValue === 0) {\n      return super.set(attrName, !lockingValue);\n    }\n\n    return this;\n\n  }\n\n  setLocking(attrName, defaultLockValue) {\n    if (this.isLocking(attrName)) return;\n    if (!this._lockedAttributes) this._lockedAttributes = {};\n    this._lockedAttributes[attrName] = defaultLockValue;\n  }\n\n  unsetLocking(attrName) {\n    if (!this.isLocking(attrName)) return;\n    if (!this._lockedAttributes) return;\n    delete this._lockedAttributes[attrName];\n    delete this._lockedAttributesValues[attrName];\n    if (Object.keys(this._lockedAttributes).length === 0) {\n      delete this._lockedAttributes;\n      delete this._lockedAttributesValues;\n    }\n  }\n\n  isLocking(attrName) {\n    const isCheckingGeneralLockingState = (attrName === undefined);\n    const isUsingLockedAttributes = Boolean(this.lockedAttributes || this._lockedAttributes);\n\n    if (isCheckingGeneralLockingState) {\n      return isUsingLockedAttributes;\n    }\n\n    if (!isUsingLockedAttributes) return false;\n\n    if (!this._lockedAttributes) {\n      this._lockedAttributes = _.result(this, 'lockedAttributes');\n    }\n\n    const isAttributeALockingAttribute = this._lockedAttributes.hasOwnProperty(attrName);\n    if (!isAttributeALockingAttribute) return false;\n\n    if (!this._lockedAttributesValues) {\n      this._lockedAttributesValues = {};\n    }\n\n    if (!this._lockedAttributesValues[attrName]) {\n      this._lockedAttributesValues[attrName] = {};\n    }\n\n    return true;\n  }\n\n  isLocked(attrName, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return;\n    }\n\n    return this.getLockCount(attrName) > 0;\n  }\n\n  getLockCount(attrName, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return;\n    }\n\n    const isGettingValueForSpecificPlugin = options?.pluginName;\n    if (isGettingValueForSpecificPlugin) {\n      return this._lockedAttributesValues[attrName][options.pluginName] ? 1 : 0;\n    }\n\n    const lockingAttributeValues = Object.values(this._lockedAttributesValues[attrName]);\n    const lockingAttributeValuesSum = lockingAttributeValues.reduce((sum, value) => sum + (value ? 1 : 0), 0);\n\n    return lockingAttributeValuesSum;\n  }\n\n  setLockState(attrName, value, options) {\n    const shouldSkipCheck = options?.skipcheck;\n    if (!shouldSkipCheck) {\n      const stopProcessing = !this.isLocking(attrName);\n      if (stopProcessing) return this;\n    }\n\n    const isSettingValueForSpecificPlugin = options?.pluginName;\n    if (!isSettingValueForSpecificPlugin) {\n      console.error('Must supply a pluginName to set a locked attribute lock value');\n      options.pluginName = 'compatibility';\n    }\n\n    if (value) {\n      this._lockedAttributesValues[attrName][options.pluginName] = value;\n    } else {\n      delete this._lockedAttributesValues[attrName][options.pluginName];\n    }\n\n    return this;\n\n  }\n\n}\n","import Wait from 'core/js/wait';\nimport LockingModel from 'core/js/models/lockingModel';\n\nclass AdaptSingleton extends LockingModel {\n\n  initialize() {\n    this.loadScript = window.__loadScript;\n    this.location = {};\n    this.store = {};\n    this.setupWait();\n  }\n\n  defaults() {\n    return {\n      _canScroll: true, // to stop scrollTo behaviour,\n      _outstandingCompletionChecks: 0,\n      _pluginWaitCount: 0,\n      _isStarted: false,\n      _shouldDestroyContentObjects: true\n    };\n  }\n\n  lockedAttributes() {\n    return {\n      _canScroll: false\n    };\n  }\n\n  /**\n   * @deprecated since v6.0.0 - please use `Adapt.store` instead\n   */\n  get componentStore() {\n    this.log.deprecated('Adapt.componentStore, please use Adapt.store instead');\n    return this.store;\n  }\n\n  async init() {\n    this.addDirection();\n    this.disableAnimation();\n    this.trigger('adapt:preInitialize');\n    await this.wait.queue();\n\n    // wait until no more completion checking\n    this.deferUntilCompletionChecked(async () => {\n\n      // start adapt in a full restored state\n      this.trigger('adapt:start');\n      await this.wait.queue();\n\n      if (!Backbone.History.started) {\n        Backbone.history.start();\n      }\n\n      this.set('_isStarted', true);\n\n      this.trigger('adapt:initialize');\n      await this.wait.queue();\n\n    });\n  }\n\n  /**\n   * call when entering an asynchronous completion check\n   */\n  checkingCompletion() {\n    const outstandingChecks = this.get('_outstandingCompletionChecks');\n    this.set('_outstandingCompletionChecks', outstandingChecks + 1);\n  }\n\n  /**\n   * call when exiting an asynchronous completion check\n   */\n  checkedCompletion() {\n    const outstandingChecks = this.get('_outstandingCompletionChecks');\n    this.set('_outstandingCompletionChecks', outstandingChecks - 1);\n  }\n\n  /**\n   * wait until there are no outstanding completion checks\n   * @param {Function} [callback] Function to be called after all completion checks have been completed\n   */\n  async deferUntilCompletionChecked(callback = () => {}) {\n    if (this.get('_outstandingCompletionChecks') === 0) return callback();\n    return new Promise(resolve => {\n      const checkIfAnyChecksOutstanding = (model, outstandingChecks) => {\n        if (outstandingChecks !== 0) return;\n        this.off('change:_outstandingCompletionChecks', checkIfAnyChecksOutstanding);\n        callback();\n        resolve();\n      };\n      this.on('change:_outstandingCompletionChecks', checkIfAnyChecksOutstanding);\n    });\n  }\n\n  setupWait() {\n\n    this.wait = new Wait();\n\n    // Setup legacy events and handlers\n    const beginWait = () => {\n      this.log.deprecated('Use Adapt.wait.begin() as Adapt.trigger(\\'plugin:beginWait\\') may be removed in the future');\n      this.wait.begin();\n    };\n\n    const endWait = () => {\n      this.log.deprecated('Use Adapt.wait.end() as Adapt.trigger(\\'plugin:endWait\\') may be removed in the future');\n      this.wait.end();\n    };\n\n    const ready = () => {\n      if (this.wait.isWaiting()) {\n        return;\n      }\n      const isEventListening = (this._events['plugins:ready']);\n      if (!isEventListening) {\n        return;\n      }\n      this.log.deprecated(\"Use Adapt.wait.queue(callback) as Adapt.on('plugins:ready', callback) may be removed in the future\");\n      this.trigger('plugins:ready');\n    };\n\n    this.listenTo(this.wait, 'ready', ready);\n    this.listenTo(this, {\n      'plugin:beginWait': beginWait,\n      'plugin:endWait': endWait\n    });\n\n  }\n\n  isWaitingForPlugins() {\n    this.log.deprecated('Use Adapt.wait.isWaiting() as Adapt.isWaitingForPlugins() may be removed in the future');\n    return this.wait.isWaiting();\n  }\n\n  checkPluginsReady() {\n    this.log.deprecated('Use Adapt.wait.isWaiting() as Adapt.checkPluginsReady() may be removed in the future');\n    if (this.isWaitingForPlugins()) {\n      return;\n    }\n    this.trigger('plugins:ready');\n  }\n\n  /**\n   * Allows a selector to be passed in and Adapt will navigate to this element. Resolves\n   * asynchronously when the element has been navigated to.\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async navigateToElement() {}\n\n  /**\n   * Allows a selector to be passed in and Adapt will scroll to this element. Resolves\n   * asynchronously when the element has been navigated/scrolled to.\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings={}] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async scrollTo() {}\n\n  /**\n   * Used to register models and views with `Adapt.store`\n   * @param {string|Array} name The name(s) of the model/view to be registered\n   * @param {object} object Object containing properties `model` and `view` or (legacy) an object representing the view\n   */\n  register(name, object) {\n    if (Array.isArray(name)) {\n      // if an array is passed, iterate by recursive call\n      name.forEach(name => this.register(name, object));\n      return object;\n    }\n\n    if (name.split(' ').length > 1) {\n      // if name with spaces is passed, split and pass as array\n      this.register(name.split(' '), object);\n      return object;\n    }\n\n    if ((!object.view && !object.model) || object instanceof Backbone.View) {\n      this.log.deprecated('View-only registrations are no longer supported');\n      object = { view: object };\n    }\n\n    if (object.view && !object.view.template) {\n      object.view.template = name;\n    }\n\n    const isModelSetAndInvalid = (object.model &&\n      !(object.model.prototype instanceof Backbone.Model) &&\n      !(object.model instanceof Function));\n    if (isModelSetAndInvalid) {\n      throw new Error('The registered model is not a Backbone.Model or Function');\n    }\n\n    const isViewSetAndInvalid = (object.view &&\n      !(object.view.prototype instanceof Backbone.View) &&\n      !(object.view instanceof Function));\n    if (isViewSetAndInvalid) {\n      throw new Error('The registered view is not a Backbone.View or Function');\n    }\n\n    this.store[name] = Object.assign({}, this.store[name], object);\n\n    return object;\n  }\n\n  /**\n   * Parses a view class name.\n   * @param {string|Backbone.Model|Backbone.View|object} nameModelViewOrData The name of the view class you want to fetch e.g. `\"hotgraphic\"` or its model or its json data\n   */\n  getViewName(nameModelViewOrData) {\n    if (typeof nameModelViewOrData === 'string') {\n      return nameModelViewOrData;\n    }\n    if (nameModelViewOrData instanceof Backbone.Model) {\n      nameModelViewOrData = nameModelViewOrData.toJSON();\n    }\n    if (nameModelViewOrData instanceof Backbone.View) {\n      let foundName;\n      Object.entries(this.store).forEach(([key, entry]) => {\n        if (!entry?.view) return;\n        if (!(nameModelViewOrData instanceof entry.view)) return;\n        foundName = key;\n        return true;\n      });\n      return foundName;\n    }\n    if (nameModelViewOrData instanceof Object) {\n      const names = [\n        typeof nameModelViewOrData._view === 'string' && nameModelViewOrData._view,\n        typeof nameModelViewOrData._component === 'string' && nameModelViewOrData._component,\n        typeof nameModelViewOrData._type === 'string' && nameModelViewOrData._type\n      ].filter(Boolean);\n      if (names.length) {\n        // find first fitting view name\n        const name = names.find(name => this.store[name]?.view);\n        return name || names.pop(); // return last available if none found\n      }\n    }\n    throw new Error('Cannot derive view class name from input');\n  }\n\n  /**\n   * Fetches a view class from the store. For a usage example, see either HotGraphic or Narrative\n   * @param {string|Backbone.Model|Backbone.View|object} nameModelViewOrData The name of the view class you want to fetch e.g. `\"hotgraphic\"` or its model or its json data\n   * @returns {Backbone.View} Reference to the view class\n   */\n  getViewClass(nameModelViewOrData) {\n    const name = this.getViewName(nameModelViewOrData);\n    const object = this.store[name];\n    if (!object) {\n      this.log.warnOnce(`A view for '${name}' isn't registered in your project`);\n      return;\n    }\n    const isBackboneView = (object.view?.prototype instanceof Backbone.View);\n    if (!isBackboneView && object.view instanceof Function) {\n      return object.view();\n    }\n    return object.view;\n  }\n\n  /**\n   * Parses a model class name.\n   * @param {string|Backbone.Model|object} name The name of the model you want to fetch e.g. `\"hotgraphic\"`, the model to process or its json data\n   */\n  getModelName(nameModelOrData) {\n    if (typeof nameModelOrData === 'string') {\n      return nameModelOrData;\n    }\n    if (nameModelOrData instanceof Backbone.Model) {\n      nameModelOrData = nameModelOrData.toJSON();\n    }\n    if (nameModelOrData instanceof Object) {\n      const name = nameModelOrData._component;\n      const entry = this.store[name];\n      const isViewOnlyQuestion = entry && !entry.model && entry.view?._isQuestionType;\n      if (isViewOnlyQuestion) {\n        // Use question model by default\n        this.log.deprecated(`Assuming a question model for a view-only question: ${name}`);\n        return 'question';\n      }\n      const names = [\n        typeof nameModelOrData._model === 'string' && nameModelOrData._model,\n        typeof nameModelOrData._component === 'string' && nameModelOrData._component,\n        typeof nameModelOrData._type === 'string' && nameModelOrData._type\n      ].filter(Boolean);\n      if (names.length) {\n        // find first fitting model name\n        const name = names.find(name => this.store[name]?.model);\n        return name || names.pop(); // return last available if none found\n      }\n    }\n    throw new Error('Cannot derive model class name from input');\n  }\n\n  /**\n   * Fetches a model class from the store. For a usage example, see either HotGraphic or Narrative\n   * @param {string|Backbone.Model|object} name The name of the model you want to fetch e.g. `\"hotgraphic\"` or its json data\n   * @returns {Backbone.Model} Reference to the view class\n   */\n  getModelClass(nameModelOrData) {\n    const name = this.getModelName(nameModelOrData);\n    const object = this.store[name];\n    if (!object) {\n      this.log.warnOnce(`A model for '${name}' isn't registered in your project`);\n      return;\n    }\n    const isBackboneModel = (object.model?.prototype instanceof Backbone.Model);\n    if (!isBackboneModel && object.model instanceof Function) {\n      return object.model();\n    }\n    return object.model;\n  }\n\n  /**\n   * Looks up a model by its `_id` property\n   * @param {string} id The id of the item e.g. \"co-05\"\n   * @return {Backbone.Model}\n   */\n  findById(id) {\n    return this.data.findById(id);\n  }\n\n  findViewByModelId(id) {\n    const model = this.data.findById(id);\n    if (!model) return;\n\n    if (model === this.parentView.model) return this.parentView;\n\n    const idPathToView = [id];\n    const currentLocationId = this.location._currentId;\n    const currentLocationModel = model.getAncestorModels().find(model => {\n      const modelId = model.get('_id');\n      if (modelId === currentLocationId) return true;\n      idPathToView.unshift(modelId);\n      return false;\n    });\n\n    if (!currentLocationModel) {\n      return console.warn(`Adapt.findViewByModelId() unable to find view for model id: ${id}`);\n    }\n\n    const foundView = idPathToView.reduce((view, currentId) => {\n      if (!view) return null;\n      const childViews = view.getChildViews();\n      return childViews?.find(view => view.model.get('_id') === currentId);\n    }, this.parentView);\n\n    return foundView;\n  }\n\n  /**\n   * Returns the model represented by the trackingPosition.\n   * @param {Array<Number, Number>} trackingPosition Represents the relative location of a model to a _trackingId\n   * @returns {Backbone.Model}\n   */\n  findByTrackingPosition(trackingPosition) {\n    return this.data.findByTrackingPosition(trackingPosition);\n  }\n\n  /**\n   * Relative strings describe the number and type of hops in the model hierarchy\n   * @param {string} relativeString \"@component +1\" means to move one component forward from the current model\n   * This function would return the following:\n   * {\n   *     type: \"component\",\n   *     offset: 1\n   * }\n   * Trickle uses this function to determine where it should scrollTo after it unlocks\n   */\n  parseRelativeString(relativeString) {\n    let splitIndex = relativeString.search(/[ +\\-\\d]{1}/);\n    if (splitIndex === -1) splitIndex = relativeString.length;\n    const type = relativeString.slice(0, splitIndex).replace(/^@/, '');\n    const offset = parseInt(relativeString.slice(splitIndex).trim() || 0);\n    return {\n      type: type,\n      offset: offset\n    };\n  }\n\n  addDirection() {\n    const defaultDirection = this.config.get('_defaultDirection');\n\n    $('html')\n      .addClass('dir-' + defaultDirection)\n      .attr('dir', defaultDirection);\n  }\n\n  disableAnimation() {\n    const disableAnimationArray = this.config.get('_disableAnimationFor');\n    const disableAnimation = this.config.get('_disableAnimation');\n\n    // Check if animations should be disabled\n    if (disableAnimationArray) {\n      for (let i = 0, l = disableAnimationArray.length; i < l; i++) {\n        if (!$('html').is(disableAnimationArray[i])) continue;\n        this.config.set('_disableAnimation', true);\n        $('html').addClass('disable-animation');\n        console.log('Animation disabled.');\n      }\n      return;\n    }\n\n    $('html').toggleClass('disable-animation', (disableAnimation === true));\n  }\n\n  async remove() {\n    const currentView = this.parentView;\n    if (currentView) {\n      currentView.model.setOnChildren({\n        _isReady: false,\n        _isRendered: false\n      });\n    }\n    this.trigger('preRemove', currentView);\n    await this.wait.queue();\n    // Facilitate contentObject transitions\n    if (currentView && this.get('_shouldDestroyContentObjects')) {\n      currentView.destroy();\n    }\n    this.trigger('remove', currentView);\n    _.defer(this.trigger.bind(this), 'postRemove', currentView);\n  }\n\n}\n\nexport default new AdaptSingleton();\n","export default class TemplateRenderEvent extends Backbone.Controller {\n\n  /**\n   * Template render event\n   * @param {string} type Event type\n   * @param {string} name Template name\n   * @param {string} mode \"template\" / \"partial\"\n   * @param {string} value Rendered template string\n   * @param {[*]} args Arguments passed to template for render\n   */\n  initialize(type, name, mode, value, args) {\n    /** @type {string} Event type */\n    this.type = type;\n    /** @type {string} Template name */\n    this.name = name;\n    /** @type {string} \"template\" / \"partial\" */\n    this.mode = mode;\n    /** @type {string} Rendered template string */\n    this.value = value;\n    /** @type {[*]} Arguments passed to template for render */\n    this.args = args;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TemplateRenderEvent from 'core/js/templateRenderEvent';\n\n/**\n * Adds template and partial, preRender and postRender events to Adapt\n */\n\nfunction onRender(cb) {\n  const intercept = (object, name, mode, cb) => {\n    return (object[name] = cb.bind(object, object[name], name, mode));\n  };\n  Object.keys(Handlebars.templates).forEach(name => {\n    intercept(Handlebars.templates, name, 'template', cb);\n  });\n  Object.keys(Handlebars.partials).forEach(name => {\n    intercept(Handlebars.partials, name, 'partial', cb);\n  });\n}\n\nonRender((template, name, mode, ...args) => {\n  // Send preRender event to allow modification of args\n  const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n  Adapt.trigger(preRenderEvent.type, preRenderEvent);\n\n  // Execute template\n  const value = template(...preRenderEvent.args);\n\n  // Send postRender event to allow modification of rendered template\n  const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n  Adapt.trigger(postRenderEvent.type, postRenderEvent);\n\n  // Return rendered, modified template\n  return postRenderEvent.value;\n});\n","import Adapt from 'core/js/adapt';\nimport 'core/js/templates';\n\n/**\n * 27 April 2020 https://github.com/adaptlearning/adapt_framework/issues/2734\n * Chrome on Android defers load events on images when lite mode is enabled\n * and as part of a data saving technique.\n *\n * Add a loading=\"eager\" attribute to all template and partial img tags where\n * the loading attribute is missing.\n */\nAdapt.on('app:dataReady', () => {\n  const config = Adapt.config.get('_fixes');\n  if (config?._imgLazyLoad === false) return;\n  applyImgLoadingFix();\n});\n\nfunction applyImgLoadingFix() {\n  const findImgTag = /<img([^>]*)>/gi;\n  const hasLoadingAttr = / loading=/gi;\n  Adapt.on('template:postRender partial:postRender', event => {\n    const imgTagsFound = event.value.match(findImgTag);\n    if (!imgTagsFound) {\n      return;\n    }\n    event.value = imgTagsFound.reduce((value, img) => {\n      if (hasLoadingAttr.test(img)) {\n        return value;\n      }\n      // Add loading=\"eager\" by default\n      return value.replace(img, img.replace(findImgTag, '<img loading=\"eager\"$1>'));\n    }, event.value);\n  });\n  Adapt.on('reactElement:preRender', event => {\n    if (event.name !== 'img') return;\n    const options = event.args[1] = event.args[1] || {};\n    if (options && options.hasOwnProperty('loading')) return;\n    options.loading = 'eager';\n  });\n}\n","// Used to determine if log call should be printed based on log level\nconst LOG_LEVEL = ENUM([\n  'DEBUG',\n  'INFO',\n  'WARN',\n  'ERROR',\n  'FATAL'\n]);\n\nexport default LOG_LEVEL;\n","import Adapt from 'core/js/adapt';\nimport LOG_LEVEL from 'core/js/enums/logLevelEnum';\n\nclass Logging extends Backbone.Controller {\n\n  initialize() {\n    this._config = {\n      _isEnabled: true,\n      _level: LOG_LEVEL.INFO.asLowerCase, // Default log level\n      _console: true, // Log to console\n      _warnFirstOnly: true // Show only first of identical removed and deprecated warnings\n    };\n    this._warned = {};\n    this.listenToOnce(Adapt, 'configModel:dataLoaded', this.onLoadConfigData);\n  }\n\n  onLoadConfigData() {\n\n    this.loadConfig();\n\n    this.debug('Logging config loaded');\n\n    this.trigger('log:ready');\n\n  }\n\n  loadConfig() {\n\n    if (Adapt.config.has('_logging')) {\n      this._config = Adapt.config.get('_logging');\n    }\n\n    this.checkQueryStringOverride();\n\n  }\n\n  checkQueryStringOverride() {\n\n    // Override default log level with level present in query string\n    const matches = window.location.search.match(/[?&]loglevel=([a-z]*)/i);\n    if (!matches || matches.length < 2) return;\n\n    const override = LOG_LEVEL(matches[1].toUpperCase());\n    if (!override) return;\n\n    this._config._level = override.asLowerCase;\n    this.debug('Loglevel override in query string:', this._config._level);\n\n  }\n\n  debug(...args) {\n    this._log(LOG_LEVEL.DEBUG, args);\n  }\n\n  info(...args) {\n    this._log(LOG_LEVEL.INFO, args);\n  }\n\n  warn(...args) {\n    this._log(LOG_LEVEL.WARN, args);\n  }\n\n  error(...args) {\n    this._log(LOG_LEVEL.ERROR, args);\n  }\n\n  fatal(...args) {\n    this._log(LOG_LEVEL.FATAL, args);\n  }\n\n  removed(...args) {\n    args = ['REMOVED'].concat(args);\n    this.warnOnce(...args);\n  }\n\n  deprecated(...args) {\n    args = ['DEPRECATED'].concat(args);\n    this.warnOnce(...args);\n  }\n\n  warnOnce(...args) {\n    if (this._hasWarned(args)) {\n      return;\n    }\n    this._log(LOG_LEVEL.WARN, args);\n  }\n\n  _log(level, data) {\n\n    const isEnabled = (this._config._isEnabled);\n    if (!isEnabled) return;\n\n    const configLevel = LOG_LEVEL(this._config._level.toUpperCase());\n\n    const isLogLevelAllowed = (level >= configLevel);\n    if (!isLogLevelAllowed) return;\n\n    this._logToConsole(level, data);\n\n    // Allow error reporting plugins to hook and report to logging systems\n    this.trigger('log', level, data);\n    this.trigger('log:' + level.asLowerCase, level, data);\n\n  }\n\n  _logToConsole(level, data) {\n\n    const shouldLogToConsole = (this._config._console);\n    if (!shouldLogToConsole) return;\n\n    const log = [level.asUpperCase + ':'];\n    data && log.push(...data);\n\n    // is there a matching console method we can use e.g. console.error()?\n    if (console[level.asLowerCase]) {\n      console[level.asLowerCase](...log);\n    } else {\n      console.log(...log);\n    }\n  }\n\n  _hasWarned(args) {\n    if (!this._config._warnFirstOnly) {\n      return false;\n    }\n    const hash = args.map(String).join(':');\n    if (this._warned[hash]) {\n      return true;\n    }\n    this._warned[hash] = true;\n    return false;\n  }\n\n}\n\nexport default (Adapt.log = new Logging());\n","import Adapt from 'core/js/adapt';\nimport HTMLReactParser from 'html-react-parser';\nimport 'core/js/templates';\nimport logging from '../logging';\n\n/**\n * 27 October 2021 https://github.com/adaptlearning/adapt_authoring/issues/2570\n * The function reactHelpers.html was stopping javascript generated in the AAT editor\n * from presenting correctly in the DOM.\n *\n * This file helps deprecate the function reactHelpers.html and instead recommends\n * replacing it with dangerouslySetInnerHTML, a native react property.\n * https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n */\nAdapt.on('app:dataReady', () => {\n  const config = Adapt.config.get('_fixes');\n  if (config?._jsxReactHelpersHTML === false) return;\n  applyReactHelpersHTML();\n});\n\nfunction applyReactHelpersHTML() {\n  Adapt.on('reactElement:preRender', event => {\n    let [tagName, props, ...children] = event.args;\n    if (!children) return;\n    if (!Array.isArray(children)) children = [children];\n    children = children.filter(Boolean);\n    const hasSomeUnsafeConversions = children.some(c => c?.__html);\n    if (!hasSomeUnsafeConversions) return;\n    const hasManyChildren = (children.length > 1);\n    if (hasManyChildren) {\n      // Process reactHelpers.html() children amongst other nodes as a conversion from HTML strings to React nodes\n      // Warn as this is an unexpected use-case\n      event.args = event.args.map(child => {\n        if (!child || !child.__html) return child;\n        const attributes = Object.entries(props).map(([name, value]) => `${name}=\"${value}\"`).join(' ');\n        logging.warnOnce(`html() call should be the only child in its parent <${tagName} ${attributes}>`);\n        return child.__html ? HTMLReactParser(child.__html) : undefined;\n      });\n      return;\n    }\n    // Process one reactHelpers.html() child as dangerouslySetInnerHTML on the parent\n    // Allows html generated from the json to appear in the DOM in raw format\n    props = (event.args[1] = event.args[1] || {});\n    props.dangerouslySetInnerHTML = children[0];\n    event.args.length = 2;\n  });\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Browser modifications to focus handling.\n * @class\n */\nexport default class BrowserFocus extends Backbone.Controller {\n\n  initialize() {\n    this._onBlur = this._onBlur.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.$body = $('body');\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    this.$body\n      .on('blur', '*', this._onBlur)\n      .on('blur', this._onBlur);\n    // 'Capture' event attachment for click\n    this.$body[0].addEventListener('click', this._onClick, true);\n  }\n\n  /**\n   * When any element in the document receives a blur event,\n   * check to see if it needs the `data-a11y-force-focus` attribute removing\n   * and check to see if it was blurred because a disabled attribute was added.\n   * If a disabled attribute was added, the focus will be moved forward.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onBlur(event) {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isFocusNextOnDisabled) {\n      return;\n    }\n    const $element = $(event.target);\n    if ($element.is('[data-a11y-force-focus]')) {\n      $element.removeAttr('tabindex data-a11y-force-focus');\n    }\n    // From here, only check source elements\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n    // Check if element losing focus is losing focus\n    // due to the addition of a disabled class\n    if (!$element.is('[disabled]')) {\n      return;\n    }\n    // Move focus to next readable element\n    Adapt.a11y.focusNext($element);\n  }\n\n  /**\n   * Force focus when clicked on a tabbable element,\n   * making sure `document.activeElement` is updated.\n   * Stop event handling on aria-disabled elements.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onClick(event) {\n    const $element = $(event.target);\n    // search element and parents for aria-disabled - see https://github.com/adaptlearning/adapt_framework/issues/3097\n    const isAriaDisabled = $element.closest('[aria-disabled=true]').length === 1;\n    if (isAriaDisabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isFocusOnClickEnabled) {\n      return;\n    }\n    const $stack = $([...$element.toArray(), ...$element.parents().toArray()]);\n    const $focusable = $stack.filter(config._options._tabbableElements);\n    if (!$focusable.length) {\n      return;\n    }\n    // Force focus for screen reader enter / space press\n    $focusable[0].focus();\n  }\n\n}\n","export default class FocusOptions {\n\n  /**\n   * Options parser for focus functions.\n   * @param {Object} options\n   * @param {boolean} [options.preventScroll=false] Stops the browser from scrolling to the focused point. https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\n   * @param {boolean} [options.defer=false] Add a defer to the focus call, allowing for user interface settling.\n   */\n  constructor({\n    preventScroll = false,\n    defer = false\n  } = {}) {\n    /**\n    * Stops the browser from scrolling to the focused point.\n    * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\n    * @type {boolean}\n    */\n    this.preventScroll = preventScroll;\n    /**\n     * Add a defer to the focus call, allowing for user interface settling.\n     * @type {boolean}\n     */\n    this.defer = defer;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Manages whether or not the focus outline should be entirely removed\n * or removed until a key is pressed on a tabbable element.\n * @class\n */\nexport default class KeyboardFocusOutline extends Backbone.Controller {\n\n  initialize() {\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this.$html = $('html');\n    this.showOnKeys = {\n      9: true, // tab\n      13: true, // enter\n      32: true, // space\n      37: true, // arrow left\n      38: true, // arrow up\n      39: true, // arrow right\n      40: true // arrow down\n    };\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    document.addEventListener('keydown', this._onKeyDown);\n    this._start();\n  }\n\n  /**\n   * Add styling classes if required.\n   */\n  _start() {\n    const config = Adapt.a11y.config;\n    if (config._options._isFocusOutlineDisabled) {\n      this.$html.addClass('a11y-disable-focusoutline');\n      return;\n    }\n    if (!config._isEnabled || !config._options._isFocusOutlineKeyboardOnlyEnabled) {\n      return;\n    }\n    this.$html.addClass('a11y-disable-focusoutline');\n  }\n\n  /**\n   * Handle key down events for on a tabbable element.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onKeyDown(event) {\n    const config = Adapt.a11y.config;\n    if (config._options._isFocusOutlineDisabled) {\n      this.$html.addClass('a11y-disable-focusoutline');\n      return;\n    }\n    if (!config._isEnabled || !config._options._isFocusOutlineKeyboardOnlyEnabled || !this.showOnKeys[event.keyCode]) {\n      return;\n    }\n    const $element = $(event.target);\n    if (!$element.is(config._options._tabbableElements) || $element.is(config._options._focusOutlineKeyboardOnlyIgnore)) {\n      return;\n    }\n    this.$html.removeClass('a11y-disable-focusoutline');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Controller for managing accessibilty logging, specifically used for\n * controlling the display of removed or deprecated API warnings.\n */\nexport default class Log extends Backbone.Controller {\n\n  initialize() {\n    this._warned = {};\n  }\n\n  _hasWarned(args) {\n    const config = Adapt.a11y.config;\n    if (!config._options._warnFirstOnly) {\n      return false;\n    }\n    const hash = args.map(String).join(':');\n    if (this._warned[hash]) {\n      return true;\n    }\n    this._warned[hash] = true;\n    return false;\n  }\n\n  _canWarn() {\n    const config = Adapt.a11y.config;\n    return Boolean(config._options._warn);\n  }\n\n  removed(...args) {\n    if (!this._canWarn) {\n      return;\n    }\n    args = ['A11Y'].concat(args);\n    if (this._hasWarned(args)) {\n      return;\n    }\n    Adapt.log.removed(...args);\n    return this;\n  }\n\n  deprecated(...args) {\n    if (!this._canWarn) {\n      return;\n    }\n    args = ['A11Y'].concat(args);\n    if (this._hasWarned(args)) {\n      return;\n    }\n    Adapt.log.deprecated(...args);\n    return this;\n  }\n\n}\n","/**\n * Controller for blocking scroll events on specified elements.\n * @class\n */\nexport default class Scroll extends Backbone.Controller {\n\n  initialize() {\n    this._onTouchStart = this._onTouchStart.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onScrollEvent = this._onScrollEvent.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._scrollDisabledElements = $([]);\n    this.$window = $(window);\n    this.$body = $('body');\n    this._preventScrollOnKeys = {\n      37: true, // left\n      38: true, // up\n      39: true, // right\n      40: true // down\n    };\n    this._ignoreKeysOnElementsMatching = 'textarea, input, select';\n    this._isRunning = false;\n    this._touchStartEventObject = null;\n  }\n\n  /**\n   * Block scrolling on the given elements.\n   *\n   * @param {Object|string|Array} $elements\n   */\n  disable($elements) {\n    $elements = $($elements);\n    this._scrollDisabledElements = this._scrollDisabledElements.add($elements);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Stop blocking scrolling on the given elements.\n   *\n   * @param {Object|string|Array} $items\n   */\n  enable($elements) {\n    $elements = $($elements);\n    if (!$elements.length) {\n      this.clear();\n      return this;\n    }\n    this._scrollDisabledElements = this._scrollDisabledElements.not($elements);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Stop blocking all scrolling.\n   */\n  clear() {\n    this._scrollDisabledElements = $([]);\n    this._checkRunning();\n    return this;\n  }\n\n  /**\n   * Start or stop listening for events to block if and when needed.\n   */\n  _checkRunning() {\n    if (!this._scrollDisabledElements.length) {\n      this._stop();\n      return;\n    }\n    this._start();\n  }\n\n  /**\n   * Start listening for events to block.\n   */\n  _start() {\n    if (this._isRunning) {\n      return;\n    }\n    this._isRunning = true;\n    window.addEventListener('touchstart', this._onTouchStart); // mobile\n    window.addEventListener('touchend', this._onTouchEnd); // mobile\n    window.addEventListener('touchmove', this._onScrollEvent, { passive: false }); // mobile\n    window.addEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.addEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.addEventListener('keydown', this._onKeyDown);\n  }\n\n  /**\n   * Capture the touchstart event object for deltaY calculations.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onTouchStart(event) {\n    event = $.event.fix(event);\n    this._touchStartEventObject = event;\n    return true;\n  }\n\n  /**\n   * Clear touchstart event object.\n   */\n  _onTouchEnd() {\n    this._touchStartEventObject = null;\n    return true;\n  }\n\n  /**\n   * Process a native scroll event.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onScrollEvent(event) {\n    event = $.event.fix(event);\n    return this._preventScroll(event);\n  }\n\n  /**\n   * Process a native keydown event.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onKeyDown(event) {\n    event = $.event.fix(event);\n    if (!this._preventScrollOnKeys[event.keyCode]) {\n      return;\n    }\n    const $target = $(event.target);\n    if ($target.is(this._ignoreKeysOnElementsMatching)) {\n      return;\n    }\n    return this._preventScroll(event);\n  }\n\n  /**\n   * Process jquery event object.\n   *\n   * @param {JQuery.Event} event\n   */\n  _preventScroll(event) {\n    const isGesture = (event.touches?.length > 1);\n    if (isGesture) {\n      // allow multiple finger gestures through\n      // this will unfortunately allow two finger background scrolling on mobile devices\n      // one finger background scrolling will still be disabled\n      return;\n    }\n    const $target = $(event.target);\n    if (this._scrollDisabledElements.length) {\n      const scrollingParent = this._getScrollingParent(event, $target);\n      if (scrollingParent.filter(this._scrollDisabledElements).length === 0) {\n        this.$window.scroll();\n        return;\n      }\n    }\n    event.preventDefault();\n    return false;\n  }\n\n  /**\n   * Return the parent which will be scrolling from the current scroll event.\n   *\n   * @param {JQuery.Event} event\n   * @param {Object} $target jQuery element object.\n   */\n  _getScrollingParent(event, $target) {\n    const isTouchEvent = event.type === 'touchmove';\n    const hasTouchStartEvent = this._touchStartEventObject?.originalEvent;\n    if (isTouchEvent && !hasTouchStartEvent) {\n      return $target;\n    }\n    const directionY = this._getScrollDirection(event);\n    if (directionY === 'none') {\n      return this.$body;\n    }\n    // Make sure to check the element on which the scroll event was triggered\n    const parents = [$target[0], ...$target.parents()];\n    for (let i = 0, l = parents.length; i < l; i++) {\n      const $parent = $(parents[i]);\n      if ($parent.is('body')) {\n        return this.$body;\n      }\n      if (!this._isScrollable($parent)) {\n        continue;\n      }\n      if (!this._isScrolling($parent, directionY)) {\n        continue;\n      }\n      return $parent;\n    }\n    return this.$body;\n  }\n\n  /**\n   * Returns true if the specified target is scrollable.\n   *\n   * @param {Object} $target jQuery element object.\n   * @returns {boolean}\n   */\n  _isScrollable($target) {\n    const scrollType = $target.css('overflow-y');\n    if (scrollType !== 'auto' && scrollType !== 'scroll') {\n      return false;\n    }\n    const pointerEvents = $target.css('pointer-events');\n    if (pointerEvents === 'none') {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Returns true if the specified target is the scrolling target.\n   *\n   * @param {Object} $target jQuery element object.\n   * @param {string} directionY 'none' | 'up' | 'down'\n   *\n   * @returns {boolean}\n   */\n  _isScrolling($target, directionY) {\n    const scrollTop = Math.ceil($target.scrollTop());\n    const innerHeight = $target.outerHeight();\n    const scrollHeight = $target[0].scrollHeight;\n    let hasScrollingSpace = false;\n    switch (directionY) {\n      case 'down':\n        hasScrollingSpace = scrollTop + innerHeight < scrollHeight;\n        if (hasScrollingSpace) {\n          return true;\n        }\n        break;\n      case 'up':\n        hasScrollingSpace = scrollTop > 0;\n        if (hasScrollingSpace) {\n          return true;\n        }\n        break;\n    }\n    return false;\n  }\n\n  /**\n   * Returns the vertical direction of scroll.\n   *\n   * @param {JQuery.Event} event\n   * @returns {string} 'none' | 'up' | 'down'\n   */\n  _getScrollDirection(event) {\n    const deltaY = this._getScrollDelta(event);\n    if (deltaY === 0) {\n      return 'none';\n    }\n    return deltaY > 0 ? 'up' : 'down';\n  }\n\n  /**\n   * Returns the number of pixels which is intended to be scrolled.\n   *\n   * @param {JQuery.Event} event\n   * @returns {number}\n   */\n  _getScrollDelta(event) {\n    let deltaY = 0;\n    const isTouchEvent = event.type === 'touchmove';\n    const originalEvent = event.originalEvent;\n    if (isTouchEvent) {\n      // Touch events\n      // iOS previous + current scroll pos\n      const startOriginalEvent = this._touchStartEventObject.originalEvent;\n      let currentY = originalEvent.pageY;\n      let previousY = startOriginalEvent.pageY;\n      if (currentY === 0 || currentY === previousY) {\n        // Android chrome current scroll pos\n        currentY = originalEvent.touches[0].pageY;\n        previousY = startOriginalEvent.touches[0].pageY;\n      }\n      // Touch: delta calculated from touchstart pos vs touchmove pos\n      deltaY = currentY - previousY;\n    } else {\n      // Mouse events\n      const hasDeltaY = (originalEvent.wheelDeltaY || originalEvent.deltaY !== undefined);\n      if (hasDeltaY) {\n        // Desktop: Firefox & IE delta inverted\n        deltaY = -originalEvent.deltaY;\n      } else {\n        // Desktop: Chrome & Safari wheel delta\n        deltaY = (originalEvent.wheelDelta || 0);\n      }\n    }\n    return deltaY;\n  }\n\n  /**\n   * Stop listening for events to block.\n   */\n  _stop() {\n    if (!this._isRunning) {\n      return;\n    }\n    this._isRunning = false;\n    window.removeEventListener('touchstart', this._onTouchStart); // mobile\n    window.removeEventListener('touchend', this._onTouchEnd); // mobile\n    // shouldn't need to supply 3rd arg when removing, but IE11 won't remove the event listener if you don't - see https://github.com/adaptlearning/adapt_framework/issues/2466\n    window.removeEventListener('touchmove', this._onScrollEvent, { passive: false }); // mobile\n    window.removeEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.removeEventListener('wheel', this._onScrollEvent, { passive: false });\n    document.removeEventListener('keydown', this._onKeyDown);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Controller for managing tab wrapping for popups.\n * @class\n */\nexport default class WrapFocus extends Backbone.Controller {\n\n  initialize() {\n    _.bindAll(this, '_onWrapAround');\n    this.listenTo(Adapt, {\n      'accessibility:ready': this._attachEventListeners\n    });\n  }\n\n  _attachEventListeners() {\n    const config = Adapt.a11y.config;\n    $('body').on('click focus', config._options._focusguard, this._onWrapAround);\n  }\n\n  /**\n   * If click or focus is received on any element with the focusguard class,\n   * loop focus around to the top of the document.\n   *\n   * @param {JQuery.Event} event\n   */\n  _onWrapAround(event) {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupWrapFocusEnabled) {\n      return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    Adapt.a11y.focusFirst('body', { defer: false });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Tabindex and aria-hidden manager for popups.\n * @class\n */\nexport default class Popup extends Backbone.Controller {\n\n  initialize() {\n    /**\n     * List of elements which form the base at which elements are generally tabbale\n     * and aria-hidden='false'.\n     *\n     * @type {Array<Object>}\n     */\n    this._floorStack = [$('body')];\n    /**\n     * List of elements to return the focus to once leaving each stack.\n     *\n     * @type {Array<Object>}\n     */\n    this._focusStack = [];\n    /**\n     * Hash of tabindex states for each tabbable element in the popup stack.\n     *\n     * @type {Object}\n     */\n    this._tabIndexes = {};\n    /**\n     * Hash of aria-hidden states for each tabbable element in the popup stack.\n     *\n     * @type {Object}\n     */\n    this._ariaHiddens = {};\n    /**\n     * Incremented unique ids for elements belonging to a popup stack with saved\n     * states,\n     */\n    this._elementUIDIndex = 0;\n    this.listenTo(Adapt, {\n      'popup:opened'($element, ignoreInternalTrigger) {\n        if (ignoreInternalTrigger) {\n          return;\n        }\n        Adapt.a11y.log.deprecated('Adapt.trigger(\"popup:opened\", $element) is replaced with Adapt.a11y.popupOpened($element);');\n        this.opened($element, true);\n      },\n      'popup:closed'($target, ignoreInternalTrigger) {\n        if (ignoreInternalTrigger) {\n          return;\n        }\n        Adapt.a11y.log.deprecated('Adapt.trigger(\"popup:closed\", $target) is replaced with Adapt.a11y.popupClosed($target);');\n        this.closed($target, true);\n      }\n    });\n  }\n\n  /**\n   * Reorganise the tabindex and aria-hidden attributes in the document to\n   * restrict user interaction to the element specified.\n   *\n   * @param {Object} [$popupElement] Element encapulating the popup.\n   * @returns {Object} Returns `Adapt.a11y._popup`.\n   */\n  opened($popupElement, silent) {\n    // Capture currently active element or element specified\n    $popupElement = $popupElement || $(document.activeElement);\n    this._addPopupLayer($popupElement);\n    if (!silent) {\n      Adapt.trigger('popup:opened', $popupElement, true);\n    }\n    return this;\n  }\n\n  /**\n   * Restrict tabbing and screen reader access to selected element only.\n   *\n   * @param {Object} $popupElement Element encapulating the popup.\n   */\n  _addPopupLayer($popupElement) {\n    $popupElement = $($popupElement);\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupManagementEnabled || $popupElement.length === 0) {\n      return $popupElement;\n    }\n    this._floorStack.push($popupElement);\n    this._focusStack.push($(document.activeElement));\n    let $elements = $(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n    const $branch = $popupElement.add($popupElement.parents());\n    const $siblings = $branch.siblings().filter(config._options._tabbableElementsExcludes);\n    $elements = $elements.add($siblings);\n    $elements.each((index, item) => {\n      const $item = $(item);\n      let elementUID;\n      if (typeof item.a11y_uid === 'undefined') {\n        item.a11y_uid = 'UID' + ++this._elementUIDIndex;\n      }\n      elementUID = item.a11y_uid;\n      if (this._tabIndexes[elementUID] === undefined) {\n        this._tabIndexes[elementUID] = [];\n      }\n      if (this._ariaHiddens[elementUID] === undefined) {\n        this._ariaHiddens[elementUID] = [];\n      }\n      const tabindex = $item.attr('tabindex');\n      const ariaHidden = $item.attr('aria-hidden');\n      this._tabIndexes[elementUID].push(tabindex === undefined ? '' : tabindex);\n      this._ariaHiddens[elementUID].push(ariaHidden === undefined ? '' : ariaHidden);\n      if (config._options._isPopupTabIndexManagementEnabled) {\n        $item.attr('tabindex', -1);\n      }\n      if (config._options._isPopupAriaHiddenManagementEnabled) {\n        $item.attr('aria-hidden', true);\n      }\n    });\n    const $items = $popupElement.find(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n    if (config._options._isPopupTabIndexManagementEnabled) {\n      $items.attr('tabindex', 0);\n    }\n    if (config._options._isPopupAriaHiddenManagementEnabled) {\n      $items\n        .removeAttr('aria-hidden')\n        .removeClass('aria-hidden')\n        .parents(config._options._ariaHiddenExcludes)\n        .removeAttr('aria-hidden')\n        .removeClass('aria-hidden');\n    }\n  }\n\n  /**\n   * Close the last popup on the stack, restoring tabindex and aria-hidden\n   * attributes.\n   *\n   * @param {Object} [$focusElement] Element at which to move focus.\n   * @returns {Object} Returns `Adapt.a11y._popup`.\n   */\n  closed($focusElement, silent) {\n    const $previousFocusElement = this._removeLastPopupLayer();\n    $focusElement = $focusElement || $previousFocusElement || $('body');\n    if (!silent) {\n      Adapt.trigger('popup:closed', $focusElement, true);\n    }\n    Adapt.a11y.focusFirst($($focusElement), { preventScroll: true });\n    return this;\n  }\n\n  /**\n   * Restores tabbing and screen reader access to the state before the last\n   * `_addPopupLayer` call.\n   *\n   * @returns {Object} Returns previously active element.\n   */\n  _removeLastPopupLayer() {\n    const config = Adapt.a11y.config;\n    if (!config._isEnabled || !config._options._isPopupManagementEnabled) {\n      return $(document.activeElement);\n    }\n    // the body layer is the first element and must always exist\n    if (this._floorStack.length <= 1) {\n      return;\n    }\n    this._floorStack.pop();\n    $(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes).each((index, item) => {\n      const $item = $(item);\n      let previousTabIndex = '';\n      let previousAriaHidden = '';\n      let elementUID;\n      if (typeof item.a11y_uid === 'undefined') {\n        // assign element a unique id\n        item.a11y_uid = 'UID' + ++this._elementUIDIndex;\n      }\n      elementUID = item.a11y_uid;\n      if (this._tabIndexes[elementUID]?.length) {\n        // get previous tabindex if saved\n        previousTabIndex = this._tabIndexes[elementUID].pop();\n        previousAriaHidden = this._ariaHiddens[elementUID].pop();\n      }\n      if (this._tabIndexes[elementUID]?.length) {\n        // delete element tabindex store if empty\n        delete this._tabIndexes[elementUID];\n        delete this._ariaHiddens[elementUID];\n      }\n      if (config._options._isPopupTabIndexManagementEnabled) {\n        if (previousTabIndex === '') {\n          $item.removeAttr('tabindex');\n        } else {\n          $item.attr({\n            'tabindex': previousTabIndex\n          });\n        }\n      }\n      if (config._options._isPopupAriaHiddenManagementEnabled) {\n        if (previousAriaHidden === '') {\n          $item.removeAttr('aria-hidden');\n        } else {\n          $item.attr({\n            'aria-hidden': previousAriaHidden\n          });\n        }\n      }\n    });\n    return this._focusStack.pop();\n  }\n\n  /**\n   * When a popup is open, this function makes it possible to swap the element\n   * that should receive focus on popup close.\n   *\n   * @param {Object} $focusElement Set a new element to focus on.\n   * @returns {Object} Returns previously set focus element.\n   */\n  setCloseTo($focusElement) {\n    const $original = this._focusStack.pop();\n    this._focusStack.push($focusElement);\n    return $original;\n  }\n\n}\n","export default {\n  _menu: 1,\n  _menuGroup: 2,\n  _menuItem: 2,\n  _page: 1,\n  _article: 2,\n  _block: 3,\n  _component: 4,\n  _componentItem: 5,\n  _notify: 1\n};\n","import Adapt from 'core/js/adapt';\n\n/**\n * The old API is rerouted to the new API with warnings.\n */\n\nObject.assign($.fn, {\n\n  isFixedPostion() {\n    Adapt.a11y.log.removed('$(\"..\").isFixedPostion was unneeded and has been removed, let us know if you need it back.');\n    return false;\n  },\n\n  a11y_aria_label() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_aria_label was incorrect behaviour.');\n    return this;\n  },\n\n  limitedScrollTo() {\n    Adapt.a11y.log.removed('$.limitedScrollTo had no impact on the screen reader cursor.');\n    return this;\n  },\n\n  a11y_text() {\n    Adapt.a11y.log.removed('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return this;\n  },\n\n  a11y_selected() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_selected is removed. Please use aria-live instead.');\n    return this;\n  },\n\n  a11y_on(isOn) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_on, use Adapt.a11y.findTabbable($element); and Adapt.a11y.toggleAccessible($elements, isAccessible); instead.');\n    const $tabbable = Adapt.a11y.findTabbable(this);\n    Adapt.a11y.toggleAccessible($tabbable, isOn);\n    return this;\n  },\n\n  a11y_only() {\n    Adapt.a11y.log.removed('$(\"..\").a11y_only, use Adapt.a11y.popupOpened($popupElement); instead.');\n    return this;\n  },\n\n  scrollDisable() {\n    if (Adapt.a11y.config._options._isScrollDisableEnabled === false) {\n      return this;\n    }\n    Adapt.a11y.log.deprecated('$(\"..\").scrollDisable, use Adapt.a11y.scrollDisable($elements); instead.');\n    Adapt.a11y.scrollDisable(this);\n    return this;\n  },\n\n  scrollEnable() {\n    if (Adapt.a11y.config._options._isScrollDisableEnabled === false) {\n      return this;\n    }\n    Adapt.a11y.log.deprecated('$(\"..\").scrollEnable, use Adapt.a11y.scrollEnable($elements); instead.');\n    Adapt.a11y.scrollEnable(this);\n    return this;\n  },\n\n  a11y_popup() {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_popup, use Adapt.a11y.popupOpened($popupElement); instead.');\n    return Adapt.a11y.popupOpened(this);\n  },\n\n  a11y_cntrl(isOn, withDisabled) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_cntrl, use Adapt.a11y.toggleAccessible($elements, isAccessible); and if needed Adapt.a11y.toggleEnabled($elements, isEnabled); instead.');\n    Adapt.a11y.toggleAccessible(this, isOn);\n    if (withDisabled) Adapt.a11y.toggleEnabled(this, isOn);\n    return this;\n  },\n\n  a11y_cntrl_enabled(isOn) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_cntrl_enabled, use Adapt.a11y.toggleAccessibleEnabled($elements, isAccessibleEnabled); instead.');\n    Adapt.a11y.toggleAccessibleEnabled(this, isOn);\n    return this;\n  },\n\n  isReadable() {\n    Adapt.a11y.log.deprecated('$(\"..\").isReadable, use Adapt.a11y.isReadable($element); instead.');\n    return Adapt.a11y.isReadable(this);\n  },\n\n  findForward(selector) {\n    Adapt.a11y.log.removed('$(\"..\").findForward has been removed as the use cases are very small, let us know if you need it back.');\n    return Adapt.a11y._findFirstForward(this, selector);\n  },\n\n  findWalk(selector) {\n    Adapt.a11y.log.removed('$(\"..\").findWalk has been removed as the use cases are very small, let us know if you need it back.');\n    return Adapt.a11y._findFindForwardDescendant(this, selector);\n  },\n\n  focusNoScroll() {\n    Adapt.a11y.log.deprecated('$(\"..\").focusNoScroll, use Adapt.a11y.focus($element); instead.');\n    return Adapt.a11y.focus(this);\n  },\n\n  focusNext(returnOnly) {\n    Adapt.a11y.log.deprecated('$(\"..\").focusNext, use Adapt.a11y.focusNext($element); or if needed Adapt.a11y.findFirstReadable($element); instead.');\n    if (returnOnly) {\n      return Adapt.a11y.findFirstReadable(this);\n    }\n    return Adapt.a11y.focusNext(this);\n  },\n\n  focusOrNext(returnOnly) {\n    Adapt.a11y.log.deprecated('$(\"..\").focusOrNext, use Adapt.a11y.focusFirst($element); or if needed Adapt.a11y.findFirstReadable($element); or Adapt.a11y.isReadable($element); instead.');\n    if (returnOnly) {\n      if (Adapt.a11y.isReadable(this)) return this;\n      return Adapt.a11y.findFirstReadable(this);\n    }\n    return Adapt.a11y.focusFirst(this);\n  },\n\n  a11y_focus(dontDefer) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_focus, use Adapt.a11y.focusFirst($element, { defer: true }); instead.');\n    Adapt.a11y.focusFirst(this, { defer: !dontDefer });\n    return this;\n  }\n\n});\n\nObject.assign($, {\n\n  a11y_alert() {\n    Adapt.a11y.log.removed('$.a11y_alert is removed. Please use aria-live instead.');\n    return this;\n  },\n\n  a11y_update() {\n    Adapt.a11y.log.removed('a11y_update is no longer required.');\n    return this;\n  },\n\n  a11y_text(text) {\n    Adapt.a11y.log.removed('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return text;\n  },\n\n  a11y_on(isOn, selector) {\n    Adapt.a11y.log.deprecated('$(\"..\").a11y_on, use Adapt.a11y.toggleHidden($elements, isHidden); instead.');\n    return Adapt.a11y.toggleHidden(selector, !isOn);\n  },\n\n  a11y_popdown($focusTarget) {\n    Adapt.a11y.log.removed('$.a11y_popdown, use Adapt.a11y.popupClosed($focusTarget); instead.');\n    return Adapt.a11y.popupClosed($focusTarget);\n  },\n\n  a11y_focus(dontDefer) {\n    Adapt.a11y.log.deprecated('$.a11y_focus, use Adapt.a11y.focusFirst(\"body\", { defer: true }); instead.');\n    Adapt.a11y.focusFirst('body', { defer: !dontDefer });\n    return this;\n  },\n\n  a11y_normalize(html) {\n    Adapt.a11y.log.deprecated('$.a11y_normalize, use Adapt.a11y.normalize(\"html\"); instead.');\n    return Adapt.a11y.normalize(html);\n  },\n\n  a11y_remove_breaks(html) {\n    Adapt.a11y.log.deprecated('$.a11y_remove_breaks, use Adapt.a11y.removeBreaks(\"html\"); instead.');\n    return Adapt.a11y.removeBreaks(html);\n  }\n\n});\n","import Adapt from 'core/js/adapt';\nimport BrowserFocus from 'core/js/a11y/browserFocus';\nimport FocusOptions from 'core/js/a11y/focusOptions';\nimport KeyboardFocusOutline from 'core/js/a11y/keyboardFocusOutline';\nimport Log from 'core/js/a11y/log';\nimport Scroll from 'core/js/a11y/scroll';\nimport WrapFocus from 'core/js/a11y/wrapFocus';\nimport Popup from 'core/js/a11y/popup';\nimport defaultAriaLevels from './enums/defaultAriaLevels';\n\nimport 'core/js/a11y/deprecated';\n\nclass A11y extends Backbone.Controller {\n\n  defaults() {\n    return {\n      _isFocusOutlineKeyboardOnlyEnabled: true,\n      /**\n       * `_isFocusOutlineDisabled` ignores `_isEnabled` and can be used when all other\n       * accessibility features have been disabled.\n       */\n      _isFocusOutlineDisabled: false,\n      _isFocusAssignmentEnabled: true,\n      _isFocusOnClickEnabled: true,\n      _isFocusNextOnDisabled: true,\n      _isScrollDisableEnabled: true,\n      _isAriaHiddenManagementEnabled: true,\n      _isPopupManagementEnabled: true,\n      _isPopupWrapFocusEnabled: true,\n      _isPopupAriaHiddenManagementEnabled: true,\n      _isPopupTabIndexManagementEnabled: true,\n      /**\n       * Do not change aria-hidden on these elements.\n       */\n      _ariaHiddenExcludes: ':not(#wrapper):not(body)',\n      _tabbableElements: 'a,button,input,select,textarea,[tabindex]:not([data-a11y-force-focus])',\n      _focusOutlineKeyboardOnlyIgnore: 'input,textarea',\n      /**\n       * Designate these elements as not tabbable.\n       */\n      _tabbableElementsExcludes: ':not(.a11y-ignore):not([data-a11y-force-focus])',\n      _focusableElements: 'a,button,input,select,textarea,[tabindex],label',\n      _readableElements: '[role=heading],[aria-label],[aria-labelledby],[alt]',\n      /**\n       * Prevent adapt from focusing forward onto these elements.\n       */\n      _focusForwardElementsExcludes: ':not([aria-labelledby][role=dialog],[aria-labelledby][role=main],[aria-labelledby][role=region],[aria-labelledby][role=radiogroup],[aria-labelledby][role=group],[aria-labelledby][role=tablist],[aria-labelledby][role=list],[aria-labelledby][role=tree],[aria-labelledby][role=treegrid],[aria-labelledby][role=table],[aria-labelledby][role=grid][aria-labelledby],[role=menu],[aria-labelledby][role=rowgroup])',\n      /**\n       * Selector for elements which cause tab wrapping.\n       */\n      _focusguard: '.a11y-focusguard',\n      /**\n       * Specifies all stylistic elements.\n       */\n      _wrapStyleElements: 'b,i,abbr,strong,em,small,sub,sup,ins,del,mark,zw,nb',\n\n      /**\n       * Logging settings\n       */\n      _warnFirstOnly: true,\n      _warn: true\n    };\n  }\n\n  initialize() {\n    this.isFocusable = this.isFocusable.bind(this);\n    this.isReadable = this.isReadable.bind(this);\n    this.isTabbable = this.isTabbable.bind(this);\n    this.$html = $('html');\n    this._htmlCharRegex = /&.*;/g;\n    /** @type {Object} */\n    this.config = null;\n    this._browserFocus = new BrowserFocus();\n    this._keyboardFocusOutline = new KeyboardFocusOutline();\n    this._wrapFocus = new WrapFocus();\n    this._popup = new Popup();\n    this._scroll = new Scroll();\n    this.log = new Log();\n\n    this._removeLegacyElements();\n    this.listenToOnce(Adapt, {\n      'configModel:dataLoaded': this._onConfigDataLoaded,\n      'navigationView:postRender': this._removeLegacyElements\n    }, this);\n    Adapt.on('device:changed', this._setupNoSelect);\n    this.listenTo(Adapt, {\n      'router:location': this._onNavigationStart,\n      'contentObjectView:ready router:plugin': this._onNavigationEnd\n    });\n  }\n\n  _onConfigDataLoaded() {\n    this.config = Adapt.config.get('_accessibility');\n    this.config._isActive = false;\n    this.config._options = _.defaults(this.config._options || {}, this.defaults());\n    Adapt.offlineStorage.set('a11y', false);\n    this.$html.toggleClass('has-accessibility', this.isEnabled());\n    this._setupNoSelect();\n    this._addFocuserDiv();\n    if (this._isReady) {\n      return;\n    }\n    this._isReady = true;\n    Adapt.trigger('accessibility:ready');\n  }\n\n  _setupNoSelect() {\n    if (!this.config?._disableTextSelectOnClasses) {\n      return;\n    }\n    const classes = this.config._disableTextSelectOnClasses.split(' ');\n    const isMatch = classes.some(className => this.$html.is(className));\n    this.$html.toggleClass('u-no-select', isMatch);\n  }\n\n  _addFocuserDiv() {\n    if ($('#a11y-focuser').length) {\n      return;\n    }\n    $('body').append($('<div id=\"a11y-focuser\" class=\"a11y-ignore\" tabindex=\"-1\">&nbsp;</div>'));\n  }\n\n  _removeLegacyElements() {\n    const $legacyElements = $('body').children('#accessibility-toggle, #accessibility-instructions');\n    const $navigationElements = $('.nav').find('#accessibility-toggle, #accessibility-instructions');\n    if (!$legacyElements.length && !$navigationElements.length) {\n      return;\n    }\n    Adapt.log.warn('REMOVED: #accessibility-toggle and #accessibility-instructions have been removed. Please remove them from all of your .html files.');\n    $legacyElements.remove();\n    $navigationElements.remove();\n  }\n\n  _onNavigationStart() {\n    if (!this.isEnabled()) {\n      return;\n    }\n    // Stop document reading\n    _.defer(() => this.toggleHidden('.contentobject', true));\n  }\n\n  _onNavigationEnd(view) {\n    // Prevent sub-menu items provoking behaviour\n    if ((view?.model?.get('_id') !== Adapt.location._currentId) || !this.isEnabled()) {\n      return;\n    }\n    // Allow document to be read\n    this.toggleHidden('.contentobject', false);\n  }\n\n  isActive() {\n    this.log.removed('Accessibility is now always active when enabled. Please unify your user experiences.');\n    return false;\n  }\n\n  isEnabled() {\n    return this.config?._isEnabled;\n  }\n\n  /**\n   * Calculate the aria level for a heading\n   * @param {string|number} [defaultLevelOrType] Specify a default level or type group.\n   * @param {string|number} [overrideLevelOrType] Override with a level or type group from the designer.\n   * @returns {number}\n   */\n  ariaLevel(defaultLevelOrType = 1, overrideLevelOrType) {\n    // get the global configuration from config.json\n    const cfg = Adapt.config.get('_accessibility');\n\n    // first check to see if the Handlebars context has an override\n    if (overrideLevelOrType) {\n      defaultLevelOrType = overrideLevelOrType;\n    }\n\n    if (!isNaN(defaultLevelOrType)) {\n      // if a number is passed just use this\n      return defaultLevelOrType;\n    }\n\n    if (_.isString(defaultLevelOrType)) {\n      // if a string is passed, check if it is defined in global configuration\n      const ariaLevels = cfg._ariaLevels ?? defaultAriaLevels;\n      return ariaLevels?.['_' + defaultLevelOrType] ?? defaultLevelOrType;\n    }\n\n    // default level to use if nothing overrides it\n    return defaultLevelOrType;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` attribute to elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isHidden=true]\n   * @returns {Object} Chainable\n   */\n  toggleHidden($elements, isHidden = true) {\n    $elements = $($elements);\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isAriaHiddenManagementEnabled) {\n      return this;\n    }\n    if (isHidden === true) {\n      $elements.attr('aria-hidden', true);\n    } else {\n      $elements.removeAttr('aria-hidden');\n    }\n    return this;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` and `disabled` attributes and `disabled`\n   * classes to elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isHidden=true]\n   * @returns {Object} Chainable\n   */\n  toggleAccessibleEnabled($elements, isAccessibleEnabled) {\n    this.toggleAccessible($elements, isAccessibleEnabled);\n    this.toggleEnabled($elements, isAccessibleEnabled);\n    return this;\n  }\n\n  /**\n   * Adds or removes `aria-hidden` attribute and disables `tabindex` on elements.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isReadable=true]\n   * @returns {Object} Chainable\n   */\n  toggleAccessible($elements, isReadable = true) {\n    $elements = $($elements);\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isAriaHiddenManagementEnabled || $elements.length === 0) {\n      return this;\n    }\n    if (!isReadable) {\n      $elements.attr({\n        tabindex: '-1',\n        'aria-hidden': 'true'\n      }).addClass('aria-hidden');\n    } else {\n      $elements.removeAttr('aria-hidden tabindex').removeClass('aria-hidden');\n      $elements.parents(config._options._ariaHiddenExcludes).removeAttr('aria-hidden').removeClass('aria-hidden');\n    }\n    return this;\n  }\n\n  /**\n   * Adds or removes `disabled` attribute and `disabled` class.\n   *\n   * @param {Object|string|Array} $elements\n   * @param {boolean} [isEnabled=true]\n   * @returns {Object} Chainable\n   */\n  toggleEnabled($elements, isEnabled = true) {\n    $elements = $($elements);\n    if ($elements.length === 0) {\n      return this;\n    }\n    if (!isEnabled) {\n      $elements.attr({\n        tabindex: '-1',\n        'aria-disabled': 'true'\n      }).addClass('is-disabled');\n    } else {\n      $elements.removeAttr('aria-disabled tabindex').removeClass('is-disabled');\n    }\n    return this;\n  }\n\n  /**\n   * Find the first tabbable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstTabbable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isTabbable);\n  }\n\n  /**\n   * Find the first readable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstReadable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isReadable);\n  }\n\n  /**\n   * Find the first focusable element after the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findFirstFocusable($element) {\n    $element = $($element).first();\n    return this._findFirstForward($element, this.isFocusable);\n  }\n\n  /**\n   * Find all tabbable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {Object}\n   */\n  findTabbable($element) {\n    const config = this.config;\n    return $($element).find(config._options._tabbableElements).filter(config._options._tabbableElementsExcludes);\n  }\n\n  /**\n   * Find all readable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   */\n  findReadable($element) {\n    return $($element).find('*').filter((index, element) => this.isReadable(element));\n  }\n\n  /**\n   * Find all focusable elements in the specified element.\n   *\n   * @param {Object|string|Array} $element\n   */\n  findFocusable($element) {\n    return $($element).find('*').filter((index, element) => this.isFocusable(element));\n  }\n\n  /**\n   * Check if the element is natively or explicitly tabbable.\n   *\n   * @param {Object|string|Array} $element\n   * @returns {boolean|undefined}\n   */\n  isTabbable($element) {\n    const config = this.config;\n    const value = $($element).is(config._options._tabbableElements).is(config._options._tabbableElementsExcludes);\n    if (!value) {\n      return null; // Allow _findForward to descend\n    }\n    return value;\n  }\n\n  /**\n   * Check if the first item is readable by a screen reader.\n   *\n   * @param {Object|string|Array} $element\n   * @param {boolean} [checkParents=true] Check if parents are inaccessible.\n   * @returns {boolean}\n   */\n  isReadable($element, checkParents = true) {\n    const config = this.config;\n    $element = $($element).first();\n\n    const $branch = checkParents\n      ? $element.add($element.parents())\n      : $element;\n\n    const isNotVisible = $branch.toArray().some(item => {\n      const $item = $(item);\n      // make sure item is not explicitly invisible\n      return $item.css('display') === 'none' ||\n        $item.css('visibility') === 'hidden' ||\n        $item.attr('aria-hidden') === 'true';\n    });\n    if (isNotVisible) {\n      return false;\n    }\n\n    // check that the component is natively tabbable or\n    // will be knowingly read by a screen reader\n    const hasNativeFocusOrIsScreenReadable = $element.is(config._options._focusableElements) ||\n      $element.is(config._options._readableElements);\n    if (hasNativeFocusOrIsScreenReadable) {\n      return true;\n    }\n    const childNodes = $element[0].childNodes;\n    for (let c = 0, cl = childNodes.length; c < cl; c++) {\n      const childNode = childNodes[c];\n      const isTextNode = (childNode.nodeType === 3);\n      if (!isTextNode) {\n        continue;\n      }\n      const isOnlyWhiteSpace = /^\\s*$/.test(childNode.nodeValue);\n      if (isOnlyWhiteSpace) {\n        continue;\n      }\n      return true;\n    }\n    return null; // Allows _findForward to decend.\n  }\n\n  /**\n   * Check if the first item is readable by a screen reader.\n   *\n   * @param {Object|string|Array} $element\n   * @param {boolean} [checkParents=true] Check if parents are inaccessible.\n   * @returns {boolean}\n   */\n  isFocusable($element, checkParents = true) {\n    const config = this.config;\n    $element = $($element).first();\n    if (!$element.is(config._options._focusForwardElementsExcludes)) return null;\n    return this.isReadable($element, checkParents);\n  }\n\n  /**\n   * Find forward in the DOM, descending and ascending to move forward\n   * as appropriate.\n   *\n   * If the selector is a function it should returns true, false or undefined.\n   * Returning true matches the item and returns it. Returning false means do\n   * not match or descend into this item, returning undefined means do not match,\n   * but descend into this item.\n   *\n   * @param {Object|string|Array} $element\n   * @param {string|function|undefined} selector\n   * @returns {Object} Returns found descendant.\n   */\n  _findFirstForward($element, selector) {\n    $element = $($element).first();\n\n    // make sure iterator is correct, use boolean or selector comparison\n    // appropriately\n    let iterator;\n    switch (typeof selector) {\n      case 'string':\n        // make selector iterator\n        iterator = function($tag) {\n          return $tag.is(selector) || undefined;\n        };\n        break;\n      case 'function':\n        iterator = selector;\n        break;\n      case 'undefined':\n        // find first next element\n        iterator = Boolean;\n    }\n\n    if ($element.length === 0) {\n      return $element.not('*');\n    }\n\n    // check children by walking the tree\n    let $found = this._findFirstForwardDescendant($element, iterator);\n    if ($found.length) {\n      return $found;\n    }\n\n    // check subsequent siblings\n    $element.nextAll().toArray().some(sibling => {\n      const $sibling = $(sibling);\n      const value = iterator($sibling);\n\n      // skip this sibling if explicitly instructed\n      if (value === false) {\n        return false;\n      }\n\n      if (value) {\n        // sibling matched\n        $found = $sibling;\n        return true;\n      }\n\n      // check parent sibling children by walking the tree\n      $found = this._findFirstForwardDescendant($sibling, iterator);\n      return Boolean($found.length);\n    });\n    if ($found.length) {\n      return $found;\n    }\n\n    // move through parents towards the body element\n    $element.add($element.parents()).toArray().reverse().some(parent => {\n      const $parent = $(parent);\n      if (iterator($parent) === false) {\n        // skip this parent if explicitly instructed\n        return false;\n      }\n\n      // move through parents nextAll siblings\n      return $parent.nextAll().toArray().some(sibling => {\n        const $sibling = $(sibling);\n        const value = iterator($sibling);\n\n        // skip this sibling if explicitly instructed\n        if (value === false) {\n          return false;\n        }\n\n        if (value) {\n          // sibling matched\n          $found = $sibling;\n          return true;\n        }\n\n        // check parent sibling children by walking the tree\n        $found = this._findFirstForwardDescendant($sibling, iterator);\n        return Boolean($found.length);\n      });\n    });\n\n    if (!$found.length) {\n      return $element.not('*');\n    }\n    return $found;\n  }\n\n  /**\n   * Find descendant in a DOM tree, work from selected to branch-end, through allowed\n   * branch structures in hierarchy order\n   *\n   * If the selector is a function it should returns true, false or undefined.\n   * Returning true matches the item and returns it. Returning false means do\n   * not match or descend into this item, returning undefined means do not match,\n   * but descend into this item.\n   *\n   * @param {Object|string|Array} $element jQuery element to start from.\n   * @param {string|function|undefined} selector\n   * @returns {Object} Returns found descendant.\n   */\n  _findFirstForwardDescendant($element, selector) {\n    $element = $($element).first();\n\n    // make sure iterator is correct, use boolean or selector comparison\n    // appropriately\n    let iterator;\n    switch (typeof selector) {\n      case 'string':\n        // make selector iterator\n        iterator = function($tag) {\n          return $tag.is(selector) || undefined;\n        };\n        break;\n      case 'function':\n        iterator = selector;\n        break;\n      case 'undefined':\n        // find first next element\n        iterator = Boolean;\n    }\n\n    const $notFound = $element.not('*');\n    if ($element.length === 0) {\n      return $notFound;\n    }\n\n    // keep walked+passed children in a stack\n    const stack = [{\n      item: $element[0],\n      value: undefined\n    }];\n    let stackIndexPosition = 0;\n    let childIndexPosition = stackIndexPosition + 1;\n    do {\n\n      const stackEntry = stack[stackIndexPosition];\n      const $stackItem = $(stackEntry.item);\n\n      // check current item\n      switch (stackEntry.value) {\n        case true:\n          return $stackItem;\n        case false:\n          return $notFound;\n      }\n\n      // get i stack children\n      $stackItem.children().toArray().forEach(item => {\n        const $item = $(item);\n        const value = iterator($item);\n\n        // item explicitly not allowed, don't add to stack,\n        // skip children\n        if (value === false) {\n          return;\n        }\n\n        // item passed or readable, add to stack before any parent\n        // siblings\n        stack.splice(childIndexPosition++, 0, {\n          item: item,\n          value: value\n        });\n      });\n\n      // move to next stack item\n      stackIndexPosition++;\n      // keep place to inject children\n      childIndexPosition = stackIndexPosition + 1;\n    } while (stackIndexPosition < stack.length);\n\n    return $notFound;\n  }\n\n  /**\n   * Assign focus to the next readable element.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object} Chainable\n   */\n  focusNext($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    $element = this.findFirstFocusable($element);\n    this.focus($element, options);\n    return this;\n  }\n\n  /**\n   * Assign focus to either the specified element if it is readable or the\n   * next readable element.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object}\n   */\n  focusFirst($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    if (this.isReadable($element)) {\n      this.focus($element, options);\n      return $element;\n    }\n    $element = this.findFirstFocusable($element);\n    this.focus($element, options);\n    return $element;\n  }\n\n  /**\n   * Force focus to the specified element with/without a defer or scroll.\n   *\n   * @param {Object|string|Array} $element\n   * @param {FocusOptions} options\n   * @returns {Object} Chainable\n   */\n  focus($element, options) {\n    options = new FocusOptions(options);\n    $element = $($element).first();\n    const config = this.config;\n    if (!config._isEnabled || !config._options._isFocusAssignmentEnabled || $element.length === 0) {\n      return this;\n    }\n    function perform() {\n      if ($element.attr('tabindex') === undefined) {\n        $element.attr({\n          tabindex: '-1',\n          'data-a11y-force-focus': 'true'\n        });\n      }\n      if (options.preventScroll) {\n        const y = $(window).scrollTop();\n        try {\n          $element[0].focus({\n            preventScroll: true\n          });\n        } catch (e) {\n          // Drop focus errors as only happens when the element\n          // isn't attached to the DOM.\n        }\n        switch (Adapt.device.browser) {\n          case 'internet explorer':\n          case 'microsoft edge':\n          case 'safari':\n            // return to previous scroll position due to no support for preventScroll\n            window.scrollTo(null, y);\n        }\n      } else {\n        $element[0].focus();\n      }\n    }\n    if (options.defer) {\n      _.defer(perform);\n    } else {\n      perform();\n    }\n    return this;\n  }\n\n  /**\n   * Used to convert html to text aria-labels.\n   *\n   * @param {string} htmls Any html strings.\n   * @returns {string} Returns text without markup or html encoded characters.\n   */\n  normalize(htmls) {\n    htmls = [...arguments].filter(Boolean).filter(_.isString).join(' ');\n    const text = $('<div>' + htmls + '</div>').text();\n    // Remove all html encoded characters, such as &apos;\n    return text.replace(this._htmlCharRegex, '');\n  }\n\n  /**\n   * Removes all html tags except stylistic elements.\n   * Useful for producing uninterrupted text for screen readers from\n   * any html.\n   *\n   * @param  {string} htmls Any html strings.\n   * @return {string} Returns html string without markup which would cause screen reader to pause.\n   */\n  removeBreaks(htmls) {\n    htmls = [...arguments].filter(Boolean).filter(_.isString).join(' ');\n    const $div = $('<div>' + htmls + '</div>');\n    const stack = [ $div[0] ];\n    let stackIndex = 0;\n    const outputs = [];\n    do {\n      if (stack[stackIndex].childNodes.length) {\n        const nodes = stack[stackIndex].childNodes;\n        const usable = nodes.filter(node => {\n          const isTextNode = (node.nodeType === 3);\n          if (isTextNode) {\n            return true;\n          }\n          const isStyleElement = $(node).is(this.config._options._wrapStyleElements);\n          if (isStyleElement) {\n            return true;\n          }\n          return false;\n        });\n        outputs.push.apply(outputs, usable);\n        stack.push.apply(stack, nodes);\n      }\n      stackIndex++;\n    } while (stackIndex < stack.length);\n    let rtnText = '';\n    outputs.forEach(function(item) {\n      rtnText += item.outerHTML || item.textContent;\n    });\n    return rtnText;\n  }\n\n  /**\n   * @param {Object|string|Array} $elements\n   * @returns {Object} Chainable\n   */\n  scrollEnable($elements) {\n    this._scroll.enable($elements);\n    return this;\n  }\n\n  /**\n   * @param {Object|string|Array} $elements\n   * @returns {Object} Chainable\n   */\n  scrollDisable($elements) {\n    this._scroll.disable($elements);\n    return this;\n  }\n\n  /**\n   * To apply accessibilty handling to a tag, isolating the user.\n   *\n   * @param {Object} $popupElement Element encapsulating the popup.\n   * @returns {Object} Chainable\n   */\n  popupOpened($popupElement) {\n    this._popup.opened($popupElement);\n    return this;\n  }\n\n  /**\n   * Remove the isolation applied with a call to `popupOpened`.\n   *\n   * @param {Object} [$focusElement] Element to move focus to.\n   * @returns {Object} Chainable\n   */\n  popupClosed($focusElement) {\n    this._popup.closed($focusElement);\n    return this;\n  }\n\n  /**\n   * When a popup is open, this function makes it possible to swap the element\n   * that should receive focus on popup close.\n   *\n   * @param {Object} $focusElement Set a new element to focus on.\n   * @returns {Object} Returns previously set focus element.\n   */\n  setPopupCloseTo($focusElement) {\n    return this._popup.setCloseTo($focusElement);\n  }\n\n}\n\nexport default (Adapt.a11y = new A11y());\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\n\n/**\n * Backwards compatibility `Adapt.accessibility` reroutes to `Adapt.a11y`\n * with a warning.\n */\nObject.defineProperty(Adapt, 'accessibility', {\n\n  get() {\n    a11y.log.deprecated('Adapt.accessibility has moved to Adapt.a11y');\n    return a11y;\n  }\n\n});\n","import Adapt from 'core/js/adapt';\n\nexport default class AdaptCollection extends Backbone.Collection {\n\n  initialize(models, options) {\n    this.once('reset', this.loadedData, this);\n  }\n\n  loadedData() {\n    Adapt.trigger('adaptCollection:dataLoaded');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\nimport 'core/js/logging';\nimport semver from 'semver';\n\nexport default class BuildModel extends LockingModel {\n\n  defaults() {\n    return {\n      jsonext: 'json'\n    };\n  }\n\n  initialize(attrs, options) {\n    this.url = options.url;\n    // Fetch data & if successful trigger event to enable plugins to stop course files loading\n    // Then check if course files can load\n    // 'configModel:loadCourseData' event starts the core content collections and models being fetched\n    this.fetch({\n      success: () => {\n        this.isLoaded = true;\n        Adapt.trigger('buildModel:dataLoaded');\n      },\n      error: () => {\n        console.log('Unable to load adapt/js/build.js');\n        Adapt.trigger('buildModel:dataLoaded');\n      }\n    });\n  }\n\n  isFrameworkVersion(version) {\n    return semver.satisfies(this.get('package').version, version, { includePrerelease: true });\n  }\n\n  isPluginInstalled(name, version = '*') {\n    const plugin = this.get('plugins').find(plugin => {\n      if (plugin.name !== name) return false;\n      return semver.satisfies(plugin.version, version, { includePrerelease: true });\n    });\n    return Boolean(plugin);\n  }\n\n  whenReady() {\n    if (this.isLoaded) return Promise.resolve();\n    return new Promise(resolve => {\n      Adapt.once('buildModel:dataLoaded', resolve);\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\n\nexport default class ConfigModel extends LockingModel {\n\n  defaults() {\n    return {\n      screenSize: {\n        large: 900,\n        medium: 760,\n        small: 520\n      },\n      _forceRouteLocking: false,\n      _canLoadData: true,\n      _disableAnimation: false\n    };\n  }\n\n  /**\n   * Parse the incoming search queries for certain parameter values to use as defaults\n   */\n  setValuesFromURLParams() {\n    const paramMappings = {\n      dir: '_defaultDirection',\n      lang: '_defaultLanguage'\n    };\n\n    const params = new URLSearchParams(window.location.search);\n\n    Object.entries(paramMappings).forEach(([key, value]) => {\n      const passedVal = params.get(key);\n      if (!passedVal) return;\n      if (key === 'lang' && Adapt.build.get('availableLanguageNames')?.includes(passedVal) === false) return;\n      this.set(value, passedVal);\n    });\n  }\n\n  initialize(attrs, options) {\n    this.url = options.url;\n    // Fetch data & if successful trigger event to enable plugins to stop course files loading\n    // Then check if course files can load\n    // 'configModel:loadCourseData' event starts the core content collections and models being fetched\n    this.fetch({\n      success: () => {\n        this.setValuesFromURLParams();\n\n        Adapt.trigger('offlineStorage:prepare');\n        Adapt.wait.queue(() => {\n          Adapt.trigger('configModel:dataLoaded');\n          if (!this.get('_canLoadData')) return;\n          Adapt.trigger('configModel:loadCourseData');\n        });\n      },\n      error: () => console.log('Unable to load course/config.json')\n    });\n  }\n\n  loadData() {}\n\n}\n","export default class ModelEvent extends Backbone.Controller {\n\n  /**\n   * @param {string} type Event name / type\n   * @param {Backbone.Model} target Origin model\n   * @param {*} [value] Any value that should be carried through on the event\n   */\n  initialize(type, target, value) {\n    this.type = type;\n    this.target = target;\n    this.value = value;\n    this.canBubble = true;\n    this.deepPath = [target];\n    this.timeStamp = null;\n  }\n\n  stopPropagation() {\n    this.canBubble = false;\n  }\n\n  addPath(target) {\n    this.deepPath.unshift(target);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ModelEvent from 'core/js/modelEvent';\nimport LockingModel from 'core/js/models/lockingModel';\nimport 'core/js/logging';\n\nexport default class AdaptModel extends LockingModel {\n\n  toJSON() {\n    // Perform shallow clone\n    const json = { ...this.attributes };\n    // Remove deprecated values as they are not true json\n    delete json._children;\n    delete json._parent;\n    // Perform deep clone\n    return $.extend(true, {}, json);\n  }\n\n  get(name) {\n    switch (name) {\n      case '_parent':\n      case '_children':\n        Adapt.log.deprecated('Use model.getChildren() or model.getParent() instead of model.get(\\'_children\\') or model.get(\\'_parent\\')');\n    }\n    return super.get(name);\n  }\n\n  defaults() {\n    return {\n      _canShowFeedback: true,\n      _classes: '',\n      _canReset: true,\n      _canRequestChild: false,\n      _isComplete: false,\n      _isInteractionComplete: false,\n      _isA11yRegionEnabled: false,\n      _isA11yCompletionDescriptionEnabled: true,\n      _requireCompletionOf: -1,\n      _isEnabled: true,\n      _isResetOnRevisit: false,\n      _isAvailable: true,\n      _isOptional: false,\n      _isRendered: false,\n      _isReady: false,\n      _isVisible: true,\n      _isLocked: false,\n      _isHidden: false\n    };\n  }\n\n  /**\n   * Fetch an array representing the relative location of the model to the nearest _trackingId\n   * @returns {Array<Number, Number>}\n   */\n  get trackingPosition() {\n    const firstDescendant = this.getAllDescendantModels(false).concat([this])[0];\n    const nearestTrackingIdModel = [firstDescendant].concat(firstDescendant.getAncestorModels()).find(model => model.has('_trackingId'));\n    if (!nearestTrackingIdModel) return;\n    const trackingId = nearestTrackingIdModel.get('_trackingId');\n    const trackingIdDescendants = [nearestTrackingIdModel].concat(nearestTrackingIdModel.getAllDescendantModels(true));\n    const indexInTrackingIdDescendants = trackingIdDescendants.findIndex(descendant => descendant === this);\n    if (indexInTrackingIdDescendants >= 0) {\n      // Is either the nearestTrackingIdModel (0) or one of its flattened descendants (>0)\n      return [ trackingId, indexInTrackingIdDescendants ];\n    }\n    // Is an ancestor of the nearestTrackingIdModel\n    const trackingIdAncestors = nearestTrackingIdModel.getAncestorModels();\n    const ancestorDistance = trackingIdAncestors.findIndex(ancestor => ancestor === this);\n    return [ trackingId, -(ancestorDistance + 1) ];\n  }\n\n  /**\n   * The AAT always sets the value of `_isResetOnRevisit` to a String\n   * which is fine for the 'soft' and 'hard' values - but 'false' needs\n   * converting to Boolean - see #2825\n   */\n  parse(data) {\n    if (data._isResetOnRevisit === 'false') {\n      data._isResetOnRevisit = false;\n    }\n    return data;\n  }\n\n  trackable() {\n    return [\n      '_id',\n      '_isComplete',\n      '_isInteractionComplete'\n    ];\n  }\n\n  trackableType() {\n    return [\n      String,\n      Boolean,\n      Boolean\n    ];\n  }\n\n  bubblingEvents() {\n    return [\n      'change:_isComplete',\n      'change:_isInteractionComplete',\n      'change:_isActive'\n    ];\n  }\n\n  setupModel() {\n    if (this.hasManagedChildren) {\n      this.setupChildListeners();\n    }\n\n    this.init();\n\n    _.defer(() => {\n      if (this.hasManagedChildren) {\n        this.checkCompletionStatus();\n\n        this.checkInteractionCompletionStatus();\n\n        this.checkLocking();\n      }\n\n      this.setupTrackables();\n\n    });\n\n  }\n\n  setupTrackables() {\n\n    // Limit state trigger calls and make state change callbacks batched-asynchronous\n    const originalTrackableStateFunction = this.triggerTrackableState;\n    this.triggerTrackableState = _.compose(\n      () => {\n\n        // Flag that the function is awaiting trigger\n        this.triggerTrackableState.isQueued = true;\n\n      },\n      _.debounce(() => {\n\n        // Trigger original function\n        originalTrackableStateFunction.apply(this);\n\n        // Unset waiting flag\n        this.triggerTrackableState.isQueued = false;\n\n      }, 17)\n    );\n\n    // Listen to model changes, trigger trackable state change when appropriate\n    this.listenTo(this, 'change', ({ changed }) => {\n\n      // Skip if trigger queued or adapt hasn't started yet\n      if (this.triggerTrackableState.isQueued || !Adapt.attributes._isStarted) {\n        return;\n      }\n\n      // Check that property is trackable\n      const trackablePropertyNames = _.result(this, 'trackable', []);\n      const changedPropertyNames = Object.keys(changed);\n      const isTrackable = changedPropertyNames.find(item => {\n        return trackablePropertyNames.includes(item);\n      });\n\n      if (isTrackable) {\n        // Trigger trackable state change\n        this.triggerTrackableState();\n      }\n    });\n  }\n\n  setupChildListeners() {\n    const children = this.getChildren();\n    if (!children.length) {\n      return;\n    }\n\n    this.listenTo(children, {\n      all: this.onAll,\n      bubble: this.bubble,\n      'change:_isReady': this.checkReadyStatus,\n      'change:_isComplete': this.onIsComplete,\n      'change:_isInteractionComplete': this.checkInteractionCompletionStatus\n    });\n  }\n\n  init() {}\n\n  getTrackableState() {\n\n    const trackable = this.resultExtend('trackable', []);\n    const json = this.toJSON();\n\n    const args = trackable;\n    args.unshift(json);\n\n    return _.pick(...args);\n\n  }\n\n  setTrackableState(state) {\n\n    const trackable = this.resultExtend('trackable', []);\n\n    const args = trackable;\n    args.unshift(state);\n\n    state = _.pick(...args);\n\n    this.set(state);\n\n    return this;\n\n  }\n\n  triggerTrackableState() {\n\n    Adapt.trigger('state:change', this, this.getTrackableState());\n\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    if (!canReset) return false;\n    switch (type) {\n      case 'hard':\n      case true:\n        this.set({\n          _isEnabled: true,\n          _isComplete: false,\n          _isInteractionComplete: false\n        });\n        return true;\n      case 'soft':\n        this.set({\n          _isEnabled: true,\n          _isInteractionComplete: false\n        });\n        return true;\n    }\n    return false;\n  }\n\n  /**\n   * Checks if any child models which have been _isRendered are not _isReady.\n   * If all rendered child models are marked ready then this model will be\n   * marked _isReady: true as well.\n   * @param {AdaptModel} [model]\n   * @param {boolean} [value]\n   * @returns {boolean}\n   */\n  checkReadyStatus(model, value) {\n    if (value === false) {\n      // Do not respond to _isReady: false as _isReady is unset throughout\n      // the rendering process\n      return false;\n    }\n    // Filter children based upon whether they are available\n    // Check if any _isRendered: true children return _isReady: false\n    // If not - set this model to _isReady: true\n    const children = this.getAvailableChildModels();\n    if (children.find(child => child.get('_isReady') === false && child.get('_isRendered'))) {\n      return false;\n    }\n\n    this.set('_isReady', true);\n    return true;\n  }\n\n  setCompletionStatus() {\n    if (!this.get('_isVisible')) return;\n\n    this.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  }\n\n  checkCompletionStatus() {\n    // defer to allow other change:_isComplete handlers to fire before cascading to parent\n    Adapt.checkingCompletion();\n    _.defer(this.checkCompletionStatusFor.bind(this), '_isComplete');\n  }\n\n  checkInteractionCompletionStatus() {\n    // defer to allow other change:_isInteractionComplete handlers to fire before cascading to parent\n    Adapt.checkingCompletion();\n    _.defer(this.checkCompletionStatusFor.bind(this), '_isInteractionComplete');\n  }\n\n  /**\n   * Function for checking whether the supplied completion attribute should be set to true or false.\n   * It iterates over our immediate children, checking the same completion attribute on any mandatory child\n   * to see if enough/all of them them have been completed. If enough/all have, we set our attribute to true;\n   * if not, we set it to false.\n   * @param {string} [completionAttribute] Either '_isComplete' or '_isInteractionComplete'. Defaults to '_isComplete' if not supplied.\n   */\n\n  checkCompletionStatusFor(completionAttribute = '_isComplete') {\n    let completed = false;\n    const children = this.getAvailableChildModels();\n    const requireCompletionOf = this.get('_requireCompletionOf');\n\n    if (requireCompletionOf === -1) { // a value of -1 indicates that ALL mandatory children must be completed\n      completed = children.every(child => {\n        return child.get(completionAttribute) || child.get('_isOptional');\n      });\n    } else {\n      completed = (children.filter(child => {\n        return child.get(completionAttribute) && !child.get('_isOptional');\n      }).length >= requireCompletionOf);\n    }\n\n    this.set(completionAttribute, completed);\n\n    Adapt.checkedCompletion();\n  }\n\n  /**\n   * Returns a string describing the type group of this model.\n   * Strings should be lowercase and not plurlaized.\n   * i.e. 'page', 'menu', 'contentobject', 'component', 'article', 'block'\n   * Override in inheritance chain.\n   * @returns {string}\n   */\n  getTypeGroup() {}\n\n  /**\n   * Returns true if this model is of the type group described.\n   * Automatically manages pluralization typeGroup and matches lowercase only.\n   * Pluralized typeGroups and uppercase characters in typeGroups are discouraged.\n   * @param {string} type Type group name i.e. course, contentobject, article, block, component\n   * @returns {boolean}\n   */\n  isTypeGroup(typeGroup) {\n    const hasUpperCase = /[A-Z]+/.test(typeGroup);\n    const isPluralized = typeGroup.slice(-1) === 's';\n    const lowerCased = typeGroup.toLowerCase();\n    const singular = isPluralized && lowerCased.slice(0, -1); // remove pluralization if ending in s\n    const singularLowerCased = (singular || lowerCased).toLowerCase();\n    if (isPluralized || hasUpperCase) {\n      Adapt.log.deprecated(`'${typeGroup}' appears pluralized or contains uppercase characters, suggest using the singular, lowercase type group '${singularLowerCased}'.`);\n    }\n    const pluralizedLowerCaseTypes = [\n      singularLowerCased,\n      !isPluralized && `${lowerCased}s` // pluralize if not ending in s\n    ].filter(Boolean);\n    const typeGroups = this.getTypeGroups();\n    if (_.intersection(pluralizedLowerCaseTypes, typeGroups).length) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of strings describing the model type groups.\n   * All strings are lowercase and should not be pluralized.\n   * i.e. ['course', 'menu', 'contentobject'], ['page', 'contentobject'], ['component']\n   * @returns {[string]}\n   */\n  getTypeGroups() {\n    if (this._typeGroups) return this._typeGroups;\n    const typeGroups = [ this.get('_type') ];\n    let parentClass = this;\n    while ((parentClass = Object.getPrototypeOf(parentClass))) {\n      if (!Object.prototype.hasOwnProperty.call(parentClass, 'getTypeGroup')) continue;\n      typeGroups.push(parentClass.getTypeGroup.call(this));\n    }\n    return (this._typeGroups = _.uniq(typeGroups.filter(Boolean).map(s => s.toLowerCase())));\n  }\n\n  /**\n   * Searches the model's ancestors to find the first instance of the specified ancestor type\n   * @param {string} [ancestorType] Valid values are 'course', 'pages', 'contentObjects', 'articles' or 'blocks'.\n   * If left blank, the immediate ancestor (if there is one) is returned\n   * @return {object} Reference to the model of the first ancestor of the specified type that's found - or `undefined` if none found\n   */\n  findAncestor(ancestorType) {\n    const parent = this.getParent();\n    if (!parent) return;\n    if (!ancestorType || parent.isTypeGroup(ancestorType)) {\n      return parent;\n    }\n    return parent.findAncestor(ancestorType);\n  }\n\n  /**\n   * Returns all the descendant models of a specific type\n   * @param {string} descendants Valid values are 'contentobject', 'page', 'menu', 'article', 'block', 'component', 'question'\n   * @param {object} options an object that defines the search type and the properties/values to search on. Currently only the `where` search type (equivalent to `Backbone.Collection.where()`) is supported.\n   * @param {object} options.where\n   * @return {array}\n   * @example\n   * //find all available, non-optional components\n   * this.findDescendantModels('component', { where: { _isAvailable: true, _isOptional: false }});\n   */\n  findDescendantModels(descendants, options) {\n    const allDescendantsModels = this.getAllDescendantModels();\n    const returnedDescendants = allDescendantsModels.filter(model => {\n      return model.isTypeGroup(descendants);\n    });\n\n    if (!options) {\n      return returnedDescendants;\n    }\n\n    if (options.where) {\n      return returnedDescendants.filter(descendant => {\n        for (const property in options.where) {\n          const value = options.where[property];\n          if (descendant.get(property) !== value) {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  }\n\n  /**\n   * Fetches the sub structure of a model as a flattened array\n   *\n   * Such that the tree:\n   *  { a1: { b1: [ c1, c2 ], b2: [ c3, c4 ] }, a2: { b3: [ c5, c6 ] } }\n   *\n   * will become the array (parent first = false):\n   *  [ c1, c2, b1, c3, c4, b2, a1, c5, c6, b3, a2 ]\n   *\n   * or (parent first = true):\n   *  [ a1, b1, c1, c2, b2, c3, c4, a2, b3, c5, c6 ]\n   *\n   * This is useful when sequential operations are performed on the menu/page/article/block/component hierarchy.\n   * @param {boolean} [isParentFirst]\n   * @return {array}\n   */\n  getAllDescendantModels(isParentFirst) {\n\n    const descendants = [];\n\n    if (!this.hasManagedChildren) {\n      return descendants;\n    }\n\n    const children = this.getChildren();\n\n    children.models.forEach(child => {\n\n      if (!child.hasManagedChildren) {\n        descendants.push(child);\n        return;\n      }\n\n      const subDescendants = child.getAllDescendantModels(isParentFirst);\n      if (isParentFirst === true) {\n        descendants.push(child);\n      }\n\n      descendants.push(...subDescendants);\n\n      if (isParentFirst !== true) {\n        descendants.push(child);\n      }\n    });\n\n    return descendants;\n\n  }\n\n  /**\n   * Returns a relative model from the Adapt hierarchy\n   *\n   * Such that in the tree:\n   *  { a1: { b1: [ c1, c2 ], b2: [ c3, c4 ] }, a2: { b3: [ c5, c6 ] } }\n   *\n   *  c1.findRelativeModel('@block +1') = b2;\n   *  c1.findRelativeModel('@component +4') = c5;\n   *\n   * @see Adapt.parseRelativeString for a description of relativeStrings\n   * @param {string} relativeString\n   * @param {object} options Search configuration settings\n   * @param {boolean} options.limitParentId\n   * @param {function} options.filter\n   * @param {boolean} options.loop\n   * @return {array}\n   */\n  findRelativeModel(relativeString, options = {}) {\n    // return a model relative to the specified one if opinionated\n    const rootModel = options.limitParentId ?\n      Adapt.findById(options.limitParentId) :\n      Adapt.course;\n\n    const relativeDescriptor = Adapt.parseRelativeString(relativeString);\n    const searchBackwards = (relativeDescriptor.offset < 0);\n    let moveBy = Math.abs(relativeDescriptor.offset);\n    let movementCount = 0;\n\n    const hasDescendantsOfType = Boolean(this.findDescendantModels(relativeDescriptor.type).length);\n    if (hasDescendantsOfType) {\n      // move by one less as first found is considered next\n      // will find descendants on either side but not inside\n      moveBy--;\n    }\n\n    let pageDescendants;\n    if (searchBackwards) {\n      // parents first [p1,a1,b1,c1,c2,a2,b2,c3,c4,p2,a3,b3,c6,c7,a4,b4,c8,c9]\n      pageDescendants = [rootModel];\n      pageDescendants.push(...rootModel.getAllDescendantModels(true));\n\n      // reverse so that we don't need a forward and a backward iterating loop\n      // reversed [c9,c8,b4,a4,c7,c6,b3,a3,p2,c4,c3,b2,a2,c2,c1,b1,a1,p1]\n      pageDescendants.reverse();\n    } else {\n      // children first [c1,c2,b1,a1,c3,c4,b2,a2,p1,c6,c7,b3,a3,c8,c9,b4,a4,p2]\n      pageDescendants = rootModel.getAllDescendantModels(false);\n      pageDescendants.push(rootModel);\n    }\n\n    // find current index in array\n    const modelId = this.get('_id');\n    const modelIndex = pageDescendants.findIndex(pageDescendant => {\n      if (pageDescendant.get('_id') === modelId) {\n        return true;\n      }\n      return false;\n    });\n    const isFilterFunction = (typeof options.filter === 'function');\n\n    if (options.loop) {\n      // normalize offset position to allow for overflow looping\n      const totalOfType = pageDescendants.reduce((count, model) => {\n        if (!model.isTypeGroup(relativeDescriptor.type)) return count;\n        return ++count;\n      }, 0);\n      // take the remainder after removing whole units of the type count\n      moveBy = moveBy % totalOfType;\n      // double up entries to allow for overflow looping\n      pageDescendants = pageDescendants.concat(pageDescendants.slice(0));\n    }\n\n    for (let i = modelIndex, l = pageDescendants.length; i < l; i++) {\n      const descendant = pageDescendants[i];\n      if (!descendant.isTypeGroup(relativeDescriptor.type)) continue;\n      const isSelf = (i === modelIndex);\n      // https://github.com/adaptlearning/adapt_framework/issues/3031\n      if (!isSelf && isFilterFunction && !options.filter(descendant)) continue;\n      if (movementCount > moveBy) {\n        // there is no descendant which matches this relativeString\n        // probably looking for the descendant 0 in a parent\n        break;\n      }\n      if (movementCount === moveBy) {\n        return Adapt.findById(descendant.get('_id'));\n      }\n      movementCount++;\n    }\n\n  }\n\n  get hasManagedChildren() {\n    return true;\n  }\n\n  getChildren() {\n    if (this._childrenCollection) {\n      return this._childrenCollection;\n    }\n\n    let childrenCollection;\n\n    if (!this.hasManagedChildren) {\n      childrenCollection = new Backbone.Collection();\n    } else {\n      const id = this.get('_id');\n      // Look up child by _parentId from Adapt.data\n      const children = Adapt.data.filter(model => model.get('_parentId') === id);\n      childrenCollection = new Backbone.Collection(children);\n    }\n\n    if (this.get('_type') === 'block' &&\n      childrenCollection.length === 2 &&\n      childrenCollection.models[0].get('_layout') !== 'left') {\n      // Components may have a 'left' or 'right' _layout,\n      // so ensure they appear in the correct order\n      // Re-order component models to correct it\n      childrenCollection.comparator = '_layout';\n      childrenCollection.sort();\n    }\n\n    this.setChildren(childrenCollection);\n    return this._childrenCollection;\n  }\n\n  setChildren(children) {\n    this._childrenCollection = children;\n    // Setup deprecated reference\n    this.set('_children', children);\n  }\n\n  getAvailableChildModels() {\n    return this.getChildren().where({\n      _isAvailable: true\n    });\n  }\n\n  getParent() {\n    if (this._parentModel) {\n      return this._parentModel;\n    }\n    const parentId = this.get('_parentId');\n    if (!parentId) return;\n    // Look up parent by id from Adapt.data\n    this.setParent(Adapt.findById(parentId));\n    return this._parentModel;\n  }\n\n  setParent(parent) {\n    this._parentModel = parent;\n    this.set('_parentId', this._parentModel.get('_id'));\n    // Set up deprecated reference\n    this.set('_parent', this._parentModel);\n  }\n\n  getAncestorModels(shouldIncludeChild) {\n    const parents = [];\n    let context = this;\n\n    if (shouldIncludeChild) parents.push(context);\n\n    while (context.has('_parentId')) {\n      context = context.getParent();\n      parents.push(context);\n    }\n\n    return parents.length ? parents : null;\n  }\n\n  getSiblings(passSiblingsAndIncludeSelf) {\n    const id = this.get('_id');\n    const parentId = this.get('_parentId');\n    let siblings;\n    if (!passSiblingsAndIncludeSelf) {\n      // returns a collection of siblings excluding self\n      if (this._hasSiblingsAndSelf === false) {\n        return this.get('_siblings');\n      }\n      siblings = Adapt.data.filter(model => {\n        return model.get('_parentId') === parentId &&\n          model.get('_id') !== id;\n      });\n\n      this._hasSiblingsAndSelf = false;\n\n    } else {\n      // returns a collection of siblings including self\n      if (this._hasSiblingsAndSelf) {\n        return this.get('_siblings');\n      }\n\n      siblings = Adapt.data.filter(model => {\n        return model.get('_parentId') === parentId;\n      });\n      this._hasSiblingsAndSelf = true;\n    }\n\n    const siblingsCollection = new Backbone.Collection(siblings);\n    this.set('_siblings', siblingsCollection);\n    return siblingsCollection;\n  }\n\n  /**\n   * @param  {string} key\n   * @param  {any} value\n   * @param  {Object} options\n   */\n  setOnChildren(...args) {\n\n    this.set(...args);\n\n    if (!this.hasManagedChildren) return;\n\n    const children = this.getChildren();\n    children.models.forEach(child => child.setOnChildren(...args));\n\n  }\n\n  /**\n   * @deprecated since v3.2.3 - please use `model.set('_isOptional', value)` instead\n   */\n  setOptional(value) {\n    Adapt.log.deprecated('Use model.set(\\'_isOptional\\', value) as setOptional() may be removed in the future');\n    this.set({ _isOptional: value });\n  }\n\n  checkLocking() {\n    const lockType = this.get('_lockType');\n\n    if (!lockType) return;\n\n    switch (lockType) {\n      case 'sequential':\n        this.setSequentialLocking();\n        break;\n      case 'unlockFirst':\n        this.setUnlockFirstLocking();\n        break;\n      case 'lockLast':\n        this.setLockLastLocking();\n        break;\n      case 'custom':\n        this.setCustomLocking();\n        break;\n      default:\n        console.warn(`AdaptModel.checkLocking: unknown _lockType '${lockType}' found on ${this.get('_id')}`);\n    }\n  }\n\n  setSequentialLocking() {\n    const children = this.getAvailableChildModels();\n    // Start from second child\n    children.slice(1).forEach((child, index) => {\n      const previousChild = children[index];\n      // If previous was locked, all subsequent will be locked.\n      const isLockedByPreviousChild = previousChild.get('_isLocked') ||\n        (\n          !previousChild.get('_isComplete') &&\n          !previousChild.get('_isOptional')\n        );\n      child.set('_isLocked', isLockedByPreviousChild);\n    }, false);\n  }\n\n  setUnlockFirstLocking() {\n    const children = this.getAvailableChildModels();\n    const firstChild = children.shift();\n    const isLockedByFirstChild = (!firstChild.get('_isComplete') && !firstChild.get('_isOptional'));\n    children.forEach(child => child.set('_isLocked', isLockedByFirstChild));\n  }\n\n  setLockLastLocking() {\n    const children = this.getAvailableChildModels();\n    const lastChild = children.pop();\n    const isLockedByChildren = children.some(child => (!child.get('_isComplete') && !child.get('_isOptional')));\n    lastChild.set('_isLocked', isLockedByChildren);\n  }\n\n  setCustomLocking() {\n    const children = this.getAvailableChildModels();\n    children.forEach(child => child.set('_isLocked', this.shouldLock(child)));\n  }\n\n  shouldLock(child) {\n    const lockedBy = child.get('_lockedBy');\n    if (!lockedBy) return false;\n    return lockedBy.some(id => {\n      try {\n        const anotherModel = Adapt.findById(id);\n        return anotherModel.get('_isAvailable') &&\n          (\n            anotherModel.get('_isLocked') ||\n            (\n              !anotherModel.get('_isComplete') &&\n              !anotherModel.get('_isOptional')\n            )\n          );\n      } catch (e) {\n        console.warn(`AdaptModel.shouldLock: unknown _lockedBy ID '${id}' found on ${child.get('_id')}`);\n        return false;\n      }\n    });\n  }\n\n  onIsComplete() {\n    this.checkCompletionStatus();\n\n    this.checkLocking();\n  }\n\n  /**\n   * Used before a model is rendered to determine if it should be reset to its\n   * default values.\n   */\n  checkIfResetOnRevisit() {\n    const isResetOnRevisit = this.get('_isResetOnRevisit');\n    this.reset(isResetOnRevisit);\n  }\n\n  /**\n   * Clones this model and all managed children returning a new branch.\n   * Assign new unique ids to each cloned model.\n   * @param {Function} [modifier] A callback function for each child to allow for custom modifications\n   * @returns {AdaptModel}\n   */\n  deepClone(modifier = null) {\n    // Fetch the class\n    const ModelClass = this.constructor;\n    // Clone the model\n    const clonedModel = new ModelClass(this.toJSON());\n    // Run the custom modifier on the clone\n    if (modifier) {\n      modifier(clonedModel, this);\n    }\n    let clonedId = clonedModel.get('_id');\n    const hasId = Boolean(clonedId);\n    const shouldAssignUniqueId = (this.get('_id') === clonedId);\n    if (hasId && shouldAssignUniqueId) {\n      // Create a unique id if none was set by the modifier\n      const cid = _.uniqueId(ModelClass.prototype.cidPrefix || 'c');\n      clonedId = `${clonedId}_${cid}`;\n      clonedModel.set('_id', clonedId);\n    }\n    // Add the cloned model to Adapt.data for Adapt.findById resolution\n    if (hasId) {\n      Adapt.data.add(clonedModel);\n    }\n    // Clone any children\n    if (this.hasManagedChildren) {\n      this.getChildren().each(child => {\n        if (!child.deepClone) {\n          throw new Error('Cannot deepClone child.');\n        }\n        child.deepClone((clone, child) => {\n          if (hasId) {\n            // Set the cloned child parent id\n            clone.set('_parentId', clonedId);\n          }\n          if (modifier) {\n            // Run the custom modifier function on the cloned child\n            modifier(clone, child);\n          }\n        });\n      });\n    }\n    // Add the cloned model to its parent for model.findDescendants resolution\n    clonedModel.getParent().getChildren().add(clonedModel);\n    // Setup the cloned model after setting the id, the parent and adding any children\n    clonedModel.setupModel();\n    return clonedModel;\n  }\n\n  /**\n   * Internal event handler for all module events. Triggers event bubbling\n   * through the module hierarchy when the event is included in\n   * `this.bubblingEvents`.\n   * @param {string} type Event name / type\n   * @param {Backbone.Model} model Origin backbone model\n   * @param {*} value New property value\n   */\n  onAll(type, model, value) {\n    if (!_.result(this, 'bubblingEvents').includes(type)) return;\n    const event = new ModelEvent(type, model, value);\n    this.bubble(event);\n  }\n\n  /**\n   * Internal event handler for bubbling events.\n   * @param {ModelEvent} event\n   */\n  bubble(event) {\n    if (!event.canBubble) return;\n    event.addPath(this);\n    this.trigger(`bubble:${event.type} bubble`, event);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nexport default class ContentObjectModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('contentObjectModel._parent, use contentObjectModel.getParent() instead, parent models are defined by the JSON');\n    const isParentCourse = (this.get('_parentId') === Adapt.course.get('_id'));\n    if (isParentCourse) {\n      return 'course';\n    }\n    return 'contentObjects';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('contentObjectModel._siblings, use contentObjectModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('contentObjectModel._children, use contentObjectModel.hasManagedChildren instead, child models are defined by the JSON');\n    return null;\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'contentobject';\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\n\nclass MenuModel extends ContentObjectModel {\n\n  get _children() {\n    Adapt.log.deprecated('menuModel._children, use menuModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'menu';\n  }\n\n  setCustomLocking() {\n    const children = this.getAvailableChildModels();\n    children.forEach(child => {\n      child.set('_isLocked', this.shouldLock(child));\n      if (!(child instanceof MenuModel)) return;\n      child.checkLocking();\n    });\n  }\n\n}\n\nAdapt.register('menu', { model: MenuModel });\n\nexport default MenuModel;\n","import Adapt from 'core/js/adapt';\nimport MenuModel from 'core/js/models/menuModel';\n\nclass CourseModel extends MenuModel {\n\n  get _parent() {\n    Adapt.log.deprecated('courseModel._parent, use courseModel.getParent() instead, parent models are defined by the JSON');\n    return null;\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('courseModel._siblings, use courseModel.getSiblings() instead, sibling models are defined by the JSON');\n    return null;\n  }\n\n}\n\nAdapt.register('course', { model: CourseModel });\n\nexport default CourseModel;\n","import Adapt from 'core/js/adapt';\nimport LockingModel from 'core/js/models/lockingModel';\n\nclass StartController extends Backbone.Controller {\n\n  initialize(...args) {\n    super.initialize(...args);\n    this.model = null;\n  }\n\n  loadCourseData() {\n    this.model = new LockingModel(Adapt.course.get('_start'));\n  }\n\n  setStartLocation() {\n    if (!this.isEnabled()) return;\n    window.history.replaceState('', '', this.getStartHash());\n  }\n\n  returnToStartLocation() {\n    const startIds = this.model.get('_startIds');\n    if (startIds) {\n      // ensure we can return to the start page even if it is completed\n      startIds.forEach(startId => (startId._skipIfComplete = false));\n    }\n    window.location.hash = this.getStartHash(true);\n  }\n\n  /**\n   * Returns a string in URL.hash format representing the route that the course should be sent to\n   * @param {boolean} [alwaysForce] Ignore any route specified in location.hash and force use of the start page instead\n   * @return {string}\n   */\n  getStartHash(alwaysForce) {\n    const startId = this.getStartId();\n    const isRouteSpecified = window.location.href.indexOf('#') > -1;\n    const shouldForceStartId = alwaysForce || this.model.get('_force');\n    const shouldNavigateToStartId = startId && (!isRouteSpecified || shouldForceStartId);\n\n    if (shouldNavigateToStartId && startId !== Adapt.course.get('_id')) {\n      return '#/id/' + startId;\n    }\n\n    // If there's a route specified in location.hash, use that - otherwise go to main menu\n    return window.location.hash || '#/';\n  }\n\n  isEnabled() {\n    return Boolean(this.model?.get('_isEnabled'));\n  }\n\n  getStartId() {\n    let startId = this.model.get('_id');\n    const startIds = this.model.get('_startIds');\n\n    if (!startIds?.length) return startId;\n\n    const $html = $('html');\n    for (let i = 0, l = startIds.length; i < l; i++) {\n      const item = startIds[i];\n      const className = item._className;\n      const skipIfComplete = item._skipIfComplete;\n\n      const model = Adapt.findById(item._id);\n\n      if (!model) {\n        console.log('startController: cannot find id', item._id);\n        continue;\n      }\n\n      if (skipIfComplete) {\n        if (model.get('_isComplete')) continue;\n      }\n\n      if (!className || $html.is(className) || $html.hasClass(className)) {\n        // See https://github.com/adaptlearning/adapt_framework/issues/1843\n        startId = item._id;\n        break;\n      }\n    }\n\n    return startId;\n  }\n\n}\n\nAdapt.once('adapt:start', () => {\n  Adapt.startController.loadCourseData();\n  Adapt.startController.setStartLocation();\n});\n\n/*\n* allows you to call returnToStartLocation either by calling `Adapt.trigger('navigation:returnToStart')`\n* or by including in the top navigation bar a button that has the attribute `data-event=\"returnToStart\"`\n*/\nAdapt.on('navigation:returnToStart', () => {\n  Adapt.startController.returnToStartLocation();\n});\n\nexport default (Adapt.startController = new StartController());\n","import Adapt from 'core/js/adapt';\nimport AdaptCollection from 'core/js/collections/adaptCollection';\nimport BuildModel from 'core/js/models/buildModel';\nimport ConfigModel from 'core/js/models/configModel';\nimport LockingModel from 'core/js/models/lockingModel';\n\nimport 'core/js/models/courseModel';\nimport 'core/js/startController';\n\nclass Data extends AdaptCollection {\n\n  model(json) {\n    const ModelClass = Adapt.getModelClass(json);\n    if (!ModelClass) {\n      return new LockingModel(json);\n    }\n    return new ModelClass(json, { parse: true });\n  }\n\n  initialize() {\n    super.initialize();\n    this.on({\n      add: this.onAdded,\n      remove: this.onRemoved\n    });\n  }\n\n  async init () {\n    this.reset();\n    this._byAdaptID = {};\n    Adapt.build = new BuildModel(null, { url: 'adapt/js/build.min.js', reset: true });\n    await Adapt.build.whenReady();\n    $('html').attr('data-adapt-framework-version', Adapt.build.get('package').version);\n    this.loadConfigData();\n  }\n\n  onAdded(model) {\n    this._byAdaptID[model.get('_id')] = model;\n  }\n\n  onRemoved(model) {\n    delete this._byAdaptID[model.get('_id')];\n  }\n\n  loadConfigData() {\n    Adapt.config = new ConfigModel(null, { url: 'course/config.' + Adapt.build.get('jsonext'), reset: true });\n    this.listenToOnce(Adapt, 'configModel:loadCourseData', this.onLoadCourseData);\n    this.listenTo(Adapt.config, {\n      'change:_activeLanguage': this.onLanguageChange,\n      'change:_defaultDirection': this.onDirectionChange\n    });\n  }\n\n  onDirectionChange(model, direction) {\n    if (direction === 'rtl') {\n      $('html').removeClass('dir-ltr').addClass('dir-rtl').attr('dir', 'rtl');\n    } else {\n      $('html').removeClass('dir-rtl').addClass('dir-ltr').attr('dir', 'ltr');\n    }\n  }\n\n  /**\n   * Before we actually go to load the course data, we first need to check to see if a language has been set\n   * If it has we can go ahead and start loading; if it hasn't, apply the defaultLanguage from config.json\n   */\n  onLoadCourseData() {\n    if (!Adapt.config.get('_activeLanguage')) {\n      Adapt.config.set('_activeLanguage', Adapt.config.get('_defaultLanguage'));\n      return;\n    }\n    this.loadCourseData();\n  }\n\n  onLanguageChange(model, language) {\n    Adapt.offlineStorage.set('lang', language);\n    // set `_isStarted` back to `false` when changing language so that the learner's answers\n    // to questions get restored in the new language when `_restoreStateOnLanguageChange: true`\n    // see https://github.com/adaptlearning/adapt_framework/issues/2977\n    if (Adapt.get('_isStarted')) {\n      Adapt.set('_isStarted', false);\n    }\n    this.loadCourseData(language);\n  }\n\n  async loadCourseData(newLanguage) {\n\n    // All code that needs to run before adapt starts should go here\n    const language = Adapt.config.get('_activeLanguage');\n\n    const courseFolder = 'course/' + language + '/';\n\n    $('html').attr('lang', language);\n\n    await this.loadManifestFiles(courseFolder);\n    await this.triggerDataLoaded();\n    await this.triggerDataReady(newLanguage);\n    this.triggerInit();\n\n  }\n\n  getJSON(path) {\n    return new Promise((resolve, reject) => {\n      $.getJSON(path, data => {\n        // Add path to data in case it's necessary later\n        data.__path__ = path;\n        resolve(data);\n      }).fail(reject);\n    });\n  }\n\n  async loadManifestFiles(languagePath) {\n    this.trigger('loading');\n    this.reset();\n    const manifestPath = languagePath + 'language_data_manifest.js';\n    let manifest;\n    try {\n      manifest = await this.getJSON(manifestPath);\n    } catch (err) {\n      manifest = ['course.json', 'contentObjects.json', 'articles.json', 'blocks.json', 'components.json'];\n      Adapt.log.warnOnce(`Manifest path '${manifestPath} not found. Using traditional files: ${manifest.join(', ')}`);\n    }\n    const allFileData = await Promise.all(manifest.map(filePath => {\n      return this.getJSON(`${languagePath}${filePath}`);\n    }));\n    // Flatten all file data into a single array of model data\n    const allModelData = allFileData.reduce((result, fileData) => {\n      if (Array.isArray(fileData)) {\n        result.push(...fileData);\n      } else if (fileData instanceof Object) {\n        result.push(fileData);\n      } else {\n        Adapt.log.warnOnce(`File data isn't an array or object: ${fileData.__path__}`);\n      }\n      return result;\n    }, []);\n    // Add course model first to allow other model/views to utilize its settings\n    const course = allModelData.find(modelData => modelData._type === 'course');\n    if (!course) {\n      throw new Error('Expected a model data with \"_type\": \"course\", none found.');\n    }\n    Adapt.trigger('courseModel:dataLoading');\n    Adapt.course = this.push(course);\n    Adapt.trigger('courseModel:dataLoaded');\n    // Add other models\n    allModelData.forEach(modelData => {\n      if (modelData._type === 'course') {\n        return;\n      }\n      this.push(modelData);\n    });\n    this.trigger('reset');\n    this.trigger('loaded');\n    await Adapt.wait.queue();\n  }\n\n  async triggerDataLoaded() {\n    Adapt.log.debug('Firing app:dataLoaded');\n    try {\n      // Setup the newly added models\n      this.forEach(model => model.setupModel?.());\n      Adapt.trigger('app:dataLoaded');\n    } catch (e) {\n      Adapt.log.error('Error during app:dataLoading trigger', e);\n    }\n    await Adapt.wait.queue();\n  }\n\n  async triggerDataReady(newLanguage) {\n    if (newLanguage) {\n      Adapt.trigger('app:languageChanged', newLanguage);\n      this.performStartController();\n    }\n    Adapt.log.debug('Firing app:dataReady');\n    try {\n      Adapt.trigger('app:dataReady');\n    } catch (e) {\n      Adapt.log.error('Error during app:dataReady trigger', e);\n    }\n    await Adapt.wait.queue();\n  }\n\n  performStartController() {\n    Adapt.startController.loadCourseData();\n    const hash = Adapt.startController.isEnabled() ? Adapt.startController.getStartHash(false) : '#/';\n    Adapt.router.navigate(hash, { trigger: true, replace: true });\n  }\n\n  triggerInit() {\n    this.isReady = true;\n    this.trigger('ready');\n  }\n\n  whenReady() {\n    if (this.isReady) return Promise.resolve();\n    return new Promise(resolve => {\n      this.once('ready', resolve);\n    });\n  }\n\n  /**\n   * Looks up a model by its `_id` property\n   * @param {string} id The id of the item e.g. \"co-05\"\n   * @return {Backbone.Model}\n   */\n  findById(id) {\n    const model = this._byAdaptID[id];\n    if (!model) {\n      console.warn(`Adapt.findById() unable to find id: ${id}`);\n      return;\n    }\n    return model;\n  }\n\n  /**\n   * Returns the model represented by the trackingPosition.\n   * @param {Array<Number, Number>} trackingPosition Represents the relative location of a model to a _trackingId\n   * @returns {Backbone.Model}\n   */\n  findByTrackingPosition(trackingPosition) {\n    const [ trackingId, indexInTrackingIdDescendants ] = trackingPosition;\n    const trackingIdModel = this.find(model => model.get('_trackingId') === trackingId);\n    if (!trackingIdModel) {\n      console.warn(`Adapt.findByTrackingPosition() unable to find trackingPosition: ${trackingPosition}`);\n      return;\n    }\n    if (indexInTrackingIdDescendants >= 0) {\n      // Model is either the trackingId model or a descendant\n      const trackingIdDescendants = [trackingIdModel].concat(trackingIdModel.getAllDescendantModels(true));\n      return trackingIdDescendants[indexInTrackingIdDescendants];\n    }\n    // Model is an ancestor of the trackingId model\n    const trackingIdAncestors = trackingIdModel.getAncestorModels();\n    const ancestorDistance = Math.abs(indexInTrackingIdDescendants) - 1;\n    return trackingIdAncestors[ancestorDistance];\n  }\n\n}\n\nexport default (Adapt.data = new Data());\n","import Adapt from 'core/js/adapt';\n\n// Basic API for setting and getting name+value pairs\n// Allows registration of a single handler.\n\nclass OfflineStorage extends Backbone.Controller {\n\n  /**\n   * set .ready to false if an offlineStorage handler is being attached - we'll need to wait until the handler lets us know\n   * it's ready before we can safely use offlineStorage\n   */\n  initialize(handler) {\n    /**\n     * set to true initially so that if there are no offlineStorage handlers (i.e. if contrib-spoor is not installed)\n     * this can still be accessed OK\n     */\n    this.ready = true;\n    this._handler = undefined;\n\n    if (!handler) {\n      return;\n    }\n\n    this.ready = false;\n    this._handler = handler;\n  }\n\n  /**\n   * Flag to indicate if an offlineStorage handler has been defined.\n   * @returns {boolean} true if an offlineStorage handler has been defined, false otherwise\n   */\n  hasHandler() {\n    return this._handler !== undefined;\n  }\n\n  /**\n   * Causes state to be serialized and saved.\n   */\n  save() {\n    Adapt.trigger('tracking:save');\n    return this._handler?.save?.apply(this._handler, arguments);\n  }\n\n  /**\n   * Serializes nested arrays, booleans and numbers into an encoded string.\n   * @param {Array|boolean|number} value\n   * @returns {string}\n   */\n  serialize(value) {\n    if (this._handler?.serialize) {\n      return this._handler.serialize.apply(this._handler, arguments);\n    }\n    return JSON.stringify(value);\n  }\n\n  /**\n   * Deserializes encoded strings back into nested arrays, booleans and numbers.\n   * @param {string} value\n   * @returns {Array|boolean|number}\n   */\n  deserialize(value) {\n    if (this._handler?.deserialize) {\n      return this._handler.deserialize.apply(this._handler, arguments);\n    }\n    return JSON.parse(value);\n  }\n\n  set(name, value) {\n    if (this._handler?.set) {\n      return this._handler.set.apply(this._handler, arguments);\n    }\n    // if no handler has been defined, just store the data locally\n    this[name] = value;\n  }\n\n  get(name) {\n    if (this._handler?.get) {\n      return this._handler.get.apply(this._handler, arguments);\n    }\n    // if no handler has been defined, check local data store\n    return this[name];\n  }\n\n  /**\n   * Some forms of offlineStorage could take time to initialise, this allows us to let plugins know when it's ready to be used\n   */\n  setReadyStatus() {\n    this.ready = true;\n    Adapt.trigger('offlineStorage:ready');\n  }\n\n}\n\nAdapt.offlineStorage = new OfflineStorage();\n\nexport default Adapt.offlineStorage;\n","const COMPLETION_STATE = ENUM([\n  'INCOMPLETE',\n  'COMPLETED',\n  'PASSED',\n  'FAILED'\n]);\n\nexport default COMPLETION_STATE;\n","import Adapt from 'core/js/adapt';\nimport COMPLETION_STATE from 'core/js/enums/completionStateEnum';\n\nclass Tracking extends Backbone.Controller {\n\n  initialize() {\n    this._config = {\n      _requireContentCompleted: true,\n      _requireAssessmentCompleted: false\n    };\n    this._assessmentState = null;\n\n    Adapt.once('configModel:dataLoaded', this.loadConfig.bind(this));\n    Adapt.on('app:dataReady', this.setupEventListeners.bind(this));\n  }\n\n  setupEventListeners() {\n    // Check if completion requires passing an assessment.\n    if (this._config._requireAssessmentCompleted) {\n      this.listenTo(Adapt, {\n        'assessment:complete': this.onAssessmentComplete,\n        'assessment:restored': this.onAssessmentRestored\n      });\n    }\n\n    // Check if completion requires completing all content.\n    if (this._config._requireContentCompleted) {\n      this.listenTo(Adapt.course, 'change:_isComplete', this.checkCompletion);\n    }\n  }\n\n  /**\n   * Store the assessment state.\n   * @param {object} assessmentState - The object returned by Adapt.assessment.getState()\n   */\n  onAssessmentComplete(assessmentState) {\n    this._assessmentState = assessmentState;\n\n    this.submitScore();\n    this.checkCompletion();\n  }\n\n  submitScore() {\n    if (!this._config._shouldSubmitScore) return;\n  \n    if (this._assessmentState.isPercentageBased) {\n      Adapt.offlineStorage.set('score', this._assessmentState.scoreAsPercent, 0, 100);\n      return;\n    }\n  \n    Adapt.offlineStorage.set('score', this._assessmentState.score, this._assessmentState.minScore, this._assessmentState.maxScore);\n  }\n\n  /**\n   * Restores the _assessmentState object when an assessment is registered.\n   * @param {object} assessmentState - An object representing the overall assessment state\n   */\n  onAssessmentRestored(assessmentState) {\n    this._assessmentState = assessmentState;\n  }\n\n  /**\n   * Evaluate the course and assessment completion.\n   */\n  checkCompletion() {\n    const completionData = this.getCompletionData();\n\n    if (completionData.status === COMPLETION_STATE.INCOMPLETE) {\n      return;\n    }\n\n    Adapt.trigger('tracking:complete', completionData);\n    Adapt.log.debug('tracking:complete', completionData);\n  }\n\n  /**\n   * The return value of this function should be passed to the trigger of 'tracking:complete'.\n   * @returns An object representing the user's course completion.\n   */\n  getCompletionData() {\n    const completionData = {\n      status: COMPLETION_STATE.INCOMPLETE,\n      assessment: null\n    };\n\n    // Course complete is required.\n    if (this._config._requireContentCompleted && !Adapt.course.get('_isComplete')) {\n      // INCOMPLETE: course not complete.\n      return completionData;\n    }\n\n    // Assessment completed required.\n    if (this._config._requireAssessmentCompleted) {\n      if (!this._assessmentState) {\n        // INCOMPLETE: assessment is not complete.\n        return completionData;\n      }\n\n      // PASSED/FAILED: assessment completed.\n      completionData.status = this._assessmentState.isPass ? COMPLETION_STATE.PASSED : COMPLETION_STATE.FAILED;\n      completionData.assessment = this._assessmentState;\n\n      return completionData;\n    }\n\n    // COMPLETED: criteria met, no assessment requirements.\n    completionData.status = COMPLETION_STATE.COMPLETED;\n\n    return completionData;\n  }\n\n  /**\n   * Set the _config object to the values retrieved from config.json.\n   */\n  loadConfig() {\n    if (Adapt.config.has('_completionCriteria')) {\n      this._config = Adapt.config.get('_completionCriteria');\n    }\n  }\n\n}\n\nAdapt.tracking = new Tracking();\n\nexport default Adapt.tracking;\n","import Adapt from 'core/js/adapt';\nimport Bowser from 'bowser';\n\nclass Device extends Backbone.Controller {\n\n  initialize() {\n    this.$html = $('html');\n    this.$window = $(window);\n    this.touch = Modernizr.touchevents;\n    this.screenWidth = this.getScreenWidth();\n    this.screenHeight = this.getScreenHeight();\n    this.browser = (Bowser.name || '').toLowerCase();\n    this.version = (Bowser.version || '').toLowerCase();\n    this.OS = this.getOperatingSystem().toLowerCase();\n    this.osVersion = Bowser.osversion || '';\n    this.renderingEngine = this.getRenderingEngine();\n    this.onWindowResize = _.debounce(this.onWindowResize.bind(this), 100);\n    this.listenTo(Adapt, {\n      'configModel:dataLoaded': this.onConfigDataLoaded\n    });\n    const browser = this.browser.toLowerCase();\n    // Convert 'msie' and 'internet explorer' to 'ie'.\n    let browserString = browser.replace(/msie|internet explorer/, 'ie');\n    browserString += ` version-${this.version} OS-${this.OS} ${this.getAppleDeviceType()}`;\n    browserString += browserString.replace('.', '-').toLowerCase();\n    browserString += ` pixel-density-${this.pixelDensity()}`;\n    this.$html.addClass(browserString);\n  }\n\n  get orientation() {\n    return (this.screenWidth >= this.screenHeight) ? 'landscape' : 'portrait';\n  }\n\n  get aspectRatio() {\n    return this.screenWidth / this.screenHeight;\n  }\n\n  onConfigDataLoaded() {\n    this.screenSize = this.checkScreenSize();\n    this.$html.addClass('size-' + this.screenSize);\n    if (this.orientation) {\n      this.$html.addClass('orientation-' + this.orientation);\n    }\n    // As Adapt.config is available it's ok to bind the 'resize'.\n    this.$window.on('resize orientationchange', this.onWindowResize);\n  }\n\n  /**\n   * Compares the calculated screen width to the breakpoints defined in config.json.\n   *\n   * @returns {string} 'large', 'medium' or 'small'\n   */\n  checkScreenSize() {\n    const screenSizeConfig = Adapt.config.get('screenSize');\n    let screenSize;\n\n    const screensizeEmThreshold = 300;\n    const baseFontSize = 16;\n\n    // Check to see if the screen size value is larger than the em threshold\n    // If value is larger than em threshold, convert value (assumed px) to ems\n    // Otherwise assume value is in ems\n    const mediumEmBreakpoint = screenSizeConfig.medium > screensizeEmThreshold\n      ? screenSizeConfig.medium / baseFontSize\n      : screenSizeConfig.medium;\n    const smallEmBreakpoint = screenSizeConfig.small > screensizeEmThreshold\n      ? screenSizeConfig.small / baseFontSize\n      : screenSizeConfig.small;\n\n    const fontSize = parseFloat($('html').css('font-size'));\n    const screenSizeEmWidth = (this.screenWidth / fontSize);\n\n    // Check to see if client screen width is larger than medium em breakpoint\n    // If so apply large, otherwise check to see if client screen width is\n    // larger than small em breakpoint. If so apply medium, otherwise apply small\n    if (screenSizeEmWidth >= mediumEmBreakpoint) {\n      screenSize = 'large';\n    } else if (screenSizeEmWidth >= smallEmBreakpoint) {\n      screenSize = 'medium';\n    } else {\n      screenSize = 'small';\n    }\n\n    return screenSize;\n  }\n\n  getScreenWidth() {\n    return this.isAppleDevice()\n      ? this.getAppleScreenWidth()\n      : window.innerWidth || this.$window.width();\n  }\n\n  getScreenHeight() {\n    return this.isAppleDevice()\n      ? this.getAppleScreenHeight()\n      : window.innerHeight || this.$window.height();\n  }\n\n  getOperatingSystem() {\n    const flags = ['windows', 'mac', 'linux', 'windowsphone', 'chromeos', 'android',\n      'ios', 'blackberry', 'firefoxos', 'webos', 'bada', 'tizen', 'sailfish'];\n    let os = flags.find(name => Bowser[name]) || '';\n\n    if (os === '') {\n      // Fall back to using navigator.platform in case Bowser can't detect the OS.\n      const platform = navigator.platform.toLowerCase();\n      const match = platform.match(/win|mac|linux/);\n      if (match) os = match[0];\n      // Set consistency with the Bowser flags.\n      if (os === 'win') os = 'windows';\n      if (!os) os = 'PlatformUnknown';\n    }\n\n    return os;\n  }\n\n  getRenderingEngine() {\n    const flags = ['webkit', 'blink', 'gecko', 'msie', 'msedge'];\n    return flags.find(name => Bowser[name]) || '';\n  }\n\n  onWindowResize() {\n    // Calculate the screen properties.\n    const previousWidth = this.screenWidth;\n    const previousHeight = this.screenHeight;\n\n    this.screenWidth = this.getScreenWidth();\n    this.screenHeight = this.getScreenHeight();\n\n    if (previousWidth === this.screenWidth && previousHeight === this.screenHeight) {\n      // Do not trigger a change if the viewport hasn't actually changed.  Scrolling on iOS will trigger a resize.\n      return;\n    }\n\n    const newScreenSize = this.checkScreenSize();\n\n    if (newScreenSize !== this.screenSize) {\n      this.screenSize = newScreenSize;\n\n      this.$html.removeClass('size-small size-medium size-large').addClass('size-' + this.screenSize);\n\n      if (this.orientation) {\n        this.$html.removeClass('orientation-landscape orientation-portrait').addClass('orientation-' + this.orientation);\n      }\n\n      Adapt.trigger('device:changed', this.screenSize);\n    }\n\n    Adapt.trigger('device:preResize device:resize device:postResize', this.screenWidth);\n\n  }\n\n  isAppleDevice() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  }\n\n  getAppleScreenWidth() {\n    return (Math.abs(window.orientation) === 90) ? window.screen.height : window.screen.width;\n  }\n\n  getAppleScreenHeight() {\n    return (Math.abs(window.orientation) === 90) ? window.screen.width : window.screen.height;\n  }\n\n  getAppleDeviceType() {\n    const flags = ['iphone', 'ipad', 'ipod'];\n    return flags.find(name => Bowser[name]) || '';\n  }\n\n  pixelDensity() {\n    const pixelDensity = (window.devicePixelRatio || 1);\n\n    if (pixelDensity >= 3) {\n      return 'ultra-high';\n    } else if (pixelDensity >= 2) {\n      return 'high';\n    } else if (pixelDensity >= 1.5) {\n      return 'medium';\n    } else {\n      return 'low';\n    }\n  }\n\n}\n\nexport default (Adapt.device = new Device());\n","import Adapt from 'core/js/adapt';\n\nclass DrawerItemView extends Backbone.View {\n\n  className() {\n    return 'drawer__menu drawer__item';\n  }\n\n  attributes() {\n    return {\n      role: 'list'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'drawer:empty', this.remove);\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .drawer__item-btn': 'onDrawerItemClicked'\n    };\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates['drawerItem'];\n    $(this.el).html(template(data)).appendTo('.drawer__holder');\n    return this;\n  }\n\n  onDrawerItemClicked(event) {\n    event.preventDefault();\n    const eventCallback = this.model.get('eventCallback');\n    Adapt.trigger(eventCallback);\n  }\n\n}\n\nDrawerItemView.type = 'drawerItem';\n\nexport default DrawerItemView;\n","import Adapt from 'core/js/adapt';\nimport DrawerItemView from 'core/js/views/drawerItemView';\n\nclass DrawerView extends Backbone.View {\n\n  className() {\n    return 'drawer u-display-none';\n  }\n\n  attributes() {\n    return {\n      'role': 'dialog',\n      'aria-modal': 'true',\n      'aria-labelledby': 'drawer-heading',\n      'aria-hidden': 'true'\n    };\n  }\n\n  initialize() {\n    this._isVisible = false;\n    this.disableAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    this.drawerDir = Adapt.config.get('_defaultDirection') === 'rtl' ? 'left' : 'right';\n    this.drawerDuration = Adapt.config.get('_drawer')?._duration ?? 400;\n    this.setupEventListeners();\n    this.render();\n  }\n\n  setupEventListeners() {\n    this.listenTo(Adapt, {\n      'navigation:toggleDrawer': this.toggleDrawer,\n      'drawer:triggerCustomView': this.openCustomView,\n      'drawer:closeDrawer': this.onCloseDrawer,\n      'remove': this.onRemove,\n      'drawer:remove': this.remove\n    });\n\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.setupEscapeKey();\n  }\n\n  setupEscapeKey() {\n    $(window).on('keyup', this.onKeyUp);\n  }\n\n  onKeyUp(event) {\n    if (event.which !== 27) return;\n    event.preventDefault();\n\n    this.onCloseDrawer();\n  }\n\n  events() {\n    return {\n      'click .drawer__back': 'onBackButtonClicked',\n      'click .drawer__close': 'onCloseClicked'\n    };\n  }\n\n  render() {\n    const template = Handlebars.templates.drawer;\n    $(this.el).html(template({ _globals: Adapt.course.get('_globals') })).prependTo('body');\n    const shadowTemplate = Handlebars.templates.shadow;\n    $(shadowTemplate()).prependTo('body');\n    _.defer(this.postRender.bind(this));\n    return this;\n  }\n\n  postRender() {\n    this.$('a, button, input, select, textarea').attr('tabindex', -1);\n\n    this.checkIfDrawerIsAvailable();\n  }\n\n  openCustomView(view, hasBackButton) {\n    this._hasBackButton = hasBackButton;\n    this._isCustomViewVisible = true;\n    Adapt.trigger('drawer:empty');\n    this.showDrawer();\n    this.$('.drawer__holder').html(view);\n  }\n\n  checkIfDrawerIsAvailable() {\n    const isEmptyDrawer = (this.collection.length === 0);\n    $('.js-nav-drawer-btn').toggleClass('u-display-none', isEmptyDrawer);\n    if (isEmptyDrawer) {\n      Adapt.trigger('drawer:noItems');\n    }\n  }\n\n  onBackButtonClicked(event) {\n    event.preventDefault();\n    this.showDrawer(true);\n  }\n\n  onCloseClicked(event) {\n    event.preventDefault();\n    this.hideDrawer();\n  }\n\n  onCloseDrawer($toElement) {\n    this.hideDrawer($toElement);\n  }\n\n  onRemove() {\n    this.hideDrawer();\n  }\n\n  toggleDrawer() {\n    if (this._isVisible && this._isCustomViewVisible === false) {\n      this.hideDrawer();\n      return;\n    }\n    this.showDrawer(true);\n  }\n\n  showDrawer(emptyDrawer) {\n    this.$el.removeClass('u-display-none').removeAttr('aria-hidden');\n    // Only trigger popup:opened if drawer is visible, pass popup manager drawer element\n    if (!this._isVisible) {\n      Adapt.a11y.popupOpened(this.$el);\n      Adapt.a11y.scrollDisable('body');\n      this._isVisible = true;\n    }\n\n    // Sets tab index to 0 for all tabbable elements in Drawer\n    this.$('a, button, input, select, textarea').attr('tabindex', 0);\n\n    if (emptyDrawer) {\n      this.$('.drawer__back').addClass('u-display-none');\n      this._isCustomViewVisible = false;\n      this.emptyDrawer();\n      if (this.collection.models.length === 1) {\n        // This callback triggers openCustomView() and sets\n        // _isCustomViewVisible to true, causing toggleDrawer()\n        // to re-render the drawer on every toggle button press\n        Adapt.trigger(this.collection.models[0].get('eventCallback'));\n        // Set _isCustomViewVisible to false to prevent re-rendering\n        // the drawer and fix the toggle functionality on toggle button press\n        this._isCustomViewVisible = false;\n      } else {\n        this.renderItems();\n        Adapt.trigger('drawer:openedItemView');\n      }\n    } else {\n      const hideDrawerBackButton = (!this._hasBackButton || this.collection.models.length <= 1);\n      this.$('.drawer__back').toggleClass('u-display-none', hideDrawerBackButton);\n      Adapt.trigger('drawer:openedCustomView');\n    }\n\n    const complete = () => {\n      this.addShadowEvent();\n      Adapt.trigger('drawer:opened');\n\n      // focus on first tabbable element in drawer\n      Adapt.a11y.focusFirst(this.$el, { defer: true });\n    };\n\n    // delay drawer animation until after background fadeout animation is complete\n    const direction = {};\n    if (this.disableAnimation) {\n      $('.js-shadow').removeClass('u-display-none');\n      $('.js-drawer-holder').scrollTop(0);\n\n      direction[this.drawerDir] = 0;\n      this.$el.css(direction);\n      complete();\n    } else {\n      $('.js-shadow').velocity({ opacity: 1 }, {\n        duration: this.drawerDuration,\n        begin: () => {\n          $('.js-shadow').removeClass('u-display-none');\n          $('.js-drawer-holder').scrollTop(0);\n          complete();\n        }\n      });\n\n      const easing = Adapt.config.get('_drawer')?._showEasing || 'easeOutQuart';\n      direction[this.drawerDir] = 0;\n      this.$el.velocity(direction, this.drawerDuration, easing);\n    }\n\n  }\n\n  emptyDrawer() {\n    this.$('.drawer__holder').empty();\n  }\n\n  renderItems() {\n    Adapt.trigger('drawer:empty');\n    this.emptyDrawer();\n    this.collection.forEach(model => new DrawerItemView({ model }));\n  }\n\n  hideDrawer($toElement) {\n    if (!this._isVisible) return;\n\n    const direction = {};\n    Adapt.a11y.popupClosed($toElement);\n    this._isVisible = false;\n    Adapt.a11y.scrollEnable('body');\n\n    if (this.disableAnimation) {\n\n      direction[this.drawerDir] = -this.$el.width();\n      this.$el\n        .css(direction)\n        .addClass('u-display-none')\n        .attr('aria-hidden', 'true');\n\n      $('.js-shadow').addClass('u-display-none');\n\n      Adapt.trigger('drawer:closed');\n\n    } else {\n      const easing = Adapt.config.get('_drawer')?._hideEasing || 'easeInQuart';\n\n      direction[this.drawerDir] = -this.$el.width();\n      this.$el.velocity(direction, this.drawerDuration, easing, () => {\n        this.$el\n          .addClass('u-display-none')\n          .attr('aria-hidden', 'true');\n\n        Adapt.trigger('drawer:closed');\n      });\n\n      $('.js-shadow').velocity({ opacity: 0 }, { duration: this.drawerDuration,\n        complete() {\n          $('.js-shadow').addClass('u-display-none');\n        }\n      });\n\n    }\n\n    this._isCustomViewVisible = false;\n    this.removeShadowEvent();\n\n  }\n\n  addShadowEvent() {\n    $('.js-shadow').one('click touchstart', () => this.onCloseDrawer());\n  }\n\n  removeShadowEvent() {\n    $('.js-shadow').off('click touchstart');\n  }\n\n  remove() {\n    super.remove();\n    $(window).off('keyup', this.onKeyUp);\n\n    Adapt.trigger('drawer:empty');\n    this.collection.reset();\n    $('.js-shadow').remove();\n  }\n\n}\n\nObject.assign(DrawerView, {\n  childContainer: '.js-drawer-holder',\n  childView: DrawerItemView\n});\n\nexport default DrawerView;\n","import Adapt from 'core/js/adapt';\nimport DrawerView from 'core/js/views/drawerView';\n\nconst DrawerCollection = new Backbone.Collection(null, { comparator: 'drawerOrder' });\nconst Drawer = {};\n\nDrawer.addItem = function(drawerObject, eventCallback) {\n  drawerObject.eventCallback = eventCallback;\n  DrawerCollection.add(drawerObject);\n};\n\nDrawer.triggerCustomView = function(view, hasBackButton) {\n  if (hasBackButton !== false) {\n    hasBackButton = true;\n  }\n  Adapt.trigger('drawer:triggerCustomView', view, hasBackButton);\n};\n\nAdapt.on({\n  'adapt:start'() {\n    new DrawerView({ collection: DrawerCollection });\n  },\n  'app:languageChanged'() {\n    Adapt.trigger('drawer:remove');\n  }\n});\n\nexport default (Adapt.drawer = Drawer);\n","import Adapt from 'core/js/adapt';\n\nexport default class NotifyPushView extends Backbone.View {\n\n  className() {\n    let classes = 'notify-push ';\n    classes += (this.model.get('_classes') || '');\n    return classes;\n  }\n\n  attributes() {\n    return {\n      'role': 'dialog',\n      'aria-labelledby': 'notify-push-heading',\n      'aria-modal': 'false'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, {\n      'notify:pushShown notify:pushRemoved': this.updateIndexPosition,\n      'remove': this.remove\n    });\n\n    this.listenTo(this.model.collection, {\n      'remove': this.updateIndexPosition,\n      'change:_index': this.updatePushPosition\n    });\n\n    this.preRender();\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-notify-push-close-btn': 'closePush',\n      'click .js-notify-push-inner': 'triggerEvent'\n    };\n  }\n\n  preRender() {\n    this.hasBeenRemoved = false;\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates['notifyPush'];\n    this.$el.html(template(data)).appendTo('#wrapper');\n\n    _.defer(this.postRender.bind(this));\n\n    return this;\n  }\n\n  postRender() {\n    this.$el.addClass('is-active');\n\n    _.delay(this.closePush.bind(this), this.model.get('_timeout'));\n\n    Adapt.trigger('notify:pushShown');\n  }\n\n  closePush(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    // Check whether this view has been removed as the delay can cause it to be fired twice\n    if (this.hasBeenRemoved === false) {\n\n      this.hasBeenRemoved = true;\n\n      this.$el.removeClass('is-active');\n\n      _.delay(() => {\n        this.model.collection.remove(this.model);\n        Adapt.trigger('notify:pushRemoved', this);\n        this.remove();\n      }, 600);\n    }\n  }\n\n  triggerEvent(event) {\n    Adapt.trigger(this.model.get('_callbackEvent'));\n    this.closePush();\n  }\n\n  updateIndexPosition() {\n    if (this.hasBeenRemoved) return;\n    const models = this.model.collection.models;\n    models.forEach((model, index) => {\n      if (!model.get('_isActive')) return;\n      model.set('_index', index);\n      this.updatePushPosition();\n    });\n  }\n\n  updatePushPosition() {\n    if (this.hasBeenRemoved) {\n      return;\n    }\n\n    if (typeof this.model.get('_index') !== 'undefined') {\n      const elementHeight = this.$el.height();\n      const offset = 20;\n      const navigationHeight = $('.nav').height();\n      const currentIndex = this.model.get('_index');\n      let flippedIndex = (currentIndex === 0) ? 1 : 0;\n\n      if (this.model.collection.where({ _isActive: true }).length === 1) {\n        flippedIndex = 0;\n      }\n\n      const positionLowerPush = (elementHeight + offset) * flippedIndex + navigationHeight + offset;\n      this.$el.css('top', positionLowerPush);\n    }\n  }\n}\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class NotifyModel extends LockingModel {\n\n  defaults() {\n    return {\n      _isActive: false,\n      _showIcon: false,\n      _timeout: 3000\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NotifyPushView from 'core/js/views/notifyPushView';\nimport NotifyModel from 'core/js/models/notifyModel';\n\n// Build a collection to store push notifications\nexport default class NotifyPushCollection extends Backbone.Collection {\n\n  initialize() {\n    this.model = NotifyModel;\n    this.listenTo(this, 'add', this.onPushAdded);\n    this.listenTo(Adapt, 'notify:pushRemoved', this.onRemovePush);\n  }\n\n  onPushAdded(model) {\n    this.checkPushCanShow(model);\n  }\n\n  checkPushCanShow(model) {\n    if (!this.canShowPush()) return;\n    model.set('_isActive', true);\n    this.showPush(model);\n  }\n\n  canShowPush() {\n    const availablePushNotifications = this.where({ _isActive: true });\n    return (availablePushNotifications.length < 2);\n  }\n\n  showPush(model) {\n    new NotifyPushView({\n      model: model\n    });\n  }\n\n  onRemovePush(view) {\n    const inactivePushNotifications = this.where({ _isActive: false });\n    if (inactivePushNotifications.length > 0) {\n      this.checkPushCanShow(inactivePushNotifications[0]);\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\n/**\n * Event object triggered for controlling child view rendering.\n * Sent with 'view:addChild' and 'view:requestChild' events.\n * All plugins receive the same object reference in their event handler and\n * as such, this object becomes a place of consensus for plugins to decide how\n * to handle rendering for this child.\n */\nexport default class ChildEvent extends Backbone.Controller {\n\n  /**\n   * @param {string} type Event type\n   * @param {AdaptView} target Parent view\n   * @param {AdaptModel} model Child model\n   */\n  initialize(type, target, model) {\n    /** @type {string} */\n    this.type = type;\n    /** @type {AdaptView} */\n    this.target = target;\n    /** @type {boolean} Force the child model to render */\n    this.isForced = false;\n    /** @type {boolean} Stop rendering before the child model */\n    this.isStoppedImmediate = false;\n    /** @type {boolean} Stop rendering after the child model */\n    this.isStoppedNext = false;\n    /** @type {boolean} Contains a model to render in response to a requestChild event */\n    this.hasRequestChild = false;\n    this._model = model;\n  }\n\n  /**\n   * Get the model to be rendered.\n   * @returns {AdaptModel}\n   */\n  get model() {\n    return this._model;\n  }\n\n  /**\n   * Set the model to render in response to a 'view:requestChild' event.\n   * @param {AdaptModel}\n   */\n  set model(model) {\n    if (this.type !== 'requestChild') {\n      Adapt.log.warn(`Cannot change model in ${this.type} event.`);\n      return;\n    }\n    if (this._model) {\n      Adapt.log.warn(`Cannot inject two models in one sitting. ${model.get('_id')} attempts to overwrite ${this._model.get('_id')}`);\n      return;\n    }\n    this._model = model;\n    this.hasRequestChild = true;\n  }\n\n  /**\n   * Reset all render stops.\n   */\n  reset() {\n    this.isStoppedImmediate = false;\n    this.isStoppedNext = false;\n  }\n\n  /**\n   * Force model to render.\n   */\n  force() {\n    this.isForced = true;\n  }\n\n  /**\n   * General stop. Stop immediately or stop next with flag to false.\n   * @param {boolean} [immediate=true] Flag to stop immediate or next.\n   */\n  stop(immediate = true) {\n    if (!immediate) {\n      return this.stopNext();\n    }\n    this.isStoppedImmediate = true;\n  }\n\n  /**\n   * Shortcut to stop(false). Stop the render after the contained model is rendered.\n   */\n  stopNext() {\n    this.isStoppedNext = true;\n  }\n\n  /**\n   * Trigger an event to signify that a final decision has been reached.\n   */\n  close() {\n    this.trigger('closed');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TemplateRenderEvent from './templateRenderEvent';\nimport React from 'react';\nimport logging from './logging';\n\n/**\n * Used by babel plugin babel-plugin-transform-react-templates to inject react templates\n */\nexport default function register(name, component) {\n  templates[name] = (...args) => {\n    // Trap render calls to emit preRender and postRender events\n    const mode = 'reactTemplate';\n    // Send preRender event to allow modification of args\n    const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n    Adapt.trigger(preRenderEvent.type, preRenderEvent);\n    // Execute template\n    const value = component(...preRenderEvent.args);\n    // Send postRender event to allow modification of rendered template\n    const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n    Adapt.trigger(postRenderEvent.type, postRenderEvent);\n    // Return rendered, modified template\n    return postRenderEvent.value;\n  };\n};\n\n/**\n * Override React.createElement to allow trapping and modification of react\n * template elements.\n */\n(function () {\n  const original = React.createElement;\n  React.createElement = (...args) => {\n    const name = args[0];\n    // Trap render calls to emit preRender and postRender events\n    const mode = 'reactElement';\n    // Send preRender event to allow modification of args\n    const preRenderEvent = new TemplateRenderEvent(`${mode}:preRender`, name, mode, null, args);\n    Adapt.trigger(preRenderEvent.type, preRenderEvent);\n    // Execute element creation\n    const value = original(...preRenderEvent.args);\n    // Send postRender event to allow modification of rendered element\n    const postRenderEvent = new TemplateRenderEvent(`${mode}:postRender`, name, mode, value, preRenderEvent.args);\n    Adapt.trigger(postRenderEvent.type, postRenderEvent);\n    // Return rendered, modified element\n    return postRenderEvent.value;\n  };\n})();\n\n/**\n * Storage for react templates\n */\nexport const templates = {};\n\n/**\n * Convert html strings to react dom, equivalent to handlebars {{{html}}}\n * @param {string} html\n * @deprecated since v6.0.4, please use react dangerouslySetInnerHTML instead: https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n */\nexport function html(html) {\n  if (!html) return;\n  logging.deprecated('reactHelpers.html please use react dangerouslySetInnerHTML instead: https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml');\n  return { __html: html };\n}\n\n/**\n * Handlebars compile integration\n * @param {string} name Handlebars template\n * @param {...any} args Template arguments\n */\nexport function compile(template, ...args) {\n  const output = Handlebars.compile(template)(...args);\n  return output;\n};\n\n/**\n * Handlebars partials integration\n * @param {string} name Partial name\n * @param {...any} args Partial arguments\n */\nexport function partial(name, ...args) {\n  const output = Handlebars.partials[name](...args);\n  return output;\n};\n\n/**\n * Handlebars helpers integration\n * @param {string} name Helper name\n * @param {...any} args Helper arguments\n */\nexport function helper(name, ...args) {\n  const output = Handlebars.helpers[name].call(args[0]);\n  return (output && output.string) || output;\n};\n\n/**\n * Helper for a list of classes, filtering out falsies and duplicates, and joining with spaces\n * @param  {...any} args List or arrays of classes\n */\nexport function classes(...args) {\n  return _.uniq(_.flatten(args).filter(Boolean).join(' ').split(' ')).join(' ');\n};\n\n/**\n * Helper for prefixing a list of classes, filtering out falsies and duplicates and joining with spaces\n * @param  {[...string]} prefixes Array of class prefixes\n * @param  {...any} args List or arrays of classes\n */\nexport function prefixClasses(prefixes, ...args) {\n  const classes = _.flatten(args).filter(Boolean);\n  const prefixed = _.flatten(prefixes.map(prefix => classes.map(className => `${prefix}${className}`)));\n  return _.uniq(prefixed.join(' ').split(' ')).join(' ');\n};\n","import Adapt from 'core/js/adapt';\nimport ChildEvent from 'core/js/childEvent';\nimport { templates } from 'core/js/reactHelpers';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass AdaptView extends Backbone.View {\n\n  attributes() {\n    return {\n      'data-adapt-id': this.model.get('_id')\n    };\n  }\n\n  initialize() {\n    this.listenTo(this.model, {\n      'change:_isVisible': this.toggleVisibility,\n      'change:_isHidden': this.toggleHidden,\n      'change:_isComplete': this.onIsCompleteChange\n    });\n    this.isJSX = (this.constructor.template || '').includes('.jsx');\n    if (this.isJSX) {\n      this._classSet = new Set(_.result(this, 'className').trim().split(/\\s+/));\n      this.listenTo(this.model, 'all', this.changed);\n      const children = this.model?.getChildren?.();\n      children && this.listenTo(children, 'all', this.changed);\n      // Facilitate adaptive react views\n      this.listenTo(Adapt, 'device:changed', this.changed);\n    }\n    this.model.set({\n      _globals: Adapt.course.get('_globals'),\n      _isReady: false\n    });\n    this._isRemoved = false;\n\n    if (Adapt.location._currentId === this.model.get('_id')) {\n      Adapt.parentView = this;\n    }\n\n    this.preRender();\n    this.render();\n    this.setupOnScreenHandler();\n  }\n\n  preRender() {}\n\n  async postRender() {\n    await this.addChildren();\n  }\n\n  render() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRender view:preRender`, this);\n\n    if (this.isJSX) {\n      this.changed();\n    } else {\n      const data = this.model.toJSON();\n      data.view = this;\n      const template = Handlebars.templates[this.constructor.template];\n      this.$el.html(template(data));\n    }\n\n    Adapt.trigger(`${type}View:render view:render`, this);\n\n    _.defer(async () => {\n      // don't call postRender after remove\n      if (this._isRemoved) return;\n\n      await this.postRender();\n      Adapt.trigger(`${type}View:postRender view:postRender`, this);\n    });\n\n    return this;\n  }\n\n  /**\n   * Re-render a react template\n   * @param {string} eventName=null Backbone change event name\n   */\n  changed(eventName = null) {\n    if (!this.isJSX) {\n      throw new Error('Cannot call changed on a non-react view');\n    }\n    if (typeof eventName === 'string' && eventName.startsWith('bubble')) {\n      // Ignore bubbling events as they are outside of this view's scope\n      return;\n    }\n    const props = {\n      // Add view own properties, bound functions etc\n      ...this,\n      // Add model json data\n      ...this.model.toJSON(),\n      // Add globals\n      _globals: Adapt.course.get('_globals')\n    };\n    const Template = templates[this.constructor.template.replace('.jsx', '')];\n    this.updateViewProperties();\n    ReactDOM.render(<Template {...props} />, this.el);\n  }\n\n  updateViewProperties() {\n    const classesToAdd = _.result(this, 'className').trim().split(/\\s+/);\n    classesToAdd.forEach(i => this._classSet.add(i));\n    const classesToRemove = [ ...this._classSet ].filter(i => !classesToAdd.includes(i));\n    classesToRemove.forEach(i => this._classSet.delete(i));\n    this._setAttributes({ ..._.result(this, 'attributes'), id: _.result(this, 'id') });\n    this.$el.removeClass(classesToRemove).addClass(classesToAdd);\n  }\n\n  setupOnScreenHandler() {\n    const onscreen = this.model.get('_onScreen');\n\n    if (!onscreen?._isEnabled) return;\n\n    this.$el.addClass(`has-animation ${onscreen._classes}-before`);\n    this.$el.on('onscreen.adaptView', (e, m) => {\n      if (!m.onscreen) return;\n      const minVerticalInview = onscreen._percentInviewVertical || 33;\n      if (m.percentInviewVertical < minVerticalInview) return;\n      this.$el.addClass(`${onscreen._classes}-after`).off('onscreen.adaptView');\n    });\n  }\n\n  /**\n   * Add children and descendant views, first-child-first. Wait until all possible\n   * views are added before resolving asynchronously.\n   * Will trigger 'view:addChild'(ChildEvent), 'view:requestChild'(ChildEvent)\n   * and 'view:childAdded'(ParentView, ChildView) accordingly.\n   * @returns {number} Count of views added\n   */\n  async addChildren() {\n    this.nthChild = this.nthChild || 0;\n    // Check descendants first\n    let addedCount = await this.addDescendants(false);\n    // Iterate through existing available children and/or request new children\n    // if required and allowed\n    while (true) {\n      const models = this.model.getAvailableChildModels();\n      const event = this._getAddChildEvent(models[this.nthChild]);\n      if (!event) {\n        break;\n      }\n      if (event.isForced) {\n        event.reset();\n      }\n      if (event.isStoppedImmediate || !event.model) {\n        // If addChild has been stopped before it is added then\n        // set all subsequent models and their children as not rendered\n        const subsequentModels = models.slice(this.nthChild);\n        subsequentModels.forEach(model => model.setOnChildren('_isRendered', false));\n        break;\n      }\n      // Set model state\n      const model = event.model;\n      model.set({\n        _isRendered: true,\n        _nthChild: ++this.nthChild\n      });\n      // Create child view\n      const ChildView = this.constructor.childView || Adapt.getViewClass(model);\n      if (!ChildView) {\n        throw new Error(`The component '${model.attributes._id}' ('${model.attributes._component}') has not been installed, and so is not available in your project.`);\n      }\n      const childView = new ChildView({ model });\n      this.addChildView(childView);\n      addedCount++;\n      if (event.isStoppedNext) {\n        break;\n      }\n    }\n\n    if (!addedCount) {\n      return addedCount;\n    }\n\n    // Children were added, unset _isReady\n    this.model.set('_isReady', false);\n    return addedCount;\n  }\n\n  /**\n   * Child views can be added with '_renderPosition': 'outer-append' or\n   * 'inner-append' (default). Each child view will trigger a\n   * 'view:childAdded'(ParentView, ChildView) event and be added to the\n   * this.getChildViews() array on this parent.\n   * @param {AdaptView} childView\n   * @returns {AdaptView} Returns this childView\n   */\n  addChildView(childView) {\n    const childViews = this.getChildViews() || [];\n    childViews.push(childView);\n    this.setChildViews(childViews);\n    const $parentContainer = this.$(this.constructor.childContainer);\n    switch (childView.model.get('_renderPosition')) {\n      case 'outer-append':\n        // Useful for trickle buttons, inline feedback etc\n        this.$el.append(childView.$el);\n        break;\n      case 'inner-append':\n      default:\n        $parentContainer.append(childView.$el);\n        break;\n    }\n    // Signify that a child has been added to the view to enable updates to status bars\n    Adapt.trigger('view:childAdded', this, childView);\n    return childView;\n  }\n\n  /**\n   * Iterates through existing childViews and runs addChildren on them, resolving\n   * the total count of views added asynchronously.\n   * @returns {number} Count of views added\n   */\n  async addDescendants() {\n    let addedDescendantCount = 0;\n    const childViews = this.getChildViews();\n    if (!childViews) {\n      return addedDescendantCount;\n    }\n    for (let i = 0, l = childViews.length; i < l; i++) {\n      const view = childViews[i];\n      addedDescendantCount = view.addChildren ? await view.addChildren() : 0;\n      if (addedDescendantCount) {\n        break;\n      }\n    }\n    if (!addedDescendantCount) {\n      this.model.checkReadyStatus();\n      return addedDescendantCount;\n    }\n    // Descendants were added, unset _isReady\n    this.model.set('_isReady', false);\n    return addedDescendantCount;\n  }\n\n  /**\n   * Resolves after outstanding asynchronous view additions are finished\n   * and ready.\n   */\n  async whenReady() {\n    if (this.model.get('_isReady')) return;\n    return new Promise(resolve => {\n      const onReadyChange = (model, value) => {\n        if (!value) return;\n        this.stopListening(this.model, 'change:_isReady', onReadyChange);\n        resolve();\n      };\n      this.listenTo(this.model, 'change:_isReady', onReadyChange);\n      this.model.checkReadyStatus();\n    });\n  }\n\n  /**\n   * Triggers and returns a new ChildEvent object for render control.\n   * This function is used by addChildren to manage event triggering.\n   * @param {AdaptModel} model\n   * @returns {ChildEvent}\n   */\n  _getAddChildEvent(model) {\n    const isRequestChild = (!model);\n    const event = new ChildEvent(null, this, model);\n    if (isRequestChild) {\n      // No model has been supplied, we are at the end of the available child list\n      const canRequestChild = this.model.get('_canRequestChild');\n      if (!canRequestChild) {\n        // This model cannot request children\n        return;\n      }\n      event.type = 'requestChild';\n      // Send a request asking for a new model\n      Adapt.trigger('view:requestChild', event);\n      if (!event.hasRequestChild) {\n        // No new model was supplied\n        // Close the event so that the final state can be scrutinized\n        event.close();\n        return;\n      }\n      // A new model has been supplied for the end of the list.\n    }\n    // Trigger an event to signify that a new model is to be added\n    event.type = 'addChild';\n    Adapt.trigger('view:addChild', event);\n    // Close the event so that the final state can be scrutinized\n    event.close();\n    return event;\n  }\n\n  /**\n   * Return an array of all child and descendant views.\n   * @param {boolean} [isParentFirst=false] Array returns with parents before children\n   * @returns {[AdaptView]}\n   */\n  findDescendantViews(isParentFirst) {\n    const descendants = [];\n    const childViews = this.getChildViews();\n    childViews?.forEach(view => {\n      if (isParentFirst) descendants.push(view);\n      const children = view.findDescendantViews?.(isParentFirst);\n      if (children) descendants.push(...children);\n      if (!isParentFirst) descendants.push(view);\n    });\n    return descendants;\n  }\n\n  setReadyStatus() {\n    this.model.set('_isReady', true);\n  }\n\n  setCompletionStatus() {\n    if (!this.model.get('_isVisible')) return;\n    this.model.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  }\n\n  resetCompletionStatus(type) {\n    if (!this.model.get('_canReset')) return;\n\n    const descendantComponents = this.model.findDescendantModels('component');\n    if (descendantComponents.length === 0) {\n      this.model.reset(type);\n    } else {\n      descendantComponents.forEach(model => model.reset(type));\n    }\n  }\n\n  preRemove() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRemove view:preRemove`, this);\n  }\n\n  remove() {\n    const type = this.constructor.type;\n    this.preRemove();\n    Adapt.trigger(`${type}View:remove view:remove`, this);\n    this._isRemoved = true;\n    this.stopListening();\n\n    Adapt.wait.for(end => {\n      if (this.isJSX) {\n        ReactDOM.unmountComponentAtNode(this.el);\n      }\n      this.$el.off('onscreen.adaptView');\n      super.remove();\n      _.defer(() => {\n        Adapt.trigger(`${type}View:postRemove view:postRemove`, this);\n      });\n      end();\n    });\n\n    return this;\n  }\n\n  setVisibility() {\n    return this.model.get('_isVisible') ? '' : 'u-visibility-hidden';\n  }\n\n  toggleVisibility() {\n    this.$el.toggleClass('u-visibility-hidden', !this.model.get('_isVisible'));\n  }\n\n  setHidden() {\n    return this.model.get('_isHidden') ? 'u-display-none' : '';\n  }\n\n  toggleHidden() {\n    this.$el.toggleClass('u-display-none', this.model.get('_isHidden'));\n  }\n\n  onIsCompleteChange(model, isComplete) {\n    this.$el.toggleClass('is-complete', isComplete);\n  }\n\n  /**\n   * @returns {[AdaptView]}\n   */\n  getChildViews() {\n    if (!this._childViews) return this._childViews;\n    // Allow both a deprecated id/view map or a new array of child views\n    return Object.entries(this._childViews).map(([key, value]) => value);\n  }\n\n  /**\n   * @param {[AdaptView]} value\n   */\n  setChildViews(value) {\n    this._childViews = value;\n  }\n\n  /**\n   * Returns an indexed by id list of child views.\n   * @deprecated since 5.7.0\n   * @returns {{<string, AdaptView}}\n   */\n  get childViews() {\n    Adapt.log.deprecated('view.childViews use view.getChildViews() and view.setChildViews([])');\n    if (Array.isArray(this._childViews)) {\n      return _.indexBy(this._childViews, view => view.model.get('_id'));\n    }\n    return this._childViews;\n  }\n\n  /**\n   * Sets an indexed by id list of child views.\n   * @deprecated since 5.7.0\n   */\n  set childViews(value) {\n    Adapt.log.deprecated('view.childViews use view.getChildViews() and view.setChildViews([])');\n    this.setChildViews(value);\n  }\n\n}\n\nAdaptView.className = '';\n\nexport default AdaptView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nexport default class NotifyView extends Backbone.View {\n\n  className() {\n    return `notify ${this.model.get('_classes') || ''}`;\n  }\n\n  attributes () {\n    return Object.assign({\n      role: 'dialog',\n      'aria-labelledby': 'notify-heading',\n      'aria-modal': 'true'\n    }, this.model.get('_attributes'));\n  }\n\n  events() {\n    return {\n      'click .js-notify-btn-alert': 'onAlertButtonClicked',\n      'click .js-notify-btn-prompt': 'onPromptButtonClicked',\n      'click .js-notify-close-btn': 'onCloseButtonClicked',\n      'click .js-notify-shadow-click': 'onShadowClicked'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'resetNotifySize', 'onKeyUp');\n    this.disableAnimation = Adapt.config.get('_disableAnimation') || false;\n    this.isOpen = false;\n    this.hasOpened = false;\n    this.setupEventListeners();\n    this.render();\n  }\n\n  setupEventListeners() {\n    this.listenTo(Adapt, {\n      'remove page:scrollTo': this.closeNotify,\n      'notify:resize': this.resetNotifySize,\n      'notify:cancel': this.cancelNotify,\n      'notify:close': this.closeNotify,\n      'device:resize': this.resetNotifySize\n    });\n    this.setupEscapeKey();\n  }\n\n  setupEscapeKey() {\n    $(window).on('keyup', this.onKeyUp);\n  }\n\n  onKeyUp(event) {\n    if (event.which !== 27) return;\n    event.preventDefault();\n    this.cancelNotify();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates.notify;\n    // hide notify container\n    this.$el.css('visibility', 'hidden');\n    // attach popup + shadow\n    this.$el.html(template(data)).appendTo('body');\n    // hide popup\n    this.$('.notify__popup').css('visibility', 'hidden');\n    // show notify container\n    this.$el.css('visibility', 'visible');\n    this.showNotify();\n    return this;\n  }\n\n  onAlertButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger(this.model.get('_callbackEvent'), this);\n  }\n\n  onPromptButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger($(event.currentTarget).attr('data-event'), this);\n  }\n\n  onCloseButtonClicked(event) {\n    event.preventDefault();\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.cancelNotify();\n  }\n\n  onShadowClicked(event) {\n    event.preventDefault();\n    if (this.model.get('_closeOnShadowClick') === false) return;\n    this.cancelNotify();\n  }\n\n  cancelNotify() {\n    if (this.model.get('_isCancellable') === false) return;\n    // tab index preservation, notify must close before subsequent callback is triggered\n    this.closeNotify();\n    Adapt.trigger('notify:cancelled', this);\n  }\n\n  resetNotifySize() {\n    if (!this.hasOpened) return;\n    this.resizeNotify();\n  }\n\n  resizeNotify() {\n    const windowHeight = $(window).height();\n    const notifyHeight = this.$('.notify__popup-inner').outerHeight();\n    const isFullWindow = (notifyHeight >= windowHeight);\n    this.$('.notify__popup').css({\n      'height': isFullWindow ? '100%' : 'auto',\n      'top': isFullWindow ? 0 : '',\n      'margin-top': isFullWindow ? '' : -(notifyHeight / 2),\n      'overflow-y': isFullWindow ? 'scroll' : '',\n      '-webkit-overflow-scrolling': isFullWindow ? 'touch' : ''\n    });\n  }\n\n  async showNotify() {\n    this.isOpen = true;\n    await this.addSubView();\n    // Add to the list of open popups\n    Adapt.notify.stack.push(this);\n    // Keep focus from previous action\n    this.$previousActiveElement = $(document.activeElement);\n    Adapt.trigger('notify:opened', this);\n    this.$el.imageready(this.onLoaded.bind(this));\n  }\n\n  onLoaded() {\n    if (this.disableAnimation) {\n      this.$('.notify__shadow').css('display', 'block');\n    } else {\n      this.$('.notify__shadow').velocity({ opacity: 0 }, { duration: 0 }).velocity({ opacity: 1 }, { duration: 400,\n        begin: () => {\n          this.$('.notify__shadow').css('display', 'block');\n        }\n      });\n    }\n    this.resizeNotify();\n    if (this.disableAnimation) {\n      this.$('.notify__popup').css('visibility', 'visible');\n      this.onOpened();\n    } else {\n      this.$('.notify__popup').velocity({ opacity: 0 }, { duration: 0 }).velocity({ opacity: 1 }, { duration: 400,\n        begin: () => {\n          // Make sure to make the notify visible and then set\n          // focus, disabled scroll and manage tabs\n          this.$('.notify__popup').css('visibility', 'visible');\n          this.onOpened();\n        }\n      });\n    }\n  }\n\n  onOpened() {\n    $.inview();\n    this.hasOpened = true;\n    // Allows popup manager to control focus\n    Adapt.a11y.popupOpened(this.$('.notify__popup'));\n    Adapt.a11y.scrollDisable('body');\n    $('html').addClass('notify');\n    // Set focus to first accessible element\n    Adapt.a11y.focusFirst(this.$('.notify__popup'), { defer: false });\n  }\n\n  async addSubView() {\n    this.subView = this.model.get('_view');\n    if (this.model.get('_id')) {\n      // Automatically render the specified id\n      const model = Adapt.findById(this.model.get('_id'));\n      const View = Adapt.getViewClass(model);\n      this.subView = new View({ model });\n    }\n    if (!this.subView) return;\n    this.subView.$el.on('resize', this.resetNotifySize);\n    this.$('.notify__content-inner').prepend(this.subView.$el);\n    if (!(this.subView instanceof AdaptView) || this.subView.model.get('_isReady')) return;\n    // Wait for the AdaptView subview to be ready\n    return new Promise(resolve => {\n      const check = (model, value) => {\n        if (!value) return;\n        this.subView.model.off('change:_isReady', check);\n        resolve();\n      };\n      this.subView.model.on('change:_isReady', check);\n    });\n  }\n\n  closeNotify() {\n    // Make sure that only the top most notify is closed\n    const stackItem = Adapt.notify.stack[Adapt.notify.stack.length - 1];\n    if (this !== stackItem) return;\n    Adapt.notify.stack.pop();\n    // Prevent from being invoked multiple times - see https://github.com/adaptlearning/adapt_framework/issues/1659\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    // If closeNotify is called before showNotify has finished then wait\n    // until it's open.\n    if (this.hasOpened) {\n      this.onCloseReady();\n      return;\n    }\n    this.listenToOnce(Adapt, 'popup:opened', () => {\n      // Wait for popup:opened to finish processing\n      _.defer(this.onCloseReady.bind(this));\n    });\n  }\n\n  onCloseReady() {\n    if (this.disableAnimation) {\n      this.$('.notify__popup').css('visibility', 'hidden');\n      this.$el.css('visibility', 'hidden');\n      this.remove();\n    } else {\n      this.$('.notify__popup').velocity({ opacity: 0 }, { duration: 400,\n        complete: () => {\n          this.$('.notify__popup').css('visibility', 'hidden');\n        }\n      });\n      this.$('.notify__shadow').velocity({ opacity: 0 }, { duration: 400,\n        complete: () => {\n          this.$el.css('visibility', 'hidden');\n          this.remove();\n        }\n      });\n    }\n    Adapt.a11y.scrollEnable('body');\n    $('html').removeClass('notify');\n    // Return focus to previous active element\n    Adapt.a11y.popupClosed(this.$previousActiveElement);\n    // Return reference to the notify view\n    Adapt.trigger('notify:closed', this);\n  }\n\n  remove(...args) {\n    this.removeSubView();\n    $(window).off('keyup', this.onKeyUp);\n    super.remove(...args);\n  }\n\n  removeSubView() {\n    if (!this.subView) return;\n    this.subView.$el.off('resize', this.resetNotifySize);\n    if (this.subView instanceof AdaptView) {\n      // Clear up nested views and models\n      const views = [...this.subView.findDescendantViews(), this.subView];\n      views.forEach(view => {\n        view.model.set('_isReady', false);\n        view.remove();\n      });\n    } else {\n      this.subView.remove();\n    }\n    this.subView = null;\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NotifyPushCollection from 'core/js/collections/notifyPushCollection';\nimport NotifyView from 'core/js/views/notifyView';\nimport NotifyModel from 'core/js/models/notifyModel';\n\nclass Notify extends Backbone.Controller {\n\n  initialize() {\n    this._stack = [];\n    this.notifyPushes = new NotifyPushCollection();\n    this.listenTo(Adapt, {\n      'notify:popup': this._deprecated.bind(this, 'popup'),\n      'notify:alert': this._deprecated.bind(this, 'alert'),\n      'notify:prompt': this._deprecated.bind(this, 'prompt'),\n      'notify:push': this._deprecated.bind(this, 'push')\n    });\n  }\n\n  get stack() {\n    return this._stack;\n  }\n\n  _deprecated(type, notifyObject) {\n    Adapt.log.deprecated(`NOTIFY DEPRECATED: Adapt.trigger('notify:${type}', notifyObject); is no longer supported, please use Adapt.notify.${type}(notifyObject);`);\n    return this.create(notifyObject, { _type: type });\n  }\n\n  create(notifyObject, defaults) {\n    notifyObject = _.defaults({}, notifyObject, defaults, {\n      _type: 'popup',\n      _isCancellable: true,\n      _showCloseButton: true,\n      _closeOnShadowClick: true\n    });\n\n    if (notifyObject._type === 'push') {\n      this.notifyPushes.push(notifyObject);\n      return;\n    }\n\n    return new NotifyView({\n      model: new NotifyModel(notifyObject)\n    });\n  }\n\n  /**\n   * Creates a 'popup' notify\n   * @param {Object} notifyObject An object containing all the settings for the popup\n   * @param {string} notifyObject.title Title of the popup\n   * @param {string} notifyObject.body Body of the popup\n   * @param {Boolean} [notifyObject._showCloseButton=true] If set to `false` the popup will not have a close button. The learner will still be able to dismiss the popup by clicking outside of it or by pressing the Esc key. This setting is typically used mainly for popups that have a subview (where the subview contains the close button)\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` the learner will not be able to close the popup - use with caution!\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  popup(notifyObject) {\n    return this.create(notifyObject, { _type: 'popup' });\n  }\n\n  /**\n   * Creates an 'alert' notify popup\n   * @param {Object} notifyObject An object containing all the settings for the alert popup\n   * @param {string} notifyObject.title Title of the alert popup\n   * @param {string} notifyObject.body Body of the alert popup\n   * @param {string} notifyObject.confirmText Label for the popup confirm button\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` only the confirm button can be used to dismiss/close the popup\n   * @param {Boolean} [notifyObject._showIcon=false] If set to `true` an 'alert' icon will be displayed in the popup\n   * @param {string} [notifyObject._callbackEvent] Event to trigger when the confirm button is clicked\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  alert(notifyObject) {\n    return this.create(notifyObject, { _type: 'alert' });\n  }\n\n  /**\n   * Creates a 'prompt dialog' notify popup\n   * @param {Object} notifyObject An object containing all the settings for the prompt dialog\n   * @param {string} notifyObject.title Title of the prompt\n   * @param {string} notifyObject.body Body of the prompt\n   * @param {Object[]} notifyObject._prompts Array of objects that each define a button (and associated callback event) that you want shown in the prompt\n   * @param {string} notifyObject._prompts[].promptText Label for this button\n   * @param {string} notifyObject._prompts[]._callbackEvent Event to be triggered when this button is clicked\n   * @param {Boolean} [notifyObject._isCancellable=true] If set to `false` only the confirm button can be used to dismiss/close the prompt\n   * @param {Boolean} [notifyObject._showIcon=true] If set to `true` a 'query' icon will be displayed in the popup\n   * @param {string} [notifyObject._callbackEvent] Event to trigger when the confirm button is clicked\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   * @param {Backbone.View} [notifyObject._view] Subview to display in the popup instead of the standard view\n   */\n  prompt(notifyObject) {\n    return this.create(notifyObject, { _type: 'prompt' });\n  }\n\n  /**\n   * Creates a 'push notification'\n   * @param {Object} notifyObject An object containing all the settings for the push notification\n   * @param {string} notifyObject.title Title of the push notification\n   * @param {string} notifyObject.body Body of the push notification\n   * @param {Number} [notifyObject._timeout=3000] Length of time (in milliseconds) the notification should left on-screen before automatically fading away\n   * @param {string} notifyObject._callbackEvent Event to be triggered if the learner clicks on the push notification (not triggered if they use the close button)\n   * @param {string} [notifyObject._classes] A class name or (space separated) list of class names you'd like to be applied to the popup's `<div>`\n   */\n  push(notifyObject) {\n    return this.create(notifyObject, { _type: 'push' });\n  }\n\n}\n\nexport default (Adapt.notify = new Notify());\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class RouterModel extends LockingModel {\n\n  defaults() {\n    return {\n      _canNavigate: true,\n      _shouldNavigateFocus: true\n    };\n  }\n\n  lockedAttributes() {\n    return {\n      _canNavigate: false,\n      _shouldNavigateFocus: false\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport RouterModel from 'core/js/models/routerModel';\nimport CourseModel from 'core/js/models/courseModel';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport MenuModel from 'core/js/models/menuModel';\nimport 'core/js/startController';\n\nclass Router extends Backbone.Router {\n\n  routes() {\n    return {\n      '': 'handleRoute',\n      'id/:id': 'handleRoute',\n      ':pluginName(/*location)(/*action)': 'handleRoute'\n    };\n  }\n\n  initialize({ model }) {\n    this._isBackward = false;\n    this.model = model;\n    this._navigationRoot = null;\n    // Flag to indicate if the router has tried to redirect to the current location.\n    this._isCircularNavigationInProgress = false;\n    this.showLoading();\n    // Store #wrapper element and html to cache for later use.\n    this.$wrapper = $('#wrapper');\n    this.$html = $('html');\n    this.listenToOnce(Adapt, 'app:dataReady', this.setDocumentTitle);\n    this.listenTo(Adapt, 'router:navigateTo', this.navigateToArguments);\n  }\n\n  get rootModel() {\n    return this._navigationRoot || Adapt.course;\n  }\n\n  set rootModel(model) {\n    this._navigationRoot = model;\n  }\n\n  showLoading() {\n    $('.js-loading').show();\n  }\n\n  hideLoading() {\n    $('.js-loading').hide();\n  }\n\n  setDocumentTitle() {\n    const currentModel = Adapt.location._currentModel;\n    const hasSubTitle = (currentModel && currentModel !== Adapt.router.rootModel && currentModel.get('title'));\n    const title = [\n      this.rootModel.get('title'),\n      hasSubTitle && currentModel.get('title')\n    ].filter(Boolean).join(' | ');\n    this.listenToOnce(Adapt, 'contentObjectView:preRender', () => {\n      const escapedTitle = $(`<div>${title}</div>`).text();\n      document.title = escapedTitle;\n    });\n  }\n\n  navigateToArguments(args) {\n    args = args.filter(v => v !== null);\n    const options = { trigger: false, replace: false };\n    if (args.length === 1 && Adapt.findById(args[0])) {\n      this.navigate('#/id/' + args[0], options);\n      return;\n    }\n    if (args.length <= 3) {\n      this.navigate('#/' + args.join('/'), options);\n      return;\n    }\n    Adapt.log.deprecated('Use Backbone.history.navigate or window.location.href instead of Adapt.trigger(\\'router:navigateTo\\')');\n    this.handleRoute(...args);\n  }\n\n  handleRoute(...args) {\n    args = args.filter(v => v !== null);\n\n    if (this.model.get('_canNavigate')) {\n      // Reset _isCircularNavigationInProgress protection as code is allowed to navigate away.\n      this._isCircularNavigationInProgress = false;\n    }\n\n    // Check if the current page is in the process of navigating to itself.\n    // It will redirect to itself if the URL was changed and _canNavigate is false.\n    if (this._isCircularNavigationInProgress === false) {\n      // Trigger an event pre 'router:location' to allow extensions to stop routing.\n      Adapt.trigger('router:navigate', args);\n    }\n\n    // Re-check as _canNavigate can be set to false on 'router:navigate' event.\n    if (this.model.get('_canNavigate')) {\n      // Disable navigation whilst rendering.\n      this.model.set('_canNavigate', false, { pluginName: 'adapt' });\n      this._isBackward = false;\n      if (args.length <= 1) {\n        return this.handleId(...args);\n      }\n      return this.handlePluginRouter(...args);\n    }\n\n    if (this._isCircularNavigationInProgress) {\n      // Navigation correction finished.\n      // Router has successfully re-navigated to the current _id as the URL was changed\n      // while _canNavigate: false\n      this._isCircularNavigationInProgress = false;\n      return;\n    }\n\n    // Cancel navigation to stay at the current location.\n    this._isCircularNavigationInProgress = true;\n    Adapt.trigger('router:navigationCancelled', args);\n\n    // Reset URL to the current one.\n    // https://github.com/adaptlearning/adapt_framework/issues/3061\n    Backbone.history.history[this._isBackward ? 'forward' : 'back']();\n    this._isBackward = false;\n  }\n\n  async handlePluginRouter(pluginName, location, action) {\n    const pluginLocation = [\n      pluginName,\n      location && `-${location}`,\n      action && `-${action}`\n    ].filter(Boolean).join('');\n    await this.updateLocation(pluginLocation, null, null, null);\n\n    Adapt.trigger('router:plugin:' + pluginName, pluginName, location, action);\n    Adapt.trigger('router:plugin', pluginName, location, action);\n    this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n  }\n\n  async handleId(id) {\n    const rootModel = Adapt.router.rootModel;\n    let model = (!id) ? rootModel : Adapt.findById(id);\n\n    if (!model) {\n      // Bad id\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      return;\n    }\n\n    // Keep the routed id incase it needs to be scrolled to later\n    const isContentObject = (model instanceof ContentObjectModel);\n    const navigateToId = model.get('_id');\n\n    // Ensure that the router is rendering a contentobject\n    model = isContentObject ? model : model.findAncestor('contentobject');\n    id = model.get('_id');\n\n    const isRoot = (model === rootModel);\n    if (isRoot && Adapt.course.has('_start')) {\n      // Do not allow access to the menu when the start controller is enabled.\n      const startController = Adapt.course.get('_start');\n      if (startController._isEnabled === true && startController._isMenuDisabled === true) {\n        return;\n      }\n    }\n\n    if (model.get('_isLocked') && Adapt.config.get('_forceRouteLocking')) {\n      // Locked id\n      Adapt.log.warn('Unable to navigate to locked id: ' + id);\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      if (Adapt.location._previousId === undefined) {\n        return this.navigate('#/', { trigger: true, replace: true });\n      }\n      return this.navigateBack();\n    }\n\n    // Move to a content object\n    this.showLoading();\n    await Adapt.remove();\n\n    /**\n     * TODO:\n     * As the course object has separate location and type rules,\n     * it makes it more difficult to update the Adapt.location object\n     * should stop doing this.\n     */\n    const isCourse = (model instanceof CourseModel);\n    const type = isCourse ? 'menu' : model.get('_type');\n    const location = isCourse ? 'course' : `${type}-${id}`;\n\n    model.set('_isVisited', true);\n    await this.updateLocation(location, type, id, model);\n\n    Adapt.once('contentObjectView:ready', () => {\n      // Allow navigation.\n      this.model.set('_canNavigate', true, { pluginName: 'adapt' });\n      this.handleNavigationFocus();\n    });\n    Adapt.trigger(`router:${type} router:contentObject`, model);\n\n    const ViewClass = Adapt.getViewClass(model);\n    const isMenu = (model instanceof MenuModel);\n    if (!ViewClass && isMenu) {\n      Adapt.log.deprecated(`Using event based menu view instantiation for '${Adapt.getViewName(model)}'`);\n      return;\n    }\n\n    if (!isMenu) {\n      // checkIfResetOnRevisit where exists on descendant models before render\n      _.invoke(model.getAllDescendantModels(), 'checkIfResetOnRevisit');\n      // wait for completion to settle\n      await Adapt.deferUntilCompletionChecked();\n    }\n\n    this.$wrapper.append(new ViewClass({ model }).$el);\n\n    if (!isContentObject && !this.isScrolling) {\n      // Scroll to element if not a content object or not already trying to\n      await Adapt.navigateToElement('.' + navigateToId, { replace: true, duration: 400 });\n    }\n\n  }\n\n  async updateLocation(currentLocation, type, id, currentModel) {\n    // Handles updating the location.\n    Adapt.location._previousModel = Adapt.location._currentModel;\n    Adapt.location._previousId = Adapt.location._currentId;\n    Adapt.location._previousContentType = Adapt.location._contentType;\n\n    Adapt.location._currentModel = currentModel;\n    Adapt.location._currentId = id;\n    Adapt.location._contentType = type;\n    Adapt.location._currentLocation = currentLocation;\n\n    /**\n     * TODO:\n     * this if block should be removed,\n     * these properties are unused in the framework\n     */\n    if (type === 'menu') {\n      Adapt.location._lastVisitedType = 'menu';\n      Adapt.location._lastVisitedMenu = id;\n    } else if (type === 'page') {\n      Adapt.location._lastVisitedType = 'page';\n      Adapt.location._lastVisitedPage = id;\n    }\n\n    this.setDocumentTitle();\n    this.setGlobalClasses();\n\n    // Trigger event when location changes.\n    Adapt.trigger('router:location', Adapt.location);\n\n    await Adapt.wait.queue();\n  }\n\n  setGlobalClasses() {\n    const currentModel = Adapt.location._currentModel;\n\n    const htmlClasses = currentModel?.get('_htmlClasses') || '';\n    const classes = (Adapt.location._currentId) ?\n      `location-${Adapt.location._contentType} location-id-${Adapt.location._currentId}` :\n      `location-${Adapt.location._currentLocation}`;\n    const currentClasses = `${classes} ${htmlClasses}`;\n\n    this.$html\n      .removeClass(Adapt.location._previousClasses)\n      .addClass(currentClasses)\n      .attr('data-location', Adapt.location._currentLocation);\n\n    this.$wrapper\n      .removeClass()\n      .addClass(classes)\n      .attr('data-location', Adapt.location._currentLocation);\n\n    Adapt.location._previousClasses = currentClasses;\n  }\n\n  handleNavigationFocus() {\n    if (!this.model.get('_shouldNavigateFocus')) return;\n    // Body will be forced to accept focus to start the\n    // screen reader reading the page.\n    Adapt.a11y.focus('body');\n  }\n\n  navigateBack() {\n    this._isBackward = true;\n    Backbone.history.history.back();\n  }\n\n  navigateToCurrentRoute(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    if (!Adapt.location._currentId) {\n      return;\n    }\n    const currentId = Adapt.location._currentModel.get('_id');\n    const isRoot = (Adapt.location._currentModel === this.rootModel);\n    const route = isRoot ? '#/' : '#/id/' + currentId;\n    this.navigate(route, { trigger: true, replace: true });\n  }\n\n  navigateToPreviousRoute(force) {\n    // Sometimes a plugin might want to stop the default navigation.\n    // Check whether default navigation has changed.\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    const currentModel = Adapt.location._currentModel;\n    const previousModel = Adapt.location._previousModel;\n    if (!currentModel) {\n      return this.navigateBack();\n    }\n    if (Adapt.location._currentModel instanceof MenuModel) {\n      return this.navigateToParent();\n    }\n    if (previousModel) {\n      return this.navigateBack();\n    }\n    this.navigateToParent();\n  }\n\n  navigateToParent(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    const parentId = Adapt.location._currentModel.get('_parentId');\n    const parentModel = Adapt.findById(parentId);\n    const isRoot = (parentModel === this.rootModel);\n    const route = isRoot ? '#/' : '#/id/' + parentId;\n    this.navigate(route, { trigger: true });\n  }\n\n  navigateToHomeRoute(force) {\n    if (!this.model.get('_canNavigate') && !force) {\n      return;\n    }\n    this.navigate('#/', { trigger: true });\n  }\n\n  /**\n   * Allows a selector or id to be passed in and Adapt will navigate to this element. Resolves\n   * asynchronously when the element has been navigated to.\n   * Backend for Adapt.navigateToElement\n   * @param {string} selector CSS selector or id of the Adapt element you want to navigate to e.g. `\".co-05\"` or `\"co-05\"`\n   * @param {Object} [settings] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async navigateToElement(selector, settings = {}) {\n    const currentModelId = selector.replace(/\\./g, '').split(' ')[0];\n    const currentModel = Adapt.findById(currentModelId);\n\n    if (currentModel && (!currentModel.get('_isRendered') || !currentModel.get('_isReady'))) {\n      const shouldReplace = settings.replace || false;\n      const contentObject = (currentModel instanceof ContentObjectModel) ? currentModel : currentModel.findAncestor('contentobject');\n      const contentObjectId = contentObject.get('_id');\n      const isNotInCurrentContentObject = (contentObjectId !== Adapt.location._currentId);\n      if (isNotInCurrentContentObject) {\n        this.isScrolling = true;\n        this.navigate(`#/id/${currentModelId}`, { trigger: true, replace: shouldReplace });\n        this.model.set('_shouldNavigateFocus', false, { pluginName: 'adapt' });\n        await new Promise(resolve => Adapt.once('contentObjectView:ready', _.debounce(() => {\n          this.model.set('_shouldNavigateFocus', true, { pluginName: 'adapt' });\n          resolve();\n        }, 1)));\n        this.isScrolling = false;\n      }\n      await Adapt.parentView.renderTo(currentModelId);\n    }\n\n    // Correct selector when passed a pure id\n    if (currentModel && selector === currentModel.get('_id')) {\n      selector = `.${selector}`;\n    }\n\n    // Get the current location - this is set in the router\n    const location = (Adapt.location._contentType)\n      ? Adapt.location._contentType\n      : Adapt.location._currentLocation;\n    // Trigger initial scrollTo event\n    Adapt.trigger(`${location}:scrollTo`, selector);\n    // Setup duration variable\n    const disableScrollToAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    if (disableScrollToAnimation) {\n      settings.duration = 0;\n    } else if (!settings.duration) {\n      settings.duration = $.scrollTo.defaults.duration;\n    }\n\n    const $wrapper = $('#wrapper');\n    // Work out offset from the top of the wrapper rather than the height of the navigation bar\n    let offsetTop = -parseInt($wrapper.css('padding-top'));\n    // Prevent scroll issue when component description aria-label coincident with top of component\n    if ($(selector).hasClass('component')) {\n      offsetTop -= $(selector).find('.aria-label').height() || 0;\n    }\n\n    if (!settings.offset) settings.offset = { top: offsetTop, left: 0 };\n    if (settings.offset.top === undefined) settings.offset.top = offsetTop;\n    if (settings.offset.left === undefined) settings.offset.left = 0;\n\n    if (settings.offset.left === 0) settings.axis = 'y';\n\n    if (Adapt.get('_canScroll') !== false) {\n      // Trigger scrollTo plugin\n      $.scrollTo(selector, settings);\n    }\n\n    // Trigger an event after animation\n    // 300 milliseconds added to make sure queue has finished\n    await new Promise(resolve => {\n      _.delay(() => {\n        Adapt.a11y.focusNext(selector);\n        Adapt.trigger(`${location}:scrolledTo`, selector);\n        resolve();\n      }, settings.duration + 300);\n    });\n  }\n\n  get(...args) {\n    Adapt.log.deprecated('Adapt.router.get, please use Adapt.router.model.get');\n    return this.model.get(...args);\n  }\n\n  set(...args) {\n    Adapt.log.deprecated('Adapt.router.set, please use Adapt.router.model.set');\n    return this.model.set(...args);\n  }\n\n}\n\nAdapt.router = new Router({\n  model: new RouterModel(null, { reset: true })\n});\n\nAdapt.navigateToElement = Adapt.router.navigateToElement.bind(Adapt.router);\n\nexport default Adapt.router;\n","import AdaptCollection from 'core/js/collections/adaptCollection';\n\nexport default class AdaptSubsetCollection extends AdaptCollection {\n\n  initialize(models, options) {\n    super.initialize(models, options);\n    this.parent = options.parent;\n    this.listenTo(this.parent, 'reset', this.loadSubset);\n  }\n\n  loadSubset() {\n    this.set(this.parent.filter(model => model instanceof this.model));\n    this._byAdaptID = this.groupBy('_id');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass ArticleModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('articleModel._parent, use articleModel.getParent() instead, parent models are defined by the JSON');\n    return 'contentObjects';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('articleModel._siblings, use articleModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'articles';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('articleModel._children, use articleModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'blocks';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'article';\n  }\n\n}\n\nAdapt.register('article', { model: ArticleModel });\n\nexport default ArticleModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass BlockModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('blockModel._parent, use blockModel.getParent() instead, parent models are defined by the JSON');\n    return 'articles';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('blockModel._siblings, use blockModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'blocks';\n  }\n\n  get _children() {\n    Adapt.log.deprecated('blockModel._children, use blockModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'components';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'block';\n  }\n\n}\n\nAdapt.register('block', { model: BlockModel });\n\nexport default BlockModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptModel from 'core/js/models/adaptModel';\n\nclass ComponentModel extends AdaptModel {\n\n  get _parent() {\n    Adapt.log.deprecated('componentModel._parent, use componentModel.getParent() instead, parent models are defined by the JSON');\n    return 'blocks';\n  }\n\n  get _siblings() {\n    Adapt.log.deprecated('componentModel._siblings, use componentModel.getSiblings() instead, sibling models are defined by the JSON');\n    return 'components';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'component';\n  }\n\n  defaults() {\n    return AdaptModel.resultExtend('defaults', {\n      _isA11yComponentDescriptionEnabled: true,\n      _userAnswer: null,\n      _attemptStates: null\n    });\n  }\n\n  trackable() {\n    return AdaptModel.resultExtend('trackable', [\n      '_userAnswer',\n      '_attemptStates'\n    ]);\n  }\n\n  trackableType() {\n    return AdaptModel.resultExtend('trackableType', [\n      Array,\n      Array\n    ]);\n  }\n\n  get hasManagedChildren() {\n    return false;\n  }\n\n  init() {\n    if (Adapt.get('_isStarted')) {\n      this.onAdaptInitialize();\n      return;\n    }\n    this.listenToOnce(Adapt, 'adapt:initialize', this.onAdaptInitialize);\n  }\n\n  onAdaptInitialize() {\n    this.restoreUserAnswers();\n  }\n\n  /**\n   * Restore the user's answer from the _userAnswer property.\n   * The _userAnswer value must be in the form of arrays containing\n   * numbers, booleans or arrays only.\n   */\n  restoreUserAnswers() {}\n\n  /**\n   * Store the user's answer in the _userAnswer property.\n   * The _userAnswer value must be in the form of arrays containing\n   * numbers, booleans or arrays only.\n   */\n  storeUserAnswer() {}\n\n  resetUserAnswer() {\n    this.set('_userAnswer', null);\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.resetUserAnswer();\n    return true;\n  }\n\n  /**\n   * Returns the current attempt state raw data or the raw data from the supplied attempt state object.\n   * @param {Object} [object] JSON object representing the component state. Defaults to current JSON.\n   * @returns {Array}\n   */\n  getAttemptState(object = this.toJSON()) {\n    const trackables = this.trackable();\n    const types = this.trackableType();\n    trackables.find((name, index) => {\n      // Exclude _attemptStates as it's trackable but isn't needed here\n      if (name !== '_attemptStates') return;\n      trackables.splice(index, 1);\n      types.splice(index, 1);\n      return true;\n    });\n    const values = trackables.map(n => object[n]);\n    const booleans = values.filter((v, i) => types[i] === Boolean).map(Boolean);\n    const numbers = values.filter((v, i) => types[i] === Number).map(v => Number(v) || 0);\n    const arrays = values.filter((v, i) => types[i] === Array);\n    return [\n      numbers,\n      booleans,\n      arrays\n    ];\n  }\n\n  /**\n   * Returns an attempt object representing the current state or a formatted version of the raw state object supplied.\n   * @param {Array} [state] JSON object representing the component state, defaults to current state returned from getAttemptState().\n   * @returns {Object}\n   */\n  getAttemptObject(state = this.getAttemptState()) {\n    const trackables = this.trackable();\n    const types = this.trackableType();\n    trackables.find((name, index) => {\n      // Exclude _attemptStates as it's trackable but isn't needed here\n      if (name !== '_attemptStates') return;\n      trackables.splice(index, 1);\n      types.splice(index, 1);\n      return true;\n    });\n    const numbers = (state[0] || []).slice(0);\n    const booleans = (state[1] || []).slice(0);\n    const arrays = (state[2] || []).slice(0);\n    const object = {};\n    trackables.forEach((n, i) => {\n      if (n === '_id') return;\n      switch (types[i]) {\n        case Number:\n          object[n] = numbers.shift();\n          break;\n        case Boolean:\n          object[n] = booleans.shift();\n          break;\n        case Array:\n          object[n] = arrays.shift();\n          break;\n      }\n    });\n    return object;\n  }\n\n  /**\n   * Sets the current attempt state from the supplied attempt state object.\n   * @param {Object} object JSON object representing the component state.\n   * @param {boolean} silent Stops change events from triggering\n   */\n  setAttemptObject(object, silent = true) {\n    this.set(object, { silent });\n  }\n\n  /**\n   * Adds the current attempt state object or the supplied state object to the attempts store.\n   * @param {Object} [object] JSON object representing the component state. Defaults to current JSON.\n   */\n  addAttemptObject(object = this.getAttemptObject()) {\n    const attemptStates = this.get('_attemptStates') || [];\n    const state = this.getAttemptState(object);\n    attemptStates.push(state);\n    this.set('_attemptStates', attemptStates);\n  }\n\n  /**\n   * Returns an array of the previous state objects. The most recent state is last in the list.\n   * @returns {Array}\n   */\n  getAttemptObjects() {\n    const states = this.get('_attemptStates') || [];\n    return states.map(state => this.getAttemptObject(state));\n  }\n\n}\n\n// This abstract model needs to registered to support deprecated view-only components\nAdapt.register('component', { model: ComponentModel });\n\nexport default ComponentModel;\n","import Adapt from 'core/js/adapt';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\n\nclass PageModel extends ContentObjectModel {\n\n  get _children() {\n    Adapt.log.deprecated('pageModel._children, use menuModel.hasManagedChildren instead, child models are defined by the JSON');\n    return 'articles';\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'page';\n  }\n\n}\n\nAdapt.register('page', { model: PageModel });\n\nexport default PageModel;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nexport default class ContentObjectView extends AdaptView {\n\n  attributes() {\n    return AdaptView.resultExtend('attributes', {\n      'role': 'main',\n      'aria-labelledby': `${this.model.get('_id')}-heading`\n    }, this);\n  }\n\n  className() {\n    return [\n      this.constructor.type,\n      'contentobject',\n      this.constructor.className,\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].filter(Boolean).join(' ');\n  }\n\n  preRender() {\n    $.inview.lock(this.constructor.type + 'View');\n    this.disableAnimation = Adapt.config.has('_disableAnimation') ? Adapt.config.get('_disableAnimation') : false;\n    this.$el.css('opacity', 0);\n    this.listenTo(this.model, 'change:_isReady', this.isReady);\n  }\n\n  render() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRender contentObjectView:preRender view:preRender`, this);\n\n    if (this.isReact) {\n      this.changed();\n    } else {\n      const data = this.model.toJSON();\n      data.view = this;\n      const template = Handlebars.templates[this.constructor.template];\n      this.$el.html(template(data));\n    }\n\n    Adapt.trigger(`${type}View:render contentObjectView:render view:render`, this);\n\n    _.defer(() => {\n      // don't call postRender after remove\n      if (this._isRemoved) return;\n\n      this.postRender();\n      Adapt.trigger(`${type}View:postRender contentObjectView:postRender view:postRender`, this);\n    });\n\n    return this;\n  }\n\n  async isReady() {\n    if (!this.model.get('_isReady') || this._isTriggeredReady) return;\n    this._isTriggeredReady = true;\n\n    const type = this.constructor.type;\n    const performIsReady = async () => {\n      Adapt.trigger(`${type}View:preReady contentObjectView:preReady view:preReady`, this);\n      await Adapt.wait.queue();\n      $('.js-loading').hide();\n      if (Adapt.get('_shouldContentObjectScrollTop') !== false) {\n        $(window).scrollTop(0);\n      }\n      Adapt.trigger(`${type}View:ready contentObjectView:ready view:ready`, this);\n      $.inview.unlock(`${type}View`);\n      const styleOptions = { opacity: 1 };\n      if (this.disableAnimation) {\n        this.$el.css(styleOptions);\n        $.inview();\n        _.defer(() => {\n          Adapt.trigger(`${type}View:postReady contentObjectView:postReady view:postReady`, this);\n        });\n      } else {\n        this.$el.velocity(styleOptions, {\n          duration: 'fast',\n          complete: () => {\n            $.inview();\n            Adapt.trigger(`${type}View:postReady contentObjectView:postReady view:postReady`, this);\n          }\n        });\n      }\n      $(window).scroll();\n    };\n\n    _.defer(performIsReady);\n  }\n\n  /**\n   * Force render up to specified id. Resolves when views are ready.\n   * @param {string} id\n   */\n  async renderTo(id) {\n    const isRenderToSelf = (id === this.model.get('_id'));\n    if (isRenderToSelf) return;\n    let models = this.model.getAllDescendantModels(true).filter(model => model.get('_isAvailable'));\n    const index = models.findIndex(model => model.get('_id') === id);\n    if (index === -1) {\n      throw new Error(`Cannot renderTo \"${id}\" as it isn't a descendant.`);\n    }\n    // Return early if the model is already rendered and ready\n    const model = models[index];\n    if (model.get('_isRendered') && model.get('_isReady')) {\n      return;\n    }\n    // Force all models up until the id to render\n    models = models.slice(0, index + 1);\n    const isLocked = models.some(model => model.get('_isLocked'));\n    if (isLocked) throw new Error(`Cannot renderTo ${id} as it is preceded by locked content`);\n    const ids = _.indexBy(models, (model) => model.get('_id'));\n    const forceUntilId = (event) => {\n      const addingId = event.model.get('_id');\n      if (!ids[addingId]) return;\n      event.force();\n      if (addingId !== id) return;\n      Adapt.off('view:addChild', forceUntilId);\n    };\n    Adapt.on('view:addChild', forceUntilId);\n    // Trigger addChildren cascade\n    await this.addChildren();\n    await this.whenReady();\n    // Error if model isn't rendered and ready\n    if (!model.get('_isRendered') || !model.get('_isReady')) {\n      throw new Error(`Cannot renderTo \"${id}\".`);\n    }\n  }\n\n  preRemove() {\n    const type = this.constructor.type;\n    Adapt.trigger(`${type}View:preRemove contentObjectView:preRemove view:preRemove`, this);\n  }\n\n  remove() {\n    const type = this.constructor.type;\n    this.preRemove();\n    Adapt.trigger(`${type}View:remove contentObjectView:remove view:remove`, this);\n    this._isRemoved = true;\n\n    Adapt.wait.for(end => {\n      if (this.isReact) {\n        ReactDOM.unmountComponentAtNode(this.el);\n      }\n      this.$el.off('onscreen.adaptView');\n      this.findDescendantViews().reverse().forEach(view => {\n        view.remove();\n      });\n      this.setChildViews(null);\n      super.remove();\n      _.defer(() => {\n        Adapt.trigger(`${type}View:postRemove contentObjectView:postRemove view:postRemove`, this);\n        this.trigger('postRemove');\n      });\n      end();\n    });\n\n    return this;\n  }\n\n  destroy() {\n    this.remove();\n    if (Adapt.parentView === this) {\n      Adapt.parentView = null;\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ContentObjectView from 'core/js/views/contentObjectView';\n\nclass PageView extends ContentObjectView {\n\n  remove() {\n    if (this.$pageLabel) {\n      this.$pageLabel.remove();\n    }\n    super.remove();\n  }\n\n}\n\nObject.assign(PageView, {\n  childContainer: '.article__container',\n  type: 'page',\n  template: 'page'\n});\n\nAdapt.register('page', { view: PageView });\n\nexport default PageView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass ArticleView extends AdaptView {\n\n  className() {\n    return [\n      'article',\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n}\n\nObject.assign(ArticleView, {\n  childContainer: '.block__container',\n  type: 'article',\n  template: 'article'\n});\n\nAdapt.register('article', { view: ArticleView });\n\nexport default ArticleView;\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass BlockView extends AdaptView {\n\n  className() {\n    return [\n      'block',\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n}\n\nObject.assign(BlockView, {\n  childContainer: '.component__container',\n  type: 'block',\n  template: 'block'\n});\n\nAdapt.register('block', { view: BlockView });\n\nexport default BlockView;\n","import Adapt from 'core/js/adapt';\nimport Data from 'core/js/data';\nimport AdaptSubsetCollection from 'core/js/collections/adaptSubsetCollection';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport ArticleModel from 'core/js/models/articleModel';\nimport BlockModel from 'core/js/models/blockModel';\nimport ComponentModel from 'core/js/models/componentModel';\n\nimport 'core/js/models/courseModel';\nimport 'core/js/models/menuModel';\nimport 'core/js/models/pageModel';\nimport 'core/js/views/pageView';\nimport 'core/js/views/articleView';\nimport 'core/js/views/blockView';\n\nclass MPABC extends Backbone.Controller {\n\n  initialize() {\n    // Example of how to cause the data loader to wait for another module to setup\n    this.listenTo(Data, {\n      loading: this.waitForDataLoaded,\n      loaded: this.onDataLoaded\n    });\n    this.setupSubsetCollections();\n  }\n\n  waitForDataLoaded() {\n    // Tell the data loader to wait\n    Adapt.wait.begin();\n  }\n\n  onDataLoaded() {\n    // Tell the data loader that we have finished\n    Adapt.wait.end();\n  }\n\n  setupSubsetCollections() {\n    Adapt.contentObjects = new AdaptSubsetCollection(null, { parent: Data, model: ContentObjectModel });\n    Adapt.articles = new AdaptSubsetCollection(null, { parent: Data, model: ArticleModel });\n    Adapt.blocks = new AdaptSubsetCollection(null, { parent: Data, model: BlockModel });\n    Adapt.components = new AdaptSubsetCollection(null, { parent: Data, model: ComponentModel });\n  }\n\n}\n\nexport default (Adapt.mpabc = new MPABC());\n","import Adapt from 'core/js/adapt';\nimport a11y from './a11y';\n\nconst helpers = {\n\n  lowercase(text) {\n    return text.toLowerCase();\n  },\n\n  capitalise(text) {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n  },\n\n  inc(index) {\n    return index + 1;\n  },\n\n  dec(index) {\n    return index - 1;\n  },\n\n  odd (index) {\n    return (index + 1) % 2 === 0 ? 'even' : 'odd';\n  },\n\n  equals(value, text, block) {\n    return helpers.compare.call(this, value, '==', text, block);\n  },\n\n  compare(value, operator, text, block) {\n    // Comparison operators\n    switch (operator) {\n      case '===':\n        if (value === text) return block.fn(this);\n        break;\n      case '=': case '==':\n        // eslint-disable-next-line eqeqeq\n        if (value == text) return block.fn(this);\n        break;\n      case '>=':\n        if (value >= text) return block.fn(this);\n        break;\n      case '<=':\n        if (value <= text) return block.fn(this);\n        break;\n      case '>':\n        if (value > text) return block.fn(this);\n        break;\n      case '<':\n        if (value < text) return block.fn(this);\n        break;\n    }\n    return block.inverse(this);\n  },\n\n  math(lvalue, operator, rvalue, options) {\n    // Mathematical operators\n    lvalue = parseFloat(lvalue);\n    rvalue = parseFloat(rvalue);\n    switch (operator) {\n      case '+': return lvalue + rvalue;\n      case '-': return lvalue - rvalue;\n      case '*': return lvalue * rvalue;\n      case '/': return lvalue / rvalue;\n      case '%': return lvalue % rvalue;\n    }\n  },\n\n  /**\n   * Equivalent to:\n   *  if (conditionA || conditionB)\n   * @example\n   * {{#any displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/any}}\n   */\n  any(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return specified.some(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Equivalent to:\n   *  if (conditionA && conditionB)\n   * @example\n   * {{#all displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/all}}\n   */\n  all(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return specified.every(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Equivalent to:\n   *  if (!conditionA && !conditionB)\n   * @example\n   * {{#none displayTitle body instruction}}\n   * <div class='component__header {{_component}}__header'></div>\n   * {{/none}}\n   */\n  none(...args) {\n    const specified = args.slice(0, -1);\n    const block = args.slice(-1)[0];\n    return !specified.some(Boolean) ? (block.fn ? block.fn(this) : true) : (block.inverse ? block.inverse(this) : false);\n  },\n\n  /**\n   * Allow JSON to be a template i.e. you can use handlebars {{expressions}} within your JSON\n   */\n  compile(template, context) {\n    if (!template) {\n      return '';\n    }\n    if (template instanceof Object) template = template.toString();\n    let data = this;\n    if (context) {\n      // choose between a passed argument context or the default handlebars helper context\n      data = (context.data?.root ?? context);\n    }\n    return Handlebars.compile(template)(data);\n  },\n\n  /**\n   * Allow JSON to be a template and accessible text\n   */\n  compile_a11y_text(template, context) {\n    a11y.log.deprecated('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return helpers.compile.call(this, template, context);\n  },\n\n  /**\n   * Allow JSON to be a template and normalized text\n   */\n  compile_a11y_normalize(template, context) {\n    if (!template) {\n      return '';\n    }\n    if (template instanceof Object) template = template.toString();\n    return Handlebars.helpers.a11y_normalize.call(this, helpers.compile.call(this, template, context));\n  },\n\n  /**\n   * Remove all html tags except styling tags\n   */\n  compile_a11y_remove_breaks(template, context) {\n    if (!template) {\n      return '';\n    }\n    return Handlebars.helpers.a11y_remove_breaks.call(this, helpers.compile.call(this, template, context));\n  },\n\n  /**\n   * makes the _globals object in course.json available to a template\n   */\n  import_globals(context) {\n    if (context.data.root._globals) {\n      return '';\n    }\n    context.data.root._globals = Adapt.course.get('_globals');\n    return '';\n  },\n\n  /**\n   * makes the Adapt module data available to a template\n   */\n  import_adapt(context) {\n\n    if (context.data.root.Adapt) {\n      return;\n    }\n    const adapt = context.data.root.Adapt = {};\n\n    let i, l, name;\n\n    const directImport = ['config', 'course'];\n    for (i = 0, l = directImport.length; i < l; i++) {\n      name = directImport[i];\n      // convert the model to a json object and add to the current context\n      adapt[name] = Adapt[name].toJSON();\n    }\n\n    const indexedImport = ['contentObjects', 'articles', 'blocks', 'components'];\n    for (i = 0, l = indexedImport.length; i < l; i++) {\n      name = indexedImport[i];\n      // convert the collection of models to an array of json objects\n      const importArray = Adapt[name].toJSON();\n      // convert the array of json models to an object indexed by id\n      const importIndex = {};\n      for (let i1 = 0, l1 = importArray.length; i1 < l1; i1++) {\n        const item = importArray[i1];\n        importIndex[item._id] = item;\n      }\n      // add the indexed object to the current context\n      adapt[name] = importIndex;\n    }\n\n    return '';\n\n  },\n\n  /**\n   * Allow components to fetch their component description.\n   *\n   * Creates an aria label using the `a11y_aria_label` helper containing\n   * the component description specified in the\n   * `_globals._component[componentName].ariaRegion`. This value is defined\n   * in the `properties.schema:globals.ariaRegion`.\n   *\n   * @param {string} [override]\n   * @returns {string}\n   */\n  component_description(override, context) {\n    if (!this._isA11yComponentDescriptionEnabled) {\n      return;\n    }\n    const isNotDefined = !this._globals._components?.['_' + this._component];\n    if (isNotDefined) {\n      return;\n    }\n    const hasOverride = (arguments.length > 1);\n    let description;\n    if (hasOverride) {\n      description = override;\n      description = helpers.compile(description, context);\n    } else {\n      description = this._globals._components['_' + this._component].ariaRegion;\n      description = helpers.compile(description, override);\n    }\n    if (!description) {\n      return;\n    }\n    return new Handlebars.SafeString('<div class=\"aria-label\">' + description + '</div>');\n  },\n\n  a11y_text(text) {\n    a11y.log.deprecated('a11y_text is no longer required. https://tink.uk/understanding-screen-reader-interaction-modes/');\n    return text;\n  },\n\n  /**\n   * Handlebars helper for `a11y.normalize(htmls)`.\n   *\n   * @param {string} htmls Any htmls.\n   * @returns {string}\n   */\n  a11y_normalize(htmls) {\n    return a11y.normalize.apply(a11y, arguments);\n  },\n\n  /**\n   * Handlebars helper for `a11y.removeBreaks(htmls)`.\n   *\n   * @param {string} htmls Any htmls.\n   * @returns {string}\n   */\n  a11y_remove_breaks(htmls) {\n    return a11y.removeBreaks.apply(a11y, arguments);\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text.\n   * It it absolutely positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} htmls\n   * @returns {string}\n   */\n  a11y_aria_label(htmls) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label\">' + values.join(' ') + '</div>');\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text.\n   * It it relatively positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} htmls Aria label texts.\n   * @returns {string}\n   */\n  a11y_aria_label_relative(htmls) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label relative\">' + values.join(' ') + '</div>');\n  },\n\n  /**\n   * Creates a div styled with tiny, transparent text and `role\"=img\"`.\n   * It is used for representing an image to a screen reader user in an\n   * order which cannot be represented in the DOM in a way that achieves the\n   * styling objectives.\n   * It it absolutely positioned.\n   * The text is not visibly readable but is read by screen readers.\n   *\n   * @param {string} texts Aria label texts.\n   * @returns {string}\n   */\n  a11y_aria_image(texts) {\n    let values = Array.prototype.slice.call(arguments, 0, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<div class=\"aria-label\" role=\"img\" aria-label=\"' + values.join(' ') + '\"></div>');\n  },\n\n  /**\n   * Returns an `a` tag which when receiving focus causes the focus to wrap\n   * to the top of the readable document.\n   *\n   * @returns {string}\n   */\n  a11y_wrap_focus() {\n    const cfg = Adapt.config.get('_accessibility');\n    if (cfg._isPopupWrapFocusEnabled === false) return '';\n    return new Handlebars.SafeString('<a class=\"a11y-focusguard a11y-ignore a11y-ignore-focus\" role=\"presentation\">&nbsp;</a>');\n  },\n\n  /**\n   * Creates the attributes for a subject heading text. `role=\"heading\"` and\n   * `aria-level=\"#\"`. It will use the `_ariaLevel` attribute from the current\n   * context if specified, a number if given as the `levelOrType` parameter,\n   * or a name from the configured aria levels hash.\n   *\n   * @param {number|string} levelOrType\n   * @returns {string}\n   */\n  a11y_attrs_heading(levelOrType) {\n    const level = a11y.ariaLevel(levelOrType, this._ariaLevel);\n    return new Handlebars.SafeString(' role=\"heading\" aria-level=\"' + level + '\" ');\n  },\n\n  a11y_attrs_tabbable() {\n    a11y.log.deprecated('a11y_attrs_tabbable should not be used. tabbable elements should be natively tabbable.');\n    return new Handlebars.SafeString(' role=\"region\" tabindex=\"0\" ');\n  },\n\n  /**\n   * Produce display text with alternative screen reader version.\n   * @param {string} visible Text that will be displayed on screen\n   * @param {string} alternatives Text that will be read by the screen reader (instead of what's displayed on screen)\n   * @example {{a11y_alt_text '$5bn' 'five billion dollars'}} or {{a11y_alt_text 'Here are some bits to read' 'There are' _items.length 'items to read'}}\n   */\n  a11y_alt_text(visible, alternatives) {\n    let values = Array.prototype.slice.call(arguments, 1, -1);\n    values = values.filter(Boolean);\n    return new Handlebars.SafeString('<span aria-hidden=\"true\">' + visible + '</span><span class=\"aria-label\">' + values.join(' ') + '</span>');\n  }\n\n};\n\n// Compatibility references\nObject.assign(helpers, {\n\n  if_value_equals() {\n    a11y.log.deprecated('if_value_equals, use equals instead.');\n    return helpers.equals.apply(this, arguments);\n  },\n\n  numbers() {\n    a11y.log.deprecated('numbers, use inc instead.');\n    return helpers.inc.apply(this, arguments);\n  },\n\n  lowerCase() {\n    a11y.log.deprecated('lowerCase, use lowercase instead.');\n    return helpers.lowercase.apply(this, arguments);\n  }\n\n});\n\nfor (const name in helpers) {\n  Handlebars.registerHelper(name, helpers[name]);\n}\n\nexport default helpers;\n","import Adapt from 'core/js/adapt';\n\n/**\n * This allows Adapt to:\n * - Be embedded in iframes on ios\n *   ios iframes assume the content height and no scrolling\n *   https://blog.codepen.io/2017/12/01/stupid-iframes-stupid-ios/\n *   https://stackoverflow.com/questions/23083462/how-to-get-an-iframe-to-be-responsive-in-ios-safari\n * - Prevent the 44px click region occluding trickle at the bottom of\n *   ios safari by keeping the controls always visible\n *   https://github.com/adaptlearning/adapt-contrib-trickle/issues/132\n *   https://www.eventbrite.com/engineering/mobile-safari-why/\n */\nclass Scrolling extends Backbone.Controller {\n\n  initialize() {\n    this.$html = $('html');\n    this.isLegacyScrolling = true;\n    Adapt.once('configModel:dataLoaded', this._loadConfig.bind(this));\n  }\n\n  _loadConfig() {\n    const config = Adapt.config.get('_scrollingContainer');\n    if (!config?._isEnabled) return;\n    const limitTo = config._limitToSelector;\n    const isIncluded = !limitTo || (this.$html.is(limitTo) || this.$html.hasClass(limitTo));\n    if (!isIncluded) return;\n    this.isLegacyScrolling = false;\n    this._windowScrollFix();\n    this._addStyling();\n    this._updateScrollbarWidth();\n    // Update the scrollbar width on zooming/resize as it changes in chrome and firefox\n    this.listenTo(Adapt, 'device:resize', this._updateScrollbarWidth);\n  }\n\n  _addStyling() {\n    this.$html.addClass('adapt-scrolling');\n  }\n\n  /**\n   * Set the --adapt-scrollbar-width css variable to be used to offset the navigation bar\n   * width against the body scrollbar\n   * The body scrollbar does not constrain the navigation width in the same way the viewport\n   * scrollbar does\n   * IE11 always defaults to 18px\n   * Chrome and firefox change based on zooming\n   * Safari has floating scrollbars, so 0px\n   */\n  _updateScrollbarWidth() {\n    const $tester = $('<div class=\"outer\" style=\"overflow:scroll; visibility: hidden; position:fixed; top: 0; left: 0;\"><div class=\"inner\"> </div></div>\"');\n    $('body').append($tester);\n    const scrollBarWidth = $tester.outerWidth() - $tester.find('.inner').outerWidth();\n    $tester.remove();\n    const documentStyle = document.documentElement.style;\n    documentStyle.setProperty('--adapt-scrollbar-width', `${scrollBarWidth}px`);\n  }\n\n  /**\n   * Correct scrolling to use the body element rather than the html element or viewport\n   */\n  _windowScrollFix() {\n    /** @type {HTMLDivElement} */\n    const body = document.body;\n    const html = Adapt.scrolling.$html[0];\n    const scrollY = {\n      get: () => body.scrollTop,\n      set: value => (body.scrollTop = value)\n    };\n    const scrollX = {\n      get: () => body.scrollLeft,\n      set: value => (body.scrollLeft = value)\n    };\n    const scrollHeight = {\n      get: () => body.scrollHeight,\n      set: value => (body.scrollHeight = value)\n    };\n    const scrollWidth = {\n      get: () => body.scrollWidth,\n      set: value => (body.scrollWidth = value)\n    };\n    // Fix window.scrollY, window.scrollX, window.pageYOffset and window.pageXOffset\n    Object.defineProperties(window, {\n      scrollY,\n      scrollX,\n      // Note: jQuery uses pageYOffset and pageXOffset instead of scrollY and scrollX\n      pageYOffset: scrollY,\n      pageXOffset: scrollX\n    });\n    // Fix html.scrollHeight and html.scrollWidth\n    Object.defineProperties(html, {\n      // Note: jQuery animate as used in scrollTo library, uses scrollHeight to determine animation maxiumum\n      scrollHeight,\n      scrollWidth\n    });\n    // Fix window.scrollTo\n    window.scrollTo = (...args) => {\n      const isObject = (args.length === 1 && typeof args[0] === 'object' && args[0] !== null);\n      const left = (isObject ? args[0].left : args[0]) ?? null;\n      const top = (isObject ? args[0].top : args[1]) ?? null;\n      left !== null && (body.scrollLeft = left);\n      top !== null && (body.scrollTop = top);\n    };\n    // Fix MouseEvent.prototype.pageX and MouseEvent.prototype.pageY\n    const MouseEvent = window.MouseEvent;\n    Object.defineProperties(MouseEvent.prototype, {\n      pageX: {\n        get: function() { return this.clientX + scrollX.get(); }\n      },\n      pageY: {\n        // Note: MediaElementJS uses event.pageY to work out the mouse position for the volume controls\n        get: function() { return this.clientY + scrollY.get(); }\n      }\n    });\n    // Trigger scroll events on window when scrolling\n    const $window = $(window);\n    $(document.body).on('scroll', () => $window.scroll());\n  }\n\n  /**\n   * Allows a selector to be passed in and Adapt will scroll to this element. Resolves\n   * asynchronously when the element has been navigated/scrolled to.\n   * Backend for Adapt.scrollTo\n   * @param {string} selector CSS selector of the Adapt element you want to navigate to e.g. `\".co-05\"`\n   * @param {Object} [settings={}] The settings for the `$.scrollTo` function (See https://github.com/flesler/jquery.scrollTo#settings).\n   * @param {Object} [settings.replace=false] Set to `true` if you want to update the URL without creating an entry in the browser's history.\n   */\n  async scrollTo(selector, settings = {}) {\n    Adapt.log.deprecated('Adapt.scrollTo and Adapt.scrolling.scrollTo, use Adapt.navigateToElement instead.');\n    return Adapt.router.navigateToElement(selector, settings);\n  }\n\n}\n\nAdapt.scrolling = new Scrolling();\n\nAdapt.scrollTo = Adapt.scrolling.scrollTo.bind(Adapt.scrolling);\n\nexport default Adapt.scrolling;\n","import Adapt from 'core/js/adapt';\n\nclass HeadingView extends Backbone.View {\n\n  initialize() {\n    this.listenTo(Adapt.parentView, 'postRemove', this.remove);\n    this.listenTo(this.model, 'change:_isComplete', this.updateAria);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.constructor.template];\n    const data = this.model.toJSON();\n    const customHeadingType = this.$el.attr('data-a11y-heading-type');\n    if (customHeadingType) data._type = customHeadingType;\n    this.$el.html(template(data));\n    this.checkCompletion();\n  }\n\n  updateAria() {\n    const template = Handlebars.templates[this.constructor.template];\n    const data = this.model.toJSON();\n    const $rendered = $(`<div>${template(data)}</div>`);\n    this.$('.aria-label').html($rendered.find('.aria-label').html());\n    this.checkCompletion();\n  }\n\n  checkCompletion() {\n    const isComplete = this.model.get('_isComplete');\n    this.$el\n      .toggleClass('is-complete', isComplete)\n      .toggleClass('is-incomplete', !isComplete);\n  }\n\n}\n\nHeadingView.template = 'heading';\n\nexport default HeadingView;\n","import Adapt from './adapt';\nimport HeadingView from './views/headingView';\n\nclass Headings extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'view:render', this.onViewRender);\n  }\n\n  onViewRender(view) {\n    const $headingSeats = view.$('.js-heading');\n    $headingSeats.each((index, el) => new HeadingView({ el, model: view.model }));\n  }\n\n}\n\nexport default new Headings();\n","import Adapt from 'core/js/adapt';\n\nclass NavigationView extends Backbone.View {\n\n  className() {\n    return 'nav';\n  }\n\n  events() {\n    return {\n      'click [data-event]': 'triggerEvent'\n    };\n  }\n\n  attributes() {\n    return {\n      'role': 'navigation'\n    };\n  }\n\n  initialize() {\n    this.listenToOnce(Adapt, {\n      'courseModel:dataLoading': this.remove\n    });\n    this.listenTo(Adapt, 'router:menu router:page', this.hideNavigationButton);\n    this.preRender();\n  }\n\n  preRender() {\n    Adapt.trigger('navigationView:preRender', this);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template({\n      _globals: Adapt.course.get('_globals'),\n      _accessibility: Adapt.config.get('_accessibility')\n    })).insertBefore('#app');\n\n    _.defer(() => {\n      Adapt.trigger('navigationView:postRender', this);\n    });\n\n    return this;\n  }\n\n  triggerEvent(event) {\n    event.preventDefault();\n    const currentEvent = $(event.currentTarget).attr('data-event');\n    Adapt.trigger('navigation:' + currentEvent);\n    switch (currentEvent) {\n      case 'backButton':\n        Adapt.router.navigateToPreviousRoute();\n        break;\n      case 'homeButton':\n        Adapt.router.navigateToHomeRoute();\n        break;\n      case 'parentButton':\n        Adapt.router.navigateToParent();\n        break;\n      case 'skipNavigation':\n        this.skipNavigation();\n        break;\n      case 'returnToStart':\n        Adapt.startController.returnToStartLocation();\n        break;\n    }\n  }\n\n  skipNavigation() {\n    Adapt.a11y.focusFirst('.' + Adapt.location._contentType);\n  }\n\n  hideNavigationButton(model) {\n    const shouldHide = (model.get('_type') === 'course');\n    this.$('.nav__back-btn, .nav__home-btn').toggleClass('u-display-none', shouldHide);\n  }\n\n  showNavigationButton() {\n    this.$('.nav__back-btn, .nav__home-btn').removeClass('u-display-none');\n  }\n\n}\n\nNavigationView.template = 'nav';\n\nexport default NavigationView;\n","import Adapt from 'core/js/adapt';\nimport NavigationView from 'core/js/views/navigationView';\n\nclass NavigationController extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'adapt:preInitialize', this.addNavigationBar);\n  }\n\n  addNavigationBar() {\n    const adaptConfig = Adapt.course.get('_navigation');\n\n    if (adaptConfig?._isDefaultNavigationDisabled) {\n      Adapt.trigger('navigation:initialize');\n      return;\n    }\n\n    Adapt.navigation = new NavigationView();// This should be triggered after 'app:dataReady' as plugins might want to manipulate the navigation\n  }\n\n}\n\nexport default new NavigationController();\n","import Adapt from 'core/js/adapt';\nimport AdaptView from 'core/js/views/adaptView';\n\nclass ComponentView extends AdaptView {\n\n  attributes() {\n    if (!this.model.get('_isA11yRegionEnabled')) {\n      return AdaptView.resultExtend('attributes', {}, this);\n    }\n    return AdaptView.resultExtend('attributes', {\n      'aria-labelledby': this.model.get('_id') + '-heading',\n      'role': 'region'\n    }, this);\n  }\n\n  className() {\n    return [\n      'component',\n      this.model.get('_component').toLowerCase(),\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      'is-' + this.model.get('_layout'),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n  renderState() {\n    Adapt.log.removed('renderState is removed and moved to item title');\n  }\n\n  /**\n   * Allows components that want to use inview for completion to set that up\n   * @param {string} [inviewElementSelector] Allows to you to specify (via a selector) which DOM element to use for inview.\n   * Defaults to `'.component__inner'` if not supplied.\n   * @param {function} [callback] Allows you to specify what function is called when the component has been viewed, should\n   * you want to perform additional checks before setting the component to completed - see adapt-contrib-assessmentResults\n   * for an example. Defaults to `view.setCompletionStatus` if not specified.\n   */\n  setupInviewCompletion(inviewElementSelector = '.component__inner', callback = this.setCompletionStatus) {\n    this.$inviewElement = this.$(inviewElementSelector);\n    this.inviewCallback = callback;\n\n    this.$inviewElement.on('inview.componentView', this.onInview.bind(this));\n  }\n\n  removeInviewListener() {\n    if (!this.$inviewElement) return;\n    this.$inviewElement.off('inview.componentView');\n    this.$inviewElement = null;\n  }\n\n  onInview(event, visible, visiblePartX, visiblePartY) {\n    if (!visible) return;\n\n    switch (visiblePartY) {\n      case 'top':\n        this.hasSeenTop = true;\n        break;\n      case 'bottom':\n        this.hasSeenBottom = true;\n        break;\n      case 'both':\n        this.hasSeenTop = this.hasSeenBottom = true;\n    }\n\n    if (!this.hasSeenTop || !this.hasSeenBottom) return;\n\n    this.inviewCallback();\n\n    if (this.model.get('_isComplete')) {\n      this.removeInviewListener();\n    }\n  }\n\n  postRender() {}\n\n  remove() {\n    this.removeInviewListener();\n    super.remove();\n  }\n\n}\n\nComponentView.type = 'component';\n\nexport default ComponentView;\n","const BUTTON_STATE = ENUM([\n  'SUBMIT',\n  'CORRECT',\n  'INCORRECT',\n  'SHOW_CORRECT_ANSWER',\n  'HIDE_CORRECT_ANSWER',\n  'SHOW_FEEDBACK',\n  'RESET'\n]);\n\nexport default BUTTON_STATE;\n","import Adapt from 'core/js/adapt';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\n\n// convert BUTTON_STATE to property name\nconst textPropertyName = {\n  SUBMIT: 'submit',\n  CORRECT: 'correct',\n  INCORRECT: 'incorrect',\n  SHOW_CORRECT_ANSWER: 'showCorrectAnswer',\n  HIDE_CORRECT_ANSWER: 'hideCorrectAnswer',\n  SHOW_FEEDBACK: 'showFeedback',\n  RESET: 'reset'\n};\n\nexport default class ButtonsView extends Backbone.View {\n\n  initialize(options) {\n    this.parent = options.parent;\n    this.listenTo(Adapt.parentView, 'postRemove', this.remove);\n    this.listenTo(this.model, {\n      'change:_buttonState': this.onButtonStateChanged,\n      'change:feedbackMessage': this.onFeedbackMessageChanged,\n      'change:_attemptsLeft': this.onAttemptsChanged,\n      'change:_canSubmit': this.onCanSubmitChange\n    });\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-btn-action': 'onActionClicked',\n      'click .js-btn-feedback': 'onFeedbackClicked'\n    };\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates.buttons;\n    _.defer(() => {\n      this.postRender();\n      Adapt.trigger('buttonsView:postRender', this);\n    });\n    this.$el.html(template(data));\n  }\n\n  postRender() {\n    this.refresh();\n  }\n\n  checkResetSubmittedState() {\n    const isSubmitted = this.model.get('_isSubmitted');\n    if (isSubmitted) {\n      this.$el.addClass('is-submitted');\n      return;\n    }\n\n    this.$('.js-btn-marking').removeClass('is-incorrect is-correct').addClass('u-display-none');\n    this.$el.removeClass('is-submitted');\n    this.model.set('feedbackMessage', undefined);\n    Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), false);\n  }\n\n  onActionClicked() {\n    const buttonState = BUTTON_STATE(this.model.get('_buttonState'));\n    this.trigger('buttons:stateUpdate', buttonState);\n    this.checkResetSubmittedState();\n\n    if (buttonState === BUTTON_STATE.SHOW_CORRECT_ANSWER) {\n      const correctAnswer = this.model.getCorrectAnswerAsText?.();\n      this.updateAnswerLiveRegion(correctAnswer);\n    }\n\n    if (buttonState === BUTTON_STATE.HIDE_CORRECT_ANSWER) {\n      const userAnswer = this.model.getUserAnswerAsText?.();\n      this.updateAnswerLiveRegion(userAnswer);\n    }\n  }\n\n  onFeedbackClicked() {\n    this.trigger('buttons:stateUpdate', BUTTON_STATE.SHOW_FEEDBACK);\n  }\n\n  onFeedbackMessageChanged(model, changedAttribute) {\n    if (changedAttribute && this.model.get('_canShowFeedback')) {\n      // enable feedback button\n      Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), true);\n      return;\n    }\n    // disable feedback button\n    Adapt.a11y.toggleEnabled(this.$('.js-btn-feedback'), false);\n  }\n\n  onCanSubmitChange() {\n    this.onButtonStateChanged(this.model, this.model.get('_buttonState'));\n  }\n\n  onButtonStateChanged(model, changedAttribute) {\n\n    this.updateAttemptsCount();\n\n    // Use 'correct' instead of 'complete' to signify button state\n    const $buttonsAction = this.$('.js-btn-action');\n    const buttonState = BUTTON_STATE(changedAttribute);\n    if (changedAttribute === BUTTON_STATE.CORRECT || changedAttribute === BUTTON_STATE.INCORRECT) {\n      // Both 'correct' and 'incorrect' states have no model answer, so disable the submit button\n      Adapt.a11y.toggleEnabled($buttonsAction, false);\n      return;\n    }\n\n    const propertyName = textPropertyName[buttonState.asString];\n    const ariaLabel = this.model.get('_buttons')['_' + propertyName].ariaLabel;\n    const buttonText = this.model.get('_buttons')['_' + propertyName].buttonText;\n\n    // Enable the button, make accessible and update aria labels and text\n    Adapt.a11y.toggleEnabled($buttonsAction, this.model.get('_canSubmit'));\n    $buttonsAction.html(buttonText).attr('aria-label', ariaLabel);\n  }\n\n  checkFeedbackState() {\n    const canShowFeedback = this.model.get('_canShowFeedback');\n\n    this.$('.js-btn-action').toggleClass('is-full-width', !canShowFeedback);\n    this.$('.js-btn-feedback').toggleClass('u-display-none', !canShowFeedback);\n    this.$('.js-btn-marking').toggleClass('is-full-width u-display-none', !canShowFeedback);\n  }\n\n  updateAttemptsCount() {\n    const isInteractionComplete = this.model.get('_isInteractionComplete');\n    const attemptsLeft = (this.model.get('_attemptsLeft')) ? this.model.get('_attemptsLeft') : this.model.get('_attempts');\n    const shouldDisplayAttempts = this.model.get('_shouldDisplayAttempts');\n    let attemptsString;\n\n    this.checkResetSubmittedState();\n\n    if (!isInteractionComplete && attemptsLeft >= 0) {\n      attemptsString = attemptsLeft + ' ';\n      attemptsString += attemptsLeft === 1 ?\n        this.model.get('_buttons').remainingAttemptText :\n        this.model.get('_buttons').remainingAttemptsText;\n    } else {\n      this.$('.js-display-attempts').addClass('u-visibility-hidden');\n      this.showMarking();\n    }\n\n    if (shouldDisplayAttempts) {\n      this.$('.js-insert-attempts-string').html(attemptsString);\n    }\n\n  }\n\n  /**\n   * Updates the ARIA 'live region' with the correct/user answer when that button\n   * is selected by the learner.\n   * @param {string} answer Textual representation of the correct/user answer\n   */\n  updateAnswerLiveRegion(answer) {\n    if (!answer) return;\n    this.$('.js-answer-live-region').html(answer);\n  }\n\n  showMarking() {\n    if (!this.model.shouldShowMarking) return;\n\n    const isCorrect = this.model.get('_isCorrect');\n    const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n    this.$('.js-btn-marking')\n      .removeClass('u-display-none')\n      .addClass(isCorrect ? 'is-correct' : 'is-incorrect')\n      .attr('aria-label', isCorrect ? ariaLabels.answeredCorrectly : ariaLabels.answeredIncorrectly);\n  }\n\n  refresh() {\n    this.updateAttemptsCount();\n    this.checkResetSubmittedState();\n    this.checkFeedbackState();\n    this.onButtonStateChanged(null, this.model.get('_buttonState'));\n    this.onFeedbackMessageChanged(null, this.model.get('feedbackMessage'));\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ComponentModel from 'core/js/models/componentModel';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\n\nclass QuestionModel extends ComponentModel {\n\n  /// ///\n  // Setup question types\n  /// /\n\n  // Used to set model defaults\n  defaults() {\n    // Extend from the ComponentModel defaults\n    return ComponentModel.resultExtend('defaults', {\n      _isQuestionType: true,\n      _shouldDisplayAttempts: false,\n      _shouldShowMarking: false,\n      _canShowModelAnswer: true,\n      _canShowFeedback: true,\n      _canShowMarking: true,\n      _canSubmit: true,\n      _isSubmitted: false,\n      _isCorrectAnswerShown: false,\n      _questionWeight: Adapt.config.get('_questionWeight'),\n      _hasItemScoring: false,\n      _items: []\n    });\n  }\n\n  // Extend from the ComponentModel trackable\n  trackable() {\n    return ComponentModel.resultExtend('trackable', [\n      '_isSubmitted',\n      '_score',\n      '_isCorrect',\n      '_attemptsLeft'\n    ]);\n  }\n\n  trackableType() {\n    return ComponentModel.resultExtend('trackableType', [\n      Boolean,\n      Number,\n      Boolean,\n      Number\n    ]);\n  }\n\n  /**\n   * Returns a string of the model type group.\n   * @returns {string}\n   */\n  getTypeGroup() {\n    return 'question';\n  }\n\n  init() {\n    this.setupDefaultSettings();\n    this.setLocking('_canSubmit', true);\n    this.updateRawScore();\n    super.init();\n  }\n\n  // Calls default methods to setup on questions\n  setupDefaultSettings() {\n    // Not sure this is needed anymore, keeping to maintain API\n    this.setupWeightSettings();\n    this.setupButtonSettings();\n  }\n\n  // Used to setup either global or local button text\n  setupButtonSettings() {\n    const globalButtons = Adapt.course.get('_buttons');\n\n    // Check if  '_buttons' attribute exists and if not use the globally defined buttons.\n    if (!this.has('_buttons')) {\n      this.set('_buttons', globalButtons);\n    } else {\n      // Check all the components buttons.\n      // If they are empty use the global defaults.\n      const componentButtons = this.get('_buttons');\n\n      for (const key in componentButtons) {\n        if (typeof componentButtons[key] === 'object') {\n          // Button text.\n          if (!componentButtons[key].buttonText && globalButtons[key].buttonText) {\n            componentButtons[key].buttonText = globalButtons[key].buttonText;\n          }\n\n          // ARIA labels.\n          if (!componentButtons[key].ariaLabel && globalButtons[key].ariaLabel) {\n            componentButtons[key].ariaLabel = globalButtons[key].ariaLabel;\n          }\n        }\n\n        if (!componentButtons[key] && globalButtons[key]) {\n          componentButtons[key] = globalButtons[key];\n        }\n      }\n    }\n  }\n\n  // Used to setup either global or local question weight/score\n  setupWeightSettings() {\n    // Not needed as handled by model defaults, keeping to maintain API\n  }\n\n  /// ///\n  // Submit process\n  /// /\n\n  // Use to check if the user is allowed to submit the question\n  // Maybe the user has to select an item?\n  canSubmit() {}\n\n  checkCanSubmit() {\n    this.set('_canSubmit', this.canSubmit(), { pluginName: 'adapt' });\n  }\n\n  // Used to update the amount of attempts the user has left\n  updateAttempts() {\n    const attemptsLeft = this.get('_attemptsLeft') || this.get('_attempts');\n\n    this.set('_attemptsLeft', attemptsLeft - 1);\n  }\n\n  // Used to set _isEnabled and _isSubmitted on the model\n  setQuestionAsSubmitted() {\n    this.set({\n      _isEnabled: false,\n      _isSubmitted: true\n    });\n  }\n\n  // Sets _isCorrect:true/false based upon isCorrect method below\n  markQuestion() {\n\n    if (this.isCorrect()) {\n      this.set('_isCorrect', true);\n    } else {\n      this.set('_isCorrect', false);\n    }\n\n    this.updateRawScore();\n\n  }\n\n  // Should return a boolean based upon whether to question is correct or not\n  isCorrect() {}\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {}\n\n  updateRawScore() {\n    this.set({\n      _rawScore: this.score,\n      _maxScore: this.maxScore,\n      _minScore: this.minScore\n    });\n  }\n\n  get score() {\n    return this.get('_isCorrect') ? this.maxScore : 0;\n  }\n\n  get maxScore() {\n    return this.get('_questionWeight');\n  }\n\n  get minScore() {\n    return 0;\n  }\n\n  // Checks if the question should be set to complete\n  // Calls setCompletionStatus and adds complete classes\n  checkQuestionCompletion() {\n\n    const isComplete = (this.get('_isCorrect') || this.get('_attemptsLeft') === 0);\n\n    if (isComplete) {\n      this.setCompletionStatus();\n    }\n\n    return isComplete;\n\n  }\n\n  // Updates buttons based upon question state by setting\n  // _buttonState on the model which buttonsView listens to\n  updateButtons() {\n\n    const isInteractionComplete = this.get('_isInteractionComplete');\n    const isCorrect = this.get('_isCorrect');\n    const isEnabled = this.get('_isEnabled');\n    const buttonState = this.get('_buttonState');\n    const canShowModelAnswer = this.get('_canShowModelAnswer');\n\n    if (isInteractionComplete) {\n\n      if (isCorrect || !canShowModelAnswer) {\n        // Use correct instead of complete to signify button state\n        this.set('_buttonState', BUTTON_STATE.CORRECT);\n\n      } else {\n\n        switch (buttonState) {\n          case BUTTON_STATE.SUBMIT:\n          case BUTTON_STATE.HIDE_CORRECT_ANSWER:\n            this.set('_buttonState', BUTTON_STATE.SHOW_CORRECT_ANSWER);\n            break;\n          default:\n            this.set('_buttonState', BUTTON_STATE.HIDE_CORRECT_ANSWER);\n        }\n\n      }\n\n    } else {\n\n      if (isEnabled) {\n        this.set('_buttonState', BUTTON_STATE.SUBMIT);\n      } else {\n        this.set('_buttonState', BUTTON_STATE.RESET);\n      }\n    }\n\n  }\n\n  // Used to setup the correct, incorrect and partly correct feedback\n  setupFeedback() {\n    if (!this.has('_feedback')) return;\n\n    if (this.get('_isCorrect')) {\n      this.setupCorrectFeedback();\n    } else if (this.isPartlyCorrect()) {\n      this.setupPartlyCorrectFeedback();\n    } else {\n      this.setupIncorrectFeedback();\n    }\n  }\n\n  // Used by the question to determine if the question is incorrect or partly correct\n  // Should return a boolean\n  isPartlyCorrect() {}\n\n  setupCorrectFeedback() {\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(),\n      feedbackMessage: Handlebars.compile(this.get('_feedback').correct)(this.toJSON())\n    });\n  }\n\n  setupPartlyCorrectFeedback() {\n    const feedback = this.get('_feedback')._partlyCorrect;\n\n    if (feedback?.final) {\n      this.setAttemptSpecificFeedback(feedback);\n    } else {\n      this.setupIncorrectFeedback();\n    }\n  }\n\n  setupIncorrectFeedback() {\n    this.setAttemptSpecificFeedback(this.get('_feedback')._incorrect);\n  }\n\n  setAttemptSpecificFeedback(feedback) {\n    const body = (this.get('_attemptsLeft') && feedback.notFinal) || feedback.final;\n\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(),\n      feedbackMessage: Handlebars.compile(body)(this.toJSON())\n    });\n  }\n\n  getFeedbackTitle() {\n    const title = this.get('_feedback').title || this.get('displayTitle') || this.get('title') || '';\n    return Handlebars.compile(title)(this.toJSON());\n  }\n\n  /**\n   * Used to determine whether the learner is allowed to interact with the question component or not.\n   * @return {Boolean}\n   */\n  isInteractive() {\n    return !this.get('_isComplete') || (this.get('_isEnabled') && !this.get('_isSubmitted'));\n  }\n\n  checkIfResetOnRevisit() {\n    super.checkIfResetOnRevisit();\n    // Setup button view state\n    this.set('_buttonState', this.get('_isInteractionComplete')\n      ? BUTTON_STATE.HIDE_CORRECT_ANSWER\n      : BUTTON_STATE.SUBMIT\n    );\n  }\n\n  /**\n   * Reset the model to let the user have another go (not the same as attempts)\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    const attempts = this.get('_attempts');\n    this.set({\n      _attemptsLeft: attempts,\n      _isCorrect: undefined,\n      _isSubmitted: false,\n      _buttonState: BUTTON_STATE.SUBMIT,\n      _shouldShowMarking: this.shouldShowMarking\n    });\n    return true;\n  }\n\n  // Reset question for subsequent attempts\n  setQuestionAsReset() {\n    this.set({\n      _isEnabled: true,\n      _isSubmitted: false\n    });\n    this.resetQuestion();\n  }\n\n  /**\n   * Used by the question view to reset the options of the component.\n   * This is triggered when the reset button is clicked so it shouldn't be a full reset.\n   */\n  resetQuestion() {}\n\n  refresh() {\n    this.trigger('question:refresh');\n  }\n\n  getButtonState() {\n    if (this.get('_isCorrect')) {\n      return BUTTON_STATE.CORRECT;\n    }\n\n    if (this.get('_attemptsLeft') === 0) {\n      return this.get('_canShowModelAnswer') ? BUTTON_STATE.SHOW_CORRECT_ANSWER : BUTTON_STATE.INCORRECT;\n    }\n\n    return this.get('_isSubmitted') ? BUTTON_STATE.RESET : BUTTON_STATE.SUBMIT;\n  }\n\n  // Returns an object specific to the question type, e.g. if the question\n  // is a 'choice' this should contain an object with:\n  // - correctResponsesPattern[]\n  // - choices[]\n  getInteractionObject() {\n    return {};\n  }\n\n  // Returns a string detailing how the user answered the question.\n  getResponse() {}\n\n  // Returns a string describing the type of interaction: \"choice\" and \"matching\" supported (see scorm wrapper)\n  getResponseType() {}\n\n  /**\n   * Called at the end of the onSubmitClicked view function.\n   */\n  onSubmitted() {\n    // Stores the current attempt state\n    this.addAttemptObject();\n    this.set('_shouldShowMarking', this.shouldShowMarking);\n  }\n\n  /** @type {boolean} */\n  get shouldShowMarking() {\n    return (!this.isInteractive() && this.get('_canShowMarking') && this.get('_isInteractionComplete'));\n  }\n\n}\n\n// This abstract model needs to registered to support deprecated view-only questions\nAdapt.register('question', { model: QuestionModel });\n\nexport default QuestionModel;\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport ButtonsView from 'core/js/views/buttonsView';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\nimport a11y from '../a11y';\nimport log from '../logging';\nimport 'core/js/models/questionModel';\n\nclass QuestionView extends ComponentView {\n\n  className() {\n    return [\n      'component',\n      'is-question',\n      this.model.get('_component').toLowerCase(),\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      'is-' + this.model.get('_layout'),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : ''),\n      (this.model.get('_canShowModelAnswer') ? 'can-show-model-answer' : ''),\n      (this.model.get('_canShowFeedback') ? 'can-show-feedback' : ''),\n      (this.model.get('_canShowMarking') ? 'can-show-marking' : '')\n    ].join(' ');\n  }\n\n  initialize(...args) {\n    // Allow isInteractive to be used in jsx templates\n    this.isInteractive = this.isInteractive.bind(this);\n    super.initialize(...args);\n  }\n\n  /**\n   * Used to determine whether the learner is allowed to interact with the question component or not.\n   * @return {Boolean}\n   * @deprecated since v6.0.5 please use this.model.isInteractive, this.model.get('_shouldShowMarking') or this.model.shouldShowMarking\n  */\n  isInteractive() {\n    log.deprecated('questionView.isInteractive please use this.model.isInteractive, this.model.get(\\'_shouldShowMarking\\') or this.model.shouldShowMarking');\n    return this.model.isInteractive();\n  }\n\n  preRender() {\n    // Setup listener for _isEnabled\n    this.listenTo(this.model, 'change:_isEnabled', this.onEnabledChanged);\n\n    this.listenTo(this.model, 'question:refresh', this.refresh);\n\n    // Checks to see if the question should be reset on revisit\n    if (this.checkIfResetOnRevisit !== QuestionView.prototype.checkIfResetOnRevisit) {\n      log.deprecated('QuestionView.checkIfResetOnRevisit, please use QuestionModel.checkIfResetOnRevisit');\n    }\n    this.checkIfResetOnRevisit();\n    _.defer(() => this.ensureLegacyLifecycleState());\n    // This method helps setup default settings on the model\n    this._runModelCompatibleFunction('setupDefaultSettings');\n    // Blank method for setting up questions before rendering\n    this.setupQuestion();\n  }\n\n  // Used in the question view to disabled the question when _isEnabled has been set to false\n  onEnabledChanged(model, changedAttribute) {\n\n    // If isEnabled == false add disabled class\n    // else remove disabled class\n    if (!changedAttribute) {\n      this.$('.component__widget').addClass('is-disabled');\n      this.disableQuestion();\n    } else {\n      this.$('.component__widget').removeClass('is-disabled');\n      this.enableQuestion();\n    }\n\n  }\n\n  // Used by the question to disable the question during submit and complete stages\n  disableQuestion() {}\n\n  // Used by the question to enable the question during interactions\n  enableQuestion() {}\n\n  /**\n   * Used to check if the question should reset on revisit\n   * @deprecated since core v6.0.1 Please use QuestionModel.checkIfResetOnRevisit\n   */\n  checkIfResetOnRevisit() {\n    const canReset = (this.model.get('_canReset') !== false);\n    const isResetOnRevisit = this.model.get('_isResetOnRevisit');\n    // If reset is enabled set defaults\n    // Call blank method for question to handle\n    if (!canReset || !isResetOnRevisit) return;\n    // Skip if calling the empty function definition\n    if (this.resetQuestionOnRevisit === QuestionView.prototype.resetQuestionOnRevisit) return;\n    // Warn if using a legacy resetQuestionOnRevisit\n    log.deprecated('QuestionView.resetQuestionOnRevisit, please QuestionModel.reset');\n    // Defer is added to allow the component to render\n    _.defer(() => {\n      this.resetQuestionOnRevisit(isResetOnRevisit);\n    });\n  }\n\n  /**\n   * Ensure the view is in the correct state on first render\n   * @private\n   */\n  ensureLegacyLifecycleState() {\n    const isInteractionComplete = this.model.get('_isInteractionComplete');\n    if (isInteractionComplete) {\n      this.onHideCorrectAnswerClicked();\n      return;\n    }\n    this.onResetClicked();\n  }\n\n  /**\n   * Used by the question to reset the question when revisiting the component\n   * @param {string} type\n   * @deprecated since core v6.0.1 Please use QuestionModel.reset\n   */\n  resetQuestionOnRevisit(type) {}\n\n  // Left blank for question setup - should be used instead of preRender\n  setupQuestion() {}\n\n  // Calls default methods to setup after the question is rendered\n  postRender() {\n    this.addButtonsView();\n    this.onQuestionRendered();\n  }\n\n  // Used to setup buttonsView and sets up the internal events for the question\n  addButtonsView() {\n    this.buttonsView = new ButtonsView({ model: this.model, el: this.$('.btn__container') });\n\n    this.listenTo(this.buttonsView, 'buttons:stateUpdate', this.onButtonStateUpdate);\n\n  }\n\n  onButtonStateUpdate(buttonState) {\n\n    switch (buttonState) {\n      case BUTTON_STATE.SUBMIT:\n        this.onSubmitClicked();\n        break;\n      case BUTTON_STATE.RESET:\n        this.onResetClicked();\n        break;\n      case BUTTON_STATE.SHOW_CORRECT_ANSWER:\n        this.onShowCorrectAnswerClicked();\n        break;\n      case BUTTON_STATE.HIDE_CORRECT_ANSWER:\n        this.onHideCorrectAnswerClicked();\n        break;\n      case BUTTON_STATE.SHOW_FEEDBACK:\n        this.showFeedback();\n        break;\n    }\n\n  }\n\n  // Blank method used just like postRender is for presentational components\n  onQuestionRendered() {}\n\n  // Triggered when the submit button is clicked\n  onSubmitClicked() {\n    // canSubmit is setup in questions and should return a boolean\n    // If the question stops the user form submitting - show instruction error\n    // and give a blank method, onCannotSubmit to the question\n    const canSubmit = this._runModelCompatibleFunction('canSubmit');\n\n    if (!canSubmit) {\n      this.showInstructionError();\n      this.onCannotSubmit();\n      return;\n    }\n\n    // Used to update the amount of attempts the question has\n    this._runModelCompatibleFunction('updateAttempts');\n\n    // Used to set attributes on the model after being submitted\n    // Also adds a class of submitted\n    this._runModelCompatibleFunction('setQuestionAsSubmitted');\n\n    // Used to remove instruction error that is set when\n    // the user has interacted in the wrong way\n    this.removeInstructionError();\n\n    // Used to store the users answer for later\n    // This is a blank method given to the question\n    this._runModelCompatibleFunction('storeUserAnswer');\n\n    // Used to set question as correct:true/false\n    // Calls isCorrect which is blank for the question\n    // to fill out and return a boolean\n    this._runModelCompatibleFunction('markQuestion', 'isCorrect');\n\n    // Used by the question to set the score on the model\n    this._runModelCompatibleFunction('setScore');\n\n    // Used to check if the question is complete\n    // Triggers setCompletionStatus and adds class to widget\n    this._runModelCompatibleFunction('checkQuestionCompletion');\n\n    // Used by the question to display markings on the component\n    if (this.model.shouldShowMarking) {\n      this.showMarking();\n    }\n\n    this.recordInteraction();\n\n    // Used to setup the feedback by checking against\n    // question isCorrect or isPartlyCorrect\n    this._runModelCompatibleFunction('setupFeedback');\n\n    // Used to trigger an event so plugins can display feedback\n    // Do this before updating the buttons so that the focus can be\n    // shifted immediately\n    this.showFeedback();\n\n    // Force height re-calculations before the submit button\n    // becomes disabled.\n    $(window).resize();\n\n    // Used to update buttonsView based upon question state\n    // Update buttons happens before showFeedback to preserve tabindexes and after setupFeedback to allow buttons to use feedback attribute\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.model.onSubmitted();\n    this.onSubmitted();\n  }\n\n  showInstructionError() {\n    Adapt.trigger('questionView:showInstructionError', this);\n  }\n\n  // Blank method for question to fill out when the question cannot be submitted\n  onCannotSubmit() {}\n\n  // Blank method for question to fill out when the question was successfully submitted\n  onSubmitted() {}\n\n  // Used to set _isEnabled and _isSubmitted on the model\n  // Also adds a 'submitted' class to the widget\n  setQuestionAsSubmitted() {\n    this.model.setQuestionAsSubmitted();\n    this.$('.component__widget').addClass('is-submitted');\n  }\n\n  // Removes validation error class when the user canSubmit\n  removeInstructionError() {\n    this.$('.component__instruction-inner').removeClass('validation-error');\n  }\n\n  // This is important and should give the user feedback on how they answered the question\n  // Normally done through ticks and crosses by adding classes\n  showMarking() {}\n\n  // Checks if the question should be set to complete\n  // Calls setCompletionStatus and adds complete classes\n  checkQuestionCompletion() {\n\n    const isComplete = this.model.checkQuestionCompletion();\n\n    if (isComplete) {\n      this.$('.component__widget').addClass('is-complete show-user-answer');\n    }\n\n  }\n\n  recordInteraction() {\n    if (this.model.get('_recordInteraction') === true || !this.model.has('_recordInteraction')) {\n      Adapt.trigger('questionView:recordInteraction', this);\n    }\n  }\n\n  // Used to show feedback based upon whether _canShowFeedback is true\n  showFeedback() {\n\n    if (this.model.get('_canShowFeedback')) {\n      Adapt.trigger('questionView:showFeedback', this);\n    } else {\n      Adapt.trigger('questionView:disabledFeedback', this);\n    }\n\n  }\n\n  onResetClicked() {\n    this.setQuestionAsReset();\n\n    this._runModelCompatibleFunction('resetUserAnswer');\n\n    this.model.checkCanSubmit();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    // onResetClicked is called as part of the checkIfResetOnRevisit\n    // function and as a button click. if the view is already rendered,\n    // then the button was clicked, focus on the first tabbable element\n    if (!this.model.get('_isReady')) return;\n    // Attempt to get the current page location\n    const currentModel = Adapt.findById(Adapt.location._currentId);\n    // Make sure the page is ready\n    if (!currentModel?.get('_isReady')) return;\n    // Focus on the first readable item in this element\n    a11y.focusNext(this.$el, { preventScroll: true });\n  }\n\n  setQuestionAsReset() {\n    this.model.setQuestionAsReset();\n    this.resetQuestion();\n    this.$('.component__widget').removeClass('is-submitted');\n  }\n\n  /**\n   * Used by the question view to reset the look and feel of the component.\n   * This is triggered when the reset button is clicked so it shouldn't be a full reset.\n   */\n  resetQuestion() {}\n\n  refresh() {\n    this.model.set('_buttonState', this.model.getButtonState());\n\n    if (this.model.shouldShowMarking) {\n      this.showMarking();\n    }\n\n    if (this.buttonsView) {\n      _.defer(this.buttonsView.refresh.bind(this.buttonsView));\n    }\n  }\n\n  onShowCorrectAnswerClicked() {\n    this.setQuestionAsShowCorrect();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.showCorrectAnswer();\n  }\n\n  setQuestionAsShowCorrect() {\n    this.$('.component__widget')\n      .addClass('is-submitted show-correct-answer')\n      .removeClass('show-user-answer');\n  }\n\n  // Used by the question to display the correct answer to the user\n  showCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  onHideCorrectAnswerClicked() {\n    this.setQuestionAsHideCorrect();\n\n    this._runModelCompatibleFunction('updateButtons');\n\n    this.hideCorrectAnswer();\n  }\n\n  setQuestionAsHideCorrect() {\n    this.$('.component__widget')\n      .addClass('is-submitted show-user-answer')\n      .removeClass('show-correct-answer');\n  }\n\n  // Used by the question to display the users answer and\n  // hide the correct answer\n  // Should use the values stored in storeUserAnswer\n  hideCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n  // Time elapsed between the time the interaction was made available to the learner for response and the time of the first response\n  getLatency() {\n    return null;\n  }\n\n  // This function is overridden if useQuestionModeOnly: false. see below.\n  _runModelCompatibleFunction(name, lookForViewOnlyFunction) {\n    return this.model[name](); // questionModel Only\n  }\n}\n\nQuestionView._isQuestionType = true;\n\n/* BACKWARDS COMPATIBILITY SECTION\n* This section below is only for compatibility between the separated questionView+questionModel and the old questionView\n* Remove this section in when all components use questionModel and there is no need to have model behaviour in the questionView\n*/\n\nclass ViewOnlyQuestionViewCompatibilityLayer extends QuestionView {\n\n  /* All of these functions have been moved to the questionModel.js file.\n    * On the rare occasion that they have not been overridden by the component and\n          that they call the view only questionView version,\n          these functions are included as redirects to the new Question Model.\n          It is very unlikely that these are needed but they are included to ensure compatibility.\n    * If you need to override these in your component you should now make and register a component model.\n    * Please remove them from your question component's view.\n  */\n\n  // Returns an object specific to the question type.\n  getInteractionObject() {\n    log.deprecated('QuestionView.getInteractionObject, please use QuestionModel.getInteractionObject');\n    return this.model.getInteractionObject();\n  }\n\n  // Retturns a string detailing how the user answered the question.\n  getResponse() {\n    log.deprecated('QuestionView.getInteractionObject, please use QuestionModel.getInteractionObject');\n    return this.model.getResponse();\n  }\n\n  // Returns a string describing the type of interaction: \"choice\" and \"matching\" supported (see scorm wrapper)\n  getResponseType() {\n    log.deprecated('QuestionView.getResponseType, please use QuestionModel.getResponseType');\n    return this.model.getResponseType();\n  }\n\n  // Calls default methods to setup on questions\n  setupDefaultSettings() {\n    log.deprecated('QuestionView.setupDefaultSettings, please use QuestionModel.setupDefaultSettings');\n    return this.model.setupDefaultSettings();\n  }\n\n  // Used to setup either global or local button text\n  setupButtonSettings() {\n    log.deprecated('QuestionView.setupButtonSettings, please use QuestionModel.setupButtonSettings');\n    return this.model.setupButtonSettings();\n  }\n\n  // Used to setup either global or local question weight/score\n  setupWeightSettings() {\n    log.deprecated('QuestionView.setupWeightSettings, please use QuestionModel.setupWeightSettings');\n    return this.model.setupWeightSettings();\n  }\n\n  // Use to check if the user is allowed to submit the question\n  // Maybe the user has to select an item?\n  canSubmit() {\n    log.deprecated('QuestionView.canSubmit, please use QuestionModel.canSubmit');\n    return this.model.canSubmit();\n  }\n\n  // Used to update the amount of attempts the user has left\n  updateAttempts() {\n    log.deprecated('QuestionView.updateAttempts, please use QuestionModel.updateAttempts');\n    return this.model.updateAttempts();\n  }\n\n  // This is important for returning or showing the users answer\n  // This should preserve the state of the users answers\n  storeUserAnswer() {\n    log.deprecated('QuestionView.storeUserAnswer, please use QuestionModel.storeUserAnswer');\n    return this.model.storeUserAnswer();\n  }\n\n  // Used by the question view to reset the stored user answer\n  resetUserAnswer() {\n    log.deprecated('QuestionView.resetUserAnswer, please use QuestionModel.resetUserAnswer');\n    return this.model.resetUserAnswer();\n  }\n\n  // Sets _isCorrect:true/false based upon isCorrect method below\n  markQuestion() {\n\n    if (this._isInViewOnlyCompatibleMode('isCorrect')) {\n\n      if (this.isCorrect()) {\n        this.model.set('_isCorrect', true);\n      } else {\n        this.model.set('_isCorrect', false);\n      }\n\n      this.model.set({\n        _rawScore: this.model.get('_isCorrect') ? this.model.get('_questionWeight') : 0,\n        _maxScore: this.model.get('_questionWeight'),\n        _minScore: 0\n      });\n\n    } else {\n      return this.model.markQuestion();\n    }\n  }\n\n  // Should return a boolean based upon whether to question is correct or not\n  isCorrect() {\n    log.deprecated('QuestionView.isCorrect, please use QuestionModel.isCorrect');\n    return this.model.isCorrect();\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    log.deprecated('QuestionView.setScore, please use QuestionModel.setScore');\n    return this.model.setScore();\n  }\n\n  // Updates buttons based upon question state by setting\n  // _buttonState on the model which buttonsView listens to\n  updateButtons() {\n    log.deprecated('QuestionView.updateButtons, please use QuestionModel.updateButtons');\n    return this.model.updateButtons();\n  }\n\n  // Used to setup the correct, incorrect and partly correct feedback\n  setupFeedback() {\n\n    if (this._isInViewOnlyCompatibleMode('isPartlyCorrect')) {\n\n      // Use view based feedback where necessary\n      if (this.model.get('_isCorrect')) {\n        this._runModelCompatibleFunction('setupCorrectFeedback');\n      } else if (this.isPartlyCorrect()) {\n        this._runModelCompatibleFunction('setupPartlyCorrectFeedback');\n      } else {\n        this._runModelCompatibleFunction('setupIncorrectFeedback');\n      }\n\n    } else {\n      // Use model based feedback\n      this.model.setupFeedback();\n    }\n\n  }\n\n  // Used by the question to determine if the question is incorrect or partly correct\n  // Should return a boolean\n  isPartlyCorrect() {\n    log.deprecated('QuestionView.isPartlyCorrect, please use QuestionModel.isPartlyCorrect');\n    return this.model.isPartlyCorrect();\n  }\n\n  setupCorrectFeedback() {\n    log.deprecated('QuestionView.setupCorrectFeedback, please use QuestionModel.setupCorrectFeedback');\n    return this.model.setupCorrectFeedback();\n  }\n\n  setupPartlyCorrectFeedback() {\n    log.deprecated('QuestionView.setupPartlyCorrectFeedback, please use QuestionModel.setupPartlyCorrectFeedback');\n    return this.model.setupPartlyCorrectFeedback();\n  }\n\n  setupIncorrectFeedback() {\n    log.deprecated('QuestionView.setupIncorrectFeedback, please use QuestionModel.setupIncorrectFeedback');\n    return this.model.setupIncorrectFeedback();\n  }\n\n  // Helper functions for compatibility layer\n  _runModelCompatibleFunction(name, lookForViewOnlyFunction) {\n    if (this._isInViewOnlyCompatibleMode(name, lookForViewOnlyFunction)) {\n      return this[name](); // questionView\n    } else {\n      return this.model[name](); // questionModel\n    }\n  }\n\n  _isInViewOnlyCompatibleMode(name, lookForViewOnlyFunction) {\n    // return false uses the model function questionModel\n    // return true uses the view only function questionView\n\n    const checkForFunction = (lookForViewOnlyFunction || name);\n\n    // if the function does NOT exist on the view at all, use the model only\n    if (!this.constructor.prototype[checkForFunction]) return false; // questionModel\n\n    // if the function DOES exist on the view and MATCHES the compatibility function above, use the model only\n    const hasCompatibleVersion = (Object.prototype.hasOwnProperty.call(ViewOnlyQuestionViewCompatibilityLayer.prototype, checkForFunction));\n    const usingCompatibleVersion = (this.constructor.prototype[checkForFunction] === ViewOnlyQuestionViewCompatibilityLayer.prototype[checkForFunction]);\n    if (hasCompatibleVersion && usingCompatibleVersion) {\n      switch (checkForFunction) {\n        case 'setupFeedback':\n        case 'markQuestion':\n          return true; // questionView\n      }\n      return false; // questionModel\n    }\n\n    // if the function DOES exist on the view and does NOT match the compatibility function above, use the view function\n    return true; // questionView\n  }\n\n};\n\n// return question view class extended with the compatibility layer\nexport default ViewOnlyQuestionViewCompatibilityLayer;\n\n/* END OF BACKWARDS COMPATIBILITY SECTION */\n","\nimport QuestionView from 'core/js/views/questionView';\nimport Adapt from 'core/js/adapt';\nclass ChooseView extends QuestionView {\n\n  initialize(...args) {\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.onItemOptionSelect = this.onItemOptionSelect.bind(this);\n    super.initialize(...args);\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  onQuestionRendered() {\n    this.$('.choose__item').imageready(() => this.setReadyStatus());\n    this.setupItems();\n  }\n\n  setupItems() {\n    const _spaceSize = this.model.get('_spaceSize');\n    let _spaces = '';\n    for (let i = 0; i < _spaceSize; i++) {\n      _spaces += '&nbsp;';\n    }\n    this.model.get('_items')?.forEach((item) => {\n      let _choose = `<span class=\"choose__replace\">${_spaces}</span>`;\n      this.updateItem(item, _choose, false);\n      if (item._selected) {\n        _choose = this.getChoose(item);\n        this.updateItem(item, _choose, true);\n      }\n\n    });\n\n  }\n\n  getChoose(item) {\n    const _hasGraphic = item._selected._graphic && item._selected._graphic.large;\n    if (!_hasGraphic) {\n      return item._selected.text;\n    }\n    const _graphic = Adapt.device.screenSize !== 'small' ? item._selected._graphic.large : item._selected._graphic.small;\n    return `<img src=\"${_graphic}\"/>`;\n  }\n\n  updateItem(item, answer, selected) {\n    const $item = this.getItemElement(item);\n    if (!selected) {\n      const _text = item.text.replace('[]', answer);\n      return $item.find('.choose__item-text').html(_text);\n    }\n    $item.find('.choose__item-text .choose__replace').html(answer);\n  }\n\n  getItemElement(item) {\n    if (!item) return;\n    const index = item._index;\n    return this.$('.choose__item').filter(`[data-index=\"${index}\"]`);\n  }\n\n  onKeyPress(event) {\n\n    if (event.which !== 13) return;\n    this.onItemOptionSelect(event);\n  }\n\n  onItemOptionSelect(event) {\n    if (!this.model.isInteractive()) return;\n\n    const $input = $(event.currentTarget);\n    const itemIndex = $input.data('adapt-index');\n    const optionIndex = parseInt($input.val());\n    this.model.setOptionSelected(itemIndex, optionIndex, true);\n    this.model.set('_highlighted', `${itemIndex}-${optionIndex}`);\n\n    const item = this.model.get('_items')[itemIndex];\n\n    const _choose = this.getChoose(item);\n    this.updateItem(item, _choose, true);\n  }\n\n  resetQuestion() {\n    this.$('.choose__item').removeClass('is-correct is-incorrect is-selected');\n    this.$('.choose__item-choice').removeClass('is-correct is-incorrect is-selected');\n    this.model.set('_isAtLeastOneCorrectSelection', false);\n\n    this.model.get('_items').forEach(item => {\n      const $item = this.getItemElement(item);\n      $item.find('.choose__item-text .choose__replace').replaceWith('[]');\n      // if (item._isCorrect) return;\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n\n    });\n\n    this.setupItems();\n  }\n\n}\nChooseView.template = 'choose.jsx';\n\nexport default ChooseView;\n","\nimport Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class ChooseModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.setupQuestionItemIndexes();\n  }\n\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set('_isAtLeastOneCorrectSelection', false);\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) {\n        item._index = index;\n        item._selected = false;\n\n      }\n      if (item._options === undefined) {\n        item._options = this.get('_choices').map(choice => {\n          return {\n            text: choice.text,\n            _graphic: choice._graphic\n          };\n        });\n      }\n      item._options.forEach((option, index) => {\n\n        if (option._index !== undefined) return;\n        option._index = index;\n        option._isSelected = false;\n      });\n\n    });\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.get('_items').forEach(item => (item._options = _.shuffle(item._options)));\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => {\n        if (option._index !== userAnswer[item._index]) return;\n        option._isSelected = true;\n        item._selected = option;\n      });\n    });\n\n    this.setQuestionAsSubmitted();\n    this.checkCanSubmit();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  canSubmit() {\n    const canSubmit = this.get('_items').every(({ _options }) => {\n      return _options.some(({ _isSelected }) => _isSelected);\n    });\n\n    return canSubmit;\n  }\n\n  setOptionSelected(itemIndex, optionIndex, isSelected) {\n    const item = this.get('_items')[itemIndex];\n\n    if (isNaN(optionIndex)) {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n      return this.checkCanSubmit();\n    }\n    item._options.forEach((option) => {\n      option._isSelected = false;\n    });\n    const option = item._options.find(({ _index }) => _index === optionIndex);\n    option._isSelected = isSelected;\n    item._selected = option;\n\n    this.checkCanSubmit();\n  }\n\n  storeUserAnswer() {\n    const userAnswer = new Array(this.get('_items').length);\n\n    this.get('_items').forEach(item => {\n      const optionIndex = item._options.findIndex(({ _isSelected }) => _isSelected);\n\n      userAnswer[item._index] = item._options[optionIndex]._index;\n    });\n    this.set({\n      _userAnswer: userAnswer\n    });\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').reduce((a, item) => {\n      const isCorrect = item._selected?._isCorrect;\n      item._isCorrect = Boolean(isCorrect);\n      if (!isCorrect) {\n        return a;\n      }\n      this.set('_isAtLeastOneCorrectSelection', true);\n      return ++a;\n    }, 0);\n\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    if (numberOfCorrectAnswers === this.get('_items').length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n\n    if (this.get('_isCorrect')) {\n      this.set('_score', questionWeight);\n      return;\n    }\n\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n\n    this.set('_score', score);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: null,\n      source: null,\n      target: null\n    };\n    const items = this.get('_items');\n\n    interactions.correctResponsesPattern = [\n      items.map(({ _options }, questionIndex) => {\n\n        questionIndex++;\n        return [\n          questionIndex,\n\n          _options.filter(({ _isCorrect }) => _isCorrect).map(({ _index }) => {\n\n            return `${questionIndex}_${_index + 1}`;\n          })\n        ].join('[.]');\n      }).join('[,]')\n    ];\n\n    interactions.source = items.map(item => {\n      return {\n        // Offset by 1.\n        id: `${item._index + 1}`,\n        description: item.text\n      };\n    }).flat(Infinity);\n\n    interactions.target = items.map(({ _options }, index) => {\n\n      index++;\n      return _options.map(option => {\n        return {\n          id: `${index}_${option._index + 1}`,\n          description: option.text\n        };\n      });\n    }).flat(Infinity);\n    return interactions;\n  }\n\n  getResponse() {\n    const responses = this.get('_userAnswer').map((userAnswer, index) => {\n      return `${index + 1}.${userAnswer + 1}`;\n    });\n\n    return responses.join('#');\n  }\n\n  getResponseType() {\n    return 'matching';\n  }\n\n  getCorrectAnswerAsText() {\n    const correctAnswerTemplate = Adapt.course.get('_globals')._components._choose.ariaCorrectAnswer;\n    const ariaAnswer = this.get('_items').map(item => {\n      const correctOption = item._options.find(({ _isCorrect }) => _isCorrect);\n      return Handlebars.compile(correctAnswerTemplate)({\n        itemText: item.text,\n        correctAnswer: correctOption.text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n\n  getUserAnswerAsText() {\n    const userAnswerTemplate = Adapt.course.get('_globals')._components._choose.ariaUserAnswer;\n    const answerArray = this.get('_userAnswer');\n\n    const ariaAnswer = this.get('_items').map((item, index) => {\n      const key = answerArray[index];\n      return Handlebars.compile(userAnswerTemplate)({\n        itemText: item.text,\n        userAnswer: item._options[(key)].text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport ChooseView from './chooseView';\nimport ChooseModel from './chooseModel';\n\nexport default Adapt.register('choose', {\n  view: ChooseView,\n  model: ChooseModel\n});\n","import LockingModel from 'core/js/models/lockingModel';\n\nexport default class ItemModel extends LockingModel {\n\n  defaults() {\n    return {\n      _isActive: false,\n      _isVisited: false,\n      _score: 0\n    };\n  }\n\n  reset() {\n    this.set({ _isActive: false, _isVisited: false });\n  }\n\n  toggleActive(isActive = !this.get('_isActive')) {\n    this.set('_isActive', isActive);\n  }\n\n  toggleVisited(isVisited = !this.get('_isVisited')) {\n    this.set('_isVisited', isVisited);\n  }\n\n}\n","import ComponentModel from 'core/js/models/componentModel';\nimport ItemModel from 'core/js/models/itemModel';\n\nexport default class ItemsComponentModel extends ComponentModel {\n\n  toJSON() {\n    const json = super.toJSON();\n    // Make sure _items is updated from child collection\n    json._items = this.getChildren().toJSON();\n    return json;\n  }\n\n  init() {\n    this.setUpItems();\n    this.listenTo(this.getChildren(), {\n      all: this.onAll,\n      'change:_isVisited': this.checkCompletionStatus\n    });\n    super.init();\n  }\n\n  restoreUserAnswers() {\n    const booleanArray = this.get('_userAnswer');\n    if (!booleanArray) return;\n    this.getChildren().forEach((child, index) => child.set('_isVisited', booleanArray[index]));\n  }\n\n  storeUserAnswer() {\n    const booleanArray = this.getChildren().map(child => child.get('_isVisited'));\n    this.set('_userAnswer', booleanArray);\n  }\n\n  setUpItems() {\n    // see https://github.com/adaptlearning/adapt_framework/issues/2480\n    const items = this.get('_items') || [];\n    items.forEach((item, index) => (item._index = index));\n    this.setChildren(new Backbone.Collection(items, { model: ItemModel }));\n  }\n\n  getItem(index) {\n    return this.getChildren().findWhere({ _index: index });\n  }\n\n  getVisitedItems() {\n    return this.getChildren().where({ _isVisited: true });\n  }\n\n  getActiveItems() {\n    return this.getChildren().where({ _isActive: true });\n  }\n\n  getActiveItem() {\n    return this.getChildren().findWhere({ _isActive: true });\n  }\n\n  areAllItemsCompleted() {\n    return this.getVisitedItems().length === this.getChildren().length;\n  }\n\n  checkCompletionStatus() {\n    this.storeUserAnswer();\n    if (!this.areAllItemsCompleted()) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.getChildren().each(item => item.reset());\n    return true;\n  }\n\n  resetActiveItems() {\n    this.getChildren().each(item => item.toggleActive(false));\n  }\n\n  setActiveItem(index) {\n    const item = this.getItem(index);\n    if (!item) return;\n\n    const activeItem = this.getActiveItem();\n    if (activeItem) activeItem.toggleActive(false);\n    item.toggleActive(true);\n  }\n\n}\n","import ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nclass AccordionModel extends ItemsComponentModel {\n\n  defaults() {\n    return ItemsComponentModel.resultExtend('defaults', {\n      _shouldCollapseItems: true,\n      _shouldExpandFirstItem: false,\n      _toggleSpeed: 200\n    }, this);\n  }\n\n  toggleItemsState(index) {\n    const item = this.getItem(index);\n    const previousActiveItem = this.getActiveItem();\n\n    item.toggleActive();\n    item.toggleVisited(true);\n\n    if (previousActiveItem && this.get('_shouldCollapseItems')) {\n      previousActiveItem.toggleActive(false);\n    }\n  }\n\n  checkExpandFirstItem() {\n    if (!this.get('_shouldExpandFirstItem')) return;\n    this.setActiveItem(0);\n  }\n\n}\n\nexport default AccordionModel;\n","import ComponentView from 'core/js/views/componentView';\n\nclass AccordionView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-toggle-item': 'onClick'\n    };\n  }\n\n  preRender() {\n    this.checkIfResetOnRevisit();\n\n    this.model.resetActiveItems();\n    this.model.checkExpandFirstItem();\n\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n  }\n\n  postRender() {\n    this.setReadyStatus();\n\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion();\n    }\n  }\n\n  checkIfResetOnRevisit() {\n    const isResetOnRevisit = this.model.get('_isResetOnRevisit');\n\n    // If reset is enabled set defaults\n    if (isResetOnRevisit) {\n      this.model.reset(isResetOnRevisit);\n    }\n  }\n\n  onClick(event) {\n    this.model.toggleItemsState($(event.currentTarget).parent().data('index'));\n  }\n\n  onItemsActiveChange(item, isActive) {\n    this.toggleItem(item, isActive);\n  }\n\n  onItemsVisitedChange(item, isVisited) {\n    if (!isVisited) return;\n\n    const $item = this.getItemElement(item);\n\n    $item.children('.accordion__item-btn').addClass('is-visited');\n  }\n\n  toggleItem(item, shouldExpand) {\n    const $item = this.getItemElement(item);\n    const $body = $item.children('.accordion__item-content').stop(true, true);\n\n    $item.children('.accordion__item-btn')\n      .toggleClass('is-selected is-open', shouldExpand)\n      .toggleClass('is-closed', !shouldExpand)\n      .attr('aria-expanded', shouldExpand);\n\n    if (!shouldExpand) {\n      $body.slideUp(this.model.get('_toggleSpeed'));\n      return;\n    }\n\n    $body.slideDown(this.model.get('_toggleSpeed'));\n  }\n\n  getItemElement(item) {\n    const index = item.get('_index');\n\n    return this.$('.accordion__item').filter(`[data-index=\"${index}\"]`);\n  }\n\n}\n\nAccordionView.template = 'accordion';\n\nexport default AccordionView;\n","import Adapt from 'core/js/adapt';\nimport AccordionModel from './accordionModel';\nimport AccordionView from './accordionView';\n\nexport default Adapt.register('accordion', {\n  model: AccordionModel,\n  view: AccordionView\n});\n","define([\n  'core/js/adapt',\n  'core/js/models/componentModel'\n], function(Adapt, ComponentModel) {\n\n  var AssessmentResultsModel = ComponentModel.extend({\n\n    init: function() {\n      this.set('originalBody', this.get('body'));// save the original body text so we can restore it when the assessment is reset\n\n      this.listenTo(Adapt, {\n        'assessments:complete': this.onAssessmentComplete,\n        'assessments:reset': this.onAssessmentReset\n      });\n    },\n\n    /**\n     * Checks to see if the assessment was completed in a previous session or not\n     */\n    checkIfAssessmentComplete: function() {\n      if (!Adapt.assessment || this.get('_assessmentId') === undefined) {\n        return;\n      }\n\n      var assessmentModel = Adapt.assessment.get(this.get('_assessmentId'));\n      if (!assessmentModel || assessmentModel.length === 0) return;\n\n      var state = assessmentModel.getState();\n      var isResetOnRevisit = assessmentModel.get('_assessment')._isResetOnRevisit;\n      if (state.isComplete && (!state.allowResetIfPassed || !isResetOnRevisit)) {\n        this.onAssessmentComplete(state);\n        return;\n      }\n\n      this.setVisibility();\n    },\n\n    onAssessmentComplete: function(state) {\n      if (this.get('_assessmentId') === undefined ||\n          this.get('_assessmentId') != state.id) return;\n\n      /*\n      make shortcuts to some of the key properties in the state object so that\n      content developers can just use {{attemptsLeft}} in json instead of {{state.attemptsLeft}}\n      */\n      this.set( {\n        _state: state,\n        attempts: state.attempts,\n        attemptsSpent: state.attemptsSpent,\n        attemptsLeft: state.attemptsLeft,\n        score: state.score,\n        scoreAsPercent: state.scoreAsPercent,\n        maxScore: state.maxScore,\n        isPass: state.isPass\n      });\n\n      this.setFeedbackBand(state);\n\n      this.checkRetryEnabled(state);\n\n      this.setFeedbackText();\n\n      this.toggleVisibility(true);\n    },\n\n    setFeedbackBand: function(state) {\n      var scoreProp = state.isPercentageBased ? 'scoreAsPercent' : 'score';\n      var bands = _.sortBy(this.get('_bands'), '_score');\n\n      for (var i = (bands.length - 1); i >= 0; i--) {\n        var isScoreInBandRange =  (state[scoreProp] >= bands[i]._score);\n        if (!isScoreInBandRange) continue;\n\n        this.set('_feedbackBand', bands[i]);\n        break;\n      }\n    },\n\n    checkRetryEnabled: function(state) {\n      var assessmentModel = Adapt.assessment.get(state.id);\n      if (!assessmentModel.canResetInPage()) return false;\n\n      var feedbackBand = this.get('_feedbackBand');\n      var isRetryEnabled = (feedbackBand && feedbackBand._allowRetry) !== false;\n      var isAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n      var showRetry = isRetryEnabled && isAttemptsLeft && (!state.isPass || state.allowResetIfPassed);\n\n      this.set({\n        _isRetryEnabled: showRetry,\n        retryFeedback: showRetry ? this.get('_retry').feedback : ''\n      });\n    },\n\n    setFeedbackText: function() {\n      var feedbackBand = this.get('_feedbackBand');\n\n      // ensure any handlebars expressions in the .feedback are handled...\n      var feedback = feedbackBand ? Handlebars.compile(feedbackBand.feedback)(this.toJSON()) : '';\n\n      this.set({\n        feedback: feedback,\n        body: this.get('_completionBody')\n      });\n    },\n\n    setVisibility: function() {\n      if (!Adapt.assessment) return;\n\n      var isVisibleBeforeCompletion = this.get('_isVisibleBeforeCompletion') || false;\n      var wasVisible = this.get('_isVisible');\n\n      var assessmentModel = Adapt.assessment.get(this.get('_assessmentId'));\n      if (!assessmentModel || assessmentModel.length === 0) return;\n\n      var state = assessmentModel.getState();\n      var isComplete = state.isComplete;\n      var isAttemptInProgress = state.attemptInProgress;\n      var attemptsSpent = state.attemptsSpent;\n      var hasHadAttempt = (!isAttemptInProgress && attemptsSpent > 0);\n\n      var isVisible = (isVisibleBeforeCompletion && !isComplete) || hasHadAttempt;\n\n      if (!wasVisible && isVisible) isVisible = false;\n\n      this.toggleVisibility(isVisible);\n    },\n\n    toggleVisibility: function (isVisible) {\n      if (isVisible === undefined) {\n        isVisible = !this.get('_isVisible');\n      }\n\n      this.set('_isVisible', isVisible, {pluginName: 'assessmentResults'});\n    },\n\n    checkCompletion: function() {\n      if (this.get('_setCompletionOn') === 'pass' && !this.get('isPass')) {\n        return;\n      }\n\n      this.setCompletionStatus();\n    },\n\n    /**\n     * Handles resetting the component whenever its corresponding assessment is reset\n     * The component can either inherit the assessment's reset type or define its own\n     */\n    onAssessmentReset: function(state) {\n      if (this.get('_assessmentId') === undefined ||\n          this.get('_assessmentId') != state.id) return;\n\n      var resetType = this.get('_resetType');\n      if (!resetType || resetType === 'inherit') {\n        resetType = state.resetType || 'hard';// backwards compatibility - state.resetType was only added in assessment v2.3.0\n      }\n      this.reset(resetType, true);\n    },\n\n    reset: function() {\n      this.set({\n        body: this.get('originalBody'),\n        state: null,\n        feedback: '',\n        _feedbackBand: null,\n        retryFeedback: '',\n        _isRetryEnabled: false\n      });\n\n      ComponentModel.prototype.reset.apply(this, arguments);\n    }\n  });\n\n  return AssessmentResultsModel;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/views/componentView'\n], function(Adapt, ComponentView) {\n\n  var AssessmentResultsView = ComponentView.extend({\n\n    events: {\n      'click .js-assessment-retry-btn': 'onRetryClicked'\n    },\n\n    preRender: function () {\n      this.model.setLocking('_isVisible', false);\n\n      this.listenTo(Adapt, 'preRemove', function () {\n        this.model.unsetLocking('_isVisible');\n      });\n\n      this.listenTo(this.model, {\n        'change:_feedbackBand': this.addClassesToArticle,\n        'change:body': this.render\n      });\n    },\n\n    postRender: function() {\n      this.model.checkIfAssessmentComplete();\n      this.setReadyStatus();\n      this.setupInviewCompletion('.component__inner', this.model.checkCompletion.bind(this.model));\n    },\n\n    /**\n     * Resets the state of the assessment and optionally redirects the user\n     * back to the assessment for another attempt.\n     */\n    onRetryClicked: function() {\n      var state = this.model.get('_state');\n\n      Adapt.assessment.get(state.id).reset();\n\n      if (this.model.get('_retry')._routeToAssessment === true) {\n        Adapt.navigateToElement('.' + state.articleId);\n      }\n    },\n\n    /**\n     * If there are classes specified for the feedback band, apply them to the containing article\n     * This allows for custom styling based on the band the user's score falls into\n     */\n    addClassesToArticle: function(model, value) {\n      if (!value || !value._classes) return;\n\n      this.$el.parents('.article').addClass(value._classes);\n    }\n\n  }, {\n    template: 'assessmentResults'\n  });\n\n  return AssessmentResultsView;\n\n});\n","define([\n  'core/js/adapt',\n  './assessmentResultsModel',\n  './assessmentResultsView'\n], function(Adapt, AssessmentResultsModel, AssessmentResultsView) {\n\n  return Adapt.register(\"assessmentResults\", {\n    model: AssessmentResultsModel,\n    view: AssessmentResultsView\n  });\n\n});\n","import ComponentView from 'core/js/views/componentView';\n\nexport default class BlankView extends ComponentView {\n\n  get template() {\n    return 'blank';\n  }\n\n  postRender() {\n    this.setReadyStatus();\n    this.setupInviewCompletion();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport BlankView from './blankView';\nimport ComponentModel from 'core/js/models/componentModel';\n\nexport default Adapt.register('blank', {\n  model: ComponentModel.extend({}), // create a new class in the inheritance chain so it can be extended per component type if necessary later\n  view: BlankView\n});\n","define([\n  'core/js/adapt',\n  'core/js/views/questionView'\n], function(Adapt, QuestionView) {\n\n  var McqView = QuestionView.extend({\n\n    events: {\n      'focus .js-item-input': 'onItemFocus',\n      'blur .js-item-input': 'onItemBlur',\n      'change .js-item-input': 'onItemSelect',\n      'keyup .js-item-input': 'onKeyPress'\n    },\n\n    isCorrectAnswerShown: false,\n\n    initialize: function() {\n      QuestionView.prototype.initialize.apply(this, arguments);\n      this.update = _.debounce(this.update.bind(this), 1);\n      this.listenTo(this.model, {\n        'change:_isEnabled change:_isComplete change:_isSubmitted': this.update\n      });\n      this.listenTo(this.model.getChildren(), {\n        'change:_isActive': this.update\n      });\n    },\n\n    resetQuestionOnRevisit: function() {\n      this.resetQuestion();\n    },\n\n    setupQuestion: function() {\n      this.model.setupRandomisation();\n    },\n\n    onQuestionRendered: function() {\n      this.setReadyStatus();\n      this.update();\n    },\n\n    onKeyPress: function(event) {\n      if (event.which !== 13) return;\n      // <ENTER> keypress\n      this.onItemSelect(event);\n    },\n\n    onItemFocus: function(event) {\n      if (!this.model.isInteractive()) return;\n\n      this.$('.js-item-label[for=' + $(event.currentTarget).attr('id') + ']').addClass('is-highlighted');\n    },\n\n    onItemBlur: function(event) {\n      this.$('.js-item-label[for=' + $(event.currentTarget).attr('id') + ']').removeClass('is-highlighted');\n    },\n\n    onItemSelect: function(event) {\n      if (!this.model.isInteractive()) return;\n\n      var index = $(event.currentTarget).data('adapt-index');\n      var itemModel = this.model.getItem(index);\n      var shouldSelect = !itemModel.get('_isActive');\n\n      if (this.model.isSingleSelect()) {\n        // Assume a click is always a selection\n        shouldSelect = true;\n        this.model.resetActiveItems();\n      } else if (shouldSelect && this.model.isAtActiveLimit()) {\n        // At the selection limit, deselect the last item\n        this.model.getLastActiveItem().toggleActive(false);\n      }\n\n      // Select or deselect accordingly\n      itemModel.toggleActive(shouldSelect);\n    },\n\n    // Blank method to add functionality for when the user cannot submit\n    // Could be used for a popup or explanation dialog/hint\n    onCannotSubmit: function() {},\n\n    // This is important and should give the user feedback on how they answered the question\n    // Normally done through ticks and crosses by adding classes\n    showMarking: function() {\n      this.update();\n    },\n\n    // Used by the question view to reset the look and feel of the component.\n    resetQuestion: function() {\n      this.model.resetActiveItems();\n      this.model.resetItems();\n    },\n\n    showCorrectAnswer: function() {\n      this.isCorrectAnswerShown = true;\n      this.update();\n    },\n\n    hideCorrectAnswer: function() {\n      this.isCorrectAnswerShown = false;\n      this.update();\n    },\n\n    update: function() {\n      this.updateSelection();\n      this.updateMarking();\n    },\n\n    updateSelection: function() {\n\n      var isEnabled = this.model.get('_isEnabled');\n\n      this.model.getChildren().each(function(itemModel) {\n\n        var isSelected = this.isCorrectAnswerShown ?\n          itemModel.get('_shouldBeSelected') :\n          itemModel.get('_isActive');\n\n        var index = itemModel.get('_index');\n        this.$('.js-item-label').filter('[data-adapt-index=\"' + index + '\"]')\n          .toggleClass('is-selected', isSelected)\n          .toggleClass('is-disabled', !isEnabled);\n\n        this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]')\n          .prop('checked', isSelected)\n          .prop('disabled', !isEnabled);\n\n      }.bind(this));\n\n    },\n\n    updateMarking: function() {\n\n      var isInteractive = this.model.isInteractive();\n      var canShowMarking = this.model.get('_canShowMarking');\n      var ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n      this.model.getChildren().each(function(itemModel) {\n\n        var index = itemModel.get('_index');\n        var $itemInput = this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]');\n        var $item = $itemInput.parents('.js-mcq-item');\n\n        if (isInteractive || !canShowMarking) {\n          // Remove item marking\n          $item.removeClass('is-correct is-incorrect');\n          $itemInput.attr('aria-label', $.a11y_normalize(itemModel.get('text')));\n          return;\n        }\n\n        // Mark item\n        var shouldBeSelected = itemModel.get('_shouldBeSelected');\n        var isCorrect = Boolean(itemModel.get('_isCorrect'));\n        var isActive = Boolean(itemModel.get('_isActive'));\n\n        $item\n          .toggleClass('is-correct', isCorrect)\n          .toggleClass('is-incorrect', !isCorrect);\n\n        $itemInput.attr('aria-label', [\n          (shouldBeSelected ? ariaLabels.correct : ariaLabels.incorrect),\n          ', ',\n          (isActive ? ariaLabels.selectedAnswer : ariaLabels.unselectedAnswer),\n          '. ',\n          $.a11y_normalize(itemModel.get('text'))\n        ].join(''));\n\n      }.bind(this));\n\n    }\n\n  });\n\n  return McqView;\n\n});\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\nimport ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nclass BlendedItemsComponentQuestionModel extends QuestionModel {\n\n  init() {\n    ItemsComponentModel.prototype.init.call(this);\n    super.init();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    ItemsComponentModel.prototype.reset.call(this, type, canReset);\n    return super.reset(type, canReset);\n  }\n\n}\n// extend BlendedItemsComponentQuestionModel with ItemsComponentModel\nObject.getOwnPropertyNames(ItemsComponentModel.prototype).forEach(name => {\n  if (name === 'constructor' || name === 'init' || name === 'reset') return;\n  Object.defineProperty(BlendedItemsComponentQuestionModel.prototype, name, {\n    value: ItemsComponentModel.prototype[name]\n  });\n});\n\nexport default class ItemsQuestionModel extends BlendedItemsComponentQuestionModel {\n\n  init() {\n    super.init();\n    this.set('_isRadio', this.isSingleSelect());\n    this.listenTo(this.getChildren(), 'change:_isActive', this.checkCanSubmit);\n    this.checkCanSubmit();\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const itemModels = this.getChildren();\n    const userAnswer = this.get('_userAnswer');\n    itemModels.each(item => {\n      item.toggleActive(userAnswer[item.get('_index')]);\n    });\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n    const children = this.getChildren();\n    children.set(children.shuffle());\n  }\n\n  // check if the user is allowed to submit the question\n  canSubmit() {\n    const activeItems = this.getActiveItems();\n    return activeItems.length > 0;\n  }\n\n  // This is important for returning or showing the users answer\n  // This should preserve the state of the users answers\n  storeUserAnswer() {\n    const items = this.getChildren().slice(0);\n    items.sort((a, b) => a.get('_index') - b.get('_index'));\n    const userAnswer = items.map(itemModel => itemModel.get('_isActive'));\n    this.set('_userAnswer', userAnswer);\n  }\n\n  isCorrect() {\n    const allChildren = this.getChildren();\n    const activeChildren = allChildren.filter(itemModel => itemModel.get('_isActive'));\n\n    const isItemCorrect = itemModel => itemModel.get('_shouldBeSelected') && !itemModel.get('_isPartlyCorrect');\n    const isItemPartlyCorrect = itemModel => itemModel.get('_isPartlyCorrect');\n    const isItemIncorrect = itemModel => !itemModel.get('_shouldBeSelected') && !itemModel.get('_isPartlyCorrect');\n\n    const sum = (list, predicate) => list.reduce((sum, item) => sum + (predicate(item) ? 1 : 0), 0);\n\n    const props = {\n      _numberOfRequiredAnswers: sum(allChildren, isItemCorrect),\n      _numberOfCorrectAnswers: sum(activeChildren, isItemCorrect),\n      _numberOfPartlyCorrectAnswers: sum(activeChildren, isItemPartlyCorrect),\n      _numberOfIncorrectAnswers: sum(activeChildren, isItemIncorrect)\n    };\n\n    activeChildren.forEach(itemModel => itemModel.set('_isCorrect', itemModel.get('_shouldBeSelected')));\n\n    props._isAtLeastOneCorrectSelection = (props._numberOfCorrectAnswers || props._numberOfPartlyCorrectAnswers);\n\n    const numberOfSelectableAnswers = this.get('_selectable');\n    const hasSelectableCorrectAnswers = (props._numberOfCorrectAnswers === numberOfSelectableAnswers);\n    const hasAllCorrectAnswers = (props._numberOfCorrectAnswers === props._numberOfRequiredAnswers);\n    const hasCorrectAnswers = (hasSelectableCorrectAnswers || hasAllCorrectAnswers);\n    const hasIncorrectAnswers = props._numberOfIncorrectAnswers;\n    const hasPartlyCorrectAnswers = props._numberOfPartlyCorrectAnswers;\n\n    this.set(props);\n\n    return hasCorrectAnswers && !hasIncorrectAnswers && !hasPartlyCorrectAnswers;\n  }\n\n  // Sets the score based upon the questionWeight\n  // Can be overwritten if the question needs to set the score in a different way\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n    const answeredCorrectly = this.get('_isCorrect');\n    const score = answeredCorrectly ? questionWeight : 0;\n    this.set('_score', score);\n  }\n\n  get score() {\n    if (!this.get('_hasItemScoring')) return super.score;\n    const children = this.getChildren()?.toArray() || [];\n    return children.reduce((score, child) => (score += child.get('_isActive') ? child.get('_score') || 0 : 0), 0);\n  }\n\n  get maxScore() {\n    if (!this.get('_hasItemScoring')) return super.maxScore;\n    const children = this.getChildren()?.toArray() || [];\n    const scores = children.map(child => child.get('_score') || 0);\n    scores.sort((a, b) => a - b);\n    return scores.reverse().slice(0, this.get('_selectable')).filter(score => score > 0).reduce((maxScore, score) => (maxScore += score), 0);\n  }\n\n  get minScore() {\n    if (!this.get('_hasItemScoring')) return super.minScore;\n    const children = this.getChildren()?.toArray() || [];\n    const scores = children.map(child => child.get('_score') || 0);\n    scores.sort((a, b) => a - b);\n    return scores.slice(0, this.get('_selectable')).filter(score => score < 0).reduce((minScore, score) => (minScore += score), 0);\n  }\n\n  setupFeedback() {\n    if (!this.has('_feedback')) return;\n\n    if (this.get('_isCorrect')) {\n      this.setupCorrectFeedback();\n      return;\n    }\n\n    if (this.isPartlyCorrect()) {\n      this.setupPartlyCorrectFeedback();\n      return;\n    }\n\n    // apply individual item feedback\n    const activeItem = this.getActiveItem();\n    if (this.isSingleSelect() && activeItem.get('feedback')) {\n      this.setupIndividualFeedback(activeItem);\n      return;\n    }\n\n    this.setupIncorrectFeedback();\n  }\n\n  setupIndividualFeedback(selectedItem) {\n    this.set({\n      feedbackTitle: this.getFeedbackTitle(this.get('_feedback')),\n      feedbackMessage: selectedItem.get('feedback')\n    });\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  isAtActiveLimit() {\n    const selectedItems = this.getActiveItems();\n    return (selectedItems.length === this.get('_selectable'));\n  }\n\n  isSingleSelect() {\n    return (this.get('_selectable') === 1);\n  }\n\n  getLastActiveItem() {\n    const selectedItems = this.getActiveItems();\n    return selectedItems[selectedItems.length - 1];\n  }\n\n  /**\n   * Reset the question items for another attempt\n   */\n  resetQuestion() {\n    this.resetItems();\n  }\n\n  resetItems() {\n    this.resetActiveItems();\n    this.set('_isAtLeastOneCorrectSelection', false);\n  }\n\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: [],\n      choices: []\n    };\n\n    interactions.choices = this.getChildren().map(itemModel => {\n      return {\n        id: (itemModel.get('_index') + 1).toString(),\n        description: itemModel.get('text')\n      };\n    });\n\n    const correctItems = this.getChildren().filter(itemModel => {\n      return itemModel.get('_shouldBeSelected');\n    });\n\n    interactions.correctResponsesPattern = [\n      correctItems.map(itemModel => {\n        // indexes are 0-based, we need them to be 1-based for cmi.interactions\n        return String(itemModel.get('_index') + 1);\n      }).join('[,]')\n    ];\n\n    return interactions;\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * returns the user's answers as a string in the format '1,5,2'\n  */\n  getResponse() {\n    const activeItems = this.getActiveItems();\n    const activeIndexes = activeItems.map(itemModel => {\n      // indexes are 0-based, we need them to be 1-based for cmi.interactions\n      return itemModel.get('_index') + 1;\n    });\n    return activeIndexes.join(',');\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'choice';\n  }\n\n  /**\n   * Creates a string explaining the answer(s) the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components['_' + this.get('_component')];\n    const isSingleSelect = this.isSingleSelect();\n    const ariaAnswer = isSingleSelect ? globals?.ariaCorrectAnswer : globals?.ariaCorrectAnswers;\n    if (!ariaAnswer) return;\n\n    const correctOptions = this.getChildren().where({ _shouldBeSelected: true });\n    const correctAnswer = isSingleSelect ?\n      correctOptions[0]?.get('text') :\n      correctOptions.map(correctOption => correctOption.get('text')).join('<br>');\n\n    return Handlebars.compile(ariaAnswer)({ correctAnswer });\n  }\n\n  /**\n   * Creates a string listing the answer(s) the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components['_' + this.get('_component')];\n    const isSingleSelect = this.isSingleSelect();\n    const ariaAnswer = isSingleSelect ? globals?.ariaUserAnswer : globals?.ariaUserAnswers;\n    if (!ariaAnswer) return;\n\n    const selectedItems = this.getActiveItems();\n    const userAnswer = isSingleSelect ?\n      selectedItems[0].get('text') :\n      selectedItems.map(selectedItem => selectedItem.get('text')).join('<br>');\n\n    return Handlebars.compile(ariaAnswer)({ userAnswer });\n  }\n\n}\n","define([\n  'core/js/adapt',\n  './mcqView',\n  'core/js/models/itemsQuestionModel'\n], function(Adapt, McqView, ItemsQuestionModel) {\n\n  return Adapt.register('mcq', {\n    view: McqView,\n    // Extend ItemsQuestionModel to distinguish McqModel in\n    // the inheritance chain and allow targeted model extensions.\n    model: ItemsQuestionModel.extend({})\n  });\n\n});\n","define([\n  'core/js/adapt',\n  'components/adapt-contrib-mcq/js/adapt-contrib-mcq'\n], function(Adapt, Mcq) {\n\n  var Gmcq = Mcq.view.extend({\n\n    setupQuestion: function() {\n      Mcq.view.prototype.setupQuestion.call(this);\n\n      this.listenTo(Adapt, {\n        'device:changed': this.resizeImage,\n        'device:resize': this.onDeviceResize\n      });\n\n    },\n\n    onQuestionRendered: function() {\n\n      this.resizeImage(Adapt.device.screenSize);\n      this.setUpColumns();\n\n      this.$('.js-item-label').imageready(this.setReadyStatus.bind(this));\n\n    },\n\n    onDeviceResize: function() {\n      this.setUpColumns();\n    },\n\n    resizeImage: function(width) {\n      var imageWidth = width === 'medium' ? 'small' : width;\n\n      this.$('.js-item-label').each(function(index) {\n        var $img = $(this).find('img');\n        var newSrc = $img.attr('data-' + imageWidth);\n        if (!newSrc) return;\n        $img.attr('src', newSrc);\n      });\n\n    },\n\n    setUpColumns: function() {\n      var columns = this.model.get('_columns');\n\n      if (!columns) return;\n\n      var isLarge = Adapt.device.screenSize === 'large';\n\n      this.$el.toggleClass('has-column-layout', isLarge);\n      this.$('.js-mcq-item').css('width', isLarge ? (100 / columns) + '%' : '');\n    },\n\n    updateMarking: function() {\n\n      var isInteractive = this.model.isInteractive();\n      var canShowMarking = this.model.get('_canShowMarking');\n      var ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n      this.model.getChildren().forEach(function(itemModel) {\n\n        var index = itemModel.get('_index');\n        var $itemInput = this.$('.js-item-input').filter('[data-adapt-index=\"' + index + '\"]');\n        var $item = $itemInput.parents('.js-mcq-item');\n\n        if (isInteractive || !canShowMarking) {\n          // Remove item marking\n          $item.removeClass('is-correct is-incorrect');\n          $itemInput.attr('aria-label', [\n            Adapt.a11y.normalize(itemModel.get('text')),\n            '. ',\n            Adapt.a11y.normalize(itemModel.get('_graphic').alt)\n          ].join(''));\n          return;\n        }\n\n        // Mark item\n        var shouldBeSelected = itemModel.get('_shouldBeSelected');\n        var isCorrect = Boolean(itemModel.get('_isCorrect'));\n        var isActive = Boolean(itemModel.get('_isActive'));\n\n        $item\n          .toggleClass('is-correct', isCorrect)\n          .toggleClass('is-incorrect', !isCorrect);\n\n        $itemInput.attr('aria-label', [\n          (shouldBeSelected ? ariaLabels.correct : ariaLabels.incorrect),\n          ', ',\n          (isActive ? ariaLabels.selectedAnswer : ariaLabels.unselectedAnswer),\n          '. ',\n          $.a11y_normalize(itemModel.get('text')),\n          '. ',\n          $.a11y_normalize(itemModel.get('_graphic').alt)\n        ].join(''));\n\n      }, this);\n    }\n\n  }, {\n    template: 'gmcq'\n  });\n\n  return Adapt.register('gmcq', {\n    view: Gmcq,\n    model: Mcq.model.extend({})\n  });\n\n});\n","import ComponentView from 'core/js/views/componentView';\n\nclass GraphicView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-graphic-link': 'onClick'\n    };\n  }\n\n  postRender() {\n    this.$('.graphic__widget').imageready(() => {\n      this.setReadyStatus();\n      this.setupInviewCompletion('.graphic__widget');\n    });\n  }\n\n  onClick(event) {\n    if (event) event.preventDefault();\n\n    const item = this.model.get('_graphic');\n    const { _url: url, _target: target = '_blank' } = item;\n\n    const isNewWindow = (target !== '_self');\n    if (isNewWindow) return window.open(url, target);\n    const isRouterNavigation = (url.substr(0, 1) === '#');\n    if (isRouterNavigation) return Backbone.history.navigate(url, { trigger: true });\n    window.location.href = url;\n  }\n\n}\n\nGraphicView.template = 'graphic.jsx';\n\nexport default GraphicView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class GraphicModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport GraphicView from './GraphicView';\nimport GraphicModel from './GraphicModel';\n\nexport default Adapt.register('graphic', {\n  model: GraphicModel,\n  view: GraphicView\n});\n","import Adapt from 'core/js/adapt';\n\nclass HotgraphicPopupView extends Backbone.View {\n\n  className() {\n    return 'hotgraphic-popup';\n  }\n\n  events() {\n    return {\n      'click .js-hotgraphic-popup-close': 'closePopup',\n      'click .js-hotgraphic-controls-click': 'onControlClick'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n    // Debounce required as a second (bad) click event is dispatched on iOS causing a jump of two items.\n    this.onControlClick = _.debounce(this.onControlClick.bind(this), 100);\n    this.listenToOnce(Adapt, 'notify:opened', this.onOpened);\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n    this.render();\n  }\n\n  onOpened() {\n    this.applyNavigationClasses(this.model.getActiveItem().get('_index'));\n    this.updatePageCount();\n    this.handleTabs();\n  }\n\n  applyNavigationClasses (index) {\n    const itemCount = this.model.get('_items').length;\n    const canCycleThroughPagination = this.model.get('_canCycleThroughPagination');\n\n    const shouldEnableBack = index > 0 || canCycleThroughPagination;\n    const shouldEnableNext = index < itemCount - 1 || canCycleThroughPagination;\n    const $controls = this.$('.hotgraphic-popup__controls');\n\n    this.$('hotgraphic-popup__nav')\n      .toggleClass('first', !shouldEnableBack)\n      .toggleClass('last', !shouldEnableNext);\n\n    Adapt.a11y.toggleAccessibleEnabled($controls.filter('.back'), shouldEnableBack);\n    Adapt.a11y.toggleAccessibleEnabled($controls.filter('.next'), shouldEnableNext);\n  }\n\n  updatePageCount() {\n    const template = Adapt.course.get('_globals')._components._hotgraphic.popupPagination || '{{itemNumber}} / {{totalItems}}';\n    const labelText = Handlebars.compile(template)({\n      itemNumber: this.model.getActiveItem().get('_index') + 1,\n      totalItems: this.model.get('_items').length\n    });\n    this.$('.hotgraphic-popup__count').html(labelText);\n  }\n\n  handleTabs() {\n    Adapt.a11y.toggleHidden(this.$('.hotgraphic-popup__item:not(.is-active)'), true);\n    Adapt.a11y.toggleHidden(this.$('.hotgraphic-popup__item.is-active'), false);\n  }\n\n  onItemsActiveChange(item, _isActive) {\n    if (!_isActive) return;\n    const index = item.get('_index');\n    this.updatePageCount();\n    this.applyItemClasses(index);\n    this.handleTabs();\n    this.handleFocus(index);\n  }\n\n  applyItemClasses(index) {\n    this.$(`.hotgraphic-popup__item[data-index=\"${index}\"]`).addClass('is-active').removeAttr('aria-hidden');\n    this.$(`.hotgraphic-popup__item[data-index=\"${index}\"] .hotgraphic-popup__item-title`).attr('id', 'notify-heading');\n    this.$(`.hotgraphic-popup__item:not([data-index=\"${index}\"])`).removeClass('is-active').attr('aria-hidden', 'true');\n    this.$(`.hotgraphic-popup__item:not([data-index=\"${index}\"]) .hotgraphic-popup__item-title`).removeAttr('id');\n  }\n\n  handleFocus(index) {\n    Adapt.a11y.focusFirst(this.$('.hotgraphic-popup__inner .is-active'));\n    this.applyNavigationClasses(index);\n  }\n\n  onItemsVisitedChange(item, _isVisited) {\n    if (!_isVisited) return;\n\n    this.$('.hotgraphic-popup__item')\n      .filter(`[data-index=\"${item.get('_index')}\"]`)\n      .addClass('is-visited');\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    data.view = this;\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  closePopup() {\n    Adapt.trigger('notify:close');\n  }\n\n  onControlClick(event) {\n    const direction = $(event.currentTarget).data('direction');\n    const index = this.getNextIndex(direction);\n    if (index === -1) return;\n\n    this.setItemState(index);\n  }\n\n  getNextIndex(direction) {\n    let index = this.model.getActiveItem().get('_index');\n    const lastIndex = this.model.get('_items').length - 1;\n\n    switch (direction) {\n      case 'back':\n        if (index > 0) return --index;\n        if (this.model.get('_canCycleThroughPagination')) return lastIndex;\n        break;\n      case 'next':\n        if (index < lastIndex) return ++index;\n        if (this.model.get('_canCycleThroughPagination')) return 0;\n    }\n    return -1;\n  }\n\n  setItemState(index) {\n    this.model.getActiveItem().toggleActive();\n\n    const nextItem = this.model.getItem(index);\n    nextItem.toggleActive();\n    nextItem.toggleVisited(true);\n  }\n\n};\n\nHotgraphicPopupView.template = 'hotgraphicPopup';\n\nexport default HotgraphicPopupView;\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport HotgraphicPopupView from './hotgraphicPopupView';\n\nclass HotGraphicView extends ComponentView {\n\n  events () {\n    return {\n      'click .js-hotgraphic-item-click': 'onPinClicked'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n\n    this.setUpViewData();\n    this.setUpModelData();\n    this.setUpEventListeners();\n  }\n\n  setUpViewData() {\n    this.popupView = null;\n    this._isPopupOpen = false;\n  }\n\n  setUpModelData() {\n    if (this.model.get('_canCycleThroughPagination') !== undefined) return;\n    this.model.set('_canCycleThroughPagination', false);\n  }\n\n  setUpEventListeners() {\n    this.listenTo(Adapt, 'device:changed', this.reRender);\n\n    this.listenTo(this.model.get('_children'), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n  }\n\n  reRender() {\n    if (Adapt.device.screenSize === 'large' || this.model.get('_isNarrativeOnMobile') === false) return;\n\n    this.replaceWithNarrative();\n  }\n\n  replaceWithNarrative() {\n    const NarrativeView = Adapt.getViewClass('narrative');\n    if (!NarrativeView) return;\n\n    const model = this.prepareNarrativeModel();\n    const newNarrative = new NarrativeView({ model });\n    // NOTE: if this component is doing its inital render in 'narrative mode',\n    // this.$el.parents() won't exist at this point - which is why the following is\n    // written the way it is, instead of (what would appear to be) the more efficient\n    // this.$el.parents('.component__container')\n    const $container = Adapt.findViewByModelId(model.get('_parentId')).$el.find('.component__container');\n    $container.append(newNarrative.$el);\n\n    this.remove();\n    _.defer(() => {\n      Adapt.trigger('device:resize');\n    });\n  }\n\n  prepareNarrativeModel() {\n    this.model.set({\n      _component: 'narrative',\n      _wasHotgraphic: true,\n      originalBody: this.model.get('body'),\n      originalInstruction: this.model.get('instruction')\n    });\n\n    // Check if active item exists, default to 0\n    const activeItem = this.model.getActiveItem();\n    if (!activeItem) {\n      this.model.getItem(0).toggleActive(true);\n    }\n\n    // Swap mobile body and instructions for desktop variants.\n    if (this.model.get('mobileBody')) {\n      this.model.set('body', this.model.get('mobileBody'));\n    }\n    if (this.model.get('mobileInstruction')) {\n      this.model.set('instruction', this.model.get('mobileInstruction'));\n    }\n\n    return this.model;\n  }\n\n  onItemsActiveChange(model, _isActive) {\n    this.getItemElement(model).toggleClass('is-active', _isActive);\n  }\n\n  getItemElement(model) {\n    const index = model.get('_index');\n    return this.$('.js-hotgraphic-item-click').filter(`[data-index=\"${index}\"]`);\n  }\n\n  onItemsVisitedChange(model, _isVisited) {\n    if (!_isVisited) return;\n\n    const $pin = this.getItemElement(model);\n    // Append the word 'visited.' to the pin's aria-label\n    const visitedLabel = ` ${this.model.get('_globals')._accessibility._ariaLabels.visited}.`;\n    $pin.find('.aria-label').each((index, el) => {\n      el.innerHTML += visitedLabel;\n    });\n\n    $pin.addClass('is-visited');\n  }\n\n  preRender() {\n    if (Adapt.device.screenSize === 'large') {\n      this.render();\n      return;\n    }\n\n    this.reRender();\n  }\n\n  postRender() {\n    this.$('.hotgraphic__widget').imageready(this.setReadyStatus.bind(this));\n    if (this.model.get('_setCompletionOn') !== 'inview') return;\n    this.setupInviewCompletion('.component__widget');\n  }\n\n  onPinClicked (event) {\n    const item = this.model.getItem($(event.currentTarget).data('index'));\n    item.toggleActive(true);\n    item.toggleVisited(true);\n\n    this.openPopup();\n  }\n\n  openPopup() {\n    if (this._isPopupOpen) return;\n\n    this._isPopupOpen = true;\n\n    this.popupView = new HotgraphicPopupView({\n      model: this.model\n    });\n\n    Adapt.notify.popup({\n      _attributes: { 'data-adapt-id': this.model.get('_id') },\n      _view: this.popupView,\n      _isCancellable: true,\n      _showCloseButton: false,\n      _classes: 'hotgraphic is-component is-hotgaphic ' + this.model.get('_classes')\n    });\n\n    this.listenToOnce(Adapt, {\n      'popup:closed': this.onPopupClosed\n    });\n  }\n\n  onPopupClosed() {\n    this.model.getActiveItem().toggleActive();\n    this._isPopupOpen = false;\n  }\n\n}\n\nHotGraphicView.template = 'hotgraphic';\n\nexport default HotGraphicView;\n","import Adapt from 'core/js/adapt';\nimport HotgraphicView from './hotgraphicView';\nimport ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nexport default Adapt.register('hotgraphic', {\n  model: ItemsComponentModel.extend({}),\n  view: HotgraphicView\n});\n","export default class DropDownItem extends Backbone.View {\n\n  events() {\n    return {\n      click: 'onClick',\n      'click *': 'onClick'\n    };\n  }\n\n  initialize(settings) {\n    this.settings = settings;\n    this.$inner = this.$('.js-dropdown-list-item-inner');\n  }\n\n  isPlaceholder() {\n    return this.$el.is('[hidden]');\n  }\n\n  parent() {\n    return this.settings.parent;\n  }\n\n  onClick(event) {\n    const parent = this.parent();\n    event.preventDefault();\n    this.select().scrollTo();\n    parent.$button.focus();\n  }\n\n  getValue() {\n    return this.$el.attr('value').trim();\n  }\n\n  select() {\n    const parent = this.parent();\n    parent.deselectAll();\n    parent.setActiveDescendantId(this.el.id);\n    this.$el.attr({\n      selected: '',\n      'aria-selected': 'true'\n    });\n    parent.$inner.html(this.$el.attr('text'));\n    const value = this.isPlaceholder() ? '' : this.getValue();\n    parent.$input.val(value).trigger('change');\n    parent.trigger('change', parent);\n    return this;\n  }\n\n  deselect() {\n    if (!this.isSelected()) return this;\n    const parent = this.parent();\n    parent.removeActiveDescendantId();\n    this.$el.removeAttr('selected');\n    this.$el.attr('aria-selected', 'false');\n    parent.$inner.html('');\n    parent.$input.val('').trigger('change');\n    parent.trigger('change', parent);\n    return this;\n  }\n\n  reselect() {\n    const parent = this.parent();\n    parent.setActiveDescendantId(this.$el[0].id);\n    if (this.isSelected()) return this;\n    this.select();\n    return this;\n  }\n\n  isSelected() {\n    return Boolean(this.$el.attr('selected'));\n  }\n\n  getIndex() {\n    const parent = this.parent();\n    return parent.options.findIndex(option => option === this);\n  }\n\n  getNext() {\n    const parent = this.parent();\n    return parent.options[this.getIndex() + 1];\n  }\n\n  getPrevious() {\n    const parent = this.parent();\n    return parent.options[this.getIndex() - 1];\n  }\n\n  getFirst() {\n    const parent = this.parent();\n    return parent.options[0];\n  }\n\n  getLast() {\n    const parent = this.parent();\n    return parent.options[parent.options.length - 1];\n  }\n\n  scrollTo() {\n    const parent = this.parent();\n    parent.settings.scrollToItem.call(parent, this);\n  }\n\n  destroy() {\n    const parent = this.parent();\n    this.remove();\n    if (this.isPlaceholder()) {\n      parent.placeholder = null;\n    } else {\n      for (let i = 0, l = parent.options.length; i < l; i++) {\n        const item = parent.options[i];\n        if (item !== this) continue;\n        parent.options.splice(i, 1);\n        break;\n      }\n    }\n    delete this.settings;\n  }\n\n}\n","import DropDownOption from './dropdownOption';\n\nclass DropDown extends Backbone.View {\n\n  initialize(settings) {\n    _.bindAll(this, 'onStartInteraction', 'onButtonClick', 'onListBlur', 'onKeyDown');\n    this.settings = _.defaults(settings, DropDown.defaults);\n    this.placeholder = null;\n    this.options = [];\n    this.setUpElements();\n    this.setUpItems();\n    this.select(this.settings.value);\n    this.addEventListeners();\n    this.toggleOpen(false);\n    this.settings.load.call(this, this);\n    this.trigger('load', this);\n  }\n\n  setUpElements() {\n    this.$list = this.$('.js-dropdown-list');\n    this.$button = this.$('.js-dropdown-btn');\n    this.$inner = this.$button.find('.js-dropdown-inner');\n    this.$input = this.$('.js-data-output');\n  }\n\n  setUpItems() {\n    const $options = this.$('.js-dropdown-list-item');\n    $options.each((index, el) => {\n      const option = new DropDownOption({ parent: this, el });\n      if (option.isPlaceholder()) {\n        this.placeholder = option;\n        return;\n      }\n      this.options.push(option);\n    });\n  }\n\n  addEventListeners() {\n    this.$button.on({\n      'mousedown touchstart': this.onStartInteraction,\n      click: this.onButtonClick\n    });\n    this.$list.on('blur', this.onListBlur);\n    $(document).on('keydown', this.onKeyDown);\n  }\n\n  onStartInteraction() {\n    this.wasOpen = this.isOpen();\n  }\n\n  deselectAll() {\n    this.placeholder.deselect();\n    this.options.forEach(option => option.deselect());\n  }\n\n  onButtonClick() {\n    if (this.wasOpen || this.isOpen()) {\n      // click toggle list:\n      // if the list is open and the button is clicked\n      // the blur event will fire first closing the list.\n      // this code is to prevent the list from reopening\n      // in that situation\n      this.wasOpen = false;\n      return;\n    }\n    this.toggleOpen();\n    const option = this.getFirstSelectedItem() || this.placeholder;\n    if (!option) return;\n    option.reselect();\n    option.scrollTo();\n    this.$list.focus();\n  }\n\n  isOpen() {\n    return !this.$list.hasClass('u-display-none');\n  }\n\n  toggleOpen(open = !this.isOpen()) {\n    if (open) clearTimeout(this.blurTimeout);\n    this.$button.attr('aria-expanded', open ? 'true' : 'false');\n    const name = open ? 'openList' : 'closeList';\n    this.settings[name].call(this, this);\n    this.trigger(name, this);\n  }\n\n  onListBlur() {\n    // IE11: Allow option click handler to execute before blur and close list\n    const handleBlur = () => {\n      this.toggleOpen(false);\n      this.removeActiveDescendantId();\n    };\n    this.blurTimeout = setTimeout(handleBlur, 100);\n  }\n\n  onKeyDown(event) {\n    if (!this.isOpen()) return;\n    let option = this.getFirstSelectedItem() || this.placeholder;\n    switch (event.keyCode) {\n      case 38: // UP\n        event.preventDefault();\n        option = option.getPrevious() || option.getLast();\n        break;\n      case 40: // DOWN\n        event.preventDefault();\n        option = option.getNext() || option.getFirst();\n        break;\n      case 13: // ENTER\n      case 32: // SPACE\n      case 27: // ESCAPE\n        event.preventDefault();\n        this.$button.focus();\n        return;\n      default:\n        return;\n    }\n    option.select().scrollTo();\n  }\n\n  getFirstSelectedItem() {\n    return this.options.find(option => option.isSelected()) || this.options[0];\n  }\n\n  setActiveDescendantId(id) {\n    this.$list.attr('aria-activedescendant', id);\n  }\n\n  removeActiveDescendantId() {\n    this.$list.removeAttr('aria-activedescendant');\n  }\n\n  select(value) {\n    value = String(value);\n    const option = this.options.find(option => option.getValue() === value);\n    if (option) {\n      option.select();\n      return;\n    }\n    this.placeholder.select();\n  }\n\n  toggleDisabled(value = !this.$input.attr('disabled')) {\n    if (value === false) {\n      this.$input.removeAttr('disabled');\n      this.$button\n        .removeAttr('disabled')\n        .removeClass('is-disabled');\n      this.$el.removeAttr('disabled');\n      return;\n    }\n    this.$input.attr('disabled', '');\n    this.$button\n      .attr('disabled', '')\n      .addClass('is-disabled');\n    this.$el.attr('disabled', '');\n  }\n\n  isEmpty() {\n    return !this.getFirstSelectedItem();\n  }\n\n  val() {\n    return this.$input.val();\n  }\n\n  destroy() {\n    this.removeEventListeners();\n    this.$el.remove();\n    delete this.options;\n    delete this.$input;\n    delete this.$inner;\n    delete this.$button;\n    delete this.$list;\n    delete this.$el;\n  }\n\n  removeEventListeners() {\n    this.$button.off({\n      'mousedown touchstart': this.onStartInteraction,\n      click: this.onButtonClick\n    });\n    this.$list.off('blur', this.onListBlur);\n    $(document).off('keydown', this.onKeyDown);\n  }\n\n}\n\nDropDown.defaults = {\n\n  load() {},\n\n  openList() {\n    this.$list\n      .css({\n        top: '',\n        left: this.$button[0].offsetLeft,\n        width: this.$button.outerWidth()\n      })\n      .addClass('u-visibility-hidden')\n      .removeClass('u-display-none');\n\n    const offset = this.$list[0].getBoundingClientRect();\n    const height = this.$list.height();\n    const windowHeight = $(window).height();\n    const isOffscreen = (offset.top + height > windowHeight);\n\n    this.$list\n      .css('top', isOffscreen ? -height : '')\n      .removeClass('u-visibility-hidden')\n      .focus();\n  },\n\n  closeList() {\n    this.$list\n      .removeClass('u-visibility-hidden')\n      .addClass('u-display-none')\n      .css('top', '');\n  },\n\n  scrollToItem(option) {\n    const height = this.$list[0].clientHeight;\n    const pos = option.$el[0].offsetTop - (height / 2);\n    this.$list[0].scrollTop = pos;\n  }\n\n};\n\nexport default DropDown;\n","import Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\nimport DropDown from './dropdown';\n\nexport default class MatchingView extends QuestionView {\n\n  preinitialize() {\n    this.dropdowns = [];\n  }\n\n  disableQuestion() {\n    this.dropdowns.forEach(dropdown => dropdown.toggleDisabled(true));\n  }\n\n  enableQuestion() {\n    this.dropdowns.forEach(dropdown => dropdown.toggleDisabled(false));\n  }\n\n  setupQuestion() {\n    this.listenToOnce(Adapt.parentView, 'postRemove', this.onPostRemove);\n    this.model.setupRandomisation();\n  }\n\n  onPostRemove() {\n    this.dropdowns.forEach(dropdown => {\n      dropdown.off('change', this.onOptionSelected);\n      dropdown.destroy();\n    });\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n    this.setUpDropdowns();\n  }\n\n  setUpDropdowns() {\n    this.onOptionSelected = this.onOptionSelected.bind(this);\n    const items = this.model.get('_items');\n    this.$('.matching__item').each((i, el) => {\n      const item = items[i];\n      const selectedOption = item._options.find(({ _isSelected }) => _isSelected);\n      const dropdown = new DropDown({\n        el: $(el).find('.dropdown')[0],\n        placeholder: this.model.get('placeholder'),\n        value: selectedOption?._index ?? null\n      });\n      this.dropdowns.push(dropdown);\n      dropdown.on('change', this.onOptionSelected);\n    });\n    this.enableQuestion();\n    if (this.model.get('_isEnabled') !== true) {\n      this.disableQuestion();\n    }\n  }\n\n  onCannotSubmit() {\n    this.dropdowns.forEach(dropdown => {\n      if (!dropdown.isEmpty()) return;\n      dropdown.$el.parents('.matching__select-container').addClass('has-error');\n    });\n  }\n\n  onOptionSelected(dropdown) {\n    if (this.model.get('_isInteractionComplete')) return;\n    const $container = dropdown.$el.parents('.matching__select-container');\n    $container.removeClass('error');\n    const itemIndex = dropdown.$el.parents('.matching__item').index();\n    if (dropdown.isEmpty()) return;\n    const optionIndex = parseInt(dropdown.val());\n    this.model.setOptionSelected(itemIndex, optionIndex, true);\n  }\n\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.model.get('_items').forEach(({ _isCorrect }, i) => {\n      const $item = this.$('.matching__item').eq(i);\n      $item\n        .toggleClass('is-correct', _isCorrect)\n        .toggleClass('is-incorrect', !_isCorrect);\n    });\n  }\n\n  resetQuestion() {\n    this.$('.matching__item').removeClass('is-correct is-incorrect');\n    this.model.set('_isAtLeastOneCorrectSelection', false);\n    const resetAll = this.model.get('_shouldResetAllAnswers');\n    this.model.get('_items').forEach((item, index) => {\n      if (item._isCorrect && resetAll === false) return;\n      this.selectValue(index, null);\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n  }\n\n  showCorrectAnswer() {\n    this.model.get('_items').forEach(({ _options }, index) => {\n      const correctOption = _options.find(({ _isCorrect }) => _isCorrect);\n      this.selectValue(index, correctOption._index);\n    });\n  }\n\n  hideCorrectAnswer() {\n    const answerArray = this.model.has('_tempUserAnswer') ?\n      this.model.get('_tempUserAnswer') :\n      this.model.get('_userAnswer');\n\n    this.model.get('_items').forEach(({ _options }, index) => {\n      const key = answerArray[index];\n      const value = _options[key]._index;\n      this.selectValue(index, value);\n    });\n  }\n\n  /**\n   * Sets the selected item of a dropdown\n   * @param {number} index The index (0-based) of the dropdown\n   * @param {string} value The option _index\n   * @example\n   * // Sets the third dropdown to option _index 1\n   * this.selectValue(2, 1);\n   */\n  selectValue(index, optionIndex) {\n    if (!this.dropdowns) return;\n    const dropdown = this.dropdowns[index];\n    if (!dropdown) return;\n    dropdown.select(optionIndex);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class MatchingModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.setupQuestionItemIndexes();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set('_isAtLeastOneCorrectSelection', false);\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) {\n        item._index = index;\n        item._selected = false;\n      }\n      item._options.forEach((option, index) => {\n        if (option._index !== undefined) return;\n        option._index = index;\n        option._isSelected = false;\n      });\n    });\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.get('_items').forEach(item => (item._options = _.shuffle(item._options)));\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n\n    this.get('_items').forEach(item => {\n      item._options.forEach(option => {\n        if (option._index !== userAnswer[item._index]) return;\n        option._isSelected = true;\n        item._selected = option;\n      });\n    });\n\n    this.setQuestionAsSubmitted();\n    this.checkCanSubmit();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  canSubmit() {\n    // can submit if every item has a selection\n    const canSubmit = this.get('_items').every(({ _options }) => {\n      return _options.some(({ _isSelected }) => _isSelected);\n    });\n\n    return canSubmit;\n  }\n\n  setOptionSelected(itemIndex, optionIndex, isSelected) {\n    const item = this.get('_items')[itemIndex];\n    if (isNaN(optionIndex)) {\n      item._options.forEach(option => (option._isSelected = false));\n      item._selected = null;\n      return this.checkCanSubmit();\n    }\n    const option = item._options.find(({ _index }) => _index === optionIndex);\n    option._isSelected = isSelected;\n    item._selected = option;\n    this.checkCanSubmit();\n  }\n\n  storeUserAnswer() {\n    const userAnswer = new Array(this.get('_items').length);\n    const tempUserAnswer = new Array(this.get('_items').length);\n\n    this.get('_items').forEach(item => {\n      const optionIndex = item._options.findIndex(({ _isSelected }) => _isSelected);\n\n      tempUserAnswer[item._index] = optionIndex;\n      userAnswer[item._index] = item._options[optionIndex]._index;\n    });\n\n    this.set({\n      _userAnswer: userAnswer,\n      _tempUserAnswer: tempUserAnswer\n    });\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').reduce((a, item) => {\n      const isCorrect = item._selected?._isCorrect;\n      item._isCorrect = Boolean(isCorrect);\n      if (!isCorrect) {\n        return a;\n      }\n      this.set('_isAtLeastOneCorrectSelection', true);\n      return ++a;\n    }, 0);\n\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    if (numberOfCorrectAnswers === this.get('_items').length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  setScore() {\n    const questionWeight = this.get('_questionWeight');\n\n    if (this.get('_isCorrect')) {\n      this.set('_score', questionWeight);\n      return;\n    }\n\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n\n    this.set('_score', score);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  resetUserAnswer() {\n    this.set('_userAnswer', []);\n  }\n\n  /**\n  * Used by tracking extensions to return an object containing the component's specific interactions.\n  */\n  getInteractionObject() {\n    const interactions = {\n      correctResponsesPattern: null,\n      source: null,\n      target: null\n    };\n    const items = this.get('_items');\n    // This contains an array with a single string value, matching the source 'id' with the correct\n    // matching target 'id' value. An example is as follows:\n    // [ \"1[.]1_2[,]2[.]2_3\" ]\n    interactions.correctResponsesPattern = [\n      items.map(({ _options }, questionIndex) => {\n        // Offset the item index and use it as a group identifier.\n        questionIndex++;\n        return [\n          questionIndex,\n          // Get the correct item(s).\n          _options.filter(({ _isCorrect }) => _isCorrect).map(({ _index }) => {\n            // Prefix the option's index and offset by 1.\n            return `${questionIndex}_${_index + 1}`;\n          })\n        ].join('[.]');\n      }).join('[,]')\n    ];\n    // The 'source' property contains an array of all the stems/questions, e.g.\n    // [{id: \"1\", description: \"First question\"}, {id: \"2\", description: \"Second question\"}]\n    interactions.source = items.map(item => {\n      return {\n        // Offset by 1.\n        id: `${item._index + 1}`,\n        description: item.text\n      };\n    }).flat(Infinity);\n    // The 'target' property contains an array of all the option responses, with the 'id'\n    // prefixed to indicate the grouping, e.g.\n    // [  {id: \"1_1\": description: \"First option, group 1\"},\n    //    {id: \"1_2\": description: \"Second option, group 1\"}\n    //    {id: \"2_1\": description: \"First option, group 2\"}  ]\n    interactions.target = items.map(({ _options }, index) => {\n      // Offset by 1, as these values are not zero-indexed.\n      index++;\n      return _options.map(option => {\n        return {\n          id: `${index}_${option._index + 1}`,\n          description: option.text\n        };\n      });\n    }).flat(Infinity);\n    return interactions;\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * @return {string} the user's answers as a string in the format \"1.1#2.3#3.2\" assuming user selected option 1 in drop-down 1,\n  * option 3 in drop-down 2 and option 2 in drop-down 3. The '#' character will be changed to either ',' or '[,]' by adapt-contrib-spoor,\n  * depending on which SCORM version is being used.\n  */\n  getResponse() {\n    const responses = this.get('_userAnswer').map((userAnswer, index) => {\n      // convert from 0-based to 1-based counting\n      return `${index + 1}.${userAnswer + 1}`;\n    });\n\n    return responses.join('#');\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  * @return {string}\n  */\n  getResponseType() {\n    return 'matching';\n  }\n\n  /**\n   * Creates a string explaining the answers the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const correctAnswerTemplate = Adapt.course.get('_globals')._components._matching.ariaCorrectAnswer;\n    const ariaAnswer = this.get('_items').map(item => {\n      const correctOption = item._options.find(({ _isCorrect }) => _isCorrect);\n      return Handlebars.compile(correctAnswerTemplate)({\n        itemText: item.text,\n        correctAnswer: correctOption.text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n\n  /**\n   * Creates a string listing the answers the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const userAnswerTemplate = Adapt.course.get('_globals')._components._matching.ariaUserAnswer;\n    const answerArray = this.has('_tempUserAnswer') ?\n      this.get('_tempUserAnswer') :\n      this.get('_userAnswer');\n\n    const ariaAnswer = this.get('_items').map((item, index) => {\n      const key = answerArray[index];\n      return Handlebars.compile(userAnswerTemplate)({\n        itemText: item.text,\n        userAnswer: item._options[key].text\n      });\n    }).join('<br>');\n\n    return ariaAnswer;\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport MatchingView from './matchingView';\nimport MatchingModel from './matchingModel';\n\nexport default Adapt.register('matching', {\n  view: MatchingView,\n  model: MatchingModel\n});\n","define([\n  'core/js/adapt',\n  'libraries/mediaelement-and-player'\n], function(Adapt) {\n  var mepPrototype = $.extend({}, mejs.MediaElementPlayer.prototype);\n\n  $.extend(mejs.MediaElementPlayer.prototype, {\n    /**\n    * fixes a bug (adaptlearning/adapt_framework#1478)\n    * where the media player going into/coming out of full-screen mode would trigger inview on\n    * components below it; we therefore need to switch off inview when entering full screen mode\n    * and switch it back on again after exiting full screen mode\n    */\n    detectFullscreenMode: function() {\n      var vendorPrefix = this.getVendorPrefix();\n      var fsEventName = 'on' + vendorPrefix + 'fullscreenchange';\n\n      if (document[fsEventName] === null) {\n        document[fsEventName] = function fullScreenEventHandler() {\n\n          var elementName = (vendorPrefix === '' ? 'fullscreenElement' : vendorPrefix + 'FullscreenElement');\n\n          if (document[elementName] !== null) {\n            $.inview.lock('mediaelement');\n            Adapt.trigger('media:fullscreen:enter');\n          } else {\n            $.inview.unlock('mediaelement');\n            Adapt.trigger('media:fullscreen:exit');\n          }\n        };\n      }\n      return mepPrototype.detectFullscreenMode.apply(this, arguments);\n    },\n\n    /**\n    * because the fullscreen events and properties are still vendor-prefixed in some browsers...\n    */\n    getVendorPrefix: function() {\n      var browser = Adapt.device.browser;\n\n      if (browser === 'internet explorer') {\n        return 'ms';\n      }\n\n      if (browser === 'microsoft edge' || browser === 'safari') {\n        return 'webkit';\n      }\n\n      return ''; // Chrome, Opera and Firefox no longer require a vendor prefix\n    }\n  });\n});\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport 'libraries/mediaelement-and-player';\nimport 'libraries/mediaelement-fullscreen-hook';\nimport log from 'core/js/logging';\nimport offlineStorage from 'core/js/offlineStorage';\n\n/*\n  * Default shortcut keys trap a screen reader user inside the player once in focus. These keys are unnecessary\n  * as one may traverse the player in a linear fashion without needing to know or use shortcut keys. Below is\n  * the removal of the default shortcut keys.\n  *\n  * The default seek interval functions are passed two different data types from mejs which they handle incorrectly. One\n  * is a duration integer the other is the player object. The default functions error on slider key press and so break\n  * accessibility. Below is a correction.\n  */\n\nObject.assign(window.mejs.MepDefaults, {\n  keyActions: [],\n  defaultSeekForwardInterval: duration => {\n    if (typeof duration === 'object') return duration.duration * 0.05;\n    return duration * 0.05;\n  },\n  defaultSeekBackwardInterval: duration => {\n    if (typeof duration === 'object') return duration.duration * 0.05;\n    return duration * 0.05;\n  }\n});\n\n// The following function is used to to prevent a memory leak in Internet Explorer\n// See: http://javascript.crockford.com/memory/leak.html\nconst purge = function(d) {\n  let a = d.attributes;\n  if (a) {\n    for (let i = a.length - 1; i >= 0; i -= 1) {\n      const n = a[i].name;\n      if (typeof d[n] === 'function') {\n        d[n] = null;\n      }\n    }\n  }\n  a = d.childNodes;\n  if (a) {\n    for (let i = 0, count = a.length; i < count; i += 1) {\n      purge(d.childNodes[i]);\n    }\n  }\n};\n\n/**\n * Force the default language so that the aria-label can be localised from Adapt\n * Note: Do not change these, their names and values are required for mapping in mejs\n */\nwindow.mejs.i18n.locale.language = 'en-US';\nwindow.mejs.i18n.locale.strings['en-US'] = {};\nconst ariaLabelMappings = {\n  playText: 'Play',\n  pauseText: 'Pause',\n  stopText: 'Stop',\n  audioPlayerText: 'Audio Player',\n  videoPlayerText: 'Video Player',\n  tracksText: 'Captions/Subtitles',\n  timeSliderText: 'Time Slider',\n  muteText: 'Mute Toggle',\n  unmuteStatusText: 'Unmute',\n  muteStatusText: 'Mute',\n  volumeSliderText: 'Volume Slider',\n  fullscreenText: 'Fullscreen',\n  goFullscreenText: 'Go Fullscreen',\n  turnOffFullscreenText: 'Turn off Fullscreen',\n  noneText: 'None',\n  skipBackText: 'Skip back %1 seconds',\n  allyVolumeControlText: 'Use Up/Down Arrow keys to increase or decrease volume.',\n  progessHelpText: 'Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.'\n};\n\nAdapt.on('app:dataReady', () => {\n  // Populate the aria labels from the _global._components._media\n  const dynamicLabels = window.mejs.i18n.locale.strings['en-US'];\n  const fixedDefaults = window.mejs.MepDefaults;\n  const globals = Adapt.course.get('_globals')?._components?._media;\n  for (const k in ariaLabelMappings) {\n    dynamicLabels[ariaLabelMappings[k]] = globals[k] ?? ariaLabelMappings[k];\n    fixedDefaults[k] = dynamicLabels[ariaLabelMappings[k]];\n  }\n});\n\nclass MediaView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-media-inline-transcript-toggle': 'onToggleInlineTranscript',\n      'click .js-media-external-transcript-click': 'onExternalTranscriptClicked',\n      'click .js-skip-to-transcript': 'onSkipToTranscript'\n    };\n  }\n\n  className() {\n    let classes = super.className();\n    const playerOptions = this.model.get('_playerOptions');\n    if (playerOptions?.toggleCaptionsButtonWhenOnlyOne) {\n      classes += ' toggle-captions';\n    }\n    return classes;\n  }\n\n  preRender() {\n    this.listenTo(Adapt, {\n      'device:resize': this.onScreenSizeChanged,\n      'device:changed': this.onDeviceChanged,\n      'media:stop': this.onMediaStop\n    });\n\n    _.bindAll(this, 'onMediaElementPlay', 'onMediaElementPause', 'onMediaElementEnded', 'onMediaElementTimeUpdate', 'onMediaElementSeeking', 'onOverlayClick', 'onMediaElementClick', 'onWidgetInview');\n\n    // set initial player state attributes\n    this.model.set({\n      _isMediaEnded: false,\n      _isMediaPlaying: false\n    });\n\n    if (!this.model.get('_media').source) return;\n    const media = this.model.get('_media');\n\n    // Avoid loading of Mixed Content (insecure content on a secure page)\n    if (window.location.protocol === 'https:' && media.source.indexOf('http:') === 0) {\n      media.source = media.source.replace(/^http:/, 'https:');\n    }\n\n    this.model.set('_media', media);\n  }\n\n  postRender() {\n    this.setupPlayer();\n    this.addMejsButtonClass();\n  }\n\n  addMejsButtonClass() {\n    this.$('.mejs-overlay-button').addClass('icon');\n  }\n\n  setupPlayer() {\n    if (!this.model.get('_playerOptions')) this.model.set('_playerOptions', {});\n\n    const modelOptions = this.model.get('_playerOptions');\n\n    if (modelOptions.pluginPath === undefined) {\n      // on the off-chance anyone still needs to use the Flash-based player...\n      _.extend(modelOptions, {\n        pluginPath: 'https://cdnjs.cloudflare.com/ajax/libs/mediaelement/2.21.2/',\n        flashName: 'flashmediaelement-cdn.swf',\n        flashScriptAccess: 'always'\n      });\n    }\n\n    if (modelOptions.features === undefined) {\n      modelOptions.features = ['playpause', 'progress', 'current', 'duration'];\n      if (this.model.get('_useClosedCaptions')) {\n        modelOptions.features.unshift('tracks');\n      }\n      if (this.model.get('_allowFullScreen')) {\n        modelOptions.features.push('fullscreen');\n      }\n      if (this.model.get('_showVolumeControl')) {\n        modelOptions.features.push('volume');\n      }\n    }\n\n    /*\n    Unless we are on Android/iOS and using native controls, when MediaElementJS initializes the player\n    it will invoke the success callback prior to performing one last call to setPlayerSize.\n    This call to setPlayerSize is deferred by 50ms so we add a delay of 100ms here to ensure that\n    we don't invoke setReadyStatus until the player is definitely finished rendering.\n    */\n    modelOptions.success = _.debounce(this.onPlayerReady.bind(this), 100);\n\n    if (this.model.get('_useClosedCaptions')) {\n      const startLanguage = this.model.get('_startLanguage') || 'en';\n      if (!offlineStorage.get('captions')) {\n        offlineStorage.set('captions', startLanguage);\n      }\n      modelOptions.startLanguage = this.checkForSupportedCCLanguage(offlineStorage.get('captions'));\n    }\n\n    if (modelOptions.alwaysShowControls === undefined) {\n      modelOptions.alwaysShowControls = false;\n    }\n    if (modelOptions.hideVideoControlsOnLoad === undefined) {\n      modelOptions.hideVideoControlsOnLoad = true;\n    }\n\n    this.addMediaTypeClass();\n\n    this.addThirdPartyFixes(modelOptions, () => {\n      // create the player\n      this.$('audio, video').mediaelementplayer(modelOptions);\n      this.cleanUpPlayer();\n\n      const _media = this.model.get('_media');\n      // if no media is selected - set ready now, as success won't be called\n      if (!_media.mp3 && !_media.mp4 && !_media.ogv && !_media.webm && !_media.source) {\n        log.warn('ERROR! No media is selected in components.json for component ' + this.model.get('_id'));\n        this.setReadyStatus();\n        return;\n      }\n      // Check if we're streaming\n      if (!_media.source) return;\n      this.$('.media__widget').addClass('external-source');\n    });\n  }\n\n  addMediaTypeClass() {\n    const media = this.model.get('_media');\n    if (!media?.type) return;\n    const typeClass = media.type.replace(/\\//, '-');\n    this.$('.media__widget').addClass(typeClass);\n  }\n\n  addThirdPartyFixes(modelOptions, callback) {\n    const media = this.model.get('_media');\n    if (!media) return callback();\n\n    if (media.mp3 || media.ogg) {\n      // https://github.com/adaptlearning/adapt_framework/issues/3055\n      modelOptions.alwaysShowControls = true;\n    }\n\n    switch (media.type) {\n      case 'video/vimeo':\n        modelOptions.alwaysShowControls = false;\n        modelOptions.hideVideoControlsOnLoad = true;\n        modelOptions.features = [];\n        if (MediaView.froogaloopAdded) return callback();\n        $.getScript('assets/froogaloop.js')\n          .done(() => {\n            MediaView.froogaloopAdded = true;\n            callback();\n          })\n          .fail(() => {\n            MediaView.froogaloopAdded = false;\n            log.error('Could not load froogaloop.js');\n          });\n        break;\n      default:\n        callback();\n    }\n  }\n\n  cleanUpPlayer() {\n    this.$('.media__widget').children('.mejs-offscreen').remove();\n    this.$('[role=application]').removeAttr('role tabindex');\n    this.$('[aria-controls]').removeAttr('aria-controls');\n    this.$('.mejs-overlay-play').attr('aria-hidden', 'true');\n  }\n\n  setupEventListeners() {\n    this.completionEvent = (this.model.get('_setCompletionOn') || 'play');\n\n    if (this.completionEvent === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    }\n\n    // wrapper to check if preventForwardScrubbing is turned on.\n    if ((this.model.get('_preventForwardScrubbing')) && (!this.model.get('_isComplete'))) {\n      $(this.mediaElement).on({\n        seeking: this.onMediaElementSeeking,\n        timeupdate: this.onMediaElementTimeUpdate\n      });\n    }\n\n    // handle other completion events in the event Listeners\n    $(this.mediaElement).on({\n      play: this.onMediaElementPlay,\n      pause: this.onMediaElementPause,\n      ended: this.onMediaElementEnded\n    });\n\n    // occasionally the mejs code triggers a click of the captions language\n    // selector during setup, this slight delay ensures we skip that\n    _.delay(this.listenForCaptionsChange.bind(this), 250);\n  }\n\n  /**\n   * Sets up the component to detect when the user has changed the captions so that it can store the user's\n   * choice in offlineStorage and notify other media components on the same page of the change\n   * Also sets the component up to listen for this event from other media components on the same page\n   */\n  listenForCaptionsChange() {\n    if (!this.model.get('_useClosedCaptions')) return;\n\n    const selector = this.model.get('_playerOptions').toggleCaptionsButtonWhenOnlyOne ?\n      '.mejs-captions-button button' :\n      '.mejs-captions-selector';\n\n    this.$(selector).on('click.mediaCaptionsChange', _.debounce(() => {\n      const srclang = this.mediaElement.player.selectedTrack ? this.mediaElement.player.selectedTrack.srclang : 'none';\n      offlineStorage.set('captions', srclang);\n      Adapt.trigger('media:captionsChange', this, srclang);\n    }, 250)); // needs debouncing because the click event fires twice\n\n    this.listenTo(Adapt, 'media:captionsChange', this.onCaptionsChanged);\n  }\n\n  /**\n   * Handles updating the captions in this instance when learner changes captions in another\n   * media component on the same page\n   * @param {Backbone.View} view The view instance that triggered the event\n   * @param {string} lang The captions language the learner chose in the other media component\n   */\n  onCaptionsChanged(view, lang) {\n    if (view?.cid === this.cid) return; // ignore the event if we triggered it\n\n    lang = this.checkForSupportedCCLanguage(lang);\n\n    this.mediaElement.player.setTrack(lang);\n\n    // because calling player.setTrack doesn't update the cc button's languages popup...\n    const $inputs = this.$('.mejs-captions-selector input');\n    $inputs.filter(':checked').prop('checked', false);\n    $inputs.filter(`[value=\"${lang}\"]`).prop('checked', true);\n  }\n\n  /**\n   * When the learner selects a captions language in another media component, that language may not be available\n   * in this instance, in which case default to the `_startLanguage` if that's set - or \"none\" if it's not\n   * @param {string} lang The language we're being asked to switch to e.g. \"de\"\n   * @return {string} The language we're actually going to switch to - or \"none\" if there's no good match\n   */\n  checkForSupportedCCLanguage(lang) {\n    if (!lang || lang === 'none') return 'none';\n\n    if (_.findWhere(this.model.get('_media').cc, { srclang: lang })) return lang;\n\n    return this.model.get('_startLanguage') || 'none';\n  }\n\n  onMediaElementPlay(event) {\n    this.queueGlobalEvent('play');\n\n    Adapt.trigger('media:stop', this);\n\n    if (this.model.get('_pauseWhenOffScreen')) {\n      this.$('.mejs-container').on('inview', this.onWidgetInview);\n    }\n\n    this.model.set({\n      _isMediaPlaying: true,\n      _isMediaEnded: false\n    });\n\n    if (this.completionEvent !== 'play') return;\n    this.setCompletionStatus();\n  }\n\n  onMediaElementPause(event) {\n    this.queueGlobalEvent('pause');\n\n    this.$('.mejs-container').off('inview', this.onWidgetInview);\n\n    this.model.set('_isMediaPlaying', false);\n  }\n\n  onMediaElementEnded(event) {\n    this.queueGlobalEvent('ended');\n\n    this.model.set('_isMediaEnded', true);\n\n    if (this.completionEvent === 'ended') {\n      this.setCompletionStatus();\n    }\n  }\n\n  onWidgetInview(event, isInView) {\n    if (!isInView && !this.mediaElement.paused) this.mediaElement.player.pause();\n  }\n\n  onMediaElementSeeking(event) {\n    let maxViewed = this.model.get('_maxViewed');\n    if (!maxViewed) {\n      maxViewed = 0;\n    }\n    if (event.target.currentTime <= maxViewed) return;\n    event.target.currentTime = maxViewed;\n  }\n\n  onMediaElementTimeUpdate(event) {\n    let maxViewed = this.model.get('_maxViewed');\n    if (!maxViewed) {\n      maxViewed = 0;\n    }\n    if (event.target.currentTime <= maxViewed) return;\n    this.model.set('_maxViewed', event.target.currentTime);\n  }\n\n  // Overrides the default play/pause functionality to stop accidental playing on touch devices\n  setupPlayPauseToggle() {\n    // bit sneaky, but we don't have a this.mediaElement.player ref on iOS devices\n    const player = this.mediaElement.player;\n\n    if (!player) {\n      log.warn('MediaView.setupPlayPauseToggle: OOPS! there is no player reference.');\n      return;\n    }\n\n    // stop the player dealing with this, we'll do it ourselves\n    player.options.clickToPlayPause = false;\n\n    // play on 'big button' click\n    this.$('.mejs-overlay-button').on('click', this.onOverlayClick);\n\n    // pause on player click\n    this.$('.mejs-mediaelement').on('click', this.onMediaElementClick);\n  }\n\n  onMediaStop(view) {\n\n    // Make sure this view isn't triggering media:stop\n    if (view?.cid === this.cid) return;\n\n    if (!this.mediaElement || !this.mediaElement.player) return;\n\n    this.mediaElement.player.pause();\n\n  }\n\n  onOverlayClick() {\n    const player = this.mediaElement.player;\n    if (!player) return;\n\n    player.play();\n  }\n\n  onMediaElementClick(event) {\n    const player = this.mediaElement.player;\n    if (!player) return;\n\n    const isPaused = player.media.paused;\n    if (!isPaused) player.pause();\n  }\n\n  remove() {\n    this.$('.mejs-overlay-button').off('click', this.onOverlayClick);\n    this.$('.mejs-mediaelement').off('click', this.onMediaElementClick);\n    this.$('.mejs-container').off('inview', this.onWidgetInview);\n\n    if (this.model.get('_useClosedCaptions')) {\n      const selector = this.model.get('_playerOptions').toggleCaptionsButtonWhenOnlyOne ?\n        '.mejs-captions-button button' :\n        '.mejs-captions-selector';\n      this.$(selector).off('click.mediaCaptionsChange');\n    }\n\n    const modelOptions = this.model.get('_playerOptions');\n    delete modelOptions.success;\n\n    const media = this.model.get('_media');\n    if (media) {\n      switch (media.type) {\n        case 'video/vimeo':\n          this.$('iframe')[0].isRemoved = true;\n      }\n    }\n\n    if (this.mediaElement && this.mediaElement.player) {\n      const playerId = this.mediaElement.player.id;\n\n      purge(this.$el[0]);\n      this.mediaElement.player.remove();\n\n      if (window.mejs.players[playerId]) {\n        delete window.mejs.players[playerId];\n      }\n    }\n\n    if (this.mediaElement) {\n      $(this.mediaElement).off({\n        play: this.onMediaElementPlay,\n        pause: this.onMediaElementPause,\n        ended: this.onMediaElementEnded,\n        seeking: this.onMediaElementSeeking,\n        timeupdate: this.onMediaElementTimeUpdate\n      });\n\n      this.mediaElement.src = '';\n      $(this.mediaElement.pluginElement).remove();\n      delete this.mediaElement;\n    }\n\n    super.remove();\n  }\n\n  onDeviceChanged() {\n    if (!this.model.get('_media').source) return;\n    this.$('.mejs-container').width(this.$('.component__widget').width());\n  }\n\n  onPlayerReady(mediaElement, domObject) {\n    this.mediaElement = mediaElement;\n\n    let player = this.mediaElement.player;\n    if (!player) player = window.mejs.players[this.$('.mejs-container').attr('id')];\n\n    const hasTouch = window.mejs.MediaFeatures.hasTouch;\n    if (hasTouch) {\n      this.setupPlayPauseToggle();\n    }\n\n    this.addThirdPartyAfterFixes();\n    this.cleanUpPlayerAfter();\n\n    if (player && this.model.has('_startVolume')) {\n      // Setting the start volume only works with the Flash-based player if you do it here rather than in setupPlayer\n      player.setVolume(parseInt(this.model.get('_startVolume')) / 100);\n    }\n\n    this.setReadyStatus();\n    this.setupEventListeners();\n  }\n\n  addThirdPartyAfterFixes() {\n    const media = this.model.get('_media');\n    switch (media.type) {\n      case 'video/vimeo':\n        this.$('.mejs-container').attr('tabindex', 0);\n    }\n  }\n\n  cleanUpPlayerAfter() {\n    this.$(\"[aria-valuemax='NaN']\").attr('aria-valuemax', 0);\n  }\n\n  onScreenSizeChanged() {\n    this.$('audio, video').width(this.$('.component__widget').width());\n  }\n\n  onSkipToTranscript() {\n    // need slight delay before focussing button to make it work when JAWS is running\n    // see https://github.com/adaptlearning/adapt_framework/issues/2427\n    _.delay(() => {\n      a11y.focus(this.$('.media__transcript-btn'));\n    }, 250);\n  }\n\n  onToggleInlineTranscript(event) {\n    if (event) event.preventDefault();\n    const $transcriptBodyContainer = this.$('.media__transcript-body-inline');\n    const $button = this.$('.media__transcript-btn-inline');\n    const $buttonText = this.$('.media__transcript-btn-inline .media__transcript-btn-text');\n\n    if ($transcriptBodyContainer.hasClass('inline-transcript-open')) {\n      $transcriptBodyContainer.stop(true, true).slideUp(() => {\n        $(window).resize();\n      }).removeClass('inline-transcript-open');\n      $button.attr('aria-expanded', false);\n      $buttonText.html(this.model.get('_transcript').inlineTranscriptButton);\n\n      return;\n    }\n\n    $transcriptBodyContainer.stop(true, true).slideDown(() => {\n      $(window).resize();\n    }).addClass('inline-transcript-open');\n\n    $button.attr('aria-expanded', true);\n    $buttonText.html(this.model.get('_transcript').inlineTranscriptCloseButton);\n\n    if (this.model.get('_transcript')._setCompletionOnView !== false) {\n      this.setCompletionStatus();\n    }\n  }\n\n  onExternalTranscriptClicked(event) {\n    if (this.model.get('_transcript')._setCompletionOnView === false) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * Queue firing a media event to prevent simultaneous events firing, and provide a better indication of how the\n   * media  player is behaving\n   * @param {string} eventType\n   */\n  queueGlobalEvent(eventType) {\n    const time = Date.now();\n    const lastEvent = this.lastEvent || { time: 0 };\n    const timeSinceLastEvent = time - lastEvent.time;\n    const debounceTime = 500;\n\n    this.lastEvent = {\n      time,\n      type: eventType\n    };\n\n    // Clear any existing timeouts\n    clearTimeout(this.eventTimeout);\n\n    // Always trigger 'ended' events\n    if (eventType === 'ended') {\n      return this.triggerGlobalEvent(eventType);\n    }\n\n    // Fire the event after a delay, only if another event has not just been fired\n    if (timeSinceLastEvent <= debounceTime) return;\n    this.eventTimeout = setTimeout(this.triggerGlobalEvent.bind(this, eventType), debounceTime);\n  }\n\n  triggerGlobalEvent(eventType) {\n    const player = this.mediaElement.player;\n\n    const eventObj = {\n      type: eventType,\n      src: this.mediaElement.src,\n      platform: this.mediaElement.pluginType\n    };\n\n    if (player) eventObj.isVideo = player.isVideo;\n\n    Adapt.trigger('media', eventObj);\n  }\n\n}\n\nMediaView.froogaloopAdded = false;\n\nexport default MediaView;\n","import Adapt from 'core/js/adapt';\nimport MediaView from './mediaView';\nimport ComponentModel from 'core/js/models/componentModel';\n\nexport default Adapt.register('media', {\n  // create a new class in the inheritance chain so it can be extended per component type if necessary later\n  model: ComponentModel.extend({}),\n  view: MediaView\n});\n","import ItemsComponentModel from 'core/js/models/itemsComponentModel';\n\nexport default class NarrativeModel extends ItemsComponentModel {}\n","export default new ENUM([\n  'SMALL',\n  'LARGE'\n]);\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport device from 'core/js/device';\nimport MODE from './modeEnum';\n\nclass NarrativeView extends ComponentView {\n\n  events() {\n    return {\n      'click .js-narrative-strapline-open-popup': 'openPopup',\n      'click .js-narrative-controls-click': 'onNavigationClicked',\n      'click .js-narrative-progress-click': 'onProgressClicked',\n      'swipeleft .js-narrative-swipe': 'onSwipeLeft',\n      'swiperight .js-narrative-swipe': 'onSwipeRight'\n    };\n  }\n\n  initialize(...args) {\n    super.initialize(...args);\n\n    this._isInitial = true;\n  }\n\n  preRender() {\n    this.listenTo(Adapt, {\n      'device:changed device:resize': this.reRender,\n      'notify:closed': this.closeNotify\n    });\n    this.renderMode();\n\n    this.listenTo(this.model.getChildren(), {\n      'change:_isActive': this.onItemsActiveChange,\n      'change:_isVisited': this.onItemsVisitedChange\n    });\n\n    this.calculateWidths();\n  }\n\n  onItemsActiveChange(item, _isActive) {\n    if (!_isActive) return;\n    if (this.isTextBelowImage()) {\n      item.toggleVisited(true);\n    }\n    this.setStage(item);\n    this.setFocus(item.get('_index'));\n  }\n\n  setFocus(itemIndex) {\n    if (this._isInitial) return;\n    const $straplineHeaderElm = this.$('.narrative__strapline-header-inner');\n    const hasStraplineTransition = !this.isLargeMode() && ($straplineHeaderElm.css('transitionDuration') !== '0s');\n    if (hasStraplineTransition) {\n      $straplineHeaderElm.one('transitionend', () => {\n        this.focusOnNarrativeElement(itemIndex);\n      });\n      return;\n    }\n\n    this.focusOnNarrativeElement(itemIndex);\n  }\n\n  focusOnNarrativeElement(itemIndex) {\n    const dataIndexAttr = `[data-index='${itemIndex}']`;\n    const $elementToFocus = this.isLargeMode() ?\n      this.$(`.narrative__content-item${dataIndexAttr}`) :\n      this.$(`.narrative__strapline-btn${dataIndexAttr}`);\n    a11y.focusFirst($elementToFocus);\n  }\n\n  onItemsVisitedChange(item, _isVisited) {\n    if (!_isVisited) return;\n    this.$(`[data-index=\"${item.get('_index')}\"]`).addClass('is-visited');\n  }\n\n  calculateMode() {\n    const mode = device.screenSize === 'large' ? MODE.LARGE : MODE.SMALL;\n    this.model.set('_mode', mode);\n  }\n\n  renderMode() {\n    this.calculateMode();\n\n    const isLargeMode = this.isLargeMode();\n    const isTextBelowImage = this.isTextBelowImage();\n    this.$el\n      .toggleClass('mode-large', isLargeMode)\n      .toggleClass('mode-small', !isLargeMode)\n      .toggleClass('items-are-full-width', isTextBelowImage);\n  }\n\n  isLargeMode() {\n    return this.model.get('_mode') === MODE.LARGE;\n  }\n\n  isTextBelowImage() {\n    const isTextBelowImage = (device.screenSize === 'large')\n      ? this.model.get('_isTextBelowImage')\n      : this.model.get('_isMobileTextBelowImage');\n    return Boolean(isTextBelowImage);\n  }\n\n  postRender() {\n    this.renderMode();\n    this.setupNarrative();\n\n    this.$('.narrative__slider').imageready(this.setReadyStatus.bind(this));\n\n    if (Adapt.config.get('_disableAnimation')) {\n      this.$el.addClass('disable-animation');\n    }\n  }\n\n  setupNarrative() {\n    this.renderMode();\n    const items = this.model.getChildren();\n    if (!items || !items.length) return;\n\n    let activeItem = this.model.getActiveItem();\n    if (!activeItem) {\n      activeItem = this.model.getItem(0);\n      activeItem.toggleActive(true);\n    } else {\n      // manually trigger change as it is not fired on reentry\n      items.trigger('change:_isActive', activeItem, true);\n    }\n\n    this.calculateWidths();\n\n    if (!this.isLargeMode() && !this.model.get('_wasHotgraphic')) {\n      this.replaceInstructions();\n    }\n    this.setupEventListeners();\n    this._isInitial = false;\n  }\n\n  calculateWidths() {\n    const itemCount = this.model.getChildren().length;\n    this.model.set({\n      _totalWidth: 100 * itemCount,\n      _itemWidth: 100 / itemCount\n    });\n  }\n\n  resizeControl() {\n    const previousMode = this.model.get('_mode');\n    this.renderMode();\n    if (previousMode !== this.model.get('_mode')) this.replaceInstructions();\n    this.evaluateNavigation();\n    const activeItem = this.model.getActiveItem();\n    if (activeItem) this.setStage(activeItem);\n  }\n\n  reRender() {\n    if (this.model.get('_wasHotgraphic') && this.isLargeMode()) {\n      this.replaceWithHotgraphic();\n      return;\n    }\n    this.resizeControl();\n  }\n\n  closeNotify() {\n    this.evaluateCompletion();\n  }\n\n  replaceInstructions() {\n    if (this.isLargeMode()) {\n      this.$('.narrative__instruction-inner').html(this.model.get('instruction'));\n      return;\n    }\n\n    if (this.model.get('mobileInstruction') && !this.model.get('_wasHotgraphic')) {\n      this.$('.narrative__instruction-inner').html(this.model.get('mobileInstruction'));\n    }\n  }\n\n  replaceWithHotgraphic() {\n    const HotgraphicView = Adapt.getViewClass('hotgraphic');\n    if (!HotgraphicView) return;\n\n    const model = this.prepareHotgraphicModel();\n    const newHotgraphic = new HotgraphicView({ model });\n\n    this.$el.parents('.component__container').append(newHotgraphic.$el);\n    this.remove();\n    _.defer(() => {\n      Adapt.trigger('device:resize');\n    });\n  }\n\n  prepareHotgraphicModel() {\n    const model = this.model;\n    model.resetActiveItems();\n    model.set({\n      _isPopupOpen: false,\n      _component: 'hotgraphic',\n      body: model.get('originalBody'),\n      instruction: model.get('originalInstruction')\n    });\n\n    return model;\n  }\n\n  moveSliderToIndex(itemIndex) {\n    let offset = this.model.get('_itemWidth') * itemIndex;\n    if (Adapt.config.get('_defaultDirection') === 'ltr') {\n      offset *= -1;\n    }\n    const cssValue = `translateX(${offset}%)`;\n    const $sliderElm = this.$('.narrative__slider');\n    const $straplineHeaderElm = this.$('.narrative__strapline-header-inner');\n\n    $sliderElm.css('transform', cssValue);\n    $straplineHeaderElm.css('transform', cssValue);\n  }\n\n  setStage(item) {\n    const index = item.get('_index');\n    const indexSelector = `[data-index=\"${index}\"]`;\n\n    if (this.isLargeMode()) {\n      // Set the visited attribute for large screen devices\n      item.toggleVisited(true);\n    }\n\n    this.$('.narrative__progress').removeClass('is-selected').filter(indexSelector).addClass('is-selected');\n\n    const $slideGraphics = this.$('.narrative__slider-image-container');\n    a11y.toggleAccessibleEnabled($slideGraphics, false);\n    a11y.toggleAccessibleEnabled($slideGraphics.filter(indexSelector), true);\n\n    const $narrativeItems = this.$('.narrative__content-item');\n    $narrativeItems.addClass('u-visibility-hidden u-display-none');\n    a11y.toggleAccessible($narrativeItems, false);\n    a11y.toggleAccessible($narrativeItems.filter(indexSelector).removeClass('u-visibility-hidden u-display-none'), true);\n\n    const $narrativeStraplineButtons = this.$('.narrative__strapline-btn');\n    a11y.toggleAccessibleEnabled($narrativeStraplineButtons, false);\n    a11y.toggleAccessibleEnabled($narrativeStraplineButtons.filter(indexSelector), true);\n\n    this.evaluateNavigation();\n    this.evaluateCompletion();\n    this.shouldShowInstructionError();\n    this.moveSliderToIndex(index);\n  }\n\n  evaluateNavigation() {\n    const active = this.model.getActiveItem();\n    if (!active) return;\n\n    const index = active.get('_index');\n    const itemCount = this.model.getChildren().length;\n\n    const isAtStart = index === 0;\n    const isAtEnd = index === itemCount - 1;\n\n    const $left = this.$('.narrative__controls-left');\n    const $right = this.$('.narrative__controls-right');\n\n    const globals = Adapt.course.get('_globals');\n\n    const ariaLabelsGlobals = globals._accessibility._ariaLabels;\n    const narrativeGlobals = globals._components._narrative;\n\n    const ariaLabelPrevious = narrativeGlobals.previous || ariaLabelsGlobals.previous;\n    const ariaLabelNext = narrativeGlobals.next || ariaLabelsGlobals.next;\n\n    const prevTitle = isAtStart ? '' : this.model.getItem(index - 1).get('title');\n    const nextTitle = isAtEnd ? '' : this.model.getItem(index + 1).get('title');\n\n    $left.toggleClass('u-visibility-hidden', isAtStart);\n    $right.toggleClass('u-visibility-hidden', isAtEnd);\n\n    $left.attr('aria-label', Handlebars.helpers.compile_a11y_normalize(ariaLabelPrevious, {\n      title: prevTitle,\n      _globals: globals,\n      itemNumber: isAtStart ? null : index,\n      totalItems: itemCount\n    }));\n    $right.attr('aria-label', Handlebars.helpers.compile_a11y_normalize(ariaLabelNext, {\n      title: nextTitle,\n      _globals: globals,\n      itemNumber: isAtEnd ? null : index + 2,\n      totalItems: itemCount\n    }));\n  }\n\n  evaluateCompletion() {\n    if (this.model.areAllItemsCompleted()) {\n      this.trigger('allItems');\n      this.$('.narrative__instruction-inner').removeClass('instruction-error');\n    }\n  }\n\n  openPopup() {\n    const currentItem = this.model.getActiveItem();\n    Adapt.notify.popup({\n      title: currentItem.get('title'),\n      body: currentItem.get('body')\n    });\n\n    Adapt.on('popup:opened', function() {\n      // Set the visited attribute for small and medium screen devices\n      currentItem.toggleVisited(true);\n    });\n  }\n\n  onNavigationClicked(event) {\n    const $btn = $(event.currentTarget);\n    let index = this.model.getActiveItem().get('_index');\n    $btn.data('direction') === 'right' ? index++ : index--;\n    this.model.setActiveItem(index);\n  }\n\n  onSwipeLeft() {\n    let index = this.model.getActiveItem().get('_index');\n    this.model.setActiveItem(++index);\n  }\n\n  onSwipeRight() {\n    let index = this.model.getActiveItem().get('_index');\n    this.model.setActiveItem(--index);\n  }\n\n  onProgressClicked(event) {\n    const index = $(event.target).data('index');\n    this.model.setActiveItem(index);\n  }\n\n  /**\n   * In mobile view, highlight instruction if user navigates to another\n   * item before completing, in case the strapline is missed\n   */\n  shouldShowInstructionError() {\n    const prevItemIndex = this.model.getActiveItem().get('_index') - 1;\n    if (prevItemIndex < 0 || this.model.getItem(prevItemIndex).get('_isVisited')) return;\n    this.$('.narrative__instruction-inner').addClass('instruction-error');\n  }\n\n  setupEventListeners() {\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    }\n  }\n}\n\nNarrativeView.template = 'narrative';\n\nexport default NarrativeView;\n","import Adapt from 'core/js/adapt';\nimport NarrativeModel from './NarrativeModel';\nimport NarrativeView from './NarrativeView';\n\nexport default Adapt.register('narrative', {\n  model: NarrativeModel,\n  view: NarrativeView\n});\n","import Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\nimport 'libraries/rangeslider';\n\nexport default class SliderView extends QuestionView {\n\n  events() {\n    return {\n      'click .js-slider-number-click': 'onNumberSelected',\n      'focus .js-slider-item-input': 'onHandleFocus',\n      'blur .js-slider-item-input': 'onHandleBlur'\n    };\n  }\n\n  // Used by question to setup itself just before rendering\n  setupQuestion() {\n    if (this.model.get('_isSubmitted')) return;\n\n    this.selectItem(this.getIndexFromValue(this.model.get('_selectedItem').value));\n  }\n\n  setupRangeslider() {\n    this.$sliderScaleMarker = this.$('.js-slider-number-selection');\n    this.$slider = this.$('.js-slider-item-input');\n    if (this.model.has('_scaleStep')) {\n      this.$slider.attr({ step: this.model.get('_scaleStep') });\n    }\n\n    this.$slider.rangeslider({\n      polyfill: false,\n      onSlide: this.handleSlide.bind(this)\n    });\n    this.oldValue = 0;\n\n    if (this._deferEnable) {\n      this.setAllItemsEnabled();\n    }\n  }\n\n  handleSlide(position, value) {\n    if (this.oldValue === value) {\n      return;\n    }\n    const itemIndex = this.getIndexFromValue(value);\n    const pixels = this.mapIndexToPixels(itemIndex);\n    this.selectItem(itemIndex);\n    this.animateToPosition(pixels);\n    this.oldValue = value;\n  }\n\n  disableQuestion() {\n    this.setAllItemsEnabled();\n  }\n\n  enableQuestion() {\n    this.setAllItemsEnabled();\n  }\n\n  setAllItemsEnabled() {\n    const isEnabled = this.model.get('_isEnabled');\n\n    if (!this.$slider) {\n      this._deferEnable = true; // slider is not yet ready\n      return;\n    }\n\n    this.$('.slider__widget').toggleClass('is-disabled', !isEnabled);\n    this.$slider.prop('disabled', !isEnabled).rangeslider('update', true);\n  }\n\n  onQuestionRendered() {\n    this.setupRangeslider();\n    this.setScalePositions();\n    this.onScreenSizeChanged();\n    this.showScaleMarker(true);\n    this.listenTo(Adapt, 'device:resize', this.onScreenSizeChanged);\n    this.setReadyStatus();\n  }\n\n  // this should make the slider handle, slider marker and slider bar to animate to give position\n  animateToPosition(newPosition) {\n    if (!this.$sliderScaleMarker) return;\n\n    this.$sliderScaleMarker\n      .velocity('stop')\n      .velocity({\n        left: newPosition\n      }, {\n        duration: 200,\n        easing: 'linear',\n        mobileHA: false\n      });\n  }\n\n  // this shoud give the index of item using given slider value\n  getIndexFromValue(itemValue) {\n    const scaleStart = this.model.get('_scaleStart');\n    const scaleEnd = this.model.get('_scaleEnd');\n    return Math.round(this.mapValue(itemValue, scaleStart, scaleEnd, 0, this.model.get('_items').length - 1));\n  }\n\n  mapIndexToPixels(value, $widthObject) {\n    const numberOfItems = this.model.get('_items').length;\n    const width = $widthObject ? $widthObject.width() : this.$('.js-slider-scale').width();\n\n    return Math.round(this.mapValue(value, 0, numberOfItems - 1, 0, width));\n  }\n\n  mapPixelsToIndex(value) {\n    const numberOfItems = this.model.get('_items').length;\n    const width = this.$('.slider-sliderange').width();\n\n    return Math.round(this.mapValue(value, 0, width, 0, numberOfItems - 1));\n  }\n\n  normalise(value, low, high) {\n    const range = high - low;\n    return (value - low) / range;\n  }\n\n  mapValue(value, inputLow, inputHigh, outputLow, outputHigh) {\n    const normal = this.normalise(value, inputLow, inputHigh);\n    return normal * (outputHigh - outputLow) + outputLow;\n  }\n\n  onHandleFocus(event) {\n    event.preventDefault();\n    this.$slider.on('keydown', this.onKeyDown.bind(this));\n  }\n\n  onHandleBlur(event) {\n    event.preventDefault();\n    this.$slider.off('keydown');\n  }\n\n  onKeyDown(event) {\n    if (event.which === 9) return; // tab key\n    event.preventDefault();\n\n    let newItemIndex = this.getIndexFromValue(this.model.get('_selectedItem').value);\n\n    switch (event.which) {\n      case 40: // ↓ down\n      case 37: // ← left\n        newItemIndex = Math.max(newItemIndex - 1, 0);\n        break;\n      case 38: // ↑ up\n      case 39: // → right\n        newItemIndex = Math.min(newItemIndex + 1, this.model.get('_items').length - 1);\n        break;\n    }\n\n    this.selectItem(newItemIndex);\n    if (typeof newItemIndex === 'number') this.showScaleMarker(true);\n    this.animateToPosition(this.mapIndexToPixels(newItemIndex));\n    this.setSliderValue(this.getValueFromIndex(newItemIndex));\n  }\n\n  onNumberSelected(event) {\n    event.preventDefault();\n\n    if (this.model.get('_isInteractionComplete')) {\n      return;\n    }\n\n    // when component is not reset, selecting a number should be prevented\n    if (this.$slider.prop('disabled')) {\n      return;\n    }\n\n    const itemValue = parseFloat($(event.currentTarget).attr('data-id'));\n    const index = this.getIndexFromValue(itemValue);\n    this.selectItem(index);\n    this.animateToPosition(this.mapIndexToPixels(index));\n    this.setSliderValue(itemValue);\n  }\n\n  getValueFromIndex(index) {\n    return this.model.get('_items')[index].value;\n  }\n\n  resetControlStyles() {\n    this.$('.slider-handle').empty();\n    this.showScaleMarker(false);\n    this.$('.slider-bar').animate({ width: '0' });\n    this.setSliderValue(this.model.get('_items')[0].value);\n  }\n\n  onCannotSubmit() { }\n\n  setSliderValue(value) {\n    if (!this.$slider) return;\n    this.$slider.val(value).change();\n  }\n\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.$('.slider__widget').removeClass('is-correct is-incorrect')\n      .addClass(this.model.get('_selectedItem').correct ? 'is-correct' : 'is-incorrect');\n  }\n\n  resetQuestion() {\n    this.selectItem(0);\n    this.animateToPosition(0);\n    this.resetControlStyles();\n    this.showScaleMarker(true);\n  }\n\n  setScalePositions() {\n    const numberOfItems = this.model.get('_items').length;\n    this.model.get('_items').forEach((item, index) => {\n      const normalisedPosition = this.normalise(index, 0, numberOfItems - 1);\n      this.$('.js-slider-number').eq(index).data('normalisedPosition', normalisedPosition);\n    });\n  }\n\n  showScale() {\n    const $markers = this.$('.js-slider-scale-notch-container').empty();\n\n    if (this.model.get('_showScale') === false) {\n      $markers.eq(0).addClass('u-display-none');\n      this.$('.js-slider-number').addClass(\n        this.model.get('_showScaleIndicator') ? 'u-visibility-hidden' : 'u-display-none'\n      );\n      return;\n    }\n\n    const $scaler = this.$('.js-slider-scale');\n    for (let i = 1, count = this.model.get('_items').length - 1; i < count; i++) {\n      $markers.append(`<div class=\"slider__scale-notch\" style=\"left: ${this.mapIndexToPixels(i, $scaler)}px\">`);\n    }\n    // Do we show scale numbers\n    this.showScaleNumbers();\n  }\n\n  showScaleNumbers() {\n    const $scaler = this.$('.js-slider-scale');\n    const $numbers = this.$('.js-slider-number');\n\n    if (this.model.get('_showScaleNumbers') === false) {\n      $numbers.addClass('u-display-none');\n      return;\n    }\n\n    const scaleWidth = $scaler.width();\n    this.model.get('_items').forEach((item, index) => {\n      const $number = $numbers.eq(index);\n      const newLeft = Math.round($number.data('normalisedPosition') * scaleWidth);\n      $number.css({ left: newLeft });\n    });\n  }\n\n  // Labels are enabled in slider.hbs. Here we manage their containing div.\n  showLabels() {\n    if (this.model.get('labelStart') || this.model.get('labelEnd')) return;\n    this.$('.js-slider-label-container').eq(0).addClass('u-display-none');\n  }\n\n  remapSliderBar() {\n    const $scaler = this.$('.js-slider-scale');\n    const currentIndex = this.getIndexFromValue(this.model.get('_selectedItem').value);\n    const left = this.mapIndexToPixels(currentIndex, $scaler);\n    this.$('.slider-handle').css({ left: `${left}px` });\n    this.$('.js-slider-number-selection').css({ left: `${left}px` });\n    this.$('.slider-bar').width(left);\n  }\n\n  onScreenSizeChanged() {\n    this.showScale();\n    this.showLabels();\n    this.remapSliderBar();\n    if (this.$('.slider__widget').hasClass('show-user-answer')) {\n      this.hideCorrectAnswer();\n    } else if (this.$('.slider__widget').hasClass('show-correct-answer')) {\n      this.showCorrectAnswer();\n    }\n  }\n\n  showCorrectAnswer() {\n    this.showScaleMarker(false);\n\n    const answers = this.model.getCorrectAnswers();\n    if (answers.length === 0) {\n      console.log('adapt-contrib-slider::WARNING: no correct answer or correct range set in JSON');\n      return;\n    }\n\n    const middleAnswer = answers[Math.floor(answers.length / 2)];\n    this.animateToPosition(this.mapIndexToPixels(this.getIndexFromValue(middleAnswer)));\n    this.showModelAnswers(answers);\n    this.setSliderValue(middleAnswer);\n  }\n\n  showModelAnswers(correctAnswerArray) {\n    const $parentDiv = this.$('.js-slider-model-range');\n    correctAnswerArray.forEach((correctAnswer, index) => {\n      $parentDiv.append($('<div class=\"slider__number-model-answer\">'));\n\n      const $element = this.$('.js-slider-model-range .slider__number-model-answer').eq(index);\n      const startingLeft = this.mapIndexToPixels(this.getIndexFromValue(this.model.get('_selectedItem').value));\n\n      if (this.model.get('_showNumber')) $element.html(correctAnswer);\n\n      $element.css({ left: startingLeft }).fadeIn(0, () => {\n        $element.animate({ left: this.mapIndexToPixels(this.getIndexFromValue(correctAnswer)) });\n      });\n    });\n  }\n\n  hideCorrectAnswer() {\n    const userAnswerIndex = this.getIndexFromValue(this.model.get('_userAnswer'));\n    this.$('.js-slider-model-range').empty();\n\n    this.showScaleMarker(true);\n    this.selectItem(userAnswerIndex);\n    this.animateToPosition(this.mapIndexToPixels(userAnswerIndex));\n    this.setSliderValue(this.model.get('_userAnswer'));\n  }\n\n  // according to given item index this should make the item as selected\n  selectItem(itemIndex) {\n    // deselect all items before selecting the chosen item\n    this.model.deselectAllItems();\n    const item = this.model.get('_items')[itemIndex];\n    if (!item) return;\n    item.selected = true;\n    this.model.set('_selectedItem', item);\n    this.$('.js-slider-item-input').attr({\n      value: item.value,\n      'aria-valuenow': item.value\n    });\n    this.showNumber(true);\n  }\n\n  // this makes the marker visible or hidden\n  showScaleMarker(show) {\n    const $scaleMarker = this.$('.js-slider-number-selection');\n    if (this.model.get('_showScaleIndicator')) {\n      this.showNumber(show);\n      $scaleMarker.toggleClass('display-block', show);\n    }\n  }\n\n  // this should add the current slider value to the marker\n  showNumber(show) {\n    const $scaleMarker = this.$('.js-slider-number-selection');\n    if (this.model.get('_showNumber')) {\n      if (show) {\n        $scaleMarker.html(this.model.get('_selectedItem').value);\n      } else {\n        $scaleMarker.html = '';\n      }\n    }\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport QuestionModel from 'core/js/models/questionModel';\n\nexport default class SliderModel extends QuestionModel {\n\n  init() {\n    QuestionModel.prototype.init.call(this);\n\n    this.setupModelItems();\n    this.selectDefaultItem();\n  }\n\n  /**\n  * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n  * @param {boolean} [canReset] Defaults to this.get('_canReset')\n  * @returns {boolean}\n  */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.deselectAllItems();\n    this.selectDefaultItem();\n    return true;\n  }\n\n  selectDefaultItem() {\n    this.set('_selectedItem', this.get('_items')[0]);\n  }\n\n  /**\n   * Returns the number of decimal places in a specified number\n   */\n  getDecimalPlaces(num) {\n    return (num.toString().split('.')[1] || []).length;\n  }\n\n  setupModelItems() {\n    const items = [];\n    const answer = this.get('_correctAnswer');\n    const range = this.get('_correctRange');\n    const start = this.get('_scaleStart');\n    const end = this.get('_scaleEnd');\n    const step = this.get('_scaleStep') || 1;\n\n    const dp = this.getDecimalPlaces(step);\n\n    for (let i = start; i <= end; i += step) {\n      if (dp !== 0) {\n        // Ensure that steps with decimal places are handled correctly.\n        i = parseFloat(i.toFixed(dp));\n      }\n\n      items.push({\n        value: i,\n        selected: false,\n        // _correctAnswer/answer is a String - this allows AAT users to assign it no value when _correctRange needs to be used instead\n        // we therefore need to convert it to Number when checking the answer (see https://github.com/adaptlearning/adapt_framework/issues/2259)\n        correct: answer ? i === Number(answer) : (i >= range._bottom && i <= range._top)\n      });\n    }\n\n    this.set({\n      _items: items,\n      _marginDir: Adapt.config.get('_defaultDirection') === 'rtl' ? 'right' : 'left'\n    });\n  }\n\n  /**\n  * allow the user to submit immediately; the slider handle may already be in the position they want to choose\n  */\n  canSubmit() {\n    return true;\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) {\n      this.set({\n        _userAnswer: undefined\n      });\n      this.selectDefaultItem();\n      return;\n    }\n\n    const items = this.get('_items');\n    const userAnswer = this.get('_userAnswer');\n    const selectedItem = items.find(({ value }) => value === userAnswer);\n    if (selectedItem) {\n      selectedItem.selected = true;\n      this.set('_selectedItem', selectedItem);\n    }\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  // This preserves the state of the users answers for returning or showing the users answer\n  storeUserAnswer() {\n    this.set('_userAnswer', this.get('_selectedItem').value);\n  }\n\n  resetUserAnswer() {\n    this.set({\n      _isAtLeastOneCorrectSelection: false,\n      _userAnswer: undefined\n    });\n    this.selectDefaultItem();\n  }\n\n  deselectAllItems() {\n    this.get('_items').forEach(item => (item.selected = false));\n  }\n\n  isCorrect() {\n    const numberOfCorrectAnswers = this.get('_items').filter(({ selected, correct }) => selected && correct).length;\n\n    this.set('_isAtLeastOneCorrectSelection', numberOfCorrectAnswers > 0);\n    this.set('_numberOfCorrectAnswers', numberOfCorrectAnswers);\n\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const questionWeight = this.get('_questionWeight');\n    const score = questionWeight * numberOfCorrectAnswers;\n    this.set('_score', score);\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  */\n  getResponse() {\n    return this.get('_userAnswer').toString();\n  }\n\n  /**\n  * Used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'numeric';\n  }\n\n  getCorrectAnswers() {\n\n    // are we dealing with a single correct answer or a range?\n    const answerSingle = this.get('_correctAnswer');\n    const answers = [];\n    if (answerSingle) {\n      return [ answerSingle ];\n    }\n    const answerMultiple = this.get('_correctRange');\n    if (!answerMultiple) {\n      return answers;\n    }\n    const bottom = answerMultiple._bottom;\n    const top = answerMultiple._top;\n    if (bottom === undefined || top === undefined) {\n      return answers;\n    }\n    let answer = bottom;\n    const step = this.get('_scaleStep') || 1;\n    while (answer <= top) {\n      answers.push(answer);\n      answer += step;\n    }\n    return answers;\n  }\n\n  /**\n   * Creates a string explaining the answer (or answer range) the learner should have chosen\n   * Used by ButtonsView to retrieve question-specific correct answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'show correct answer' button\n   * @return {string}\n   */\n  getCorrectAnswerAsText() {\n    const globals = Adapt.course.get('_globals')._components._slider;\n    const answers = this.getCorrectAnswers();\n    if (answers.length > 1) {\n      return Handlebars.compile(globals.ariaCorrectAnswerRange)({\n        bottom: answers.shift(),\n        top: answers.pop()\n      });\n    }\n\n    return Handlebars.compile(globals.ariaCorrectAnswer)({ correctAnswer: answers[0] });\n  }\n\n  /**\n   * Creates a string listing the answer the learner chose\n   * Used by ButtonsView to retrieve question-specific user answer text for the ARIA\n   * 'live region' that gets updated when the learner selects the 'hide correct answer' button\n   * @return {string}\n   */\n  getUserAnswerAsText() {\n    const answerTemplate = Adapt.course.get('_globals')._components._slider.ariaUserAnswer;\n    return Handlebars.compile(answerTemplate)({ userAnswer: this.get('_userAnswer') });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport SliderView from './sliderView';\nimport SliderModel from './sliderModel';\n\nexport default Adapt.register('slider', {\n  view: SliderView,\n  model: SliderModel\n});\n","import ComponentView from 'core/js/views/componentView';\n\nclass TextView extends ComponentView {\n\n  postRender() {\n    this.setReadyStatus();\n    this.setupInview();\n  }\n\n  setupInview() {\n    const selector = this.getInviewElementSelector();\n    if (!selector) return this.setCompletionStatus();\n    this.setupInviewCompletion(selector);\n  }\n\n  /**\n   * determines which element should be used for inview logic - body, instruction or title - and returns the selector for that element\n   */\n  getInviewElementSelector() {\n    if (this.model.get('body')) return '.component__body';\n    if (this.model.get('instruction')) return '.component__instruction';\n    if (this.model.get('displayTitle')) return '.component__title';\n    return null;\n  }\n\n}\n\nTextView.template = 'text.jsx';\n\nexport default TextView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class TextModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport TextView from './TextView';\nimport TextModel from './TextModel';\n\nexport default Adapt.register('text', {\n  model: TextModel,\n  view: TextView\n});\n","import QuestionView from 'core/js/views/questionView';\n\nexport default class TextInputView extends QuestionView {\n\n  events() {\n    return {\n      'focus .js-textinput-textbox': 'clearValidationError',\n      'change .js-textinput-textbox': 'onInputChanged',\n      'keyup .js-textinput-textbox': 'onInputChanged'\n    };\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  disableQuestion() {\n    this.setAllItemsEnabled(false);\n  }\n\n  enableQuestion() {\n    this.setAllItemsEnabled(true);\n  }\n\n  setAllItemsEnabled(isEnabled) {\n    this.model.get('_items').forEach((item, index) => {\n      const $itemInput = this.$('.js-textinput-textbox').eq(index);\n\n      $itemInput.prop('disabled', !isEnabled);\n    });\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n  }\n\n  clearValidationError() {\n    this.$('.js-textinput-textbox').removeClass('has-error');\n  }\n\n  // Blank method for question to fill out when the question cannot be submitted\n  onCannotSubmit() {\n    this.showValidationError();\n  }\n\n  showValidationError() {\n    this.$('.js-textinput-textbox').addClass('has-error');\n  }\n\n  // This is important and should give the user feedback on how they answered the question\n  // Normally done through ticks and crosses by adding classes\n  showMarking() {\n    if (!this.model.get('_canShowMarking')) return;\n\n    this.model.get('_items').forEach((item, i) => {\n      const $item = this.$('.js-textinput-item').eq(i);\n      $item.removeClass('is-correct is-incorrect').addClass(item._isCorrect ? 'is-correct' : 'is-incorrect');\n    });\n  }\n\n  // Used by the question view to reset the look and feel of the component.\n  resetQuestion() {\n    this.$('.js-textinput-textbox').prop('disabled', !this.model.get('_isEnabled')).val('');\n\n    this.model.set({\n      _isAtLeastOneCorrectSelection: false,\n      _isCorrect: undefined\n    });\n  }\n\n  showCorrectAnswer() {\n    const correctAnswers = this.model.get('_answers');\n\n    this.model.get('_items').forEach((item, index) => {\n      const correctAnswer = correctAnswers ? correctAnswers[index][0] : item._answers[0];\n      this.$('.js-textinput-textbox').eq(index).val(correctAnswer);\n    });\n  }\n\n  hideCorrectAnswer() {\n    this.model.get('_items').forEach((item, index) => {\n      this.$('.js-textinput-textbox').eq(index).val(item.userAnswer);\n    });\n  }\n\n  onInputChanged(e) {\n    const $input = $(e.target);\n    this.model.setItemUserAnswer($input.parents('.js-textinput-item').index(), $input.val());\n  }\n\n}\n","import QuestionModel from 'core/js/models/questionModel';\n\nclass TextInputModel extends QuestionModel {\n\n  init() {\n    super.init();\n\n    this.set('_genericAnswerIndexOffset', TextInputModel.genericAnswerIndexOffset);\n\n    this.setupQuestionItemIndexes();\n    this.checkCanSubmit();\n  }\n\n  /**\n   * @param {string} [type] 'hard' resets _isComplete and _isInteractionComplete, 'soft' resets _isInteractionComplete only.\n   * @param {boolean} [canReset] Defaults to this.get('_canReset')\n   * @returns {boolean}\n   */\n  reset(type = 'hard', canReset = this.get('_canReset')) {\n    const wasReset = super.reset(type, canReset);\n    if (!wasReset) return false;\n    this.set({\n      _isAtLeastOneCorrectSelection: false,\n      _isCorrect: null\n    });\n    return true;\n  }\n\n  setupQuestionItemIndexes() {\n    this.get('_items').forEach((item, index) => {\n      if (item._index === undefined) item._index = index;\n      if (item._answerIndex === undefined) item._answerIndex = -1;\n    });\n  }\n\n  restoreUserAnswers() {\n    if (!this.get('_isSubmitted')) return;\n\n    const userAnswer = this.get('_userAnswer');\n    const genericAnswers = this.get('_answers');\n    this.get('_items').forEach(item => {\n      const answerIndex = userAnswer[item._index];\n      if (answerIndex >= TextInputModel.genericAnswerIndexOffset) {\n        item.userAnswer = genericAnswers[answerIndex - TextInputModel.genericAnswerIndexOffset];\n        item._answerIndex = answerIndex;\n      } else if (answerIndex > -1) {\n        item.userAnswer = item._answers[answerIndex];\n        item._answerIndex = answerIndex;\n      } else {\n        if (item.userAnswer === undefined) item.userAnswer = '******';\n        item._answerIndex = -1;\n      }\n      if (item.userAnswer instanceof Array) item.userAnswer = item.userAnswer[0];\n    });\n\n    this.setQuestionAsSubmitted();\n    this.markQuestion();\n    this.setScore();\n    this.setupFeedback();\n  }\n\n  setupRandomisation() {\n    if (!this.get('_isRandom') || !this.get('_isEnabled')) return;\n\n    this.set('_items', _.shuffle(this.get('_items')));\n  }\n\n  // Use to check if the user is allowed to submit the question\n  canSubmit() {\n    // can submit if every item has user input\n    return this.get('_items').every(({ userAnswer }) => userAnswer);\n  }\n\n  setItemUserAnswer(itemIndex, userAnswer) {\n    const item = this.get('_items')[itemIndex];\n    item.userAnswer = userAnswer;\n    this.checkCanSubmit();\n  }\n\n  // Preserves the state for returning or showing the user's answers\n  storeUserAnswer() {\n    const items = this.get('_items');\n\n    this.isCorrect();\n\n    const userAnswer = new Array(items.length);\n    items.forEach(({ _index, _answerIndex }) => (userAnswer[_index] = _answerIndex));\n    this.set('_userAnswer', userAnswer);\n  }\n\n  isCorrect() {\n    if (this.get('_answers')) {\n      this.markGenericAnswers();\n    } else {\n      this.markSpecificAnswers();\n    }\n    return this.get('_items').every(({ _isCorrect }) => _isCorrect);\n  }\n\n  isPartlyCorrect() {\n    return this.get('_isAtLeastOneCorrectSelection');\n  }\n\n  // Allows the learner to give answers into any input, ignoring the order.\n  // (this excludes any inputs which have their own specific answers).\n  markGenericAnswers() {\n    let numberOfCorrectAnswers = 0;\n    const correctAnswers = this.get('_answers').slice();\n    const usedAnswerIndexes = [];\n\n    this.get('_items').forEach(item => {\n      correctAnswers.forEach((answerGroup, answerIndex) => {\n        if (usedAnswerIndexes.includes(answerIndex)) return;\n\n        if (this.checkAnswerIsCorrect(answerGroup, item.userAnswer) === false) return;\n\n        usedAnswerIndexes.push(answerIndex);\n        item._isCorrect = true;\n        item._answerIndex = answerIndex + TextInputModel.genericAnswerIndexOffset;\n\n        this.set({\n          _numberOfCorrectAnswers: ++numberOfCorrectAnswers,\n          _isAtLeastOneCorrectSelection: true\n        });\n\n      });\n      if (!item._isCorrect) item._isCorrect = false;\n    });\n  }\n\n  // Marks any items which have answers specific to it\n  // (i.e. item has a _answers array)\n  markSpecificAnswers() {\n    let numberOfCorrectAnswers = 0;\n    this.get('_items').forEach(item => {\n      const answers = item._answers;\n      if (!answers) return;\n      const userAnswer = item.userAnswer || '';\n      const isCorrect = this.checkAnswerIsCorrect(answers, userAnswer);\n      item._isCorrect = isCorrect;\n      item._answerIndex = answers.indexOf(this.cleanupUserAnswer(userAnswer));\n      if (!isCorrect) return;\n      this.set({\n        _numberOfCorrectAnswers: ++numberOfCorrectAnswers,\n        _isAtLeastOneCorrectSelection: true\n      });\n    });\n  }\n\n  checkAnswerIsCorrect(possibleAnswers, userAnswer) {\n    const uAnswer = this.cleanupUserAnswer(userAnswer);\n\n    const answerIsCorrect = possibleAnswers.some(cAnswer => {\n      return this.cleanupUserAnswer(cAnswer) === uAnswer;\n    });\n    return answerIsCorrect;\n  }\n\n  cleanupUserAnswer(userAnswer) {\n    if (this.get('_allowsAnyCase')) {\n      userAnswer = userAnswer.toLowerCase();\n    }\n    if (this.get('_allowsPunctuation')) {\n      userAnswer = userAnswer.replace(/[.,-/#!$£%^&*;:{}=\\-_`~()]/g, '');\n      // remove any orphan double spaces and replace with single space (B & Q)->(B  Q)->(B Q)\n      userAnswer = userAnswer.replace(/(  +)+/g, ' ');\n    }\n    // removes whitespace from beginning/end (leave any in the middle)\n    return userAnswer.trim();\n  }\n\n  // Used to set the score based upon the _questionWeight\n  setScore() {\n    const numberOfCorrectAnswers = this.get('_numberOfCorrectAnswers');\n    const questionWeight = this.get('_questionWeight');\n    const itemLength = this.get('_items').length;\n\n    const score = questionWeight * numberOfCorrectAnswers / itemLength;\n    this.set('_score', score);\n  }\n\n  resetUserAnswer() {\n    this.get('_items').forEach(item => {\n      item._isCorrect = false;\n      item.userAnswer = '';\n    });\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the user's answers in the format required by the cmi.interactions.n.student_response data field\n  * returns the user's answers as a string in the format 'answer1[,]answer2[,]answer3'\n  * the use of [,] as an answer delimiter is from the SCORM 2004 specification for the fill-in interaction type\n  */\n  getResponse() {\n    return this.get('_items').map(({ userAnswer }) => userAnswer).join('[,]');\n  }\n\n  /**\n  * used by adapt-contrib-spoor to get the type of this question in the format required by the cmi.interactions.n.type data field\n  */\n  getResponseType() {\n    return 'fill-in';\n  }\n\n}\n\nTextInputModel.genericAnswerIndexOffset = 65536;\n\nexport default TextInputModel;\n","import Adapt from 'core/js/adapt';\nimport TextInputView from './textInputView';\nimport TextInputModel from './textInputModel';\n\nexport default Adapt.register('textinput', {\n  view: TextInputView,\n  model: TextInputModel\n});\n","import Draggabilly from '../libraries/draggabilly';\n\nclass DraggieView extends Backbone.View {\n\n  initialize(settings) {\n    _.bindAll(this, 'onDragStart', 'onDragMove', 'onDragEnd');\n    this.settings = _.defaults(settings, DraggieView.defaults);\n    this.draggie = null;\n    this.setUpDraggie();\n    this.addEventListeners();\n    this.settings.load.call(this, this);\n    this.trigger('load', this);\n  }\n\n  setUpDraggie() {\n    this.draggie = new Draggabilly(this.settings.el[0], this.settings.container);\n  }\n\n  addEventListeners() {\n    this.draggie.on('dragStart', this.onDragStart);\n    this.draggie.on('dragMove', this.onDragMove);\n    this.draggie.on('dragEnd', this.onDragEnd);\n  }\n\n  onDragStart() {\n    // console.log('start');\n  }\n\n  onDragMove(event, pointer) {\n   \n    if (this.isOverlap(pointer)) {\n      this.settings.target.addClass('is-active');\n    } else {\n      this.settings.target.removeClass('is-active');\n    }\n\n  }\n\n  onDragEnd(event, pointer) {\n    const _isOverlap = this.isOverlap(pointer);\n    if (_isOverlap) {\n      this.setPositionTarget();\n    } else {\n      this.resetPosition();\n\n    }\n    this.trigger('dropIt', this, _isOverlap);\n    this.settings.target.removeClass('is-active');\n  }\n\n  setPositionTarget() {\n    const targetPosition = this.settings.target.position();\n    this.setPosition(targetPosition.top - 64, targetPosition.left);\n  }\n\n  resetPosition() {\n    this.setPosition(0, 0);\n  }\n\n  setPosition(top, left) {\n    const el = this.settings.el;\n    el.animate({ top: `${top}px`, left: `${left}px` });\n  }\n\n  isOverlap(pointer) {\n    const targetLocation = this.settings.target[0].getBoundingClientRect();\n\n    const targetX = targetLocation.left + targetLocation.width;\n    const targetY = targetLocation.top + targetLocation.height;\n    const x = pointer.x;\n    const y = pointer.y;\n\n    if (x >= targetLocation.left && x <= targetX &&\n        y >= targetLocation.top && y <= targetY) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  toggleDisabled(value) {\n    if (!this.draggie) return;\n    if (!value) {\n      this.draggie.enable();\n    } else {\n      this.draggie.disable();\n    }\n  }\n\n  destroy() {\n    this.draggie.destroy();\n  }\n}\n\nDraggieView.defaults = {\n\n  load() {}\n};\nexport default DraggieView;\n","\nimport Adapt from 'core/js/adapt';\nimport QuestionView from 'core/js/views/questionView';\n\nimport DraggieView from './draggieView';\nclass DropItemsView extends QuestionView {\n\n  preinitialize() {\n    this.draggies = [];\n  }\n\n  initialize(...args) {\n    _.bindAll(this, 'onDropIt');\n    super.initialize(...args);\n  }\n\n  setupQuestion() {\n    this.listenToOnce(Adapt.parentView, 'postRemove', this.onPostRemove);\n    this.listenTo(Adapt, {\n      'device:changed device:resize': this.onResize\n\n    });\n  }\n\n  onPostRemove() {\n    this.draggies.forEach(draggie => {\n      draggie.off('dropIt', this.onDropIt);\n      draggie.destroy();\n    });\n  }\n\n  disableQuestion() {\n    this.draggies.forEach(draggie => draggie.toggleDisabled(true));\n\n  }\n\n  enableQuestion() {\n    this.draggies.forEach(draggie => draggie.toggleDisabled(false));\n  }\n\n  onQuestionRendered() {\n    this.$('.component__widget').imageready(() => {\n      this.setupItems();\n      this.setSizeDrop();\n      this.setReadyStatus();\n    }\n    );\n\n  }\n\n  setSizeDrop() {\n    const $target = this.$('.dropitems__dropzone');\n    const $container = this.$('.dropitems__container');\n    $target.css({ 'min-width': `${$container.outerWidth()}px`, 'min-height': `${$container.outerHeight()}px` });\n  }\n\n  onResize() {\n\n    this.setPosition();\n\n    this.setSizeDrop();\n  }\n\n  setPosition() {\n    this.draggies.forEach(draggie => {\n      if (draggie.model.get('_isActive')) {\n        draggie.setPositionTarget();\n      } else {\n        draggie.resetPosition();\n      }\n    });\n  }\n\n  setupItems() {\n\n    const $container = this.$('.component__inner');\n    const items = this.model.getChildren();\n\n    const target = this.$('.dropitems__dropzone');\n    this.$('.dropitems__item').each((i, el) => {\n\n      const item = items.models[i];\n      const draggie = new DraggieView({ el: $(el), target: target, container: $container, model: item });\n      this.draggies.push(draggie);\n      draggie.on('dropIt', this.onDropIt);\n    });\n\n    this.enableQuestion();\n    if (this.model.get('_isEnabled') !== true) {\n      this.disableQuestion();\n      this.setPosition();\n    }\n  }\n\n  onDropIt(draggie, value) {\n\n    if (!this.model.isInteractive()) return;\n    const itemIndex = draggie.model.get('_index');\n    const itemModel = this.model.getItem(itemIndex);\n\n    itemModel.toggleActive(value);\n\n  }\n\n  resetQuestion() {\n    this.model.resetItems();\n  }\n\n  showCorrectAnswer() {\n\n    this.draggies.forEach(draggie => {\n      if (draggie.model.get('_shouldBeSelected')) {\n        draggie.setPositionTarget();\n      } else {\n        draggie.resetPosition();\n      }\n    });\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  hideCorrectAnswer() {\n    if (!this.draggies[0]) return;\n    this.model.get('_userAnswer').forEach((answer, index) => {\n      if (answer) {\n        this.draggies[index].setPositionTarget();\n      } else {\n        this.draggies[index].resetPosition();\n      }\n    });\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n}\nDropItemsView.template = 'drop-items.jsx';\n\nexport default DropItemsView;\n","import ItemsQuestionModel from 'core/js/models/itemsQuestionModel';\n\nexport default class DropItemsModel extends ItemsQuestionModel {\n  defaults() {\n    return ItemsQuestionModel.resultExtend('defaults', {\n      _selectable: this.getChildren().models.length\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport DropItemsView from './dropItemsView';\nimport DropItemsModel from './dropItemsModel';\n\nexport default Adapt.register('dropItems', {\n  view: DropItemsView,\n  model: DropItemsModel\n});\n","import Adapt from 'core/js/adapt';\nimport ComponentView from 'core/js/views/componentView';\nimport '../libraries/lottie-player';\nimport * as LottieInteractivity from '../libraries/lottie-interactivity.min';\nclass LottieInteractivityView extends ComponentView {\n\n  preRender() {\n    const lottieModel = this.model.get('_lottie');\n    const lottieplayerEl = document.createElement('lottie-player');\n\n    lottieModel.controls && lottieplayerEl.setAttribute('controls', lottieModel.controls);\n    if (lottieModel.loop !== -1) {\n      lottieplayerEl.setAttribute('loop', true);\n      lottieplayerEl.setAttribute('count', lottieModel.loop);\n    }\n    lottieModel.autoplay && lottieplayerEl.setAttribute('autoplay', lottieModel.autoplay);\n    lottieModel.speed && lottieModel.speed > 1 && lottieplayerEl.setAttribute('speed', lottieModel.speed);\n    lottieModel.style && lottieplayerEl.setAttribute('style', lottieModel.style);\n    lottieModel.renderer && lottieplayerEl.setAttribute('renderer', lottieModel.renderer);\n    lottieModel.background && lottieplayerEl.setAttribute('background', lottieModel.background);\n    lottieModel.preserveAspectRatio && lottieplayerEl.setAttribute('preserveAspectRatio', lottieModel.preserveAspectRatio);\n    lottieplayerEl.setAttribute('src', lottieModel.src);\n\n    this.model.set('lottieplayer', lottieplayerEl.outerHTML);\n\n    // this.$el.on('onscreen', this.onScreenChange.bind(this));\n  }\n\n  postRender() {\n\n    const lottieplayer = this.$('lottie-player')[0];\n    lottieplayer.addEventListener('ready', () => {\n      Adapt.trigger('lottie:ready', this);\n      this.setReadyStatus();\n    });\n    lottieplayer.addEventListener('error', () => {\n      this.setReadyStatus();\n      this.model.set('failed', this.model.get('_lottie').failed);\n    });\n    lottieplayer.addEventListener('play', () => {\n      Adapt.trigger('lottie:play', this);\n    });\n    lottieplayer.addEventListener('pause', () => {\n      Adapt.trigger('lottie:pause', this);\n    });\n    if (this.model.get('_setCompletionOn') === 'inview') {\n      this.setupInviewCompletion('.component__widget');\n    } else {\n      lottieplayer.addEventListener('complete', () => {\n        this.setCompletionStatus();\n      });\n    }\n    const interactivity = this.model.get('_lottie').interactivity;\n    if (interactivity) {\n      interactivity.player = lottieplayer;\n      LottieInteractivity.create(interactivity);\n    }\n  }\n\n  /* onScreenChange(event, { onscreen, percentInview } = {}) {\n    const isOffScreen = (!onscreen || percentInview < 1);\n    if (isOffScreen) {\n\n      return;\n    }\n    if (this.model.get('wasPlayed') === true) return;\n\n    console.log(this.model.get('wasPlayed'));\n    const lottieModel = this.model.get('_lottie');\n    const lottieplayer = this.$('lottie-player')[0];\n    if (lottieModel.autoplay) {\n      this.model.set('wasPlayed', true);\n      lottieplayer.play();\n    }\n  } */\n}\n\nLottieInteractivityView.template = 'lottieInteractivity.jsx';\n\nexport default LottieInteractivityView;\n","import ComponentModel from 'core/js/models/componentModel';\n\nexport default class LottieInteractivityModel extends ComponentModel {}\n","import Adapt from 'core/js/adapt';\nimport LottieInteractivityView from './LottieInteractivityView';\nimport LottieInteractivityModel from './LottieInteractivityModel';\n\nexport default Adapt.register('lottieInteractivity', {\n  model: LottieInteractivityModel,\n  view: LottieInteractivityView\n});\n","/* @license\nPapa Parse\nv5.3.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"file/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var h=new RegExp(j(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,i=!0);var r=e.toString().replace(h,a);return(i=i||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(m)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(M(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(M(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){M(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else M(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(M(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!M(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){M(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responsefile.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responsefile)))},this._chunkError=function(e){var t=r.statusfile||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsfile(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,u=/^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(M(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){M(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(j(t)+\"([^]*?)\"+j(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)M(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=M(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,M(m.complete)&&m.complete(c),a=\"\"}}function j(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(e){var S,O=(e=e||{}).delimiter,x=e.newline,I=e.comments,T=e.step,D=e.preview,A=e.fastMode,L=S=void 0===e.quoteChar||null===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(L=e.escapeChar),(\"string\"!=typeof O||-1<b.BAD_DELIMITERS.indexOf(O))&&(O=\",\"),I===O)throw new Error(\"Comment character same as delimiter\");!0===I?I=\"#\":(\"string\"!=typeof I||-1<b.BAD_DELIMITERS.indexOf(I))&&(I=!1),\"\\n\"!==x&&\"\\r\"!==x&&\"\\r\\n\"!==x&&(x=\"\\n\");var F=0,z=!1;this.parse=function(r,t,i){if(\"string\"!=typeof r)throw new Error(\"Input must be a string\");var n=r.length,e=O.length,s=x.length,a=I.length,o=M(T),h=[],u=[],f=[],d=F=0;if(!r)return C();if(A||!1!==A&&-1===r.indexOf(S)){for(var l=r.split(x),c=0;c<l.length;c++){if(f=l[c],F+=f.length,c!==l.length-1)F+=x.length;else if(i)return C();if(!I||f.substring(0,a)!==I){if(o){if(h=[],k(f.split(O)),R(),z)return C()}else k(f.split(O));if(D&&D<=c)return h=h.slice(0,D),C(!0)}}return C()}for(var p=r.indexOf(O,F),g=r.indexOf(x,F),_=new RegExp(j(L)+j(S),\"g\"),m=r.indexOf(S,F);;)if(r[F]!==S)if(I&&0===f.length&&r.substring(F,F+a)===I){if(-1===g)return C();F=g+s,g=r.indexOf(x,F),p=r.indexOf(O,F)}else if(-1!==p&&(p<g||-1===g))f.push(r.substring(F,p)),F=p+e,p=r.indexOf(O,F);else{if(-1===g)break;if(f.push(r.substring(F,g)),w(g+s),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0)}else for(m=F,F++;;){if(-1===(m=r.indexOf(S,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:F}),E();if(m===n-1)return E(r.substring(F,m).replace(_,S));if(S!==L||r[m+1]!==L){if(S===L||0===m||r[m-1]!==L){-1!==p&&p<m+1&&(p=r.indexOf(O,m+1)),-1!==g&&g<m+1&&(g=r.indexOf(x,m+1));var y=b(-1===g?p:Math.min(p,g));if(r.substr(m+1+y,e)===O){f.push(r.substring(F,m).replace(_,S)),r[F=m+1+y+e]!==S&&(m=r.indexOf(S,F)),p=r.indexOf(O,F),g=r.indexOf(x,F);break}var v=b(g);if(r.substring(m+1+v,m+1+v+s)===x){if(f.push(r.substring(F,m).replace(_,S)),w(m+1+v+s),p=r.indexOf(O,F),m=r.indexOf(S,F),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:F}),m++}}else m++}return E();function k(e){h.push(e),d=F}function b(e){var t=0;if(-1!==e){var i=r.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=r.substring(F)),f.push(e),F=n,k(f),o&&R()),C()}function w(e){F=e,k(f),f=[],g=r.indexOf(x,F)}function C(e){return{data:h,errors:u,meta:{delimiter:O,linebreak:x,aborted:z,truncated:!!e,cursor:d+(t||0)}}}function R(){T(C()),h=[],u=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return F}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else M(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];M(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=w(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function M(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","/* ajv 8.11.0 (ajv7): Another JSON Schema Validator */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).ajv7=e()}}((function(){return function e(t,r,o){function s(n,i){if(!r[n]){if(!t[n]){var c=\"function\"==typeof require&&require;if(!i&&c)return c(n,!0);if(a)return a(n,!0);var l=new Error(\"Cannot find module '\"+n+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var d=r[n]={exports:{}};t[n][0].call(d.exports,(function(e){return s(t[n][1][e]||e)}),d,d.exports,e,t,r,o)}return r[n].exports}for(var a=\"function\"==typeof require&&require,n=0;n<o.length;n++)s(o[n]);return s}({1:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class o{}r._CodeOrName=o,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends o{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw new Error(\"CodeGen: name must be a valid identifier\");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=s;class a extends o{constructor(e){super(),this._items=\"string\"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return\"\"===e||'\"\"'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),\"\")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof s&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function n(e,...t){const r=[e[0]];let o=0;for(;o<t.length;)l(r,t[o]),r.push(e[++o]);return new a(r)}r._Code=a,r.nil=new a(\"\"),r._=n;const i=new a(\"+\");function c(e,...t){const r=[u(e[0])];let o=0;for(;o<t.length;)r.push(i),l(r,t[o]),r.push(i,u(e[++o]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===i){const r=d(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]=\"+\"}t++}}(r),new a(r)}function l(e,t){var r;t instanceof a?e.push(...t._items):e.push(t instanceof s?t:\"number\"==typeof(r=t)||\"boolean\"==typeof r||null===r?r:u(Array.isArray(r)?r.join(\",\"):r))}function d(e,t){if('\"\"'===t)return e;if('\"\"'===e)return t;if(\"string\"==typeof e){if(t instanceof s||'\"'!==e[e.length-1])return;return\"string\"!=typeof t?`${e.slice(0,-1)}${t}\"`:'\"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return\"string\"!=typeof t||'\"'!==t[0]||e instanceof s?void 0:`\"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")}r.str=c,r.addCodeArg=l,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:c`${e}${t}`},r.stringify=function(e){return new a(u(e))},r.safeStringify=u,r.getProperty=function(e){return\"string\"==typeof e&&r.IDENTIFIER.test(e)?new a(`.${e}`):n`[${e}]`},r.getEsmExportName=function(e){if(\"string\"==typeof e&&r.IDENTIFIER.test(e))return new a(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new a(e.toString())}},{}],2:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const o=e(\"./code\"),s=e(\"./scope\");var a=e(\"./code\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return a._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return a.str}}),Object.defineProperty(r,\"strConcat\",{enumerable:!0,get(){return a.strConcat}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return a.nil}}),Object.defineProperty(r,\"getProperty\",{enumerable:!0,get(){return a.getProperty}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return a.stringify}}),Object.defineProperty(r,\"regexpCode\",{enumerable:!0,get(){return a.regexpCode}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return a.Name}});var n=e(\"./scope\");Object.defineProperty(r,\"Scope\",{enumerable:!0,get(){return n.Scope}}),Object.defineProperty(r,\"ValueScope\",{enumerable:!0,get(){return n.ValueScope}}),Object.defineProperty(r,\"ValueScopeName\",{enumerable:!0,get(){return n.ValueScopeName}}),Object.defineProperty(r,\"varKinds\",{enumerable:!0,get(){return n.varKinds}}),r.operators={GT:new o._Code(\">\"),GTE:new o._Code(\">=\"),LT:new o._Code(\"<\"),LTE:new o._Code(\"<=\"),EQ:new o._Code(\"===\"),NEQ:new o._Code(\"!==\"),NOT:new o._Code(\"!\"),OR:new o._Code(\"||\"),AND:new o._Code(\"&&\"),ADD:new o._Code(\"+\")};class i{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends i{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){return`${e?s.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?\"\":` = ${this.rhs}`};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,e,t)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof o.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=x(this.rhs,e,t),this}get names(){return O(this.lhs instanceof o.Name?{}:{...this.lhs.names},this.rhs)}}class d extends l{constructor(e,t,r,o){super(e,r,o),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class f extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:\"\"};`+e}}class p extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class m extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=x(this.code,e,t),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class h extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),\"\")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let o=r.length;for(;o--;){const s=r[o];s.optimizeNames(e,t)||(T(e,s.names),r.splice(o,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>C(e,t.names)),{})}}class y extends h{render(e){return\"{\"+e._n+super.render(e)+\"}\"+e._n}}class v extends h{}class g extends y{}g.kind=\"else\";class $ extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+=\"else \"+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new g(e):e}return t?!1===e?t instanceof $?t:t.nodes:this.nodes.length?this:new $(I(e),t instanceof $?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=x(this.condition,e,t),this}get names(){const e=super.names;return O(e,this.condition),this.else&&C(e,this.else.names),e}}$.kind=\"if\";class _ extends y{}_.kind=\"for\";class w extends _{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=x(this.iteration,e,t),this}get names(){return C(super.names,this.iteration.names)}}class b extends _{constructor(e,t,r,o){super(),this.varKind=e,this.name=t,this.from=r,this.to=o}render(e){const t=e.es5?s.varKinds.var:this.varKind,{name:r,from:o,to:a}=this;return`for(${t} ${r}=${o}; ${r}<${a}; ${r}++)`+super.render(e)}get names(){const e=O(super.names,this.from);return O(e,this.to)}}class E extends _{constructor(e,t,r,o){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=x(this.iterable,e,t),this}get names(){return C(super.names,this.iterable.names)}}class P extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?\"async \":\"\"}function ${this.name}(${this.args})`+super.render(e)}}P.kind=\"func\";class S extends h{render(e){return\"return \"+super.render(e)}}S.kind=\"return\";class N extends y{render(e){let t=\"try\"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,o;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(o=this.finally)||void 0===o||o.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&C(e,this.catch.names),this.finally&&C(e,this.finally.names),e}}class k extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind=\"catch\";class j extends y{render(e){return\"finally\"+super.render(e)}}j.kind=\"finally\";function C(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function O(e,t){return t instanceof o._CodeOrName?C(e,t.names):e}function x(e,t,r){return e instanceof o.Name?a(e):(s=e)instanceof o._Code&&s._items.some((e=>e instanceof o.Name&&1===t[e.str]&&void 0!==r[e.str]))?new o._Code(e._items.reduce(((e,t)=>(t instanceof o.Name&&(t=a(t)),t instanceof o._Code?e.push(...t._items):e.push(t),e)),[])):e;var s;function a(e){const o=r[e.str];return void 0===o||1!==t[e.str]?e:(delete t[e.str],o)}}function T(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return\"boolean\"==typeof e||\"number\"==typeof e||null===e?!e:o._`!${M(e)}`}r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?\"\\n\":\"\"},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,o){const s=this._scope.toName(t);return void 0!==r&&o&&(this._constants[s.str]=r),this._leafNode(new c(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new l(e,t,r))}add(e,t){return this._leafNode(new d(e,r.operators.ADD,t))}code(e){return\"function\"==typeof e?e():e!==o.nil&&this._leafNode(new m(e)),this}object(...e){const t=[\"{\"];for(const[r,s]of e)t.length>1&&t.push(\",\"),t.push(r),(r!==s||this.opts.es5)&&(t.push(\":\"),(0,o.addCodeArg)(t,s));return t.push(\"}\"),new o._Code(t)}if(e,t,r){if(this._blockNode(new $(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: \"else\" body without \"then\" body');return this}elseIf(e){return this._elseNode(new $(e))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode($,g)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,o,a=(this.opts.es5?s.varKinds.var:s.varKinds.let)){const n=this._scope.toName(e);return this._for(new b(a,n,t,r),(()=>o(n)))}forOf(e,t,r,a=s.varKinds.const){const n=this._scope.toName(e);if(this.opts.es5){const e=t instanceof o.Name?t:this.var(\"_arr\",t);return this.forRange(\"_i\",0,o._`${e}.length`,(t=>{this.var(n,o._`${e}[${t}]`),r(n)}))}return this._for(new E(\"of\",a,n,t),(()=>r(n)))}forIn(e,t,r,a=(this.opts.es5?s.varKinds.var:s.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,o._`Object.keys(${t})`,r);const n=this._scope.toName(e);return this._for(new E(\"in\",a,n,t),(()=>r(n)))}endFor(){return this._endBlockNode(_)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new f(e))}return(e){const t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: \"return\" should have one node');return this._endBlockNode(S)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');const o=new N;if(this._blockNode(o),this.code(e),t){const e=this.name(\"e\");this._currNode=o.catch=new k(e),t(e)}return r&&(this._currNode=o.finally=new j,this.code(r)),this._endBlockNode(k,j)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error(\"CodeGen: not in self-balancing block\");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=o.nil,r,s){return this._blockNode(new P(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block \"${t?`${e.kind}/${t.kind}`:e.kind}\"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof $))throw new Error('CodeGen: \"else\" without \"if\"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},r.not=I;const R=A(r.operators.AND);r.and=function(...e){return e.reduce(R)};const D=A(r.operators.OR);function A(e){return(t,r)=>t===o.nil?r:r===o.nil?t:o._`${M(t)} ${e} ${M(r)}`}function M(e){return e instanceof o.Name?e:o._`(${e})`}r.or=function(...e){return e.reduce(D)}},{\"./code\":1,\"./scope\":3}],3:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const o=e(\"./code\");class s extends Error{constructor(e){super(`CodeGen: \"code\" for ${e} not defined`),this.value=e.value}}var a;!function(e){e[e.Started=0]=\"Started\",e[e.Completed=1]=\"Completed\"}(a=r.UsedValueState||(r.UsedValueState={})),r.varKinds={const:new o.Name(\"const\"),let:new o.Name(\"let\"),var:new o.Name(\"var\")};class n{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof o.Name?e:this.name(e)}name(e){return new o.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix \"${e}\" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}r.Scope=n;class i extends o.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=o._`.${new o.Name(t)}[${r}]`}}r.ValueScopeName=i;const c=o._`\\n`;r.ValueScope=class extends n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:o.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error(\"CodeGen: ref must be passed in value\");const o=this.toName(e),{prefix:s}=o,a=null!==(r=t.key)&&void 0!==r?r:t.ref;let n=this._values[s];if(n){const e=n.get(a);if(e)return e}else n=this._values[s]=new Map;n.set(a,o);const i=this._scope[s]||(this._scope[s]=[]),c=i.length;return i[c]=t.ref,o.setValue(t,{property:s,itemIndex:c}),o}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name \"${t}\" has no value`);return o._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name \"${e}\" has no value`);return e.value.code}),t,r)}_reduceValues(e,t,n={},i){let c=o.nil;for(const l in e){const d=e[l];if(!d)continue;const u=n[l]=n[l]||new Map;d.forEach((e=>{if(u.has(e))return;u.set(e,a.Started);let n=t(e);if(n){c=o._`${c}${this.opts.es5?r.varKinds.var:r.varKinds.const} ${e} = ${n};${this.opts._n}`}else{if(!(n=null==i?void 0:i(e)))throw new s(e);c=o._`${c}${n}${this.opts._n}`}u.set(e,a.Completed)}))}return c}}},{\"./code\":1}],4:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const o=e(\"./codegen\"),s=e(\"./util\"),a=e(\"./names\");function n(e,t){const r=e.const(\"err\",t);e.if(o._`${a.default.vErrors} === null`,(()=>e.assign(a.default.vErrors,o._`[${r}]`)),o._`${a.default.vErrors}.push(${r})`),e.code(o._`${a.default.errors}++`)}function i(e,t){const{gen:r,validateName:s,schemaEnv:a}=e;a.$async?r.throw(o._`new ${e.ValidationError}(${t})`):(r.assign(o._`${s}.errors`,t),r.return(!1))}r.keywordError={message({keyword:e}){return o.str`must pass \"${e}\" keyword validation`}},r.keyword$DataError={message({keyword:e,schemaType:t}){return t?o.str`\"${e}\" keyword must be ${t} ($data)`:o.str`\"${e}\" keyword is invalid ($data)`}},r.reportError=function(e,t=r.keywordError,s,a){const{it:c}=e,{gen:d,compositeRule:u,allErrors:f}=c,p=l(e,t,s);(null!=a?a:u||f)?n(d,p):i(c,o._`[${p}]`)},r.reportExtraError=function(e,t=r.keywordError,o){const{it:s}=e,{gen:c,compositeRule:d,allErrors:u}=s;n(c,l(e,t,o)),d||u||i(s,a.default.vErrors)},r.resetErrorsCount=function(e,t){e.assign(a.default.errors,t),e.if(o._`${a.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(o._`${a.default.vErrors}.length`,t)),(()=>e.assign(a.default.vErrors,null)))))},r.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:n,it:i}){if(void 0===n)throw new Error(\"ajv implementation error\");const c=e.name(\"err\");e.forRange(\"i\",n,a.default.errors,(n=>{e.const(c,o._`${a.default.vErrors}[${n}]`),e.if(o._`${c}.instancePath === undefined`,(()=>e.assign(o._`${c}.instancePath`,(0,o.strConcat)(a.default.instancePath,i.errorPath)))),e.assign(o._`${c}.schemaPath`,o.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(o._`${c}.schema`,r),e.assign(o._`${c}.data`,s))}))};const c={keyword:new o.Name(\"keyword\"),schemaPath:new o.Name(\"schemaPath\"),params:new o.Name(\"params\"),propertyName:new o.Name(\"propertyName\"),message:new o.Name(\"message\"),schema:new o.Name(\"schema\"),parentSchema:new o.Name(\"parentSchema\")};function l(e,t,r){const{createErrors:s}=e.it;return!1===s?o._`{}`:function(e,t,r={}){const{gen:s,it:n}=e,i=[d(n,r),u(e,r)];return function(e,{params:t,message:r},s){const{keyword:n,data:i,schemaValue:l,it:d}=e,{opts:u,propertyName:f,topSchemaRef:p,schemaPath:m}=d;s.push([c.keyword,n],[c.params,\"function\"==typeof t?t(e):t||o._`{}`]),u.messages&&s.push([c.message,\"function\"==typeof r?r(e):r]);u.verbose&&s.push([c.schema,l],[c.parentSchema,o._`${p}${m}`],[a.default.data,i]);f&&s.push([c.propertyName,f])}(e,t,i),s.object(...i)}(e,t,r)}function d({errorPath:e},{instancePath:t}){const r=t?o.str`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,r)]}function u({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let n=a?t:o.str`${t}/${e}`;return r&&(n=o.str`${n}${(0,s.getErrorPath)(r,s.Type.Str)}`),[c.schemaPath,n]}},{\"./codegen\":2,\"./names\":6,\"./util\":10}],5:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const o=e(\"./codegen\"),s=e(\"../runtime/validation_error\"),a=e(\"./names\"),n=e(\"./resolve\"),i=e(\"./util\"),c=e(\"./validate\");class l{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},\"object\"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,n.normalizeId)(null==r?void 0:r[e.schemaId||\"$id\"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function d(e){const t=f.call(this,e);if(t)return t;const r=(0,n.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:l}=this.opts.code,{ownProperties:d}=this.opts,u=new o.CodeGen(this.scope,{es5:i,lines:l,ownProperties:d});let p;e.$async&&(p=u.scopeValue(\"Error\",{ref:s.default,code:o._`require(\"ajv/dist/runtime/validation_error\").default`}));const m=u.scopeName(\"validate\");e.validateName=m;const h={gen:u,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue(\"schema\",!0===this.opts.code.source?{ref:e.schema,code:(0,o.stringify)(e.schema)}:{ref:e.schema}),validateName:m,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:o.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?\"\":\"#\"),errorPath:o._`\"\"`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(h),u.optimize(this.opts.code.optimize);const t=u.toString();y=`${u.scopeRefs(a.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const r=new Function(`${a.default.self}`,`${a.default.scope}`,y)(this,this.scope.get());if(this.scope.value(m,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:m,validateCode:t,scopeValues:u._values}),this.opts.unevaluated){const{props:e,items:t}=h;r.evaluated={props:e instanceof o.Name?void 0:e,items:t instanceof o.Name?void 0:t,dynamicProps:e instanceof o.Name,dynamicItems:t instanceof o.Name},r.source&&(r.source.evaluated=(0,o.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error(\"Error compiling schema, function code:\",y),t}finally{this._compilations.delete(e)}}function u(e){return(0,n.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function f(e){for(const o of this._compilations)if((t=o).schema===(r=e).schema&&t.root===r.root&&t.baseId===r.baseId)return o;var t,r}function p(e,t){let r;for(;\"string\"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||m.call(this,e,t)}function m(e,t){const r=this.opts.uriResolver.parse(t),o=(0,n._getFullPath)(this.opts.uriResolver,r);let s=(0,n.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===s)return y.call(this,r,e);const a=(0,n.normalizeId)(o),i=this.refs[a]||this.schemas[a];if(\"string\"==typeof i){const t=m.call(this,e,i);if(\"object\"!=typeof(null==t?void 0:t.schema))return;return y.call(this,r,t)}if(\"object\"==typeof(null==i?void 0:i.schema)){if(i.validate||d.call(this,i),a===(0,n.normalizeId)(t)){const{schema:t}=i,{schemaId:r}=this.opts,o=t[r];return o&&(s=(0,n.resolveUrl)(this.opts.uriResolver,s,o)),new l({schema:t,schemaId:r,root:e,baseId:s})}return y.call(this,r,i)}}r.SchemaEnv=l,r.compileSchema=d,r.resolveRef=function(e,t,r){var o;r=(0,n.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=p.call(this,e,r);if(void 0===a){const s=null===(o=e.localRefs)||void 0===o?void 0:o[r],{schemaId:n}=this.opts;s&&(a=new l({schema:s,schemaId:n,root:e,baseId:t}))}return void 0!==a?e.refs[r]=u.call(this,a):void 0},r.getCompilingSchema=f,r.resolveSchema=m;const h=new Set([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function y(e,{baseId:t,schema:r,root:o}){var s;if(\"/\"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const o of e.fragment.slice(1).split(\"/\")){if(\"boolean\"==typeof r)return;const e=r[(0,i.unescapeFragment)(o)];if(void 0===e)return;const s=\"object\"==typeof(r=e)&&r[this.opts.schemaId];!h.has(o)&&s&&(t=(0,n.resolveUrl)(this.opts.uriResolver,t,s))}let a;if(\"boolean\"!=typeof r&&r.$ref&&!(0,i.schemaHasRulesButRef)(r,this.RULES)){const e=(0,n.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=m.call(this,o,e)}const{schemaId:c}=this.opts;return a=a||new l({schema:r,schemaId:c,root:o,baseId:t}),a.schema!==a.root.schema?a:void 0}},{\"../runtime/validation_error\":24,\"./codegen\":2,\"./names\":6,\"./resolve\":8,\"./util\":10,\"./validate\":15}],6:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./codegen\"),s={data:new o.Name(\"data\"),valCxt:new o.Name(\"valCxt\"),instancePath:new o.Name(\"instancePath\"),parentData:new o.Name(\"parentData\"),parentDataProperty:new o.Name(\"parentDataProperty\"),rootData:new o.Name(\"rootData\"),dynamicAnchors:new o.Name(\"dynamicAnchors\"),vErrors:new o.Name(\"vErrors\"),errors:new o.Name(\"errors\"),this:new o.Name(\"this\"),self:new o.Name(\"self\"),scope:new o.Name(\"scope\"),json:new o.Name(\"json\"),jsonPos:new o.Name(\"jsonPos\"),jsonLen:new o.Name(\"jsonLen\"),jsonPart:new o.Name(\"jsonPart\")};r.default=s},{\"./codegen\":2}],7:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./resolve\");class s extends Error{constructor(e,t,r,s){super(s||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,o.resolveUrl)(e,t,r),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(e,this.missingRef))}}r.default=s},{\"./resolve\":8}],8:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const o=e(\"./util\"),s=e(\"fast-deep-equal\"),a=e(\"json-schema-traverse\"),n=new Set([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\",\"const\"]);r.inlineRef=function(e,t=!0){return\"boolean\"==typeof e||(!0===t?!c(e):!!t&&l(e)<=t)};const i=new Set([\"$ref\",\"$recursiveRef\",\"$recursiveAnchor\",\"$dynamicRef\",\"$dynamicAnchor\"]);function c(e){for(const t in e){if(i.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if(\"object\"==typeof r&&c(r))return!0}return!1}function l(e){let t=0;for(const r in e){if(\"$ref\"===r)return Infinity;if(t++,!n.has(r)&&(\"object\"==typeof e[r]&&(0,o.eachItem)(e[r],(e=>t+=l(e))),Infinity===t))return Infinity}return t}function d(e,t=\"\",r){!1!==r&&(t=p(t));const o=e.parse(t);return u(e,o)}function u(e,t){return e.serialize(t).split(\"#\")[0]+\"#\"}r.getFullPath=d,r._getFullPath=u;const f=/#\\/?$/;function p(e){return e?e.replace(f,\"\"):\"\"}r.normalizeId=p,r.resolveUrl=function(e,t,r){return r=p(r),e.resolve(t,r)};const m=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if(\"boolean\"==typeof e)return{};const{schemaId:r,uriResolver:o}=this.opts,n=p(e[r]||t),i={\"\":n},c=d(o,n,!1),l={},u=new Set;return a(e,{allKeys:!0},((e,t,o,s)=>{if(void 0===s)return;const a=c+t;let n=i[s];function d(t){if(t=p(n?(0,this.opts.uriResolver.resolve)(n,t):t),u.has(t))throw h(t);u.add(t);let r=this.refs[t];return\"string\"==typeof r&&(r=this.refs[r]),\"object\"==typeof r?f(e,r.schema,t):t!==p(a)&&(\"#\"===t[0]?(f(e,l[t],t),l[t]=e):this.refs[t]=a),t}function y(e){if(\"string\"==typeof e){if(!m.test(e))throw new Error(`invalid anchor \"${e}\"`);d.call(this,`#${e}`)}}\"string\"==typeof e[r]&&(n=d.call(this,e[r])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),i[t]=n})),l;function f(e,t,r){if(void 0!==t&&!s(e,t))throw h(r)}function h(e){return new Error(`reference \"${e}\" resolves to more than one schema`)}}},{\"./util\":10,\"fast-deep-equal\":63,\"json-schema-traverse\":64}],9:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getRules=r.isJSONType=void 0;const o=new Set([\"string\",\"number\",\"integer\",\"boolean\",\"null\",\"object\",\"array\"]);r.isJSONType=function(e){return\"string\"==typeof e&&o.has(e)},r.getRules=function(){const e={number:{type:\"number\",rules:[]},string:{type:\"string\",rules:[]},array:{type:\"array\",rules:[]},object:{type:\"object\",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const o=e(\"./codegen\"),s=e(\"./codegen/code\");function a(e,t=e.schema){const{opts:r,self:o}=e;if(!r.strictSchema)return;if(\"boolean\"==typeof t)return;const s=o.RULES.keywords;for(const r in t)s[r]||m(e,`unknown keyword: \"${r}\"`)}function n(e,t){if(\"boolean\"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function i(e){return\"number\"==typeof e?`${e}`:e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function c(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}function l({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(a,n,i,c)=>{const l=void 0===i?n:i instanceof o.Name?(n instanceof o.Name?e(a,n,i):t(a,n,i),i):n instanceof o.Name?(t(a,i,n),n):r(n,i);return c!==o.Name||l instanceof o.Name?l:s(a,l)}}function d(e,t){if(!0===t)return e.var(\"props\",!0);const r=e.var(\"props\",o._`{}`);return void 0!==t&&u(e,r,t),r}function u(e,t,r){Object.keys(r).forEach((r=>e.assign(o._`${t}${(0,o.getProperty)(r)}`,!0)))}r.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return\"boolean\"==typeof t?t:0===Object.keys(t).length||(a(e,t),!n(t,e.self.RULES.all))},r.checkUnknownRules=a,r.schemaHasRules=n,r.schemaHasRulesButRef=function(e,t){if(\"boolean\"==typeof e)return!e;for(const r in e)if(\"$ref\"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,s,a){if(!a){if(\"number\"==typeof r||\"boolean\"==typeof r)return r;if(\"string\"==typeof r)return o._`${r}`}return o._`${e}${t}${(0,o.getProperty)(s)}`},r.unescapeFragment=function(e){return c(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(i(e))},r.escapeJsonPointer=i,r.unescapeJsonPointer=c,r.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},r.mergeEvaluated={props:l({mergeNames(e,t,r){return e.if(o._`${r} !== true && ${t} !== undefined`,(()=>{e.if(o._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,o._`${r} || {}`).code(o._`Object.assign(${r}, ${t})`)))}))},mergeToName(e,t,r){return e.if(o._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,o._`${r} || {}`),u(e,r,t))}))},mergeValues(e,t){return!0===e||{...e,...t}},resultToName:d}),items:l({mergeNames(e,t,r){return e.if(o._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,o._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)))},mergeToName(e,t,r){return e.if(o._`${r} !== true`,(()=>e.assign(r,!0===t||o._`${r} > ${t} ? ${r} : ${t}`)))},mergeValues(e,t){return!0===e||Math.max(e,t)},resultToName(e,t){return e.var(\"items\",t)}})},r.evaluatedPropsToName=d,r.setEvaluated=u;const f={};var p;function m(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue(\"func\",{ref:t,code:f[t.code]||(f[t.code]=new s._Code(t.code))})},function(e){e[e.Num=0]=\"Num\",e[e.Str=1]=\"Str\"}(p=r.Type||(r.Type={})),r.getErrorPath=function(e,t,r){if(e instanceof o.Name){const s=t===p.Num;return r?s?o._`\"[\" + ${e} + \"]\"`:o._`\"['\" + ${e} + \"']\"`:s?o._`\"/\" + ${e}`:o._`\"/\" + ${e}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`}return r?(0,o.getProperty)(e).toString():\"/\"+i(e)},r.checkStrictMode=m},{\"./codegen\":2,\"./codegen/code\":1}],11:[function(e,t,r){\"use strict\";function o(e,t){return t.rules.some((t=>s(e,t)))}function s(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){const s=t.RULES.types[r];return s&&!0!==s&&o(e,s)},r.shouldUseGroup=o,r.shouldUseRule=s},{}],12:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const o=e(\"../errors\"),s=e(\"../codegen\"),a=e(\"../names\"),n={message:\"boolean schema is false\"};function i(e,t){const{gen:r,data:s}=e;(0,o.reportError)({gen:r,keyword:\"false schema\",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},n,void 0,t)}r.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:o}=e;!1===r?i(e,!1):\"object\"==typeof r&&!0===r.$async?t.return(a.default.data):(t.assign(s._`${o}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){const{gen:r,schema:o}=e;!1===o?(r.var(t,!1),i(e)):r.var(t,!0)}},{\"../codegen\":2,\"../errors\":4,\"../names\":6}],13:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const o=e(\"../rules\"),s=e(\"./applicability\"),a=e(\"../errors\"),n=e(\"../codegen\"),i=e(\"../util\");var c;function l(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(o.isJSONType))return t;throw new Error(\"type must be JSONType or JSONType[]: \"+t.join(\",\"))}!function(e){e[e.Correct=0]=\"Correct\",e[e.Wrong=1]=\"Wrong\"}(c=r.DataType||(r.DataType={})),r.getSchemaTypes=function(e){const t=l(e.type);if(t.includes(\"null\")){if(!1===e.nullable)throw new Error(\"type: null contradicts nullable: false\")}else{if(!t.length&&void 0!==e.nullable)throw new Error('\"nullable\" cannot be used without \"type\"');!0===e.nullable&&t.push(\"null\")}return t},r.getJSONTypes=l,r.coerceAndCheckDataType=function(e,t){const{gen:r,data:o,opts:a}=e,i=function(e,t){return t?e.filter((e=>d.has(e)||\"array\"===t&&\"array\"===e)):[]}(t,a.coerceTypes),l=t.length>0&&!(0===i.length&&1===t.length&&(0,s.schemaHasRulesForType)(e,t[0]));if(l){const s=f(t,o,a.strictNumbers,c.Wrong);r.if(s,(()=>{i.length?function(e,t,r){const{gen:o,data:s,opts:a}=e,i=o.let(\"dataType\",n._`typeof ${s}`),c=o.let(\"coerced\",n._`undefined`);\"array\"===a.coerceTypes&&o.if(n._`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,(()=>o.assign(s,n._`${s}[0]`).assign(i,n._`typeof ${s}`).if(f(t,s,a.strictNumbers),(()=>o.assign(c,s)))));o.if(n._`${c} !== undefined`);for(const e of r)(d.has(e)||\"array\"===e&&\"array\"===a.coerceTypes)&&l(e);function l(e){switch(e){case\"string\":return void o.elseIf(n._`${i} == \"number\" || ${i} == \"boolean\"`).assign(c,n._`\"\" + ${s}`).elseIf(n._`${s} === null`).assign(c,n._`\"\"`);case\"number\":return void o.elseIf(n._`${i} == \"boolean\" || ${s} === null\n              || (${i} == \"string\" && ${s} && ${s} == +${s})`).assign(c,n._`+${s}`);case\"integer\":return void o.elseIf(n._`${i} === \"boolean\" || ${s} === null\n              || (${i} === \"string\" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,n._`+${s}`);case\"boolean\":return void o.elseIf(n._`${s} === \"false\" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf(n._`${s} === \"true\" || ${s} === 1`).assign(c,!0);case\"null\":return o.elseIf(n._`${s} === \"\" || ${s} === 0 || ${s} === false`),void o.assign(c,null);case\"array\":o.elseIf(n._`${i} === \"string\" || ${i} === \"number\"\n              || ${i} === \"boolean\" || ${s} === null`).assign(c,n._`[${s}]`)}}o.else(),m(e),o.endIf(),o.if(n._`${c} !== undefined`,(()=>{o.assign(s,c),function({gen:e,parentData:t,parentDataProperty:r},o){e.if(n._`${t} !== undefined`,(()=>e.assign(n._`${t}[${r}]`,o)))}(e,c)}))}(e,t,i):m(e)}))}return l};const d=new Set([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function u(e,t,r,o=c.Correct){const s=o===c.Correct?n.operators.EQ:n.operators.NEQ;let a;switch(e){case\"null\":return n._`${t} ${s} null`;case\"array\":a=n._`Array.isArray(${t})`;break;case\"object\":a=n._`${t} && typeof ${t} == \"object\" && !Array.isArray(${t})`;break;case\"integer\":a=i(n._`!(${t} % 1) && !isNaN(${t})`);break;case\"number\":a=i();break;default:return n._`typeof ${t} ${s} ${e}`}return o===c.Correct?a:(0,n.not)(a);function i(e=n.nil){return(0,n.and)(n._`typeof ${t} == \"number\"`,e,r?n._`isFinite(${t})`:n.nil)}}function f(e,t,r,o){if(1===e.length)return u(e[0],t,r,o);let s;const a=(0,i.toHash)(e);if(a.array&&a.object){const e=n._`typeof ${t} != \"object\"`;s=a.null?e:n._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else s=n.nil;a.number&&delete a.integer;for(const e in a)s=(0,n.and)(s,u(e,t,r,o));return s}r.checkDataType=u,r.checkDataTypes=f;const p={message({schema:e}){return`must be ${e}`},params({schema:e,schemaValue:t}){return\"string\"==typeof e?n._`{type: ${e}}`:n._`{type: ${t}}`}};function m(e){const t=function(e){const{gen:t,data:r,schema:o}=e,s=(0,i.schemaRefOrVal)(e,o,\"type\");return{gen:t,keyword:\"type\",data:r,schema:o.type,schemaCode:s,schemaValue:s,parentSchema:o,params:{},it:e}}(e);(0,a.reportError)(t,p)}r.reportTypeError=m},{\"../codegen\":2,\"../errors\":4,\"../rules\":9,\"../util\":10,\"./applicability\":11}],14:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.assignDefaults=void 0;const o=e(\"../codegen\"),s=e(\"../util\");function a(e,t,r){const{gen:a,compositeRule:n,data:i,opts:c}=e;if(void 0===r)return;const l=o._`${i}${(0,o.getProperty)(t)}`;if(n)return void(0,s.checkStrictMode)(e,`default is ignored for: ${l}`);let d=o._`${l} === undefined`;\"empty\"===c.useDefaults&&(d=o._`${d} || ${l} === null || ${l} === \"\"`),a.if(d,o._`${l} = ${(0,o.stringify)(r)}`)}r.assignDefaults=function(e,t){const{properties:r,items:o}=e.schema;if(\"object\"===t&&r)for(const t in r)a(e,t,r[t].default);else\"array\"===t&&Array.isArray(o)&&o.forEach(((t,r)=>a(e,r,t.default)))}},{\"../codegen\":2,\"../util\":10}],15:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const o=e(\"./boolSchema\"),s=e(\"./dataType\"),a=e(\"./applicability\"),n=e(\"./dataType\"),i=e(\"./defaults\"),c=e(\"./keyword\"),l=e(\"./subschema\"),d=e(\"../codegen\"),u=e(\"../names\"),f=e(\"../resolve\"),p=e(\"../util\"),m=e(\"../errors\");function h({gen:e,validateName:t,schema:r,schemaEnv:o,opts:s},a){s.code.es5?e.func(t,d._`${u.default.data}, ${u.default.valCxt}`,o.$async,(()=>{e.code(d._`\"use strict\"; ${y(r,s)}`),function(e,t){e.if(u.default.valCxt,(()=>{e.var(u.default.instancePath,d._`${u.default.valCxt}.${u.default.instancePath}`),e.var(u.default.parentData,d._`${u.default.valCxt}.${u.default.parentData}`),e.var(u.default.parentDataProperty,d._`${u.default.valCxt}.${u.default.parentDataProperty}`),e.var(u.default.rootData,d._`${u.default.valCxt}.${u.default.rootData}`),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`${u.default.valCxt}.${u.default.dynamicAnchors}`)}),(()=>{e.var(u.default.instancePath,d._`\"\"`),e.var(u.default.parentData,d._`undefined`),e.var(u.default.parentDataProperty,d._`undefined`),e.var(u.default.rootData,u.default.data),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`{}`)}))}(e,s),e.code(a)})):e.func(t,d._`${u.default.data}, ${function(e){return d._`{${u.default.instancePath}=\"\", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${e.dynamicRef?d._`, ${u.default.dynamicAnchors}={}`:d.nil}}={}`}(s)}`,o.$async,(()=>e.code(y(r,s)).code(a)))}function y(e,t){const r=\"object\"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?d._`/*# sourceURL=${r} */`:d.nil}function v(e,t){$(e)&&(_(e),g(e))?function(e,t){const{schema:r,gen:o,opts:s}=e;s.$comment&&r.$comment&&b(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,f.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error(\"async schema in sync schema\")}(e);const a=o.const(\"_errs\",u.default.errors);w(e,a),o.var(t,d._`${a} === ${u.default.errors}`)}(e,t):(0,o.boolOrEmptySchema)(e,t)}function g({schema:e,self:t}){if(\"boolean\"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function $(e){return\"boolean\"!=typeof e.schema}function _(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:o,self:s}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path \"${r}\"`)}(e)}function w(e,t){if(e.opts.jtd)return E(e,[],!1,t);const r=(0,s.getSchemaTypes)(e.schema);E(e,r,!(0,s.coerceAndCheckDataType)(e,r),t)}function b({gen:e,schemaEnv:t,schema:r,errSchemaPath:o,opts:s}){const a=r.$comment;if(!0===s.$comment)e.code(d._`${u.default.self}.logger.log(${a})`);else if(\"function\"==typeof s.$comment){const r=d.str`${o}/$comment`,s=e.scopeValue(\"root\",{ref:t.root});e.code(d._`${u.default.self}.opts.$comment(${a}, ${r}, ${s}.schema)`)}}function E(e,t,r,o){const{gen:s,schema:i,data:c,allErrors:l,opts:f,self:m}=e,{RULES:h}=m;function y(p){(0,a.shouldUseGroup)(i,p)&&(p.type?(s.if((0,n.checkDataType)(p.type,c,f.strictNumbers)),P(e,p),1===t.length&&t[0]===p.type&&r&&(s.else(),(0,n.reportTypeError)(e)),s.endIf()):P(e,p),l||s.if(d._`${u.default.errors} === ${o||0}`))}!i.$ref||!f.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(i,h)?(f.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||k(e,`type \"${t}\" not allowed by context \"${e.dataTypes.join(\",\")}\"`)})),e.dataTypes=e.dataTypes.filter((e=>N(t,e)))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes(\"null\"))&&k(e,\"use allowUnionTypes to allow union type keyword\")}(e,t);!function(e,t){const r=e.self.RULES.all;for(const o in r){const s=r[o];if(\"object\"==typeof s&&(0,a.shouldUseRule)(e.schema,s)){const{type:r}=s.definition;r.length&&!r.some((e=>S(t,e)))&&k(e,`missing type \"${r.join(\",\")}\" for keyword \"${o}\"`)}}}(e,e.dataTypes)}(e,t),s.block((()=>{for(const e of h.rules)y(e);y(h.post)}))):s.block((()=>C(e,\"$ref\",h.all.$ref.definition)))}function P(e,t){const{gen:r,schema:o,opts:{useDefaults:s}}=e;s&&(0,i.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,a.shouldUseRule)(o,r)&&C(e,r.keyword,r.definition,t.type)}))}function S(e,t){return e.includes(t)||\"number\"===t&&e.includes(\"integer\")}function N(e,t){return e.includes(t)||\"integer\"===t&&e.includes(\"number\")}function k(e,t){(0,p.checkStrictMode)(e,t+=` at \"${e.schemaEnv.baseId+e.errSchemaPath}\" (strictTypes)`,e.opts.strictTypes)}r.validateFunctionCode=function(e){$(e)&&(_(e),g(e))?function(e){const{schema:t,opts:r,gen:o}=e;h(e,(()=>{r.$comment&&t.$comment&&b(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,p.checkStrictMode)(e,\"default is ignored in the schema root\")}(e),o.let(u.default.vErrors,null),o.let(u.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const(\"evaluated\",d._`${r}.evaluated`),t.if(d._`${e.evaluated}.dynamicProps`,(()=>t.assign(d._`${e.evaluated}.props`,d._`undefined`))),t.if(d._`${e.evaluated}.dynamicItems`,(()=>t.assign(d._`${e.evaluated}.items`,d._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:r,validateName:o,ValidationError:s,opts:a}=e;r.$async?t.if(d._`${u.default.errors} === 0`,(()=>t.return(u.default.data)),(()=>t.throw(d._`new ${s}(${u.default.vErrors})`))):(t.assign(d._`${o}.errors`,u.default.vErrors),a.unevaluated&&function({gen:e,evaluated:t,props:r,items:o}){r instanceof d.Name&&e.assign(d._`${t}.props`,r);o instanceof d.Name&&e.assign(d._`${t}.items`,o)}(e),t.return(d._`${u.default.errors} === 0`))}(e)}))}(e):h(e,(()=>(0,o.topBoolOrEmptySchema)(e)))};class j{constructor(e,t,r){if((0,c.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const(\"vSchema\",T(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);(\"code\"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const(\"_errs\",u.default.errors))}result(e,t,r){this.failResult((0,d.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,d.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(d._`${t} !== undefined && (${(0,d.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?m.reportExtraError:m.reportError)(this,this.def.error,t)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add \"trackErrors\" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=d.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=d.nil,t=d.nil){if(!this.$data)return;const{gen:r,schemaCode:o,schemaType:s,def:a}=this;r.if((0,d.or)(d._`${o} === undefined`,t)),e!==d.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==d.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:o,it:s}=this;return(0,d.or)(function(){if(r.length){if(!(t instanceof d.Name))throw new Error(\"ajv implementation error\");const e=Array.isArray(r)?r:[r];return d._`${(0,n.checkDataTypes)(e,t,s.opts.strictNumbers,n.DataType.Wrong)}`}return d.nil}(),function(){if(o.validateSchema){const r=e.scopeValue(\"validate$data\",{ref:o.validateSchema});return d._`!${r}(${t})`}return d.nil}())}subschema(e,t){const r=(0,l.getSubschema)(this.it,e);(0,l.extendSubschemaData)(r,this.it,e),(0,l.extendSubschemaMode)(r,e);const o={...this.it,...r,items:void 0,props:void 0};return v(o,t),o}mergeEvaluated(e,t){const{it:r,gen:o}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=p.mergeEvaluated.props(o,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=p.mergeEvaluated.items(o,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:o}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return o.if(t,(()=>this.mergeEvaluated(e,d.Name))),!0}}function C(e,t,r,o){const s=new j(e,r,t);\"code\"in r?r.code(s,o):s.$data&&r.validate?(0,c.funcKeywordCode)(s,r):\"macro\"in r?(0,c.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,c.funcKeywordCode)(s,r)}r.KeywordCxt=j;const O=/^\\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function T(e,{dataLevel:t,dataNames:r,dataPathArr:o}){let s,a;if(\"\"===e)return u.default.rootData;if(\"/\"===e[0]){if(!O.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=u.default.rootData}else{const n=x.exec(e);if(!n)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+n[1];if(s=n[2],\"#\"===s){if(i>=t)throw new Error(c(\"property/index\",i));return o[t-i]}if(i>t)throw new Error(c(\"data\",i));if(a=r[t-i],!s)return a}let n=a;const i=s.split(\"/\");for(const e of i)e&&(a=d._`${a}${(0,d.getProperty)((0,p.unescapeJsonPointer)(e))}`,n=d._`${n} && ${a}`);return n;function c(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}r.getData=T},{\"../codegen\":2,\"../errors\":4,\"../names\":6,\"../resolve\":8,\"../util\":10,\"./applicability\":11,\"./boolSchema\":12,\"./dataType\":13,\"./defaults\":14,\"./keyword\":16,\"./subschema\":17}],16:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const o=e(\"../codegen\"),s=e(\"../names\"),a=e(\"../../vocabularies/code\"),n=e(\"../errors\");function i(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,(()=>t.assign(r,o._`${s.parentData}[${s.parentDataProperty}]`)))}function c(e,t,r){if(void 0===r)throw new Error(`keyword \"${t}\" failed to compile`);return e.scopeValue(\"keyword\",\"function\"==typeof r?{ref:r}:{ref:r,code:(0,o.stringify)(r)})}r.macroKeywordCode=function(e,t){const{gen:r,keyword:s,schema:a,parentSchema:n,it:i}=e,l=t.macro.call(i.self,a,n,i),d=c(r,s,l);!1!==i.opts.validateSchema&&i.self.validateSchema(l,!0);const u=r.name(\"valid\");e.subschema({schema:l,schemaPath:o.nil,errSchemaPath:`${i.errSchemaPath}/${s}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},r.funcKeywordCode=function(e,t){var r;const{gen:l,keyword:d,schema:u,parentSchema:f,$data:p,it:m}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error(\"async keyword in sync schema\")}(m,t);const h=!p&&t.compile?t.compile.call(m.self,u,f,m):t.validate,y=c(l,d,h),v=l.let(\"valid\");function g(r=(t.async?o._`await `:o.nil)){l.assign(v,o._`${r}${(0,a.callValidateCode)(e,y,m.opts.passContext?s.default.this:s.default.self,!(\"compile\"in t&&!p||!1===t.schema))}`,t.modifying)}function $(e){var r;l.if((0,o.not)(null!==(r=t.valid)&&void 0!==r?r:v),e)}e.block$data(v,(function(){if(!1===t.errors)g(),t.modifying&&i(e),$((()=>e.error()));else{const r=t.async?function(){const e=l.let(\"ruleErrs\",null);return l.try((()=>g(o._`await `)),(t=>l.assign(v,!1).if(o._`${t} instanceof ${m.ValidationError}`,(()=>l.assign(e,o._`${t}.errors`)),(()=>l.throw(t))))),e}():function(){const e=o._`${y}.errors`;return l.assign(e,null),g(o.nil),e}();t.modifying&&i(e),$((()=>function(e,t){const{gen:r}=e;r.if(o._`Array.isArray(${t})`,(()=>{r.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,o._`${s.default.vErrors}.length`),(0,n.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:v)},r.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>\"array\"===t?Array.isArray(e):\"object\"===t?e&&\"object\"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},r.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:o},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error(\"ajv implementation error\");const n=s.dependencies;if(null==n?void 0:n.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${a}: ${n.join(\",\")}`);if(s.validateSchema){if(!s.validateSchema(e[a])){const e=`keyword \"${a}\" value is invalid at path \"${o}\": `+r.errorsText(s.validateSchema.errors);if(\"log\"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}}},{\"../../vocabularies/code\":42,\"../codegen\":2,\"../errors\":4,\"../names\":6}],17:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const o=e(\"../codegen\"),s=e(\"../util\");r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:n,errSchemaPath:i,topSchemaRef:c}){if(void 0!==t&&void 0!==a)throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');if(void 0!==t){const a=e.schema[t];return void 0===r?{schema:a,schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}${(0,o.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==a){if(void 0===n||void 0===i||void 0===c)throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');return{schema:a,schemaPath:n,topSchemaRef:c,errSchemaPath:i}}throw new Error('either \"keyword\" or \"schema\" must be passed')},r.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:a,data:n,dataTypes:i,propertyName:c}){if(void 0!==n&&void 0!==r)throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');const{gen:l}=t;if(void 0!==r){const{errorPath:n,dataPathArr:i,opts:c}=t;d(l.let(\"data\",o._`${t.data}${(0,o.getProperty)(r)}`,!0)),e.errorPath=o.str`${n}${(0,s.getErrorPath)(r,a,c.jsPropertySyntax)}`,e.parentDataProperty=o._`${r}`,e.dataPathArr=[...i,e.parentDataProperty]}if(void 0!==n){d(n instanceof o.Name?n:l.let(\"data\",n,!0)),void 0!==c&&(e.propertyName=c)}function d(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}i&&(e.dataTypes=i)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:o,createErrors:s,allErrors:a}){void 0!==o&&(e.compositeRule=o),void 0!==s&&(e.createErrors=s),void 0!==a&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}},{\"../codegen\":2,\"../util\":10}],18:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var o=e(\"./compile/validate\");Object.defineProperty(r,\"KeywordCxt\",{enumerable:!0,get(){return o.KeywordCxt}});var s=e(\"./compile/codegen\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return s._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return s.str}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return s.stringify}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return s.nil}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return s.Name}}),Object.defineProperty(r,\"CodeGen\",{enumerable:!0,get(){return s.CodeGen}});const a=e(\"./runtime/validation_error\"),n=e(\"./compile/ref_error\"),i=e(\"./compile/rules\"),c=e(\"./compile\"),l=e(\"./compile/codegen\"),d=e(\"./compile/resolve\"),u=e(\"./compile/validate/dataType\"),f=e(\"./compile/util\"),p=e(\"./refs/data.json\"),m=e(\"./runtime/uri\"),h=(e,t)=>new RegExp(e,t);h.code=\"new RegExp\";const y=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],v=new Set([\"validate\",\"serialize\",\"parse\",\"wrapper\",\"root\",\"schema\",\"keyword\",\"pattern\",\"formats\",\"validate$data\",\"func\",\"obj\",\"Error\"]),g={errorDataPath:\"\",format:\"`validateFormats: false` can be used instead.\",nullable:'\"nullable\" keyword is supported by default.',jsonPointers:\"Deprecated jsPropertySyntax can be used instead.\",extendRefs:\"Deprecated ignoreKeywordsWithRef can be used instead.\",missingRefs:\"Pass empty schema with $id that should be ignored to ajv.addSchema.\",processCode:\"Use option `code: {process: (code, schemaEnv: object) => string}`\",sourceCode:\"Use option `code: {source: true}`\",strictDefaults:\"It is default now, see option `strict`.\",strictKeywords:\"It is default now, see option `strict`.\",uniqueItems:'\"uniqueItems\" keyword is always validated.',unknownFormats:\"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",cache:\"Map is used as cache, schema object as key.\",serialize:\"Map is used as cache, schema object as key.\",ajvErrors:\"It is default now.\"},$={ignoreKeywordsWithRef:\"\",jsPropertySyntax:\"\",unicode:'\"minLength\"/\"maxLength\" account for unicode characters by default.'};function _(e){var t,r,o,s,a,n,i,c,l,d,u,f,p,y,v,g,$,_,w,b,E,P,S,N,k;const j=e.strict,C=null===(t=e.code)||void 0===t?void 0:t.optimize,O=!0===C||void 0===C?1:C||0,x=null!==(o=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==o?o:h,T=null!==(s=e.uriResolver)&&void 0!==s?s:m.default;return{strictSchema:null===(n=null!==(a=e.strictSchema)&&void 0!==a?a:j)||void 0===n||n,strictNumbers:null===(c=null!==(i=e.strictNumbers)&&void 0!==i?i:j)||void 0===c||c,strictTypes:null!==(d=null!==(l=e.strictTypes)&&void 0!==l?l:j)&&void 0!==d?d:\"log\",strictTuples:null!==(f=null!==(u=e.strictTuples)&&void 0!==u?u:j)&&void 0!==f?f:\"log\",strictRequired:null!==(y=null!==(p=e.strictRequired)&&void 0!==p?p:j)&&void 0!==y&&y,code:e.code?{...e.code,optimize:O,regExp:x}:{optimize:O,regExp:x},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===($=e.meta)||void 0===$||$,messages:null===(_=e.messages)||void 0===_||_,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(b=e.schemaId)&&void 0!==b?b:\"$id\",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(P=e.validateSchema)||void 0===P||P,validateFormats:null===(S=e.validateFormats)||void 0===S||S,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(k=e.int32range)||void 0===k||k,uriResolver:T}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:v,es5:t,lines:r}),this.logger=function(e){if(!1===e)return j;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error(\"logger must implement log, warn and error methods\")}(e.logger);const o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),b.call(this,g,e,\"NOT SUPPORTED\"),b.call(this,$,e,\"DEPRECATED\",\"warn\"),this._metaOpts=k.call(this),e.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),P.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword(\"$async\")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let o=p;\"id\"===r&&(o={...p},o.id=o.$id,delete o.$id),t&&e&&this.addMetaSchema(o,o[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=\"object\"==typeof e?e[t]||e:void 0}validate(e,t){let r;if(\"string\"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref \"${e}\"`)}else r=this.compile(e);const o=r(t);return\"$async\"in r||(this.errors=r.errors),o}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if(\"function\"!=typeof this.opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");const{loadSchema:r}=this.opts;return o.call(this,e,t);async function o(e,t){await s.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||a.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await o.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof n.default))throw t;return i.call(this,t),await c.call(this,t.missingSchema),a.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await l.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function l(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,o=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,o);return this}let s;if(\"object\"==typeof e){const{schemaId:t}=this.opts;if(s=e[t],void 0!==s&&\"string\"!=typeof s)throw new Error(`schema ${t} must be string`)}return t=(0,d.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,o,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if(\"boolean\"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;const o=this.validate(r,e);if(!o&&t){const e=\"schema is invalid: \"+this.errorsText();if(\"log\"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return o}getSchema(e){let t;for(;\"string\"==typeof(t=E.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,o=new c.SchemaEnv({schema:{},schemaId:r});if(t=c.resolveSchema.call(this,o,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case\"undefined\":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case\"string\":{const t=E.call(this,e);return\"object\"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case\"object\":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,d.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw new Error(\"ajv.removeSchema: invalid parameter\")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if(\"string\"==typeof e)r=e,\"object\"==typeof t&&(this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\"),t.keyword=r);else{if(\"object\"!=typeof e||void 0!==t)throw new Error(\"invalid addKeywords parameters\");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error(\"addKeywords: keyword must be string or non-empty array\")}if(O.call(this,r,t),!t)return(0,f.eachItem)(r,(e=>x.call(this,e))),this;I.call(this,t);const o={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,f.eachItem)(r,0===o.type.length?e=>x.call(this,e,o):e=>o.type.forEach((t=>x.call(this,e,o,t)))),this}getKeyword(e){const t=this.RULES.all[e];return\"object\"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return\"string\"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=\", \",dataVar:r=\"data\"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):\"No errors\"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const o of t){const t=o.split(\"/\").slice(1);let s=e;for(const e of t)s=s[e];for(const e in r){const t=r[e];if(\"object\"!=typeof t)continue;const{$data:o}=t.definition,a=s[e];o&&a&&(s[e]=D(a))}}return e}_removeAllSchemas(e,t){for(const r in e){const o=e[r];t&&!t.test(r)||(\"string\"==typeof o?delete e[r]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[r]))}}_addSchema(e,t,r,o=this.opts.validateSchema,s=this.opts.addUsedSchema){let a;const{schemaId:n}=this.opts;if(\"object\"==typeof e)a=e[n];else{if(this.opts.jtd)throw new Error(\"schema must be object\");if(\"boolean\"!=typeof e)throw new Error(\"schema must be object or boolean\")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(a||r);const l=d.getSchemaRefs.call(this,e,r);return i=new c.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:l}),this._cache.set(i.schema,i),s&&!r.startsWith(\"#\")&&(r&&this._checkUnique(r),this.refs[r]=i),o&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id \"${e}\" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error(\"ajv implementation error\");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function b(e,t,r,o=\"error\"){for(const s in e){const a=s;a in t&&this.logger[o](`${r}: option ${s}. ${e[a]}`)}}function E(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function P(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function S(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn(\"keywords option as map is deprecated, pass array\");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function k(){const e={...this.opts};for(const t of y)delete e[t];return e}r.default=w,w.ValidationError=a.default,w.MissingRefError=n.default;const j={log(){},warn(){},error(){}};const C=/^[a-z_$][a-z0-9_$:-]*$/i;function O(e,t){const{RULES:r}=this;if((0,f.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!C.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!(\"code\"in t)&&!(\"validate\"in t))throw new Error('$data keyword must have \"code\" or \"validate\" function')}function x(e,t,r){var o;const s=null==t?void 0:t.post;if(r&&s)throw new Error('keyword with \"post\" flag cannot have \"type\"');const{RULES:a}=this;let n=s?a.post:a.rules.find((({type:e})=>e===r));if(n||(n={type:r,rules:[]},a.rules.push(n)),a.keywords[e]=!0,!t)return;const i={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}};t.before?T.call(this,n,i,t.before):n.rules.push(i),a.all[e]=i,null===(o=t.implements)||void 0===o||o.forEach((e=>this.addKeyword(e)))}function T(e,t,r){const o=e.rules.findIndex((e=>e.keyword===r));o>=0?e.rules.splice(o,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function I(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=D(t)),e.validateSchema=this.compile(t,!0))}const R={$ref:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\"};function D(e){return{anyOf:[e,R]}}},{\"./compile\":5,\"./compile/codegen\":2,\"./compile/ref_error\":7,\"./compile/resolve\":8,\"./compile/rules\":9,\"./compile/util\":10,\"./compile/validate\":15,\"./compile/validate/dataType\":13,\"./refs/data.json\":19,\"./runtime/uri\":23,\"./runtime/validation_error\":24}],19:[function(e,t,r){t.exports={$id:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",description:\"Meta-schema for $data reference (JSON AnySchema extension proposal)\",type:\"object\",required:[\"$data\"],properties:{$data:{type:\"string\",anyOf:[{format:\"relative-json-pointer\"},{format:\"json-pointer\"}]}},additionalProperties:!1}},{}],20:[function(e,t,r){t.exports={$schema:\"http://json-schema.org/draft-07/schema#\",$id:\"http://json-schema.org/draft-07/schema#\",title:\"Core schema meta-schema\",definitions:{schemaArray:{type:\"array\",minItems:1,items:{$ref:\"#\"}},nonNegativeInteger:{type:\"integer\",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:\"#/definitions/nonNegativeInteger\"},{default:0}]},simpleTypes:{enum:[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},stringArray:{type:\"array\",items:{type:\"string\"},uniqueItems:!0,default:[]}},type:[\"object\",\"boolean\"],properties:{$id:{type:\"string\",format:\"uri-reference\"},$schema:{type:\"string\",format:\"uri\"},$ref:{type:\"string\",format:\"uri-reference\"},$comment:{type:\"string\"},title:{type:\"string\"},description:{type:\"string\"},default:!0,readOnly:{type:\"boolean\",default:!1},examples:{type:\"array\",items:!0},multipleOf:{type:\"number\",exclusiveMinimum:0},maximum:{type:\"number\"},exclusiveMaximum:{type:\"number\"},minimum:{type:\"number\"},exclusiveMinimum:{type:\"number\"},maxLength:{$ref:\"#/definitions/nonNegativeInteger\"},minLength:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},pattern:{type:\"string\",format:\"regex\"},additionalItems:{$ref:\"#\"},items:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/schemaArray\"}],default:!0},maxItems:{$ref:\"#/definitions/nonNegativeInteger\"},minItems:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},uniqueItems:{type:\"boolean\",default:!1},contains:{$ref:\"#\"},maxProperties:{$ref:\"#/definitions/nonNegativeInteger\"},minProperties:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},required:{$ref:\"#/definitions/stringArray\"},additionalProperties:{$ref:\"#\"},definitions:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},properties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},patternProperties:{type:\"object\",additionalProperties:{$ref:\"#\"},propertyNames:{format:\"regex\"},default:{}},dependencies:{type:\"object\",additionalProperties:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/stringArray\"}]}},propertyNames:{$ref:\"#\"},const:!0,enum:{type:\"array\",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:\"#/definitions/simpleTypes\"},{type:\"array\",items:{$ref:\"#/definitions/simpleTypes\"},minItems:1,uniqueItems:!0}]},format:{type:\"string\"},contentMediaType:{type:\"string\"},contentEncoding:{type:\"string\"},if:{$ref:\"#\"},then:{$ref:\"#\"},else:{$ref:\"#\"},allOf:{$ref:\"#/definitions/schemaArray\"},anyOf:{$ref:\"#/definitions/schemaArray\"},oneOf:{$ref:\"#/definitions/schemaArray\"},not:{$ref:\"#\"}},default:!0}},{}],21:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"fast-deep-equal\");o.code='require(\"ajv/dist/runtime/equal\").default',r.default=o},{\"fast-deep-equal\":63}],22:[function(e,t,r){\"use strict\";function o(e){const t=e.length;let r,o=0,s=0;for(;s<t;)o++,r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<t&&(r=e.charCodeAt(s),56320==(64512&r)&&s++);return o}Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=o,o.code='require(\"ajv/dist/runtime/ucs2length\").default'},{}],23:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"uri-js\");o.code='require(\"ajv/dist/runtime/uri\").default',r.default=o},{\"uri-js\":65}],24:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});class o extends Error{constructor(e){super(\"validation failed\"),this.errors=e,this.ajv=this.validation=!0}}r.default=o},{}],25:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateAdditionalItems=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a={keyword:\"additionalItems\",type:\"array\",schemaType:[\"boolean\",\"object\"],before:\"uniqueItems\",error:{message({params:{len:e}}){return o.str`must NOT have more than ${e} items`},params({params:{len:e}}){return o._`{limit: ${e}}`}},code(e){const{parentSchema:t,it:r}=e,{items:o}=t;Array.isArray(o)?n(e,o):(0,s.checkStrictMode)(r,'\"additionalItems\" is ignored when \"items\" is not an array of schemas')}};function n(e,t){const{gen:r,schema:a,data:n,keyword:i,it:c}=e;c.items=!0;const l=r.const(\"len\",o._`${n}.length`);if(!1===a)e.setParams({len:t.length}),e.pass(o._`${l} <= ${t.length}`);else if(\"object\"==typeof a&&!(0,s.alwaysValidSchema)(c,a)){const a=r.var(\"valid\",o._`${l} <= ${t.length}`);r.if((0,o.not)(a),(()=>function(a){r.forRange(\"i\",t.length,l,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:s.Type.Num},a),c.allErrors||r.if((0,o.not)(a),(()=>r.break()))}))}(a))),e.ok(a)}}r.validateAdditionalItems=n,r.default=a},{\"../../compile/codegen\":2,\"../../compile/util\":10}],26:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/names\"),n=e(\"../../compile/util\");r.default={keyword:\"additionalProperties\",type:[\"object\"],schemaType:[\"boolean\",\"object\"],allowUndefined:!0,trackErrors:!0,error:{message:\"must NOT have additional properties\",params({params:e}){return s._`{additionalProperty: ${e.additionalProperty}}`}},code(e){const{gen:t,schema:r,parentSchema:i,data:c,errsCount:l,it:d}=e;if(!l)throw new Error(\"ajv implementation error\");const{allErrors:u,opts:f}=d;if(d.props=!0,\"all\"!==f.removeAdditional&&(0,n.alwaysValidSchema)(d,r))return;const p=(0,o.allSchemaProperties)(i.properties),m=(0,o.allSchemaProperties)(i.patternProperties);function h(e){t.code(s._`delete ${c}[${e}]`)}function y(o){if(\"all\"===f.removeAdditional||f.removeAdditional&&!1===r)h(o);else{if(!1===r)return e.setParams({additionalProperty:o}),e.error(),void(u||t.break());if(\"object\"==typeof r&&!(0,n.alwaysValidSchema)(d,r)){const r=t.name(\"valid\");\"failing\"===f.removeAdditional?(v(o,r,!1),t.if((0,s.not)(r),(()=>{e.reset(),h(o)}))):(v(o,r),u||t.if((0,s.not)(r),(()=>t.break())))}}}function v(t,r,o){const s={keyword:\"additionalProperties\",dataProp:t,dataPropType:n.Type.Str};!1===o&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn(\"key\",c,(r=>{p.length||m.length?t.if(function(r){let a;if(p.length>8){const e=(0,n.schemaRefOrVal)(d,i.properties,\"properties\");a=(0,o.isOwnProperty)(t,e,r)}else a=p.length?(0,s.or)(...p.map((e=>s._`${r} === ${e}`))):s.nil;return m.length&&(a=(0,s.or)(a,...m.map((t=>s._`${(0,o.usePattern)(e,t)}.test(${r})`)))),(0,s.not)(a)}(r),(()=>y(r))):y(r)})),e.ok(s._`${l} === ${a.default.errors}`)}}},{\"../../compile/codegen\":2,\"../../compile/names\":6,\"../../compile/util\":10,\"../code\":42}],27:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:\"allOf\",schemaType:\"array\",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");const a=t.name(\"valid\");r.forEach(((t,r)=>{if((0,o.alwaysValidSchema)(s,t))return;const n=e.subschema({keyword:\"allOf\",schemaProp:r},a);e.ok(a),e.mergeEvaluated(n)}))}}},{\"../../compile/util\":10}],28:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\");r.default={keyword:\"anyOf\",schemaType:\"array\",trackErrors:!0,code:o.validateUnion,error:{message:\"must match a schema in anyOf\"}}},{\"../code\":42}],29:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"contains\",type:\"array\",schemaType:[\"object\",\"boolean\"],before:\"uniqueItems\",trackErrors:!0,error:{message({params:{min:e,max:t}}){return void 0===t?o.str`must contain at least ${e} valid item(s)`:o.str`must contain at least ${e} and no more than ${t} valid item(s)`},params({params:{min:e,max:t}}){return void 0===t?o._`{minContains: ${e}}`:o._`{minContains: ${e}, maxContains: ${t}}`}},code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:i}=e;let c,l;const{minContains:d,maxContains:u}=a;i.opts.next?(c=void 0===d?1:d,l=u):c=1;const f=t.const(\"len\",o._`${n}.length`);if(e.setParams({min:c,max:l}),void 0===l&&0===c)return void(0,s.checkStrictMode)(i,'\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored');if(void 0!==l&&c>l)return(0,s.checkStrictMode)(i,'\"minContains\" > \"maxContains\" is always invalid'),void e.fail();if((0,s.alwaysValidSchema)(i,r)){let t=o._`${f} >= ${c}`;return void 0!==l&&(t=o._`${t} && ${f} <= ${l}`),void e.pass(t)}i.items=!0;const p=t.name(\"valid\");function m(){const e=t.name(\"_valid\"),r=t.let(\"count\",0);h(e,(()=>t.if(e,(()=>function(e){t.code(o._`${e}++`),void 0===l?t.if(o._`${e} >= ${c}`,(()=>t.assign(p,!0).break())):(t.if(o._`${e} > ${l}`,(()=>t.assign(p,!1).break())),1===c?t.assign(p,!0):t.if(o._`${e} >= ${c}`,(()=>t.assign(p,!0))))}(r)))))}function h(r,o){t.forRange(\"i\",0,f,(t=>{e.subschema({keyword:\"contains\",dataProp:t,dataPropType:s.Type.Num,compositeRule:!0},r),o()}))}void 0===l&&1===c?h(p,(()=>t.if(p,(()=>t.break())))):0===c?(t.let(p,!0),void 0!==l&&t.if(o._`${n}.length > 0`,m)):(t.let(p,!1),m()),e.result(p,(()=>e.reset()))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],30:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\");r.error={message({params:{property:e,depsCount:t,deps:r}}){return o.str`must have ${1===t?\"property\":\"properties\"} ${r} when property ${e} is present`},params({params:{property:e,depsCount:t,deps:r,missingProperty:s}}){return o._`{property: ${e},\n    missingProperty: ${s},\n    depsCount: ${t},\n    deps: ${r}}`}};const n={keyword:\"dependencies\",type:\"object\",schemaType:\"object\",error:r.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const o in e){if(\"__proto__\"===o)continue;(Array.isArray(e[o])?t:r)[o]=e[o]}return[t,r]}(e);i(e,t),c(e,r)}};function i(e,t=e.schema){const{gen:r,data:s,it:n}=e;if(0===Object.keys(t).length)return;const i=r.let(\"missing\");for(const c in t){const l=t[c];if(0===l.length)continue;const d=(0,a.propertyInData)(r,s,c,n.opts.ownProperties);e.setParams({property:c,depsCount:l.length,deps:l.join(\", \")}),n.allErrors?r.if(d,(()=>{for(const t of l)(0,a.checkReportMissingProp)(e,t)})):(r.if(o._`${d} && (${(0,a.checkMissingProp)(e,l,i)})`),(0,a.reportMissingProp)(e,i),r.else())}}function c(e,t=e.schema){const{gen:r,data:o,keyword:n,it:i}=e,c=r.name(\"valid\");for(const l in t)(0,s.alwaysValidSchema)(i,t[l])||(r.if((0,a.propertyInData)(r,o,l,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:n,schemaProp:l},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}r.validatePropertyDeps=i,r.validateSchemaDeps=c,r.default=n},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],31:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");function a(e,t){const r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}r.default={keyword:\"if\",schemaType:[\"object\",\"boolean\"],trackErrors:!0,error:{message({params:e}){return o.str`must match \"${e.ifClause}\" schema`},params({params:e}){return o._`{failingKeyword: ${e.ifClause}}`}},code(e){const{gen:t,parentSchema:r,it:n}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(n,'\"if\" without \"then\" and \"else\" is ignored');const i=a(n,\"then\"),c=a(n,\"else\");if(!i&&!c)return;const l=t.let(\"valid\",!0),d=t.name(\"_valid\");if(function(){const t=e.subschema({keyword:\"if\",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&c){const r=t.let(\"ifClause\");e.setParams({ifClause:r}),t.if(d,u(\"then\",r),u(\"else\",r))}else i?t.if(d,u(\"then\")):t.if((0,o.not)(d),u(\"else\"));function u(r,s){return()=>{const a=e.subschema({keyword:r},d);t.assign(l,d),e.mergeValidEvaluated(a,l),s?t.assign(s,o._`${r}`):e.setParams({ifClause:r})}}e.pass(l,(()=>e.error(!0)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],32:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./additionalItems\"),s=e(\"./prefixItems\"),a=e(\"./items\"),n=e(\"./items2020\"),i=e(\"./contains\"),c=e(\"./dependencies\"),l=e(\"./propertyNames\"),d=e(\"./additionalProperties\"),u=e(\"./properties\"),f=e(\"./patternProperties\"),p=e(\"./not\"),m=e(\"./anyOf\"),h=e(\"./oneOf\"),y=e(\"./allOf\"),v=e(\"./if\"),g=e(\"./thenElse\");r.default=function(e=!1){const t=[p.default,m.default,h.default,y.default,v.default,g.default,l.default,d.default,c.default,u.default,f.default];return e?t.push(s.default,n.default):t.push(o.default,a.default),t.push(i.default),t}},{\"./additionalItems\":25,\"./additionalProperties\":26,\"./allOf\":27,\"./anyOf\":28,\"./contains\":29,\"./dependencies\":30,\"./if\":31,\"./items\":33,\"./items2020\":34,\"./not\":35,\"./oneOf\":36,\"./patternProperties\":37,\"./prefixItems\":38,\"./properties\":39,\"./propertyNames\":40,\"./thenElse\":41}],33:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateTuple=void 0;const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\"),n={keyword:\"items\",type:\"array\",schemaType:[\"object\",\"array\",\"boolean\"],before:\"uniqueItems\",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return i(e,\"additionalItems\",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function i(e,t,r=e.schema){const{gen:a,parentSchema:n,data:i,keyword:c,it:l}=e;!function(e){const{opts:o,errSchemaPath:a}=l,n=r.length,i=n===e.minItems&&(n===e.maxItems||!1===e[t]);if(o.strictTuples&&!i){(0,s.checkStrictMode)(l,`\"${c}\" is ${n}-tuple, but minItems or maxItems/${t} are not specified or different at path \"${a}\"`,o.strictTuples)}}(n),l.opts.unevaluated&&r.length&&!0!==l.items&&(l.items=s.mergeEvaluated.items(a,r.length,l.items));const d=a.name(\"valid\"),u=a.const(\"len\",o._`${i}.length`);r.forEach(((t,r)=>{(0,s.alwaysValidSchema)(l,t)||(a.if(o._`${u} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},d))),e.ok(d))}))}r.validateTuple=i,r.default=n},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],34:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../code\"),n=e(\"./additionalItems\");r.default={keyword:\"items\",type:\"array\",schemaType:[\"object\",\"boolean\"],before:\"uniqueItems\",error:{message({params:{len:e}}){return o.str`must NOT have more than ${e} items`},params({params:{len:e}}){return o._`{limit: ${e}}`}},code(e){const{schema:t,parentSchema:r,it:o}=e,{prefixItems:i}=r;o.items=!0,(0,s.alwaysValidSchema)(o,t)||(i?(0,n.validateAdditionalItems)(e,i):e.ok((0,a.validateArray)(e)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42,\"./additionalItems\":25}],35:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:\"not\",schemaType:[\"object\",\"boolean\"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,o.alwaysValidSchema)(s,r))return void e.fail();const a=t.name(\"valid\");e.subschema({keyword:\"not\",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(()=>e.reset()),(()=>e.error()))},error:{message:\"must NOT be valid\"}}},{\"../../compile/util\":10}],36:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"oneOf\",schemaType:\"array\",trackErrors:!0,error:{message:\"must match exactly one schema in oneOf\",params({params:e}){return o._`{passingSchemas: ${e.passing}}`}},code(e){const{gen:t,schema:r,parentSchema:a,it:n}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");if(n.opts.discriminator&&a.discriminator)return;const i=r,c=t.let(\"valid\",!1),l=t.let(\"passing\",null),d=t.name(\"_valid\");e.setParams({passing:l}),t.block((function(){i.forEach(((r,a)=>{let i;(0,s.alwaysValidSchema)(n,r)?t.var(d,!0):i=e.subschema({keyword:\"oneOf\",schemaProp:a,compositeRule:!0},d),a>0&&t.if(o._`${d} && ${c}`).assign(c,!1).assign(l,o._`[${l}, ${a}]`).else(),t.if(d,(()=>{t.assign(c,!0),t.assign(l,a),i&&e.mergeEvaluated(i,o.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],37:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\"),n=e(\"../../compile/util\");r.default={keyword:\"patternProperties\",type:\"object\",schemaType:\"object\",code(e){const{gen:t,schema:r,data:i,parentSchema:c,it:l}=e,{opts:d}=l,u=(0,o.allSchemaProperties)(r),f=u.filter((e=>(0,a.alwaysValidSchema)(l,r[e])));if(0===u.length||f.length===u.length&&(!l.opts.unevaluated||!0===l.props))return;const p=d.strictSchema&&!d.allowMatchingProperties&&c.properties,m=t.name(\"valid\");!0===l.props||l.props instanceof s.Name||(l.props=(0,n.evaluatedPropsToName)(t,l.props));const{props:h}=l;function y(e){for(const t in p)new RegExp(e).test(t)&&(0,a.checkStrictMode)(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(r){t.forIn(\"key\",i,(a=>{t.if(s._`${(0,o.usePattern)(e,r)}.test(${a})`,(()=>{const o=f.includes(r);o||e.subschema({keyword:\"patternProperties\",schemaProp:r,dataProp:a,dataPropType:n.Type.Str},m),l.opts.unevaluated&&!0!==h?t.assign(s._`${h}[${a}]`,!0):o||l.allErrors||t.if((0,s.not)(m),(()=>t.break()))}))}))}!function(){for(const e of u)p&&y(e),l.allErrors?v(e):(t.var(m,!0),v(e),t.if(m))}()}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],38:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./items\");r.default={keyword:\"prefixItems\",type:\"array\",schemaType:[\"array\"],before:\"uniqueItems\",code(e){return(0,o.validateTuple)(e,\"items\")}}},{\"./items\":33}],39:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/validate\"),s=e(\"../code\"),a=e(\"../../compile/util\"),n=e(\"./additionalProperties\");r.default={keyword:\"properties\",type:\"object\",schemaType:\"object\",code(e){const{gen:t,schema:r,parentSchema:i,data:c,it:l}=e;\"all\"===l.opts.removeAdditional&&void 0===i.additionalProperties&&n.default.code(new o.KeywordCxt(l,n.default,\"additionalProperties\"));const d=(0,s.allSchemaProperties)(r);for(const e of d)l.definedProperties.add(e);l.opts.unevaluated&&d.length&&!0!==l.props&&(l.props=a.mergeEvaluated.props(t,(0,a.toHash)(d),l.props));const u=d.filter((e=>!(0,a.alwaysValidSchema)(l,r[e])));if(0===u.length)return;const f=t.name(\"valid\");for(const r of u)p(r)?m(r):(t.if((0,s.propertyInData)(t,c,r,l.opts.ownProperties)),m(r),l.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(f);function p(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==r[e].default}function m(t){e.subschema({keyword:\"properties\",schemaProp:t,dataProp:t},f)}}}},{\"../../compile/util\":10,\"../../compile/validate\":15,\"../code\":42,\"./additionalProperties\":26}],40:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\");r.default={keyword:\"propertyNames\",type:\"object\",schemaType:[\"object\",\"boolean\"],error:{message:\"property name must be valid\",params({params:e}){return o._`{propertyName: ${e.propertyName}}`}},code(e){const{gen:t,schema:r,data:a,it:n}=e;if((0,s.alwaysValidSchema)(n,r))return;const i=t.name(\"valid\");t.forIn(\"key\",a,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:\"propertyNames\",data:r,dataTypes:[\"string\"],propertyName:r,compositeRule:!0},i),t.if((0,o.not)(i),(()=>{e.error(!0),n.allErrors||t.break()}))})),e.ok(i)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10}],41:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/util\");r.default={keyword:[\"then\",\"else\"],schemaType:[\"object\",\"boolean\"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,o.checkStrictMode)(r,`\"${e}\" without \"if\" is ignored`)}}},{\"../../compile/util\":10}],42:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const o=e(\"../compile/codegen\"),s=e(\"../compile/util\"),a=e(\"../compile/names\"),n=e(\"../compile/util\");function i(e){return e.scopeValue(\"func\",{ref:Object.prototype.hasOwnProperty,code:o._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return o._`${i(e)}.call(${t}, ${r})`}function l(e,t,r,s){const a=o._`${t}${(0,o.getProperty)(r)} === undefined`;return s?(0,o.or)(a,(0,o.not)(c(e,t,r))):a}function d(e){return e?Object.keys(e).filter((e=>\"__proto__\"!==e)):[]}r.checkReportMissingProp=function(e,t){const{gen:r,data:s,it:a}=e;r.if(l(r,s,t,a.opts.ownProperties),(()=>{e.setParams({missingProperty:o._`${t}`},!0),e.error()}))},r.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,a){return(0,o.or)(...s.map((s=>(0,o.and)(l(e,t,s,r.ownProperties),o._`${a} = ${s}`))))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=i,r.isOwnProperty=c,r.propertyInData=function(e,t,r,s){const a=o._`${t}${(0,o.getProperty)(r)} !== undefined`;return s?o._`${a} && ${c(e,t,r)}`:a},r.noPropertyInData=l,r.allSchemaProperties=d,r.schemaProperties=function(e,t){return d(t).filter((r=>!(0,s.alwaysValidSchema)(e,t[r])))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:i},it:c},l,d,u){const f=u?o._`${e}, ${t}, ${s}${n}`:t,p=[[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,i)],[a.default.parentData,c.parentData],[a.default.parentDataProperty,c.parentDataProperty],[a.default.rootData,a.default.rootData]];c.opts.dynamicRef&&p.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const m=o._`${f}, ${r.object(...p)}`;return d!==o.nil?o._`${l}.call(${d}, ${m})`:o._`${l}(${m})`};const u=o._`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?\"u\":\"\",{regExp:a}=t.code,i=a(r,s);return e.scopeValue(\"pattern\",{key:i.toString(),ref:i,code:o._`${\"new RegExp\"===a.code?u:(0,n.useFunc)(e,a)}(${r}, ${s})`})},r.validateArray=function(e){const{gen:t,data:r,keyword:a,it:n}=e,i=t.name(\"valid\");if(n.allErrors){const e=t.let(\"valid\",!0);return c((()=>t.assign(e,!1))),e}return t.var(i,!0),c((()=>t.break())),i;function c(n){const c=t.const(\"len\",o._`${r}.length`);t.forRange(\"i\",0,c,(r=>{e.subschema({keyword:a,dataProp:r,dataPropType:s.Type.Num},i),t.if((0,o.not)(i),n)}))}},r.validateUnion=function(e){const{gen:t,schema:r,keyword:a,it:n}=e;if(!Array.isArray(r))throw new Error(\"ajv implementation error\");if(r.some((e=>(0,s.alwaysValidSchema)(n,e)))&&!n.opts.unevaluated)return;const i=t.let(\"valid\",!1),c=t.name(\"_valid\");t.block((()=>r.forEach(((r,s)=>{const n=e.subschema({keyword:a,schemaProp:s,compositeRule:!0},c);t.assign(i,o._`${i} || ${c}`);e.mergeValidEvaluated(n,c)||t.if((0,o.not)(i))})))),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}},{\"../compile/codegen\":2,\"../compile/names\":6,\"../compile/util\":10}],43:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});r.default={keyword:\"id\",code(){throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID')}}},{}],44:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./id\"),s=e(\"./ref\");r.default=[\"$schema\",\"$id\",\"$defs\",\"$vocabulary\",{keyword:\"$comment\"},\"definitions\",o.default,s.default]},{\"./id\":43,\"./ref\":45}],45:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.callRef=r.getValidate=void 0;const o=e(\"../../compile/ref_error\"),s=e(\"../code\"),a=e(\"../../compile/codegen\"),n=e(\"../../compile/names\"),i=e(\"../../compile\"),c=e(\"../../compile/util\"),l={keyword:\"$ref\",schemaType:\"string\",code(e){const{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:c,validateName:l,opts:f,self:p}=s,{root:m}=c;if((\"#\"===r||\"#/\"===r)&&n===m.baseId)return function(){if(c===m)return u(e,l,c,c.$async);const r=t.scopeValue(\"root\",{ref:m});return u(e,a._`${r}.validate`,m,m.$async)}();const h=i.resolveRef.call(p,m,n,r);if(void 0===h)throw new o.default(s.opts.uriResolver,n,r);return h instanceof i.SchemaEnv?function(t){const r=d(e,t);u(e,r,t,t.$async)}(h):function(o){const s=t.scopeValue(\"schema\",!0===f.code.source?{ref:o,code:(0,a.stringify)(o)}:{ref:o}),n=t.name(\"valid\"),i=e.subschema({schema:o,dataTypes:[],schemaPath:a.nil,topSchemaRef:s,errSchemaPath:r},n);e.mergeEvaluated(i),e.ok(n)}(h)}};function d(e,t){const{gen:r}=e;return t.validate?r.scopeValue(\"validate\",{ref:t.validate}):a._`${r.scopeValue(\"wrapper\",{ref:t})}.validate`}function u(e,t,r,o){const{gen:i,it:l}=e,{allErrors:d,schemaEnv:u,opts:f}=l,p=f.passContext?n.default.this:a.nil;function m(e){const t=a._`${e}.errors`;i.assign(n.default.vErrors,a._`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`),i.assign(n.default.errors,a._`${n.default.vErrors}.length`)}function h(e){var t;if(!l.opts.unevaluated)return;const o=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==l.props)if(o&&!o.dynamicProps)void 0!==o.props&&(l.props=c.mergeEvaluated.props(i,o.props,l.props));else{const t=i.var(\"props\",a._`${e}.evaluated.props`);l.props=c.mergeEvaluated.props(i,t,l.props,a.Name)}if(!0!==l.items)if(o&&!o.dynamicItems)void 0!==o.items&&(l.items=c.mergeEvaluated.items(i,o.items,l.items));else{const t=i.var(\"items\",a._`${e}.evaluated.items`);l.items=c.mergeEvaluated.items(i,t,l.items,a.Name)}}o?function(){if(!u.$async)throw new Error(\"async schema referenced by sync schema\");const r=i.let(\"valid\");i.try((()=>{i.code(a._`await ${(0,s.callValidateCode)(e,t,p)}`),h(t),d||i.assign(r,!0)}),(e=>{i.if(a._`!(${e} instanceof ${l.ValidationError})`,(()=>i.throw(e))),m(e),d||i.assign(r,!1)})),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,p),(()=>h(t)),(()=>m(t)))}r.getValidate=d,r.callRef=u,r.default=l},{\"../../compile\":5,\"../../compile/codegen\":2,\"../../compile/names\":6,\"../../compile/ref_error\":7,\"../../compile/util\":10,\"../code\":42}],46:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../discriminator/types\"),a=e(\"../../compile\"),n=e(\"../../compile/util\");r.default={keyword:\"discriminator\",type:\"object\",schemaType:\"object\",error:{message({params:{discrError:e,tagName:t}}){return e===s.DiscrError.Tag?`tag \"${t}\" must be string`:`value of tag \"${t}\" must be in oneOf`},params({params:{discrError:e,tag:t,tagName:r}}){return o._`{error: ${e}, tag: ${r}, tagValue: ${t}}`}},code(e){const{gen:t,data:r,schema:i,parentSchema:c,it:l}=e,{oneOf:d}=c;if(!l.opts.discriminator)throw new Error(\"discriminator: requires discriminator option\");const u=i.propertyName;if(\"string\"!=typeof u)throw new Error(\"discriminator: requires propertyName\");if(i.mapping)throw new Error(\"discriminator: mapping is not supported\");if(!d)throw new Error(\"discriminator: requires oneOf keyword\");const f=t.let(\"valid\",!1),p=t.const(\"tag\",o._`${r}${(0,o.getProperty)(u)}`);function m(r){const s=t.name(\"valid\"),a=e.subschema({keyword:\"oneOf\",schemaProp:r},s);return e.mergeEvaluated(a,o.Name),s}t.if(o._`typeof ${p} == \"string\"`,(()=>function(){const r=function(){var e;const t={},r=s(c);let o=!0;for(let t=0;t<d.length;t++){let c=d[t];(null==c?void 0:c.$ref)&&!(0,n.schemaHasRulesButRef)(c,l.self.RULES)&&(c=a.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,null==c?void 0:c.$ref),c instanceof a.SchemaEnv&&(c=c.schema));const f=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[u];if(\"object\"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${u}\"`);o=o&&(r||s(c)),i(f,t)}if(!o)throw new Error(`discriminator: \"${u}\" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(u)}function i(e,t){if(e.const)f(e.const,t);else{if(!e.enum)throw new Error(`discriminator: \"properties/${u}\" must have \"const\" or \"enum\"`);for(const r of e.enum)f(r,t)}}function f(e,r){if(\"string\"!=typeof e||e in t)throw new Error(`discriminator: \"${u}\" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(o._`${p} === ${e}`),t.assign(f,m(r[e]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:p,tagName:u}),t.endIf()}()),(()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:p,tagName:u}))),e.ok(f)}}},{\"../../compile\":5,\"../../compile/codegen\":2,\"../../compile/util\":10,\"../discriminator/types\":47}],47:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.DiscrError=void 0,function(e){e.Tag=\"tag\",e.Mapping=\"mapping\"}(r.DiscrError||(r.DiscrError={}))},{}],48:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./core\"),s=e(\"./validation\"),a=e(\"./applicator\"),n=e(\"./format\"),i=e(\"./metadata\"),c=[o.default,s.default,(0,a.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];r.default=c},{\"./applicator\":32,\"./core\":44,\"./format\":50,\"./metadata\":51,\"./validation\":54}],49:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:\"format\",type:[\"number\",\"string\"],schemaType:\"string\",$data:!0,error:{message({schemaCode:e}){return o.str`must match format \"${e}\"`},params({schemaCode:e}){return o._`{format: ${e}}`}},code(e,t){const{gen:r,data:s,$data:a,schema:n,schemaCode:i,it:c}=e,{opts:l,errSchemaPath:d,schemaEnv:u,self:f}=c;l.validateFormats&&(a?function(){const a=r.scopeValue(\"formats\",{ref:f.formats,code:l.code.formats}),n=r.const(\"fDef\",o._`${a}[${i}]`),c=r.let(\"fType\"),d=r.let(\"format\");r.if(o._`typeof ${n} == \"object\" && !(${n} instanceof RegExp)`,(()=>r.assign(c,o._`${n}.type || \"string\"`).assign(d,o._`${n}.validate`)),(()=>r.assign(c,o._`\"string\"`).assign(d,n))),e.fail$data((0,o.or)(!1===l.strictSchema?o.nil:o._`${i} && !${d}`,function(){const e=u.$async?o._`(${n}.async ? await ${d}(${s}) : ${d}(${s}))`:o._`${d}(${s})`,r=o._`(typeof ${d} == \"function\" ? ${e} : ${d}.test(${s}))`;return o._`${d} && ${d} !== true && ${c} === ${t} && !${r}`}()))}():function(){const a=f.formats[n];if(!a)return void function(){if(!1===l.strictSchema)return void f.logger.warn(e());throw new Error(e());function e(){return`unknown format \"${n}\" ignored in schema at path \"${d}\"`}}();if(!0===a)return;const[i,c,p]=function(e){const t=e instanceof RegExp?(0,o.regexpCode)(e):l.code.formats?o._`${l.code.formats}${(0,o.getProperty)(n)}`:void 0,s=r.scopeValue(\"formats\",{key:n,ref:e,code:t});if(\"object\"==typeof e&&!(e instanceof RegExp))return[e.type||\"string\",e.validate,o._`${s}.validate`];return[\"string\",e,s]}(a);i===t&&e.pass(function(){if(\"object\"==typeof a&&!(a instanceof RegExp)&&a.async){if(!u.$async)throw new Error(\"async format in sync schema\");return o._`await ${p}(${s})`}return\"function\"==typeof c?o._`${p}(${s})`:o._`${p}.test(${s})`}())}())}}},{\"../../compile/codegen\":2}],50:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./format\");r.default=[o.default]},{\"./format\":49}],51:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=[\"title\",\"description\",\"default\",\"deprecated\",\"readOnly\",\"writeOnly\",\"examples\"],r.contentVocabulary=[\"contentMediaType\",\"contentEncoding\",\"contentSchema\"]},{}],52:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/equal\");r.default={keyword:\"const\",$data:!0,error:{message:\"must be equal to constant\",params({schemaCode:e}){return o._`{allowedValue: ${e}}`}},code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:c}=e;n||c&&\"object\"==typeof c?e.fail$data(o._`!${(0,s.useFunc)(t,a.default)}(${r}, ${i})`):e.fail(o._`${c} !== ${r}`)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/equal\":21}],53:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/equal\");r.default={keyword:\"enum\",schemaType:\"array\",$data:!0,error:{message:\"must be equal to one of the allowed values\",params({schemaCode:e}){return o._`{allowedValues: ${e}}`}},code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:c,it:l}=e;if(!n&&0===i.length)throw new Error(\"enum must have non-empty array\");let d;const u=()=>null!=d?d:d=(0,s.useFunc)(t,a.default);let f;if(i.length>=l.opts.loopEnum||n)f=t.let(\"valid\"),e.block$data(f,(function(){t.assign(f,!1),t.forOf(\"v\",c,(e=>t.if(o._`${u()}(${r}, ${e})`,(()=>t.assign(f,!0).break()))))}));else{if(!Array.isArray(i))throw new Error(\"ajv implementation error\");const e=t.const(\"vSchema\",c);f=(0,o.or)(...i.map(((t,s)=>function(e,t){const s=i[t];return\"object\"==typeof s&&null!==s?o._`${u()}(${r}, ${e}[${t}])`:o._`${r} === ${s}`}(e,s))))}e.pass(f)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/equal\":21}],54:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"./limitNumber\"),s=e(\"./multipleOf\"),a=e(\"./limitLength\"),n=e(\"./pattern\"),i=e(\"./limitProperties\"),c=e(\"./required\"),l=e(\"./limitItems\"),d=e(\"./uniqueItems\"),u=e(\"./const\"),f=e(\"./enum\");r.default=[o.default,s.default,a.default,n.default,i.default,c.default,l.default,d.default,{keyword:\"type\",schemaType:[\"string\",\"array\"]},{keyword:\"nullable\",schemaType:\"boolean\"},u.default,f.default]},{\"./const\":52,\"./enum\":53,\"./limitItems\":55,\"./limitLength\":56,\"./limitNumber\":57,\"./limitProperties\":58,\"./multipleOf\":59,\"./pattern\":60,\"./required\":61,\"./uniqueItems\":62}],55:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:[\"maxItems\",\"minItems\"],type:\"array\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxItems\"===e?\"more\":\"fewer\"} than ${t} items`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`${r}.length ${\"maxItems\"===t?o.operators.GT:o.operators.LT} ${s}`)}}},{\"../../compile/codegen\":2}],56:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=e(\"../../compile/util\"),a=e(\"../../runtime/ucs2length\");r.default={keyword:[\"maxLength\",\"minLength\"],type:\"string\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxLength\"===e?\"more\":\"fewer\"} than ${t} characters`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,c=\"maxLength\"===t?o.operators.GT:o.operators.LT,l=!1===i.opts.unicode?o._`${r}.length`:o._`${(0,s.useFunc)(e.gen,a.default)}(${r})`;e.fail$data(o._`${l} ${c} ${n}`)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../runtime/ucs2length\":22}],57:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\"),s=o.operators,a={maximum:{okStr:\"<=\",ok:s.LTE,fail:s.GT},minimum:{okStr:\">=\",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:\"<\",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:\">\",ok:s.GT,fail:s.LTE}},n={message({keyword:e,schemaCode:t}){return o.str`must be ${a[e].okStr} ${t}`},params({keyword:e,schemaCode:t}){return o._`{comparison: ${a[e].okStr}, limit: ${t}}`}},i={keyword:Object.keys(a),type:\"number\",schemaType:\"number\",$data:!0,error:n,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`${r} ${a[t].fail} ${s} || isNaN(${r})`)}};r.default=i},{\"../../compile/codegen\":2}],58:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:[\"maxProperties\",\"minProperties\"],type:\"object\",schemaType:\"number\",$data:!0,error:{message:({keyword:e,schemaCode:t})=>o.str`must NOT have ${\"maxProperties\"===e?\"more\":\"fewer\"} than ${t} properties`,params({schemaCode:e}){return o._`{limit: ${e}}`}},code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(o._`Object.keys(${r}).length ${\"maxProperties\"===t?o.operators.GT:o.operators.LT} ${s}`)}}},{\"../../compile/codegen\":2}],59:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/codegen\");r.default={keyword:\"multipleOf\",type:\"number\",schemaType:\"number\",$data:!0,error:{message({schemaCode:e}){return o.str`must be multiple of ${e}`},params({schemaCode:e}){return o._`{multipleOf: ${e}}`}},code(e){const{gen:t,data:r,schemaCode:s,it:a}=e,n=a.opts.multipleOfPrecision,i=t.let(\"res\"),c=n?o._`Math.abs(Math.round(${i}) - ${i}) > 1e-${n}`:o._`${i} !== parseInt(${i})`;e.fail$data(o._`(${s} === 0 || (${i} = ${r}/${s}, ${c}))`)}}},{\"../../compile/codegen\":2}],60:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\");r.default={keyword:\"pattern\",type:\"string\",schemaType:\"string\",$data:!0,error:{message({schemaCode:e}){return s.str`must match pattern \"${e}\"`},params({schemaCode:e}){return s._`{pattern: ${e}}`}},code(e){const{data:t,$data:r,schema:a,schemaCode:n,it:i}=e,c=r?s._`(new RegExp(${n}, ${i.opts.unicodeRegExp?\"u\":\"\"}))`:(0,o.usePattern)(e,a);e.fail$data(s._`!${c}.test(${t})`)}}},{\"../../compile/codegen\":2,\"../code\":42}],61:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../code\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\");r.default={keyword:\"required\",type:\"object\",schemaType:\"array\",$data:!0,error:{message({params:{missingProperty:e}}){return s.str`must have required property '${e}'`},params({params:{missingProperty:e}}){return s._`{missingProperty: ${e}}`}},code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:c,it:l}=e,{opts:d}=l;if(!c&&0===r.length)return;const u=r.length>=d.loopRequired;if(l.allErrors?function(){if(u||c)e.block$data(s.nil,f);else for(const t of r)(0,o.checkReportMissingProp)(e,t)}():function(){const a=t.let(\"missing\");if(u||c){const r=t.let(\"valid\",!0);e.block$data(r,(()=>function(r,a){e.setParams({missingProperty:r}),t.forOf(r,n,(()=>{t.assign(a,(0,o.propertyInData)(t,i,r,d.ownProperties)),t.if((0,s.not)(a),(()=>{e.error(),t.break()}))}),s.nil)}(a,r))),e.ok(r)}else t.if((0,o.checkMissingProp)(e,r,a)),(0,o.reportMissingProp)(e,a),t.else()}(),d.strictRequired){const t=e.parentSchema.properties,{definedProperties:o}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!o.has(e)){(0,a.checkStrictMode)(l,`required property \"${e}\" is not defined at \"${l.schemaEnv.baseId+l.errSchemaPath}\" (strictRequired)`,l.opts.strictRequired)}}function f(){t.forOf(\"prop\",n,(r=>{e.setParams({missingProperty:r}),t.if((0,o.noPropertyInData)(t,i,r,d.ownProperties),(()=>e.error()))}))}}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../code\":42}],62:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});const o=e(\"../../compile/validate/dataType\"),s=e(\"../../compile/codegen\"),a=e(\"../../compile/util\"),n=e(\"../../runtime/equal\");r.default={keyword:\"uniqueItems\",type:\"array\",schemaType:\"boolean\",$data:!0,error:{message({params:{i:e,j:t}}){return s.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`},params({params:{i:e,j:t}}){return s._`{i: ${e}, j: ${t}}`}},code(e){const{gen:t,data:r,$data:i,schema:c,parentSchema:l,schemaCode:d,it:u}=e;if(!i&&!c)return;const f=t.let(\"valid\"),p=l.items?(0,o.getSchemaTypes)(l.items):[];function m(a,n){const i=t.name(\"item\"),c=(0,o.checkDataTypes)(p,i,u.opts.strictNumbers,o.DataType.Wrong),l=t.const(\"indices\",s._`{}`);t.for(s._`;${a}--;`,(()=>{t.let(i,s._`${r}[${a}]`),t.if(c,s._`continue`),p.length>1&&t.if(s._`typeof ${i} == \"string\"`,s._`${i} += \"_\"`),t.if(s._`typeof ${l}[${i}] == \"number\"`,(()=>{t.assign(n,s._`${l}[${i}]`),e.error(),t.assign(f,!1).break()})).code(s._`${l}[${i}] = ${a}`)}))}function h(o,i){const c=(0,a.useFunc)(t,n.default),l=t.name(\"outer\");t.label(l).for(s._`;${o}--;`,(()=>t.for(s._`${i} = ${o}; ${i}--;`,(()=>t.if(s._`${c}(${r}[${o}], ${r}[${i}])`,(()=>{e.error(),t.assign(f,!1).break(l)}))))))}e.block$data(f,(function(){const o=t.let(\"i\",s._`${r}.length`),a=t.let(\"j\");e.setParams({i:o,j:a}),t.assign(f,!0),t.if(s._`${o} > 1`,(()=>(p.length>0&&!p.some((e=>\"object\"===e||\"array\"===e))?m:h)(o,a)))}),s._`${d} === false`),e.ok(f)}}},{\"../../compile/codegen\":2,\"../../compile/util\":10,\"../../compile/validate/dataType\":13,\"../../runtime/equal\":21}],63:[function(e,t,r){\"use strict\";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&\"object\"==typeof t&&\"object\"==typeof r){if(t.constructor!==r.constructor)return!1;var o,s,a;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(s=o;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=o;0!=s--;){var n=a[s];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},{}],64:[function(e,t,r){\"use strict\";var o=t.exports=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),s(t,\"function\"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,\"\",e)};function s(e,t,r,a,n,i,c,l,d,u){if(a&&\"object\"==typeof a&&!Array.isArray(a)){for(var f in t(a,n,i,c,l,d,u),a){var p=a[f];if(Array.isArray(p)){if(f in o.arrayKeywords)for(var m=0;m<p.length;m++)s(e,t,r,p[m],n+\"/\"+f+\"/\"+m,i,n,f,a,m)}else if(f in o.propsKeywords){if(p&&\"object\"==typeof p)for(var h in p)s(e,t,r,p[h],n+\"/\"+f+\"/\"+h.replace(/~/g,\"~0\").replace(/\\//g,\"~1\"),i,n,f,a,h)}else(f in o.keywords||e.allKeys&&!(f in o.skipKeywords))&&s(e,t,r,p,n+\"/\"+f,i,n,f,a)}r(a,n,i,c,l,d,u)}}o.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},o.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},o.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},o.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(e,t,r){\n/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e,o){o(\"object\"==typeof r&&void 0!==t?r:e.URI=e.URI||{})}(this,(function(e){\"use strict\";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var o=t.length-1,s=1;s<o;++s)t[s]=t[s].slice(1,-1);return t[o]=t[o].slice(1),t.join(\"\")}return t[0]}function r(e){return\"(?:\"+e+\")\"}function o(e){return void 0===e?\"undefined\":null===e?\"null\":Object.prototype.toString.call(e).split(\" \").pop().split(\"]\").shift().toLowerCase()}function s(e){return e.toUpperCase()}function a(e){var o=\"[A-Za-z]\",s=\"[0-9]\",a=t(s,\"[A-Fa-f]\"),n=r(r(\"%[EFef]\"+a+\"%\"+a+a+\"%\"+a+a)+\"|\"+r(\"%[89A-Fa-f]\"+a+\"%\"+a+a)+\"|\"+r(\"%\"+a+a)),i=\"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",c=t(\"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",i),l=e?\"[\\\\uE000-\\\\uF8FF]\":\"[]\",d=t(o,s,\"[\\\\-\\\\.\\\\_\\\\~]\",e?\"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\":\"[]\"),u=r(o+t(o,s,\"[\\\\+\\\\-\\\\.]\")+\"*\"),f=r(r(n+\"|\"+t(d,i,\"[\\\\:]\"))+\"*\"),p=(r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"[1-9][0-9]\")+\"|\"+s),r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"0?[1-9][0-9]\")+\"|0?0?\"+s)),m=r(p+\"\\\\.\"+p+\"\\\\.\"+p+\"\\\\.\"+p),h=r(a+\"{1,4}\"),y=r(r(h+\"\\\\:\"+h)+\"|\"+m),v=r(r(h+\"\\\\:\")+\"{6}\"+y),g=r(\"\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{5}\"+y),$=r(r(h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{4}\"+y),_=r(r(r(h+\"\\\\:\")+\"{0,1}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{3}\"+y),w=r(r(r(h+\"\\\\:\")+\"{0,2}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{2}\"+y),b=r(r(r(h+\"\\\\:\")+\"{0,3}\"+h)+\"?\\\\:\\\\:\"+h+\"\\\\:\"+y),E=r(r(r(h+\"\\\\:\")+\"{0,4}\"+h)+\"?\\\\:\\\\:\"+y),P=r(r(r(h+\"\\\\:\")+\"{0,5}\"+h)+\"?\\\\:\\\\:\"+h),S=r(r(r(h+\"\\\\:\")+\"{0,6}\"+h)+\"?\\\\:\\\\:\"),N=r([v,g,$,_,w,b,E,P,S].join(\"|\")),k=r(r(d+\"|\"+n)+\"+\"),j=(r(N+\"\\\\%25\"+k),r(N+r(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+k)),C=r(\"[vV]\"+a+\"+\\\\.\"+t(d,i,\"[\\\\:]\")+\"+\"),O=r(\"\\\\[\"+r(j+\"|\"+N+\"|\"+C)+\"\\\\]\"),x=r(r(n+\"|\"+t(d,i))+\"*\"),T=r(O+\"|\"+m+\"(?!\"+x+\")|\"+x),I=r(\"[0-9]*\"),R=r(r(f+\"@\")+\"?\"+T+r(\"\\\\:\"+I)+\"?\"),D=r(n+\"|\"+t(d,i,\"[\\\\:\\\\@]\")),A=r(D+\"*\"),M=r(D+\"+\"),V=r(r(n+\"|\"+t(d,i,\"[\\\\@]\"))+\"+\"),F=r(r(\"\\\\/\"+A)+\"*\"),q=r(\"\\\\/\"+r(M+F)+\"?\"),U=r(V+F),z=r(M+F),K=\"(?!\"+D+\")\",L=(r(F+\"|\"+q+\"|\"+U+\"|\"+z+\"|\"+K),r(r(D+\"|\"+t(\"[\\\\/\\\\?]\",l))+\"*\")),H=r(r(D+\"|[\\\\/\\\\?]\")+\"*\"),G=r(r(\"\\\\/\\\\/\"+R+F)+\"|\"+q+\"|\"+z+\"|\"+K),J=r(u+\"\\\\:\"+G+r(\"\\\\?\"+L)+\"?\"+r(\"\\\\#\"+H)+\"?\"),B=r(r(\"\\\\/\\\\/\"+R+F)+\"|\"+q+\"|\"+U+\"|\"+K),W=r(B+r(\"\\\\?\"+L)+\"?\"+r(\"\\\\#\"+H)+\"?\");r(J+\"|\"+W),r(u+\"\\\\:\"+G+r(\"\\\\?\"+L)+\"?\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+z+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+U+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+T+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+F+\"|\"+q+\"|\"+z+\"|\"+K+\")\"),r(\"\\\\?(\"+L+\")\"),r(\"\\\\#(\"+H+\")\"),r(\"(\"+f+\")@\"),r(\"\\\\:(\"+I+\")\");return{NOT_SCHEME:new RegExp(t(\"[^]\",o,s,\"[\\\\+\\\\-\\\\.]\"),\"g\"),NOT_USERINFO:new RegExp(t(\"[^\\\\%\\\\:]\",d,i),\"g\"),NOT_HOST:new RegExp(t(\"[^\\\\%\\\\[\\\\]\\\\:]\",d,i),\"g\"),NOT_PATH:new RegExp(t(\"[^\\\\%\\\\/\\\\:\\\\@]\",d,i),\"g\"),NOT_PATH_NOSCHEME:new RegExp(t(\"[^\\\\%\\\\/\\\\@]\",d,i),\"g\"),NOT_QUERY:new RegExp(t(\"[^\\\\%]\",d,i,\"[\\\\:\\\\@\\\\/\\\\?]\",l),\"g\"),NOT_FRAGMENT:new RegExp(t(\"[^\\\\%]\",d,i,\"[\\\\:\\\\@\\\\/\\\\?]\"),\"g\"),ESCAPE:new RegExp(t(\"[^]\",d,i),\"g\"),UNRESERVED:new RegExp(d,\"g\"),OTHER_CHARS:new RegExp(t(\"[^\\\\%]\",d,c),\"g\"),PCT_ENCODED:new RegExp(n,\"g\"),IPV4ADDRESS:new RegExp(\"^(\"+m+\")$\"),IPV6ADDRESS:new RegExp(\"^\\\\[?(\"+N+\")\"+r(r(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+\"(\"+k+\")\")+\"?\\\\]?$\")}}var n=a(!1),i=a(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,s=!1,a=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},l=2147483647,d=36,u=/^xn--/,f=/[^\\0-\\x7E]/,p=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,m={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},h=Math.floor,y=String.fromCharCode;function v(e){throw new RangeError(m[e])}function g(e,t){var r=e.split(\"@\"),o=\"\";r.length>1&&(o=r[0]+\"@\",e=r[1]);var s=function(e,t){for(var r=[],o=e.length;o--;)r[o]=t(e[o]);return r}((e=e.replace(p,\".\")).split(\".\"),t).join(\".\");return o+s}function $(e){for(var t=[],r=0,o=e.length;r<o;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<o){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),r--)}else t.push(s)}return t}var _=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,r){var o=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;o+=d)e=h(e/35);return h(o+36*e/(e+38))},b=function(e){var t,r=[],o=e.length,s=0,a=128,n=72,i=e.lastIndexOf(\"-\");i<0&&(i=0);for(var c=0;c<i;++c)e.charCodeAt(c)>=128&&v(\"not-basic\"),r.push(e.charCodeAt(c));for(var u=i>0?i+1:0;u<o;){for(var f=s,p=1,m=d;;m+=d){u>=o&&v(\"invalid-input\");var y=(t=e.charCodeAt(u++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d;(y>=d||y>h((l-s)/p))&&v(\"overflow\"),s+=y*p;var g=m<=n?1:m>=n+26?26:m-n;if(y<g)break;var $=d-g;p>h(l/$)&&v(\"overflow\"),p*=$}var _=r.length+1;n=w(s-f,_,0==f),h(s/_)>l-a&&v(\"overflow\"),a+=h(s/_),s%=_,r.splice(s++,0,a)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=$(e)).length,o=128,s=0,a=72,n=!0,i=!1,c=void 0;try{for(var u,f=e[Symbol.iterator]();!(n=(u=f.next()).done);n=!0){var p=u.value;p<128&&t.push(y(p))}}catch(e){i=!0,c=e}finally{try{!n&&f.return&&f.return()}finally{if(i)throw c}}var m=t.length,g=m;for(m&&t.push(\"-\");g<r;){var b=l,E=!0,P=!1,S=void 0;try{for(var N,k=e[Symbol.iterator]();!(E=(N=k.next()).done);E=!0){var j=N.value;j>=o&&j<b&&(b=j)}}catch(e){P=!0,S=e}finally{try{!E&&k.return&&k.return()}finally{if(P)throw S}}var C=g+1;b-o>h((l-s)/C)&&v(\"overflow\"),s+=(b-o)*C,o=b;var O=!0,x=!1,T=void 0;try{for(var I,R=e[Symbol.iterator]();!(O=(I=R.next()).done);O=!0){var D=I.value;if(D<o&&++s>l&&v(\"overflow\"),D==o){for(var A=s,M=d;;M+=d){var V=M<=a?1:M>=a+26?26:M-a;if(A<V)break;var F=A-V,q=d-V;t.push(y(_(V+F%q,0))),A=h(F/q)}t.push(y(_(A,0))),a=w(s,C,g==m),s=0,++g}}}catch(e){x=!0,T=e}finally{try{!O&&R.return&&R.return()}finally{if(x)throw T}}++s,++o}return t.join(\"\")},P=function(e){return g(e,(function(e){return f.test(e)?\"xn--\"+E(e):e}))},S=function(e){return g(e,(function(e){return u.test(e)?b(e.slice(4).toLowerCase()):e}))},N={};function k(e){var t=e.charCodeAt(0);return t<16?\"%0\"+t.toString(16).toUpperCase():t<128?\"%\"+t.toString(16).toUpperCase():t<2048?\"%\"+(t>>6|192).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase():\"%\"+(t>>12|224).toString(16).toUpperCase()+\"%\"+(t>>6&63|128).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase()}function j(e){for(var t=\"\",r=0,o=e.length;r<o;){var s=parseInt(e.substr(r+1,2),16);if(s<128)t+=String.fromCharCode(s),r+=3;else if(s>=194&&s<224){if(o-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&s)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(s>=224){if(o-r>=9){var n=parseInt(e.substr(r+4,2),16),i=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&s)<<12|(63&n)<<6|63&i)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function C(e,t){function r(e){var r=j(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,\"\")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,s)),e}function O(e){return e.replace(/^0*(.*)/,\"$1\")||\"0\"}function x(e,t){var r=e.match(t.IPV4ADDRESS)||[],o=c(r,2)[1];return o?o.split(\".\").map(O).join(\".\"):e}function T(e,t){var r=e.match(t.IPV6ADDRESS)||[],o=c(r,3),s=o[1],a=o[2];if(s){for(var n=s.toLowerCase().split(\"::\").reverse(),i=c(n,2),l=i[0],d=i[1],u=d?d.split(\":\").map(O):[],f=l.split(\":\").map(O),p=t.IPV4ADDRESS.test(f[f.length-1]),m=p?7:8,h=f.length-m,y=Array(m),v=0;v<m;++v)y[v]=u[v]||f[h+v]||\"\";p&&(y[m-1]=x(y[m-1],t));var g=y.reduce((function(e,t,r){if(!t||\"0\"===t){var o=e[e.length-1];o&&o.index+o.length===r?o.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],$=void 0;if(g&&g.length>1){var _=y.slice(0,g.index),w=y.slice(g.index+g.length);$=_.join(\":\")+\"::\"+w.join(\":\")}else $=y.join(\":\");return a&&($+=\"%\"+a),$}return e}var I=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,R=void 0===\"\".match(/(){0}/)[1];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=!1!==t.iri?i:n;\"suffix\"===t.reference&&(e=(t.scheme?t.scheme+\":\":\"\")+\"//\"+e);var s=e.match(I);if(s){R?(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||\"\",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5])):(r.scheme=s[1]||void 0,r.userinfo=-1!==e.indexOf(\"@\")?s[3]:void 0,r.host=-1!==e.indexOf(\"//\")?s[4]:void 0,r.port=parseInt(s[5],10),r.path=s[6]||\"\",r.query=-1!==e.indexOf(\"?\")?s[7]:void 0,r.fragment=-1!==e.indexOf(\"#\")?s[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?s[4]:void 0)),r.host&&(r.host=T(x(r.host,o),o)),r.reference=void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?\"relative\":void 0===r.fragment?\"absolute\":\"uri\":\"same-document\",t.reference&&\"suffix\"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||\"URI is not a \"+t.reference+\" reference.\");var a=N[(t.scheme||r.scheme||\"\").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)C(r,o);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=P(r.host.replace(o.PCT_ENCODED,j).toLowerCase())}catch(e){r.error=r.error||\"Host's domain name can not be converted to ASCII via punycode: \"+e}C(r,n)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||\"URI can not be parsed.\";return r}function A(e,t){var r=!1!==t.iri?i:n,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push(\"@\")),void 0!==e.host&&o.push(T(x(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return\"[\"+t+(r?\"%25\"+r:\"\")+\"]\"}))),\"number\"!=typeof e.port&&\"string\"!=typeof e.port||(o.push(\":\"),o.push(String(e.port))),o.length?o.join(\"\"):void 0}var M=/^\\.\\.?\\//,V=/^\\/\\.(\\/|$)/,F=/^\\/\\.\\.(\\/|$)/,q=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(M))e=e.replace(M,\"\");else if(e.match(V))e=e.replace(V,\"/\");else if(e.match(F))e=e.replace(F,\"/\"),t.pop();else if(\".\"===e||\"..\"===e)e=\"\";else{var r=e.match(q);if(!r)throw new Error(\"Unexpected dot segment condition\");var o=r[0];e=e.slice(o.length),t.push(o)}return t.join(\"\")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?i:n,o=[],s=N[(t.scheme||e.scheme||\"\").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?S(e.host):P(e.host.replace(r.PCT_ENCODED,j).toLowerCase())}catch(r){e.error=e.error||\"Host's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+r}C(e,r),\"suffix\"!==t.reference&&e.scheme&&(o.push(e.scheme),o.push(\":\"));var a=A(e,t);if(void 0!==a&&(\"suffix\"!==t.reference&&o.push(\"//\"),o.push(a),e.path&&\"/\"!==e.path.charAt(0)&&o.push(\"/\")),void 0!==e.path){var c=e.path;t.absolutePath||s&&s.absolutePath||(c=U(c)),void 0===a&&(c=c.replace(/^\\/\\//,\"/%2F\")),o.push(c)}return void 0!==e.query&&(o.push(\"?\"),o.push(e.query)),void 0!==e.fragment&&(o.push(\"#\"),o.push(e.fragment)),o.join(\"\")}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],s={};return o||(e=D(z(e,r),r),t=D(z(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=U(t.path||\"\"),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=U(t.path||\"\"),s.query=t.query):(t.path?(\"/\"===t.path.charAt(0)?s.path=U(t.path):(s.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf(\"/\")+1)+t.path:t.path:\"/\"+t.path,s.path=U(s.path)),s.query=t.query):(s.path=e.path,s.query=void 0!==t.query?t.query:e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function L(e,t){return e&&e.toString().replace(t&&t.iri?i.PCT_ENCODED:n.PCT_ENCODED,j)}var H={scheme:\"http\",domainHost:!0,parse(e,t){return e.host||(e.error=e.error||\"HTTP URIs must have a host.\"),e},serialize(e,t){var r=\"https\"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&\"\"!==e.port||(e.port=void 0),e.path||(e.path=\"/\"),e}},G={scheme:\"https\",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function J(e){return\"boolean\"==typeof e.secure?e.secure:\"wss\"===String(e.scheme).toLowerCase()}var B={scheme:\"ws\",domainHost:!0,parse(e,t){var r=e;return r.secure=J(r),r.resourceName=(r.path||\"/\")+(r.query?\"?\"+r.query:\"\"),r.path=void 0,r.query=void 0,r},serialize(e,t){if(e.port!==(J(e)?443:80)&&\"\"!==e.port||(e.port=void 0),\"boolean\"==typeof e.secure&&(e.scheme=e.secure?\"wss\":\"ws\",e.secure=void 0),e.resourceName){var r=e.resourceName.split(\"?\"),o=c(r,2),s=o[0],a=o[1];e.path=s&&\"/\"!==s?s:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},W={scheme:\"wss\",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize},Q={},Z=\"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\",Y=\"[0-9A-Fa-f]\",X=r(r(\"%[EFef][0-9A-Fa-f]%\"+Y+Y+\"%\"+Y+Y)+\"|\"+r(\"%[89A-Fa-f][0-9A-Fa-f]%\"+Y+Y)+\"|\"+r(\"%\"+Y+Y)),ee=t(\"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\",'[\\\\\"\\\\\\\\]'),te=new RegExp(Z,\"g\"),re=new RegExp(X,\"g\"),oe=new RegExp(t(\"[^]\",\"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\",\"[\\\\.]\",'[\\\\\"]',ee),\"g\"),se=new RegExp(t(\"[^]\",Z,\"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\"),\"g\"),ae=se;function ne(e){var t=j(e);return t.match(te)?t:e}var ie={scheme:\"mailto\",parse(e,t){var r=e,o=r.to=r.path?r.path.split(\",\"):[];if(r.path=void 0,r.query){for(var s=!1,a={},n=r.query.split(\"&\"),i=0,c=n.length;i<c;++i){var l=n[i].split(\"=\");switch(l[0]){case\"to\":for(var d=l[1].split(\",\"),u=0,f=d.length;u<f;++u)o.push(d[u]);break;case\"subject\":r.subject=L(l[1],t);break;case\"body\":r.body=L(l[1],t);break;default:s=!0,a[L(l[0],t)]=L(l[1],t)}}s&&(r.headers=a)}r.query=void 0;for(var p=0,m=o.length;p<m;++p){var h=o[p].split(\"@\");if(h[0]=L(h[0]),t.unicodeSupport)h[1]=L(h[1],t).toLowerCase();else try{h[1]=P(L(h[1],t).toLowerCase())}catch(e){r.error=r.error||\"Email address's domain name can not be converted to ASCII via punycode: \"+e}o[p]=h.join(\"@\")}return r},serialize(e,t){var r,o=e,a=null!=(r=e.to)?r instanceof Array?r:\"number\"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var n=0,i=a.length;n<i;++n){var c=String(a[n]),l=c.lastIndexOf(\"@\"),d=c.slice(0,l).replace(re,ne).replace(re,s).replace(oe,k),u=c.slice(l+1);try{u=t.iri?S(u):P(L(u,t).toLowerCase())}catch(e){o.error=o.error||\"Email address's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+e}a[n]=d+\"@\"+u}o.path=a.join(\",\")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var p=[];for(var m in f)f[m]!==Q[m]&&p.push(m.replace(re,ne).replace(re,s).replace(se,k)+\"=\"+f[m].replace(re,ne).replace(re,s).replace(ae,k));return p.length&&(o.query=p.join(\"&\")),o}},ce=/^([^\\:]+)\\:(.*)/,le={scheme:\"urn\",parse(e,t){var r=e.path&&e.path.match(ce),o=e;if(r){var s=t.scheme||o.scheme||\"urn\",a=r[1].toLowerCase(),n=r[2],i=N[s+\":\"+(t.nid||a)];o.nid=a,o.nss=n,o.path=void 0,i&&(o=i.parse(o,t))}else o.error=o.error||\"URN can not be parsed.\";return o},serialize(e,t){var r=e.nid,o=N[(t.scheme||e.scheme||\"urn\")+\":\"+(t.nid||r)];o&&(e=o.serialize(e,t));var s=e;return s.path=(r||t.nid)+\":\"+e.nss,s}},de=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,ue={scheme:\"urn:uuid\",parse(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(de)||(r.error=r.error||\"UUID is not valid.\"),r},serialize(e,t){var r=e;return r.nss=(e.uuid||\"\").toLowerCase(),r}};N[H.scheme]=H,N[G.scheme]=G,N[B.scheme]=B,N[W.scheme]=W,N[ie.scheme]=ie,N[le.scheme]=le,N[ue.scheme]=ue,e.SCHEMES=N,e.pctEncChar=k,e.pctDecChars=j,e.parse=D,e.removeDotSegments=U,e.serialize=z,e.resolveComponents=K,e.resolve=function(e,t,r){var o=function(e,t){var r=e;if(t)for(var o in t)r[o]=t[o];return r}({scheme:\"null\"},r);return z(K(D(e,o),D(t,o),o,!0),o)},e.normalize=function(e,t){return\"string\"==typeof e?e=z(D(e,t),t):\"object\"===o(e)&&(e=D(z(e,t),t)),e},e.equal=function(e,t,r){return\"string\"==typeof e?e=z(D(e,r),r):\"object\"===o(e)&&(e=z(e,r)),\"string\"==typeof t?t=z(D(t,r),r):\"object\"===o(t)&&(t=z(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?i.ESCAPE:n.ESCAPE,k)},e.unescapeComponent=L,Object.defineProperty(e,\"__esModule\",{value:!0})}))},{}],ajv:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;const o=e(\"./core\"),s=e(\"./vocabularies/draft7\"),a=e(\"./vocabularies/discriminator\"),n=e(\"./refs/json-schema-draft-07.json\"),i=[\"/properties\"],c=\"http://json-schema.org/draft-07/schema\";class l extends o.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(n,i):n;this.addMetaSchema(e,c,!1),this.refs[\"http://json-schema.org/schema\"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.exports=r=l,Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=l;var d=e(\"./compile/validate\");Object.defineProperty(r,\"KeywordCxt\",{enumerable:!0,get(){return d.KeywordCxt}});var u=e(\"./compile/codegen\");Object.defineProperty(r,\"_\",{enumerable:!0,get(){return u._}}),Object.defineProperty(r,\"str\",{enumerable:!0,get(){return u.str}}),Object.defineProperty(r,\"stringify\",{enumerable:!0,get(){return u.stringify}}),Object.defineProperty(r,\"nil\",{enumerable:!0,get(){return u.nil}}),Object.defineProperty(r,\"Name\",{enumerable:!0,get(){return u.Name}}),Object.defineProperty(r,\"CodeGen\",{enumerable:!0,get(){return u.CodeGen}})},{\"./compile/codegen\":2,\"./compile/validate\":15,\"./core\":18,\"./refs/json-schema-draft-07.json\":20,\"./vocabularies/discriminator\":46,\"./vocabularies/draft7\":48}]},{},[])(\"ajv\")}));\n//# sourceMappingURL=ajv7.min.js.map","import QuestionView from 'core/js/views/questionView';\nimport Papa from './csvToJson';\nimport Ajv from './ajv7.min.js';\nimport DataTable from 'libraries/jquery.dataTables.min';\n\n\nexport default class fileInputView extends QuestionView {\n\n  events() {\n    return {\n      'focus .js-item-input': 'onItemFocus',\n      'blur .js-item-input': 'onItemBlur',\n      'change .js-item-input': 'onInputChanged',\n      'keyup .js-item-input': 'onKeyPress'\n    };\n  }\n\n\n  resetQuestionOnRevisit() {\n    this.resetQuestion();\n  }\n\n  setupQuestion() {\n    this.model.setupRandomisation();\n  }\n\n  onQuestionRendered() {\n    this.setReadyStatus();\n  }\n\n  // Used by the question view to reset the look and feel of the component.\n  resetQuestion() {\n    this.model.resetActiveItems();\n    this.model.resetItems();\n  }\n\n  showCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', true);\n  }\n\n  hideCorrectAnswer() {\n    this.model.set('_isCorrectAnswerShown', false);\n  }\n\n  getFile() {\n    const $itemInput = this.$('.js-item-input').eq(0);\n    function readFile(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.onload = res => {\n          resolve(res.target.result);\n        };\n        reader.onerror = err => reject(err);\n        return reader.readAsText(file);\n      });\n    }\n    async function onSubmit() {\n      const file = $itemInput[0].files[0]\n      const contents = await readFile(file)\n      let parse = await Papa.parse(contents, {\n        header: true\n      });\n      let fileObj = await { parse: parse, contents: contents }\n\n      return await fileObj\n    }\n\n    return onSubmit()\n  }\n\n  async createTable() {\n    let result = await this.getFile()\n    // console.log(result.parse.data, 'hi')\n\n    let tableData = []\n\n    for (var i = 0; i < result.parse.data.length; i++) {\n      var record = result.parse.data[i];\n      var recordVals = [];\n      var numCols = Object.keys(record).length;\n      for (var j = 0; j < numCols; j++) {\n        var key = Object.keys(record)[j];\n        var value = record[key];\n        recordVals.push(value);\n      }\n      tableData.push(recordVals);\n    }\n\n    window.alert = function () { }\n\n    var col = [];\n    var tableHeader = [];\n    for (var i = 0; i < result.parse.data.length; i++) {\n      for (var key in result.parse.data[i]) {\n        if (col.indexOf(key) === -1) {\n          col.push(key);\n        }\n      }\n    }\n    for (var i in col) {\n      tableHeader.push({ title: col[i] });\n    }\n\n    $('#example').DataTable({\n      \"dom\": '<\"top\"ip>rt<\"clear\">',\n      data: tableData, // extract this from input file\n      columns: tableHeader,\n      scrollX: true,\n    });\n  }\n  async checkCsvStructure() {\n\n    let result = await this.getFile()\n    let lines = result.contents.split('\\n');\n    let csvLineBreaks = [];\n\n    let encodingErrors = [];\n    // 1: YELLOW\n    const lineBreaks = (csv) => {\n      for (let i = 0; i < lines.length - 1; i++) {\n        csvLineBreaks.push(lines[i].split('\\r').length - 1);\n      }\n      let csvLineBreaks_unique = csvLineBreaks.filter(function (item, pos) {\n        return csvLineBreaks.indexOf(item) == pos;\n      });\n      if (csvLineBreaks_unique.length > 1) {\n        encodingErrors.push('Line breaks are not the same throughout the csv file.');\n      }\n    };\n\n    // Whitespace: if there is any whitespace between commas and double quotes around fields\n    const whiteSpace = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_whitespace = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        for (let j = 0; j < csvRows[i].length; j++) {\n          if (csvRows[i][j].split('\"').length % 2 != 0) {\n            if (csvRows[i][j].split('\"').length > 2) {\n              if (csvRows[i][j].split('\"')[1].split(' ').length > 1) {\n                csvRows_whitespace.push(i);\n              }\n            }\n          }\n        }\n      }\n      if (csvRows_whitespace.length > 0) {\n        encodingErrors.push(\n          'There is whitespace between commas and double quotes around fields in csv.',\n          `whitespace: ${csvRows_whitespace}`\n        );\n      }\n    };\n\n\n    // Invalid encoding: check if there are any odd characters in a file which could cause encoding Errors\n    // look for odd charachters in csv file that cannot be encoded as UTF-8\n    const invalidEncoding = (csv) => {\n      let invalid = false;\n      for (let i of csv) {\n        if (csv.charCodeAt(i) > 127) {\n          invalid = true;\n        }\n      }\n      return invalid;\n    }\n\n    // Encoding: if you don't use UTF-8 as the encoding for the file\n\n    const checkUTF8 = (csv) => {\n      let utf8Text = csv;\n      try {\n        // Try to convert to utf-8\n        utf8Text = decodeURIComponent(escape(csv));\n        // If the conversion succeeds, text is not utf-8\n      } catch (e) {\n        // csvResults.push(e.message); // URI malformed\n        // This exception means text is utf-8\n      }\n      return utf8Text; // returned text is always utf-8\n    };\n\n    // No content type: if you don't provide a Content-Type HTTP header\n\n    // No encoding: if you don't specify an encoding with a charset parameter\n\n    // Excel: if it looks like you're serving an Excel file rather than CSV (because the suffix for the file is .xls and there is no 'Content - Type' header)\n    // CHECK .HBS FILE - ONLY ALLOWING FOR .CSV FILES\n\n\n    ////////////////\n    // 2: GREEN\n    ///////////////\n\n    let encodingInside = []\n\n    // Check options: if the CSV file only contains a single comma - separated column; this usually means you're using a separator other than a comma\n    const singleCommaSeparated = csv => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      if (csvRows_columns_unique.length == 1 && csvRows_columns_unique[0] == 1) {\n        encodingInside.push(\n          'The CSV file only contains a single comma-separated column.',\n        );\n      }\n    }\n\n    ////////////////\n    // 3: BLUE\n    ///////////////\n\n    let headerColumns = []\n\n    // Undeclared header: if you do not specify in a machine readable way whether or not your CSV has a header row\n    const undeclaredHeader = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      if (csv_headers.length == 1) {\n        headerColumns.push('The csv headers have not been declared.', `the headers are: ${headers}`);\n      }\n    };\n\n    // Title row: if there appears to be a title field in the first row of the CSV and if we get the CSV from a URL, we return these warnings:\n\n    ////////////////\n    // 4: PINK\n    ///////////////\n\n    let columnValidation = []\n\n    // Empty column name: if all the columns don't have a name\n    const emptyColumnName = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csv_headers_blank = [];\n      for (let i = 0; i < csv_headers.length; i++) {\n        if (csv_headers[i] == '') {\n          csv_headers_blank.push(i);\n        }\n      }\n      if (csv_headers_blank.length > 0) {\n        columnValidation.push(\"There are columns that don't have a name in the csv file.\");\n      }\n    };\n    // Duplicate column name: if all the column names aren't unique\n    const duplicateColumnName = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csv_headers_unique = csv_headers.filter(function (item, pos) {\n        return csv_headers.indexOf(item) == pos;\n      });\n      if (csv_headers_unique.length != csv_headers.length) {\n        columnValidation.push('Not all the columns are unique.', `see here: ${csv_headers_unique}`)\n      }\n    };\n\n    ////////////////\n    // 5: PURPLE\n    ///////////////\n\n    let rowValidation = []\n\n    // Ragged rows: if every row in the file doesn't have the same number of columns\n    const raggedRows = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csv_headers = csv_lines[0].split(',');\n      let csvRows = []\n      // csvResults.push(csvRows)\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      if (csvRows_columns_unique.length > 1) {\n        // csvResults.push(csvRows_columns_unique[0])\n        // csvResults.push(csvRows_columns_unique)\n        // const displayColumns = num => csvRows_columns[csvRows_columns_unique[num]]\n        rowValidation.push(\n          \"Every row in the file doesn't have the same number of columns.\",\n          `here are the column counts we have found: ${[...csvRows_columns_unique]}`\n        );\n      }\n    };\n\n    // Blank rows: if there are any blank rows\n    const blankRows = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_blank = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        if (csvRows[i].length == 1 && csvRows[i][0] == '') {\n          csvRows_blank.push(i);\n        }\n      }\n      if (csvRows_blank.length > 0) {\n        rowValidation.push('There are blank rows in the csv.', `see here: ${csvRows_blank} / ${csvRows.length - 1}`);\n      }\n    };\n\n    ////////////////\n    // 5: GREY\n    ///////////////\n\n    let itemsValidation = []\n\n    // Inconsistent values: if any column contains inconsistent values, for example if most values in a column are numeric but there's a significant proportion that aren't\n    const find = (csv) => {\n      var lineBreaks = csv.match(/\\n/g);\n      itemsValidation.push(lineBreaks);\n    }\n    const inconsistentValues = (csv) => {\n      let csv_lines = csv.split('\\n');\n      let csvRows = [];\n      for (let i = 1; i < csv_lines.length - 1; i++) {\n        csvRows.push(csv_lines[i].split(','));\n      }\n      let csvRows_columns = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns.push(csvRows[i].length);\n      }\n      let csvRows_columns_unique = csvRows_columns.filter(function (item, pos) {\n        return csvRows_columns.indexOf(item) == pos;\n      });\n      let csvRows_columns_unique_max = Math.max.apply(\n        Math,\n        csvRows_columns_unique\n      );\n      let csvRows_columns_unique_max_index = csvRows_columns_unique.indexOf(\n        csvRows_columns_unique_max\n      );\n      let csvRows_columns_unique_max_columns =\n        csvRows_columns_unique[csvRows_columns_unique_max_index];\n      let csvRows_columns_unique_max_columns_values = [];\n      for (let i = 0; i < csvRows.length - 1; i++) {\n        csvRows_columns_unique_max_columns_values.push(\n          csvRows[i][csvRows_columns_unique_max_columns]\n        );\n      }\n      let csvRows_columns_unique_max_columns_values_numeric = [];\n      for (let i = 0; i < csvRows_columns_unique_max_columns_values.length; i++) {\n        if (!isNaN(csvRows_columns_unique_max_columns_values[i])) {\n          csvRows_columns_unique_max_columns_values_numeric.push(\n            csvRows_columns_unique_max_columns_values[i]\n          );\n        }\n      }\n      if (\n        csvRows_columns_unique_max_columns_values_numeric.length /\n        csvRows_columns_unique_max_columns_values.length <\n        0.9\n      ) {\n        itemsValidation.push(`There are inconsistent values in the csv file.`);\n      }\n    };\n\n\n    lineBreaks(result.contents)\n    undeclaredHeader(result.contents)\n    raggedRows(result.contents)\n    singleCommaSeparated(result.contents)\n    blankRows(result.contents)\n    whiteSpace(result.contents)\n    checkUTF8(result.contents)\n    inconsistentValues(result.contents)\n    emptyColumnName(result.contents)\n    duplicateColumnName(result.contents)\n\n    let feedback = {\n      encodingErrors,\n      rowValidation,\n      columnValidation,\n      itemsValidation,\n      encodingInside\n    }\n\n    let nonEmptyArrays = Object.keys(feedback).filter(key => feedback[key].length > 0)\n\n    let feedbackString = []\n    nonEmptyArrays.forEach(arr => {\n      if (arr == 'encodingErrors') {\n        feedbackString.push(`Is it encoded correctly as a CSV. Not much a human can do about this.`)\n      }\n      if (arr == 'rowValidation') {\n        feedbackString.push(`The rows are not valid`)\n      }\n      if (arr == 'columnValidation') {\n        feedbackString.push(`The columns are not valid`)\n      }\n      if (arr == 'itemsValidation') {\n        feedbackString.push(`The items are not valid`)\n      }\n      if (arr == 'encodingInside') {\n        feedbackString.push(`The encoding is not valid`)\n      }\n    })\n\n    return feedbackString\n  }\n\n  async validateAjv() {\n    let result = await this.getFile()\n\n    function convertIntObj(input) {\n      const res = {}\n      for (const key in input) {\n        res[key] = {};\n        for (const prop in input[key]) {\n          const parsed = parseInt(input[key][prop], 10);\n          res[key][prop] = isNaN(parsed) ? input[key][prop] : parsed;\n        }\n      }\n      return res;\n    }\n\n    var r = convertIntObj(result.parse.data);\n    var arrayResult = Object.values(r);\n\n    const ajv = new Ajv({\n      allErrors: true,\n      strict: false,\n      validateFormats: 'full',\n    });\n\n    let _schema = this.model.get('_schema')\n    ajv.addFormat('float', /^\\$(\\d{1,3}(\\,\\d{3})*|(\\d+))(\\.\\d{2})?$/);\n\n    let errorList = [];\n\n    for (let i = 0; i < arrayResult.length; i++) {\n      let valid = ajv.validate(_schema, arrayResult[i]);\n      if (!valid) {\n        errorList.push(ajv.errors);\n      }\n    }\n\n    let errText = [];\n    errorList.map((a) => {\n      a.map((b) => {\n        // console.log(b.instancePath.slice(1))\n        let colName = b['instancePath'].slice(1);\n        let colType = b['keyword'];\n        let problem = b['message']\n        if (colType === 'type' || 'format') {\n          var errMsg = `\"${colName}\" ${colType} ${problem}.`;\n          errText.push(errMsg);\n        } else if (b['params']['error'] === 'missing') {\n          let missingCol = b['params']['missingProperty'];\n          var errMsg = `Cannot find required property \"${missingCol}\".`;\n          errText.push(errMsg);\n        } else if (colType === 'enum') {\n          let allowed = b['params']['allowedValues'];\n          let missingCol = b['params']['missingProperty'];\n          var errMsg = `\"<strong> ${colName} </strong>\" must be one of ${allowed}.`;\n          errText.push(errMsg);\n        }\n      });\n    });\n\n    // replace \"required must have required property\" from all errors\n    let errTextFixes = errText.map((a) => {\n      if (a.includes('\"\" required must have required property')) {\n        return a.replace('\"\" required must have required property', '<strong> Missing property: </strong>');\n      } else {\n        return a;\n      }\n    }).filter((a) => {\n      return a !== undefined;\n    })\n    // console.log(errText2)\n    // return errText2;\n\n    // console.log(errText2)\n  \n\n    const userResult = errTextFixes;\n\n    return userResult;\n  }\n  async feedback() {\n    let ajv = await this.validateAjv()\n    let csv = await this.checkCsvStructure()\n    console.log(csv, ajv)\n    let combinedArr = [...new Set(ajv.concat(csv))]\n    // let combinedArrString = combinedArr.join(' <br />')\n\n    console.log(combinedArr)\n    this.model.get('_items')[0].feedback = combinedArr\n    this.model.get('_items')[0][\"_score\"] = combinedArr.length\n    // this.model.get('_feedback').correct = combinedArrString\n    this.model.get('_feedback')._partlyCorrect.final = combinedArr\n\n    // const feedback = await $('#feedback').html(`<h1> Errors </h1> <ul> ${combinedArr.map((result) => {\n    //   return `<li>${result}</li>`\n    // }).join('')} </ul>`);\n\n    // turn error messsages into a table with headers dividing ajv ones with csv ones\n    const table = await $('#feedbackTable').html(`<table class=\"table table-striped table-bordered table-hover table-condensed\">\n    <thead>\n      <tr>\n        <th>Error Description</th>\n        <th>Error Type</th>\n      </tr>\n    </thead>\n    <tbody>\n      ${combinedArr.map((result) => {\n      return `<tr>\n        <td>${result}</td>\n        <td>${ajv.includes(result) ? 'Content 🖊️' : 'Structure 🏗️'}</td>\n      </tr>`\n    }).join('')}\n    </tbody>\n  </table>`);\n  }\n\n  async onInputChanged(e) {\n    const index = $(e.currentTarget).data('adapt-index');\n    const itemModel = this.model.getItem(index);\n    let shouldSelect = !itemModel.get('_isActive');\n    shouldSelect = true;\n    this.model.resetActiveItems();\n    itemModel.toggleActive(shouldSelect);\n    this.createTable()\n    this.feedback()\n\n    console.log(this.model.get('_maxScore'))\n\n    // set score based on feedback count and if it is correct or not\n    // if (this.model.get('_feedback')._partlyCorrect.final.length === 0) {\n    //   this.model.get('_items')[0][\"_score\"] = 30\n    // } else {\n    //   this.model.get('_items')[0][\"_score\"] = 0\n    // }\n    // console.log(Object.values(this.model.get('_items')))\n  }\n}\n\n","define([\n  'core/js/adapt',\n  './fileInputView',\n  'core/js/models/itemsQuestionModel'\n], function(Adapt, fileInputView, ItemsQuestionModel) {\n\n  return Adapt.register('fileinput', {\n    view: fileInputView,\n    // Extend ItemsQuestionModel to distinguish McqModel in\n    // the inheritance chain and allow targeted model extensions.\n    model: ItemsQuestionModel.extend({})\n  });\n\n});\n","define([\n    'core/js/adapt',\n    'core/js/views/componentView'\n], function(Adapt, ComponentView) {\n\n    var StackList = ComponentView.extend({\n\n        TRANSITION_TIME: 250,\n\n        events: {\n            \"click .stacklist__next\": \"nextItem\"\n        },\n\n        preRender: function() {\n            this.model.set(\"_globals\", Adapt.course.get(\"_globals\"));\n            this.model.set(\"_stage\", -1);\n            this.setupButton();\n        },\n\n        postRender: function() {\n            this.$items = this.$(\".stacklist__item\");\n            this.$button = this.$('.stacklist__button');\n\n            if (!this.model.get(\"_isComplete\") || this.model.get(\"_isResetOnRevisit\")) {\n                this.setupListItems();\n                this.setupItemOffsets();\n                this.listenTo(Adapt, 'device:resize', this.setupItemOffsets);\n            }\n            this.setReadyStatus();\n        },\n\n        setupButton: function() {\n            var _button = this.model.get(\"_button\") || {};\n            // Set up button aria label\n\n            var btnAriaLabel = this.model.get(\"_globals\")._components._stacklist.ariaButtonLabel || this.model.get(\"_globals\")._accessibility._ariaLabels.next;\n            this.model.set({ buttonAriaLabel: btnAriaLabel });\n\n            if (!_button.startText) _button.startText = \"Click here to begin\";\n            if (!_button.continueText) _button.continueText = \"Next\";\n            if (!_button.ariaLabel) _button.ariaLabel = btnAriaLabel;\n\n            this.model.set(\"_button\", _button);\n        },\n\n        setupListItems: function() {\n            this.$items.addClass(\"visibility-hidden\");\n            this.$button.show();\n        },\n\n        setupItemOffsets: function() {\n            // Set item positions alternating R and L\n            var wWin = $(window).width();\n            var offsetLeft = -this.$el.outerWidth();\n            var offsetRight = wWin + 10;\n            var stage = this.model.get('_stage');\n            var buttonOffset = 0;\n\n            this.$items.each(function(i) {\n                var $el = $(this);\n\n                if (i <= stage) {\n                    buttonOffset += $el.outerHeight(true);\n                    return;\n                }\n\n                var isLeft = i % 2 === 0;\n                var offset = $el.offset();\n                offset.left = isLeft ? offsetLeft : offsetRight;\n                $el.offset(offset);\n            });\n\n            this.$button.css({top: buttonOffset});\n\n\n        },\n\n        nextItem: function() {\n            var stage = this.model.get(\"_stage\") + 1;\n            this.setStage(stage);\n        },\n\n        setStage: function(stage) {\n            this.model.set(\"_stage\", stage);\n\n            var items = this.model.get(\"_items\");\n            var isComplete = this.model.get(\"_items\").length - 1 === stage;\n            var $item = this.$(\".stacklist__item\").eq(stage);\n\n            $item.removeClass(\"visibility-hidden\");\n\n            var h = $item.outerHeight(true);\n\n            $item.velocity({ left: 0 }, {\n                delay: this.TRANSITION_TIME,\n                duration: this.TRANSITION_TIME,\n                complete: function() {\n                    $item.addClass(\"show\").a11y_focus();\n                }\n            });\n\n            if (isComplete) {\n                this.onCompletion();\n                this.updateButton('', h);\n            } else {\n                var continueText = items[stage].next || this.model.get(\"_button\").continueText;\n                var btnAriaLabel = this.model.get(\"_globals\")._components._stacklist.ariaButtonLabel || this.model.get(\"_globals\")._accessibility._ariaLabels.next;\n                var ariaLabel = continueText + ', ' + btnAriaLabel;\n\n                this.updateButton(continueText, h, ariaLabel);\n            }\n        },\n\n        updateButton: function(text, offset, ariaLabel) {\n            this.$(\".stacklist__button\").css({ top: \"+=\" + offset });\n\n            if (text === '') { // On last item we do not want to update text (it's most important when stack-list has only one item)\n                return;\n            }\n\n            var $button = this.$(\".stacklist__next\");\n            $button.blur();\n            setTimeout(function() {\n                $button.html(text);\n                $button.attr('aria-label', ariaLabel);\n            }, this.TRANSITION_TIME * 2);\n        },\n\n        onCompletion: function() {\n            var $buttonDiv = this.$(\".stacklist__button\");\n            var $button = this.$(\".stacklist__next\");\n            $buttonDiv.css({ opacity: 0 });\n\n            setTimeout(function() {\n                $button.remove();\n            }, this.TRANSITION_TIME);\n\n            this.setCompletionStatus();\n        }\n    });\n\n    return StackList;\n\n});\n","define([\n    \"core/js/adapt\",\n    \"core/js/models/itemsComponentModel\",\n    \"./StackListView\"\n], function(Adapt, ItemsComponentModel, StackListView) {\n\n    return Adapt.register(\"stacklist\", {\n        view: StackListView,\n        model: ItemsComponentModel\n    });\n\n});\n","import Adapt from 'core/js/adapt';\nimport AdaptArticleView from 'core/js/views/articleView';\n\nconst AssessmentView = {\n\n  postRender() {\n    AdaptArticleView.prototype.postRender.call(this);\n    if (this.model.isAssessmentEnabled()) {\n      this._setupEventListeners();\n\n      const config = this.model.getConfig();\n      if (config?._questions?._canShowMarking === false) {\n        this.$el.addClass('has-no-marking');\n      }\n    }\n    this.$el.addClass('is-assessment');\n  },\n\n  _setupEventListeners() {\n    this.listenTo(Adapt, {\n      'assessments:complete': this._onAssessmentComplete,\n      'assessments:reset': this._onAssessmentReset,\n      remove: this._onRemove\n    });\n  },\n\n  _removeEventListeners() {\n    this.stopListening(Adapt, {\n      'assessments:complete': this._onAssessmentComplete,\n      'assessments:reset': this._onAssessmentReset\n    });\n  },\n\n  _onAssessmentComplete(state, model) {\n    if (state.id !== this.model.get('_assessment')._id) return;\n\n    Adapt.log.info('assessment complete', state, model);\n  },\n\n  _onAssessmentReset(state, model) {\n    if (state.id !== this.model.get('_assessment')._id) return;\n\n    Adapt.log.info('assessment reset', state, model);\n\n  },\n\n  _onRemove() {\n    this._removeEventListeners();\n  }\n\n};\n\nexport default AssessmentView;\n","import Adapt from 'core/js/adapt';\n\nclass QuestionBank {\n\n  constructor(quizBankid, articleId, numQuestionBlocks, uniqueQuestions) {\n    this._id = quizBankid;\n    this._articleId = articleId;\n    this._numQuestionBlocks = numQuestionBlocks;\n    this._uniqueQuestions = uniqueQuestions;\n    this.questionBlocks = [];\n    this.unUsedQuestionBlocks = undefined;\n    this.usedQuestionBlocks = [];\n  }\n\n  getID() {\n    return this._id;\n  }\n\n  addBlock(block) {\n    this.questionBlocks.push(block);\n  }\n\n  getRandomQuestionBlocks() {\n    this.checkResetUnunsedBlocks();\n\n    const questionBlocks = [];\n    const usedQuestionBlocks = this.usedQuestionBlocks.slice(0);\n\n    for (let i = 0; i < this._numQuestionBlocks; i++) {\n      let question = this.getRandomQuestion();\n      if (question !== undefined) {\n        questionBlocks.push(question);\n        continue;\n      }\n      if (usedQuestionBlocks.length === 0) break;\n      const index = Math.floor(Math.random() * (usedQuestionBlocks.length - 1));\n      question = usedQuestionBlocks.splice(index, 1)[0];\n      questionBlocks.push(question);\n    }\n\n    return questionBlocks;\n  }\n\n  checkResetUnunsedBlocks() {\n    if (this.unUsedQuestionBlocks !== undefined && this._uniqueQuestions) return;\n\n    this.unUsedQuestionBlocks = this.questionBlocks.slice(0);\n  }\n\n  getRandomQuestion() {\n    if (this.unUsedQuestionBlocks !== undefined && this.unUsedQuestionBlocks.length < 1) {\n      Adapt.log.warn('assessment:' + this._articleId + ' No more unique questions for _assessment._quizBankID ' + this._id);\n      return undefined;\n    }\n\n    const index = Math.round(Math.random() * (this.unUsedQuestionBlocks.length - 1));\n    const questionBlock = this.unUsedQuestionBlocks[index];\n    this.usedQuestionBlocks.push(questionBlock);\n\n    this.unUsedQuestionBlocks.splice(index, 1);\n\n    return questionBlock;\n  }\n}\n\nexport default QuestionBank;\n","import Adapt from 'core/js/adapt';\nimport QuestionBank from './adapt-assessmentQuestionBank';\n\nlet givenIdCount = 0;\nconst assessmentConfigDefaults = {\n  _isEnabled: true,\n  _questions: {\n    _resetType: 'soft',\n    _canShowFeedback: false,\n    _canShowMarking: false,\n    _canShowModelAnswer: false\n  },\n  _suppressMarking: false,\n  _isPercentageBased: true,\n  _scoreToPass: 100,\n  _correctToPass: 100,\n  _includeInTotalScore: true,\n  _assessmentWeight: 1,\n  _isResetOnRevisit: true,\n  _reloadPageOnReset: true,\n  _attempts: 'infinite',\n  _allowResetIfPassed: false\n};\n\nconst AssessmentModel = {\n\n  _getCurrentQuestionComponents() {\n    return this.findDescendantModels('block')\n      .filter(block => block.get('_isAvailable'))\n      .reduce((questions, block) => questions.concat(block.findDescendantModels('question')), []);\n  },\n\n  _getAllQuestionComponents() {\n    return this.findDescendantModels('question');\n  },\n\n  // Private functions\n  _postInitialize() {\n    if (!this.isAssessmentEnabled()) return;\n\n    const assessmentConfig = this.getConfig();\n\n    Object.assign(this, {\n      _originalChildModels: null,\n      _questionBanks: null,\n      _forceResetOnRevisit: false\n    });\n\n    let attemptsLeft;\n    switch (assessmentConfig._attempts) {\n      case 'infinite': case 0: case undefined: case -1: case null:\n        attemptsLeft = 'infinite';\n        break;\n      default:\n        attemptsLeft = assessmentConfig._attempts;\n        break;\n    }\n\n    this.set({\n      _assessmentCompleteInSession: false,\n      _attemptInProgress: false,\n      _isAssessmentComplete: false,\n      _numberOfQuestionsAnswered: 0,\n      _lastAttemptScoreAsPercent: 0,\n      _attempts: attemptsLeft,\n      _attemptsLeft: attemptsLeft,\n      _attemptsSpent: 0\n    });\n\n    this.listenToOnce(Adapt, 'app:dataReady', this._onDataReady);\n    this.listenTo(Adapt, 'remove', this._onRemove);\n\n  },\n\n  init() {\n    // save original children\n    this._originalChildModels = this.getChildren().models;\n\n    this.setupCurrentQuestionComponents();\n\n    this._setAssessmentOwnershipOnChildrenModels();\n\n    // ensure the _questions attribute is set up (see https://github.com/adaptlearning/adapt_framework/issues/2971)\n    this._updateQuestionsState();\n  },\n\n  setupCurrentQuestionComponents() {\n    const assessmentQuestionsConfig = this.getConfig()._questions;\n    this._getAllQuestionComponents().forEach(component => {\n      component.set({\n        _canShowFeedback: assessmentQuestionsConfig._canShowFeedback,\n        _canShowMarking: assessmentQuestionsConfig._canShowMarking,\n        _canShowModelAnswer: assessmentQuestionsConfig._canShowModelAnswer\n      });\n    });\n  },\n\n  _setAssessmentOwnershipOnChildrenModels() {\n    // mark all children components as belonging to an assessment\n    const assessmentConfig = this.get('_assessment');\n    const childConfig = {\n      _isPartOfAssessment: true,\n      _assessmentId: assessmentConfig._id\n    };\n\n    for (const blockModel of this._originalChildModels) {\n      blockModel.set(childConfig);\n      // make sure components are set to _isPartOfAssessment for plp checking\n      blockModel.setOnChildren(childConfig);\n    }\n  },\n\n  // prevent default\n  checkIfResetOnRevisit() {},\n\n  _onDataReady() {\n    // register assessment\n    Adapt.assessment.register(this);\n  },\n\n  _setupAssessmentData(force, callback) {\n    const assessmentConfig = this.getConfig();\n    const state = this.getState();\n    const hasAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n    const shouldResetOnRevisit = assessmentConfig._isResetOnRevisit && !this.get('_attemptInProgress');\n    const shouldResetAssessment = (shouldResetOnRevisit && !state.isPass && hasAttemptsLeft) || force === true;\n    const shouldResetQuestions = (shouldResetOnRevisit && (state.allowResetIfPassed || !state.isPass)) || force === true;\n\n    if (shouldResetAssessment || shouldResetQuestions) {\n      Adapt.trigger('assessments:preReset', this.getState(), this);\n    }\n\n    let quizModels;\n    if (shouldResetAssessment) {\n      this.set({\n        _numberOfQuestionsAnswered: 0,\n        _isAssessmentComplete: false,\n        _assessmentCompleteInSession: false,\n        _score: 0\n      });\n      this.getChildren().models = this._originalChildModels;\n      if (assessmentConfig?._banks._isEnabled &&\n        assessmentConfig?._banks._split.length > 1) {\n\n        quizModels = this._setupBankedAssessment();\n      } else if (assessmentConfig?._randomisation._isEnabled) {\n\n        quizModels = this._setupRandomisedAssessment();\n      }\n    }\n\n    if (!quizModels) {\n      // leave the order as before, completed or not\n      quizModels = this.getChildren().models;\n    } else if (quizModels.length === 0) {\n      quizModels = this.getChildren().models;\n      Adapt.log.warn('assessment: Not enough unique questions to create a fresh assessment, using last selection');\n    }\n\n    this.getChildren().models = quizModels;\n\n    this.setupCurrentQuestionComponents();\n    if (shouldResetAssessment || shouldResetQuestions) {\n      this._resetQuestions();\n      this.set('_attemptInProgress', true);\n      Adapt.trigger('assessments:reset', this.getState(), this);\n    }\n\n    if (!state.isComplete) {\n      this.set('_attemptInProgress', true);\n    }\n\n    this._overrideQuestionComponentSettings();\n    this._setupQuestionListeners();\n    this._checkNumberOfQuestionsAnswered();\n    this._updateQuestionsState();\n\n    Adapt.assessment.saveState();\n\n    this.trigger('reset');\n\n    if (shouldResetAssessment || shouldResetQuestions) {\n      Adapt.trigger('assessments:postReset', this.getState(), this);\n    }\n  },\n\n  _setupBankedAssessment() {\n    const assessmentConfig = this.getConfig();\n\n    this._setupBanks();\n\n    // get random questions from banks\n    let questionModels = [];\n    this._questionBanks.forEach(questionBank => {\n      questionModels.push(...questionBank.getRandomQuestionBlocks());\n    });\n\n    // if overall question order should be randomized\n    if (assessmentConfig._banks._randomisation) {\n      questionModels = _.shuffle(questionModels);\n    }\n\n    return questionModels;\n  },\n\n  _setupBanks() {\n    const assessmentConfig = this.getConfig();\n    const banks = assessmentConfig._banks._split.split(',');\n    let bankId;\n\n    this._questionBanks = [];\n\n    // build fresh banks\n    for (let i = 0, l = banks.length; i < l; i++) {\n      const bank = banks[i];\n      bankId = (i + 1);\n      const questionBank = new QuestionBank(bankId, this.get('_id'), bank, true);\n\n      this._questionBanks[bankId] = questionBank;\n    }\n\n    // add blocks to banks\n    const children = this.getChildren().models;\n    for (const blockModel of children) {\n      const blockAssessmentConfig = blockModel.get('_assessment');\n      if (!blockAssessmentConfig) continue;\n      bankId = blockAssessmentConfig._quizBankID;\n      this._questionBanks[bankId].addBlock(blockModel);\n    }\n  },\n\n  _setupRandomisedAssessment() {\n    const assessmentConfig = this.getConfig();\n\n    const randomisationModel = assessmentConfig._randomisation;\n    const blockModels = this.getChildren().models;\n\n    let questionModels = _.shuffle(blockModels);\n\n    if (randomisationModel._blockCount > 0) {\n      questionModels = questionModels.slice(0, randomisationModel._blockCount);\n    }\n\n    return questionModels;\n  },\n\n  _overrideQuestionComponentSettings() {\n    const newSettings = this._getMarkingSettings();\n\n    // Add any additional setting overrides here\n    const questionConfig = this.getConfig()._questions;\n    if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowFeedback')) {\n      newSettings._canShowFeedback = questionConfig._canShowFeedback;\n    }\n\n    if (!_.isEmpty(newSettings)) {\n      const questionComponents = this._getAllQuestionComponents();\n      questionComponents.forEach(model => model.set(newSettings, { pluginName: '_assessment' }));\n    }\n  },\n\n  _setupQuestionListeners() {\n    this._removeQuestionListeners();\n    this.listenTo(this.getChildren(), 'change:_isInteractionComplete', this._onBlockCompleted);\n  },\n\n  _checkNumberOfQuestionsAnswered() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const numberOfQuestionsAnswered = questionComponents.filter(model => model.get('_isInteractionComplete')).length;\n    this.set('_numberOfQuestionsAnswered', numberOfQuestionsAnswered);\n  },\n\n  _removeQuestionListeners() {\n    this.stopListening(this.getChildren(), 'change:_isInteractionComplete', this._onBlockCompleted);\n  },\n\n  _onBlockCompleted(blockModel, value) {\n    if (value === false) return;\n    const questionModels = blockModel.findDescendantModels('question');\n    questionModels.forEach(questionModel => {\n      this._onQuestionCompleted(questionModel, value);\n    });\n    if (!blockModel.get('_isInteractionComplete')) return;\n    this._checkAssessmentComplete();\n  },\n\n  _onQuestionCompleted(questionModel, value) {\n    if (value === false) return;\n    if (!questionModel.get('_isInteractionComplete')) return;\n\n    let numberOfQuestionsAnswered = this.get('_numberOfQuestionsAnswered');\n    numberOfQuestionsAnswered++;\n    this.set('_numberOfQuestionsAnswered', numberOfQuestionsAnswered);\n\n    this._updateQuestionsState();\n    Adapt.assessment.saveState();\n\n    this._checkAssessmentComplete();\n  },\n\n  _checkAssessmentComplete() {\n    const allQuestionsAdded = (this.get('_requireCompletionOf') !== Number.POSITIVE_INFINITY);\n    if (!allQuestionsAdded) return;\n    const numberOfQuestionsAnswered = this.get('_numberOfQuestionsAnswered');\n    const allQuestionsAnswered = (numberOfQuestionsAnswered >= this._getCurrentQuestionComponents().length);\n    if (!allQuestionsAnswered) return;\n    this._onAssessmentComplete();\n  },\n\n  _onAssessmentComplete() {\n    const wasAttemptInProgess = this.get('_attemptInProgress');\n    if (!wasAttemptInProgess) return;\n\n    this.set('_attemptInProgress', false);\n    this._spendAttempt();\n\n    const _scoreAsPercent = this._getScoreAsPercent();\n    const _score = this._getScore();\n    const _maxScore = this._getMaxScore();\n    const _minScore = this._getMinScore();\n    const _correctCount = this._getCorrectCount();\n    const _correctAsPercent = this._getCorrectAsPercent();\n    const _questionCount = this._getQuestionCount();\n\n    this.set({\n      _scoreAsPercent,\n      _score,\n      _maxScore,\n      _minScore,\n      _correctAsPercent,\n      _correctCount,\n      _questionCount,\n      _lastAttemptScoreAsPercent: _scoreAsPercent,\n      _assessmentCompleteInSession: true,\n      _isAssessmentComplete: true\n    });\n\n    this._updateQuestionsState();\n\n    this._checkIsPass();\n\n    this._removeQuestionListeners();\n\n    if (this._isMarkingSuppressionEnabled() && !this._isAttemptsLeft()) {\n      _.defer(() => {\n        this._overrideMarkingSettings();\n        this._refreshQuestions();\n      });\n    }\n\n    Adapt.trigger('assessments:complete', this.getState(), this);\n  },\n\n  _updateQuestionsState() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const questions = questionComponents.map(model => ({\n      _id: model.get('_id'),\n      _isCorrect: model.get('_isCorrect') ?? null\n    }));\n    this.set('_questions', questions);\n  },\n\n  _checkIsPass() {\n    const assessmentConfig = this.getConfig();\n\n    const isPercentageBased = assessmentConfig._isPercentageBased;\n    const scoreToPass = assessmentConfig._scoreToPass;\n    const correctToPass = assessmentConfig._correctToPass || 0;\n\n    const scoreAsPercent = this.get('_scoreAsPercent');\n    const score = this.get('_score');\n    const correctAsPercent = this.get('_correctAsPercent');\n    const correctCount = this.get('_correctCount');\n\n    const isPass = isPercentageBased\n      ? (scoreAsPercent >= scoreToPass && correctAsPercent >= correctToPass)\n      : (score >= scoreToPass && correctCount >= correctToPass);\n\n    this.set('_isPass', isPass);\n  },\n\n  _getMarkingSettings() {\n    let markingSettings = {};\n\n    if (this._shouldSuppressMarking()) {\n      markingSettings = {\n        _canShowMarking: false,\n        _canShowModelAnswer: false\n      };\n    } else {\n      const questionConfig = this.getConfig()._questions;\n\n      if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowModelAnswer')) {\n        markingSettings._canShowModelAnswer = questionConfig._canShowModelAnswer;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(questionConfig, '_canShowMarking')) {\n        markingSettings._canShowMarking = questionConfig._canShowMarking;\n      }\n    }\n\n    return markingSettings;\n  },\n\n  _overrideMarkingSettings() {\n    const newMarkingSettings = this._getMarkingSettings();\n    const questionComponents = this._getAllQuestionComponents();\n    questionComponents.forEach(model => model.set(newMarkingSettings, { pluginName: '_assessment' }));\n  },\n\n  _refreshQuestions() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    questionComponents.forEach(model => model.refresh());\n  },\n\n  _shouldSuppressMarking() {\n    return this._isMarkingSuppressionEnabled() && this._isAttemptsLeft();\n  },\n\n  _isMarkingSuppressionEnabled() {\n    const assessmentConfig = this.getConfig();\n    return assessmentConfig._suppressMarking;\n  },\n\n  _isAttemptsLeft() {\n    if (this.get('_isAssessmentComplete') && this.get('_isPass')) return false;\n    if (this.get('_attemptsLeft') === 0) return false;\n    return true;\n  },\n\n  _spendAttempt() {\n    if (!this._isAttemptsLeft()) return false;\n\n    let attemptsSpent = this.get('_attemptsSpent');\n    this.set('_attemptsSpent', ++attemptsSpent);\n\n    if (this.get('_attempts') === 'infinite') return true;\n\n    let attemptsLeft = this.get('_attemptsLeft');\n    this.set('_attemptsLeft', --attemptsLeft);\n\n    return true;\n  },\n\n  _getScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const score = questionComponents.reduce((score, model) => (score += model.score || 0), 0);\n    return score;\n  },\n\n  _getMaxScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const maxScore = questionComponents.reduce((maxScore, model) => (maxScore += model.maxScore || 0), 0);\n    return maxScore;\n  },\n\n  _getMinScore() {\n    const questionComponents = this._getCurrentQuestionComponents();\n    const minScore = questionComponents.reduce((minScore, model) => (minScore += model.minScore || 0), 0);\n    return minScore;\n  },\n\n  _getScoreAsPercent() {\n    const minScore = this._getMinScore();\n    const maxScore = this._getMaxScore();\n    const score = this._getScore();\n    const range = (maxScore - minScore);\n    return (range === 0) ? 0 : Math.round(((score - minScore) / range) * 100);\n  },\n\n  _getCorrectCount() {\n    return this._getCurrentQuestionComponents().reduce((count, model) => (count += model.get('_isCorrect') ? 1 : 0), 0);\n  },\n\n  _getQuestionCount() {\n    return this._getCurrentQuestionComponents().length;\n  },\n\n  _getCorrectAsPercent() {\n    const questionCount = this._getQuestionCount();\n    return (questionCount === 0) ? 0 : Math.round((this._getCorrectCount() / questionCount) * 100);\n  },\n\n  _getLastAttemptScoreAsPercent() {\n    return this.get('_lastAttemptScoreAsPercent');\n  },\n\n  _checkReloadPage() {\n    if (!this.canResetInPage()) return false;\n\n    const parentId = this.getParent().get('_id');\n    const currentLocation = Adapt.location._currentId;\n\n    // check if on assessment page and should rerender page\n    if (currentLocation !== parentId) return false;\n    if (!this.get('_isReady')) return false;\n\n    return true;\n  },\n\n  _reloadPage(callback) {\n    const assessmentConfig = this.getConfig();\n    this._forceResetOnRevisit = true;\n    this.listenToOnce(Adapt, 'pageView:ready', async () => {\n      if (assessmentConfig._scrollToOnReset) {\n        await Adapt.navigateToElement(this.get('_id'));\n      }\n      callback();\n    });\n    _.delay(() => {\n      Backbone.history.navigate('#/id/' + Adapt.location._currentId, { replace: true, trigger: true });\n    }, 250);\n  },\n\n  _resetQuestions() {\n    const assessmentConfig = this.getConfig();\n    const questionModels = this._getCurrentQuestionComponents();\n    questionModels.forEach(model => model.reset(assessmentConfig._questions._resetType, true));\n  },\n\n  _onRemove() {\n    this._removeQuestionListeners();\n  },\n\n  _setCompletionStatus() {\n    this.set({\n      _isComplete: true,\n      _isInteractionComplete: true\n    });\n  },\n\n  _checkIfQuestionsWereRestored() {\n    if (this.get('_assessmentCompleteInSession')) return;\n    if (!this.get('_isAssessmentComplete')) return;\n\n    // fix for courses that do not remember the user selections\n    // force assessment to reset if user revisits an assessment page in a new session which is completed\n    let wereQuestionsRestored = true;\n\n    const questions = this.get('_questions');\n    for (const question of questions) {\n      const questionModel = Adapt.findById(question._id);\n      if (questionModel.get('_isAvailable') && !questionModel.get('_isSubmitted')) {\n        wereQuestionsRestored = false;\n        break;\n      }\n    }\n\n    if (!wereQuestionsRestored) {\n      this.set('_assessmentCompleteInSession', true);\n      return true;\n    }\n\n    return false;\n  },\n\n  // Public Functions\n  isAssessmentEnabled() {\n    if (this.get('_assessment')?._isEnabled) return true;\n    return false;\n  },\n\n  canResetInPage() {\n    const assessmentConfig = this.getConfig();\n    if (assessmentConfig._reloadPageOnReset === false) return false;\n    return true;\n  },\n\n  reset(force, callback) {\n\n    const assessmentConfig = this.getConfig();\n\n    // check if forcing reset via page revisit or force parameter\n    force = this._forceResetOnRevisit || force === true;\n    this._forceResetOnRevisit = false;\n\n    const isPageReload = this._checkReloadPage();\n\n    // stop resetting if not complete or not allowed\n    if (this.get('_assessmentCompleteInSession') &&\n      !assessmentConfig._isResetOnRevisit &&\n      !isPageReload &&\n      !force) {\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(false);\n      return false;\n    }\n\n    // check if new session and questions not restored\n    const wereQuestionsRestored = this._checkIfQuestionsWereRestored();\n    force = force || wereQuestionsRestored;\n    // the assessment is going to be reset so we must reset attempts\n    // otherwise assessment may not be set up properly in next session\n    if (force && !this._isAttemptsLeft()) {\n      this.set({\n        _attemptsLeft: this.get('_attempts'),\n        _attemptsSpent: 0\n      });\n    }\n\n    const allowResetIfPassed = this.get('_assessment')._allowResetIfPassed;\n    // stop resetting if no attempts left and allowResetIfPassed is false\n    if (!this._isAttemptsLeft() && !force && !allowResetIfPassed) {\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(false);\n      return false;\n    }\n\n    if (!isPageReload) {\n      this._setupAssessmentData(force);\n      // eslint-disable-next-line node/no-callback-literal\n      if (typeof callback === 'function') callback(true);\n    } else {\n      this._reloadPage(() => {\n        // eslint-disable-next-line node/no-callback-literal\n        if (typeof callback === 'function') callback(true);\n      });\n    }\n\n    return true;\n  },\n\n  getSaveState() {\n    const state = this.getState();\n    let blocks;\n    const cfg = this.getConfig();\n    const banksActive = cfg._banks?._isEnabled && cfg._banks._split.length > 1;\n    const randomisationActive = cfg._randomisation?._isEnabled;\n\n    if (!banksActive && !randomisationActive) {\n      // include presentation blocks in save state so that blocks without questions aren't removed\n      blocks = this.findDescendantModels('block');\n    } else {\n      blocks = state.questions.map(question => Adapt.findById(question._id).getParent());\n    }\n    blocks = [...new Set(blocks)]\n      .filter(block => block.trackingPosition);\n    const blockTrackingPositions = blocks.map(block => block.trackingPosition);\n    const blockCompletion = blocks.map(block => {\n      const questions = block.findDescendantModels('question');\n      return questions.map(question => question.get('_isCorrect') || false);\n    });\n    const blockData = [blockTrackingPositions, blockCompletion];\n\n    const saveState = [\n      state.isComplete ? 1 : 0,\n      state.attemptsSpent,\n      state.maxScore || 0,\n      state.score,\n      state.attemptInProgress ? 1 : 0,\n      state.minScore || 0,\n      state.correctAsPercent || 0,\n      state.correctCount || 0,\n      state.questionCount || 0\n    ];\n\n    const dataPackage = [saveState, blockData];\n\n    return dataPackage;\n  },\n\n  setRestoreState(dataPackage) {\n    const restoreState = dataPackage[0];\n    const blockData = dataPackage[1];\n    const _isAssessmentComplete = restoreState[0] === 1;\n    const attempts = this.get('_attempts');\n    const _attemptsSpent = restoreState[1];\n    const maxScore = restoreState[2];\n    const score = restoreState[3];\n    const _scoreAsPercent = score ? Math.round(score / maxScore * 100) : 0;\n    const _attemptInProgress = restoreState[4] === 1;\n    const minScore = restoreState[5];\n    const correctAsPercent = restoreState[6];\n    const correctCount = restoreState[7];\n    const questionCount = restoreState[8];\n\n    const blocks = blockData[0].map(trackingPosition => {\n      if (typeof trackingPosition === 'number') {\n        // Backwards compability for courses which use _trackingId at block level\n        return Adapt.data.findWhere({ _trackingId: trackingPosition });\n      }\n      return Adapt.data.findByTrackingPosition(trackingPosition);\n    });\n\n    if (blocks.length) {\n      const nonBlockChildren = this.getChildren().models.filter(model => !model.isTypeGroup('block'));\n      this.getChildren().models = blocks.concat(nonBlockChildren);\n    }\n\n    const _questions = [];\n    blocks.forEach((block, blockIndex) => {\n      const blockQuestions = block.findDescendantModels('question');\n      blockQuestions.forEach((question, questionIndex) => {\n        _questions.push({\n          _id: question.get('_id'),\n          _isCorrect: blockData[1][blockIndex][questionIndex]\n        });\n      });\n    });\n\n    this.set({\n      _isAssessmentComplete,\n      _assessmentCompleteInSession: false,\n      _attemptsSpent,\n      _attemptInProgress,\n      _attemptsLeft: (attempts === 'infinite' ? attempts : attempts - _attemptsSpent),\n      _maxScore: maxScore || this._getMaxScore(),\n      _minScore: minScore || this._getMinScore(),\n      _score: score || 0,\n      _scoreAsPercent,\n      _correctAsPercent: correctAsPercent || 0,\n      _correctCount: correctCount || 0,\n      _questions,\n      _questionCount: questionCount || 0,\n      _lastAttemptScoreAsPercent: _scoreAsPercent\n    });\n\n    if (_isAssessmentComplete) this._checkIsPass();\n\n    Adapt.trigger('assessments:restored', this.getState(), this);\n\n  },\n\n  getState() {\n    // return the current state of the assessment\n    // create snapshot of values so as not to create memory leaks\n    const assessmentConfig = this.getConfig();\n\n    const state = {\n      id: assessmentConfig._id,\n      type: 'article-assessment',\n      pageId: this.getParent().get('_id'),\n      articleId: this.get('_id'),\n      isEnabled: assessmentConfig._isEnabled,\n      isComplete: this.get('_isAssessmentComplete'),\n      isPercentageBased: assessmentConfig._isPercentageBased,\n      scoreToPass: assessmentConfig._scoreToPass,\n      score: this.get('_score'),\n      scoreAsPercent: this.get('_scoreAsPercent'),\n      maxScore: this.get('_maxScore'),\n      minScore: this.get('_minScore'),\n      correctCount: this.get('_correctCount'),\n      correctAsPercent: this.get('_correctAsPercent'),\n      correctToPass: assessmentConfig._correctToPass,\n      questionCount: this.get('_questionCount'),\n      isPass: this.get('_isPass'),\n      includeInTotalScore: assessmentConfig._includeInTotalScore,\n      assessmentWeight: assessmentConfig._assessmentWeight,\n      attempts: this.get('_attempts'),\n      attemptsSpent: this.get('_attemptsSpent'),\n      attemptsLeft: this.get('_attemptsLeft'),\n      attemptInProgress: this.get('_attemptInProgress'),\n      lastAttemptScoreAsPercent: this.get('_lastAttemptScoreAsPercent'),\n      questions: this.get('_questions'),\n      resetType: assessmentConfig._questions._resetType,\n      allowResetIfPassed: assessmentConfig._allowResetIfPassed,\n      questionModels: new Backbone.Collection(this._getCurrentQuestionComponents())\n    };\n\n    return state;\n  },\n\n  getConfig() {\n    let assessmentConfig = this.get('_assessment');\n\n    if (!assessmentConfig) {\n      assessmentConfig = $.extend(true, {}, assessmentConfigDefaults);\n    } else {\n      assessmentConfig = $.extend(true, {}, assessmentConfigDefaults, assessmentConfig);\n    }\n\n    if (assessmentConfig._id === undefined) {\n      assessmentConfig._id = 'givenId' + (givenIdCount++);\n    }\n\n    this.set('_assessment', assessmentConfig);\n\n    return assessmentConfig;\n  }\n};\n\nexport default AssessmentModel;\n","import Adapt from 'core/js/adapt';\n\n/*\n  * Here we setup a registry for all assessments\n  */\nconst assessmentsConfigDefaults = {\n  _isPercentageBased: true,\n  _scoreToPass: 100,\n  _isDefaultsLoaded: true\n};\n\nclass Assessment extends Backbone.Controller {\n\n  initialize() {\n    this._assessments = Object.assign([], {\n      _byPageId: {},\n      _byAssessmentId: {}\n    });\n    this.listenTo(Adapt, {\n      'assessments:complete': this._onAssessmentsComplete,\n      'router:location': this._checkResetAssessmentsOnRevisit,\n      'router:plugin': this._handleRoute,\n      'app:dataReady': this._onDataReady\n    });\n  }\n\n  _onAssessmentsComplete(state) {\n    const assessmentId = state.id;\n\n    state.isComplete = true;\n\n    if (assessmentId === undefined) return;\n\n    if (!this._getStateByAssessmentId(assessmentId)) {\n      Adapt.log.warn('assessments: state was not registered when assessment was created');\n    }\n\n    this.saveState();\n\n    this._setPageProgress();\n\n    this._checkAssessmentsComplete();\n\n  }\n\n  _restoreModelState(assessmentModel) {\n\n    if (!this._saveStateModel) {\n      this._saveStateModel = Adapt.offlineStorage.get('a');\n    }\n    if (this._saveStateModel) {\n      const state = assessmentModel.getState();\n      if (this._saveStateModel[state.id]) {\n        assessmentModel.setRestoreState(Adapt.offlineStorage.deserialize(this._saveStateModel[state.id]));\n      }\n    }\n\n  }\n\n  /*\n    * Allow navigating to an assessment via the URL.\n    */\n  _handleRoute(plugin, id) {\n    if ((plugin !== 'assessment' && plugin !== 'article-assessment') || id === undefined) {\n      return;\n    }\n\n    // Check the 'id' passed is that of an article.\n    if (!Adapt.findById(id)) {\n      // The 'id' passed may have been the assessment _id/name, not the article _id.\n      const assessment = Adapt.assessment._assessments._byAssessmentId[id];\n      if (assessment) {\n        // Set 'id' to the article _id.\n        id = assessment.get('_id');\n      } else {\n        Adapt.log.warn('Assessment not found with _id: ' + id);\n        return;\n      }\n    }\n\n    _.defer(() => {\n      // Defer this call so that the router's _canNavigate flag is true.\n      Backbone.history.navigate('#/id/' + id, { trigger: true, replace: true });\n    });\n  }\n\n  _checkResetAssessmentsOnRevisit(toObject) {\n    /*\n      * Here we hijack router:location to reorganise the assessment blocks\n      * this must happen before trickle listens to block completion\n      */\n    if (toObject._contentType !== 'page') return;\n\n    // initialize assessment on page visit before pageView:preRender (and trickle)\n    const pageAssessmentModels = this._getAssessmentByPageId(toObject._currentId);\n    if (pageAssessmentModels === undefined) return;\n\n    /*\n      * Here we further hijack the router to ensure the asynchronous assessment\n      * reset completes before routing completes\n      */\n    Adapt.wait.for(function resetAllAssessments(allAssessmentHaveReset) {\n\n      const numberOfAssessments = pageAssessmentModels.length;\n      let numberOfResetAssessments = 0;\n      const forceAssessmentReset = false;\n\n      pageAssessmentModels.forEach(model => {\n\n        model.reset(forceAssessmentReset, () => {\n          numberOfResetAssessments++;\n          const haveAllModelsReset = (numberOfResetAssessments === numberOfAssessments);\n          if (!haveAllModelsReset) {\n            return;\n          }\n          allAssessmentHaveReset();\n        });\n      });\n    });\n\n    this._setPageProgress();\n  }\n\n  _onDataReady() {\n    this._assessments = Object.assign([], {\n      _byPageId: {},\n      _byAssessmentId: {}\n    });\n\n    this._restoredCount = 0;\n  }\n\n  _checkAssessmentsComplete() {\n    let allAssessmentsComplete = true;\n    let assessmentToPostBack = 0;\n    const states = this._getStatesByAssessmentId();\n\n    const assessmentStates = [];\n\n    for (const id in states) {\n      const state = states[id];\n      if (!state.includeInTotalScore) continue;\n      if (!state.isComplete) {\n        allAssessmentsComplete = false;\n        break;\n      }\n      assessmentToPostBack++;\n      assessmentStates.push(state);\n    }\n\n    if (!allAssessmentsComplete || assessmentToPostBack === 0) return false;\n\n    if (assessmentToPostBack === 1) {\n      this._setupSingleAssessmentConfiguration(assessmentStates[0]);\n    }\n\n    _.defer(() => Adapt.trigger('assessment:complete', this.getState()));\n\n    return true;\n  }\n\n  _setupSingleAssessmentConfiguration(assessmentState) {\n    const assessmentsConfig = Adapt.course.get('_assessment');\n    $.extend(true, assessmentsConfig, {\n      _isPercentageBased: assessmentState.isPercentageBased,\n      _scoreToPass: assessmentState.scoreToPass\n    });\n    Adapt.course.set('_assessment', assessmentsConfig);\n  }\n\n  _getAssessmentByPageId(pageId) {\n    return this._assessments._byPageId[pageId];\n  }\n\n  _getStateByAssessmentId(assessmentId) {\n    if (assessmentId === undefined) {\n      return null;\n    }\n\n    return this._assessments._byAssessmentId[assessmentId].getState();\n  }\n\n  _getStatesByAssessmentId() {\n    const states = {};\n    for (const assessmentModel of this._assessments) {\n      if (!assessmentModel.get('_isAvailable')) continue;\n      const state = assessmentModel.getState();\n      states[state.id] = state;\n    }\n    return states;\n  }\n\n  _setPageProgress() {\n    // set _subProgressTotal and _subProgressComplete on pages that have assessment progress indicator requirements\n\n    for (const [ id, assessments ] of Object.entries(this._assessments._byPageId)) {\n\n      const assessmentsTotal = assessments.length;\n      let assessmentsPassed = 0;\n\n      for (const assessment of assessments) {\n        const assessmentState = assessment.getState();\n\n        if (assessmentState.includeInTotalScore && !assessmentState.isPass) continue;\n\n        if (assessmentState.isComplete) {\n          assessmentsPassed++;\n        }\n      }\n\n      const pageModel = Adapt.findById(id);\n      pageModel?.set({\n        _subProgressTotal: assessmentsTotal,\n        _subProgressComplete: assessmentsPassed\n      });\n\n    }\n  }\n\n  _addToAssessmentIdMap(id, model) {\n    if (id === undefined) {\n      Adapt.log.warn('An assessment has been registered with an undefined value for \"_id\"');\n      return;\n    }\n\n    if (id === '') {\n      Adapt.log.warn('An assessment has been registered with an empty value for \"_id\"');\n    }\n\n    if (!this._assessments._byAssessmentId[id]) {\n      this._assessments._byAssessmentId[id] = model;\n    } else {\n      Adapt.log.warn('An assessment with an _id of \"' + id + '\" already exists!');\n    }\n  }\n\n  _setupQuestionNumbering() {\n    const getRelatedQuestions = data => {\n      const currentAssessmentId = data._assessmentId;\n      const currentAssessment = Adapt.assessment.get(currentAssessmentId);\n      return currentAssessment.getState().questions;\n    };\n\n    Handlebars.registerHelper('questionNumber', function getQuestionNumber() {\n      const data = this.view?.model.toJSON() || this;\n      if (!data._isPartOfAssessment) return;\n\n      const related = _.pluck(getRelatedQuestions(data), '_id');\n\n      return related.indexOf(data._id) + 1;\n    });\n\n    Handlebars.registerHelper('questionCount', function getTotalQuestions() {\n      const data = this.view ? this.view.model.toJSON() : this;\n      if (!data._isPartOfAssessment) return;\n      return getRelatedQuestions(data).length;\n    });\n  }\n\n  // Public functions\n  register(assessmentModel) {\n    const state = assessmentModel.getState();\n    const assessmentId = state.id;\n    const pageId = state.pageId;\n\n    if (this._assessments._byPageId[pageId] === undefined) {\n      this._assessments._byPageId[pageId] = [];\n    }\n\n    this._assessments._byPageId[pageId].push(assessmentModel);\n\n    this._addToAssessmentIdMap(assessmentId, assessmentModel);\n\n    this._assessments.push(assessmentModel);\n\n    this._restoreModelState(assessmentModel);\n    this._restoredCount++;\n\n    Adapt.trigger('assessments:register', state, assessmentModel);\n\n    this._setPageProgress();\n\n    this._setupQuestionNumbering();\n\n    if (this._restoredCount === this._assessments.length) {\n      // Since all assessments have been stored, broadcast an\n      // event which has the collated state.\n      Adapt.trigger('assessment:restored', this.getState());\n    }\n  }\n\n  get(id) {\n    return (id === undefined)\n      ? this._assessments.slice(0)\n      : this._assessments._byAssessmentId[id];\n  }\n\n  saveState() {\n\n    this._saveStateModel = {};\n    for (const assessmentModel of this._assessments) {\n      const state = assessmentModel.getState();\n      this._saveStateModel[state.id] = Adapt.offlineStorage.serialize(assessmentModel.getSaveState());\n    }\n\n    Adapt.offlineStorage.set('a', this._saveStateModel);\n  }\n\n  getConfig() {\n    let assessmentsConfig = Adapt.course.get('_assessment');\n\n    if (assessmentsConfig?._isDefaultsLoaded) {\n      return assessmentsConfig;\n    }\n\n    if (assessmentsConfig === undefined) {\n      assessmentsConfig = $.extend(true, {}, assessmentsConfigDefaults);\n    } else {\n      assessmentsConfig = $.extend(true, {}, assessmentsConfigDefaults, assessmentsConfig);\n    }\n\n    Adapt.course.set('_assessment', assessmentsConfig);\n\n    return assessmentsConfig;\n  }\n\n  getState() {\n    const assessmentsConfig = this.getConfig();\n\n    let score = 0;\n    let maxScore = 0;\n    let minScore = 0;\n    let correctCount = 0;\n    let questionCount = 0;\n    let assessments = 0;\n    const states = this._getStatesByAssessmentId();\n    let assessmentsComplete = 0;\n\n    for (const id in states) {\n      const state = states[id];\n      if (!state.includeInTotalScore) continue;\n      if (state.isComplete) assessmentsComplete++;\n      assessments++;\n      maxScore += state.maxScore / state.assessmentWeight;\n      minScore += state.minScore / state.assessmentWeight;\n      score += state.score / state.assessmentWeight;\n      correctCount += state.correctCount / state.assessmentWeight;\n      questionCount += state.questionCount / state.assessmentWeight;\n    }\n\n    const isComplete = assessmentsComplete === assessments;\n\n    const scoreRange = (maxScore - minScore);\n    const scoreAsPercent = (scoreRange === 0) ? 0 : Math.round(((score - minScore) / scoreRange) * 100);\n    const correctAsPercent = (questionCount === 0) ? 0 : Math.round((correctCount / questionCount) * 100);\n\n    if (assessmentsConfig._correctToPass === undefined) {\n      Adapt.log.warnOnce('Assessment course config is missing _correctToPass');\n    }\n\n    const scoreToPass = assessmentsConfig._scoreToPass;\n    const correctToPass = assessmentsConfig._correctToPass || scoreToPass;\n    const isPercentageBased = assessmentsConfig._isPercentageBased;\n\n    const isPass = isComplete && (isPercentageBased\n      ? scoreAsPercent >= scoreToPass && correctAsPercent >= correctToPass\n      : score >= scoreToPass && correctCount >= correctToPass);\n\n    const canRetry = Object.values(states).some(state => {\n      const isFailed = !state.isPass;\n      const hasAttemptsLeft = (state.attemptsLeft > 0 || state.attemptsLeft === 'infinite');\n      return (isFailed && hasAttemptsLeft);\n    });\n\n    return {\n      isComplete,\n      isPercentageBased,\n      isPass,\n      maxScore,\n      minScore,\n      score,\n      scoreToPass,\n      scoreAsPercent,\n      correctCount,\n      correctAsPercent,\n      correctToPass,\n      questionCount,\n      assessmentsComplete,\n      assessments,\n      canRetry\n    };\n  }\n}\n\nexport default (Adapt.assessment = new Assessment());\n","import ArticleView from 'core/js/views/articleView';\nimport ArticleModel from 'core/js/models/articleModel';\nimport AdaptAssessmentArticleView from './adapt-assessmentArticleView';\nimport AdaptAssessmentArticleModel from './adapt-assessmentArticleModel';\nimport './assessment';\n\n/*\n  * Here we are extending the articleView and articleModel in Adapt.\n  * This is to accomodate the assessment functionality on the article.\n  * The advantage of this method is that the assessment behaviour can utilize all of the predefined article behaviour in both the view and the model.\n  */\n\n// Extends core/js/views/articleView.js\nconst ArticleViewInitialize = ArticleView.prototype.initialize;\nArticleView.prototype.initialize = function(options) {\n  if (this.model.get('_assessment')?._isEnabled === true) {\n    // extend the articleView with new functionality\n    Object.assign(this, AdaptAssessmentArticleView);\n  }\n  // initialize the article in the normal manner\n  return ArticleViewInitialize.apply(this, arguments);\n};\n\n// Extends core/js/models/articleModel.js\nconst ArticleModelInitialize = ArticleModel.prototype.initialize;\nArticleModel.prototype.initialize = function(options) {\n  if (this.get('_assessment')?._isEnabled === true) {\n    // extend the articleModel with new functionality\n    Object.assign(this, AdaptAssessmentArticleModel);\n\n    // initialize the article in the normal manner\n    const returnValue = ArticleModelInitialize.apply(this, arguments);\n\n    // initialize assessment article\n    this._postInitialize();\n\n    return returnValue;\n  }\n\n  // initialize the article in the normal manner if no assessment\n  return ArticleModelInitialize.apply(this, arguments);\n};\n","import Adapt from 'core/js/adapt';\nimport logging from 'core/js/logging';\n\nclass Bookmarking extends Backbone.Controller {\n\n  initialize() {\n    this.bookmarkLevel = null;\n    this.restoredLocationID = null;\n    this.currentLocationID = null;\n    this.listenToOnce(Adapt, 'router:location', this.onAdaptInitialize);\n  }\n\n  onAdaptInitialize() {\n    if (!this.checkCourseIsEnabled()) return;\n    this.setupEventListeners();\n    this.checkRestoreLocation();\n  }\n\n  checkCourseIsEnabled() {\n    const courseBookmarkModel = Adapt.course.get('_bookmarking');\n    if (!courseBookmarkModel || !courseBookmarkModel._isEnabled) return false;\n    return true;\n  }\n\n  setupEventListeners() {\n    this._onScroll = _.debounce(this.checkLocation.bind(this), 250);\n    this.listenTo(Adapt, {\n      'menuView:ready': this.setupMenu,\n      'pageView:preRender': this.setupPage,\n      'view:childAdded': this.checkLocation\n    });\n  }\n\n  checkRestoreLocation() {\n    this.restoredLocationID = Adapt.offlineStorage.get('location');\n\n    if (!this.restoredLocationID || this.restoredLocationID === 'undefined' || !Adapt.findById(this.restoredLocationID)) {\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'pageView:ready menuView:ready', this.restoreLocation);\n  }\n\n  restoreLocation() {\n    this.stopListening(Adapt, 'pageView:ready menuView:ready', this.restoreLocation);\n\n    _.delay(() => {\n      if (this.isAlreadyOnScreen(this.restoredLocationID)) {\n        return;\n      }\n\n      if (Adapt.course.get('_bookmarking')._showPrompt === false) {\n        this.navigateToPrevious();\n        return;\n      }\n\n      this.showPrompt();\n\n    }, 500);// slight delay is necessary to allow any render & scrollTo to complete before calling isAlreadyOnScreen\n  }\n\n  /**\n   * If the learner is already at the bookmarked location, there's no need to show a prompt\n   * This method determines whether that is the case or not\n   * @param {string} id The `_id` of the item the learner needs to be returned to\n   * @return {boolean}\n   */\n  isAlreadyOnScreen(id) {\n    if (id === Adapt.location._currentId) return true;\n\n    const type = Adapt.findById(id).getTypeGroup();\n    if (type === 'menu' || type === 'page') {\n      return false;\n    }\n\n    const locationOnscreen = $('.' + id).onscreen();\n    const isLocationOnscreen = locationOnscreen && (locationOnscreen.percentInview > 0);\n    const isLocationFullyInview = locationOnscreen && (locationOnscreen.percentInview === 100);\n    if (isLocationOnscreen && isLocationFullyInview) {\n      return true;\n    }\n\n    return false;\n  }\n\n  showPrompt() {\n    const courseBookmarkModel = Adapt.course.get('_bookmarking');\n    const buttons = courseBookmarkModel._buttons || { yes: 'Yes', no: 'No' };\n\n    this.listenToOnce(Adapt, {\n      'bookmarking:continue': this.navigateToPrevious,\n      'bookmarking:cancel': this.navigateCancel\n    });\n\n    Adapt.notify.prompt({\n      _classes: 'is-bookmarking',\n      _showIcon: true,\n      title: courseBookmarkModel.title,\n      body: courseBookmarkModel.body,\n      _prompts: [\n        {\n          promptText: buttons.yes || 'Yes',\n          _callbackEvent: 'bookmarking:continue'\n        },\n        {\n          promptText: buttons.no || 'No',\n          _callbackEvent: 'bookmarking:cancel'\n        }\n      ]\n    });\n  }\n\n  navigateToPrevious() {\n    _.defer(async () => {\n      const isSinglePage = (Adapt.contentObjects.models.length === 1);\n      try {\n        await Adapt.router.navigateToElement(this.restoredLocationID, { trigger: true, replace: isSinglePage, duration: 400 });\n      } catch (err) {\n        logging.warn(`Bookmarking cannot navigate to id: ${this.restoredLocationID}\\n`, err);\n      }\n    });\n\n    this.stopListening(Adapt, 'bookmarking:cancel');\n  }\n\n  navigateCancel() {\n    this.stopListening(Adapt, 'bookmarking:continue');\n  }\n\n  resetLocationID() {\n    this.setLocationID('');\n  }\n\n  /**\n   * if the learner navigates to the top-level menu, clear the stored bookmark\n   * if it's a sub-menu, store the menu's id as the bookmark\n   */\n  setupMenu(menuView) {\n    const menuModel = menuView.model;\n\n    if (!menuModel.get('_parentId')) {\n      this.resetLocationID();\n      return;\n    }\n\n    this.setLocationID(menuModel.get('_id'));\n  }\n\n  /**\n   * Calculates what the bookmarking 'level' will be for any given page.\n   * First sets a default using the course-level setting (or 'component' if that's not been set)\n   * then checks to see if that's being overridden at page level or not\n   * @param {Backbone.Model} pageModel The model for the current page view\n   * @return {String} Either 'page', 'block', or 'component' - with 'component' being the default\n   */\n  getBookmarkLevel(pageModel) {\n    const defaultLevel = Adapt.course.get('_bookmarking')._level || 'component';\n    const bookmarkModel = pageModel.get('_bookmarking');\n    const isInherit = !bookmarkModel || !bookmarkModel._level || bookmarkModel._level === 'inherit';\n    return isInherit ? defaultLevel : bookmarkModel._level;\n  }\n\n  /**\n   * Sets up bookmarking for the page the learner just navigated to\n   * If bookmarking is disabled for the current page, clear the stored bookmark and return.\n   * Otherwise, bookmark the page then - if necessary - set up to calculate which block or component\n   * should be bookmarked as the learner scrolls up/down the page\n   * @param {Backbone.View} pageView The current page view\n   */\n  setupPage(pageView) {\n    const pageBookmarkModel = pageView.model.get('_bookmarking');\n    if (pageBookmarkModel?._isEnabled === false) {\n      this.resetLocationID();\n      return;\n    }\n\n    this.setLocationID(pageView.model.get('_id'));\n\n    this.bookmarkLevel = this.getBookmarkLevel(pageView.model);\n    if (this.bookmarkLevel === 'page') {\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'remove', this.releaseViews);\n\n    $(window).on('scroll', this._onScroll);\n  }\n\n  setLocationID(id) {\n    if (this.currentLocationID === id) return;\n    Adapt.offlineStorage.set('location', id);\n    this.currentLocationID = id;\n  }\n\n  releaseViews() {\n    this.stopListening(Adapt, 'remove', this.releaseViews);\n    $(window).off('scroll', this._onScroll);\n  }\n\n  checkLocation() {\n    const contentObjectBookmarkModel = Adapt.parentView?.model?.get('_bookmarking');\n    if (contentObjectBookmarkModel?._isEnabled === false) {\n      this.resetLocationID();\n      return;\n    }\n    const currentModel = Adapt.location._currentModel;\n    if (!currentModel || !this.bookmarkLevel) return;\n    const possibleViewIds = currentModel.findDescendantModels(this.bookmarkLevel)\n      .filter(desc => desc.get('_isTrackable') !== false) // Filter trickle buttons\n      .map(desc => desc.get('_id'));\n\n    let highestOnscreen = 0;\n    let highestOnscreenLocation = '';\n    possibleViewIds.forEach(id => {\n      const element = $(`[data-adapt-id=${id}]`);\n      if (!element.length) return;\n      const measurements = element.onscreen();\n      if (!measurements.onscreen) return;\n      if (measurements.percentInview <= highestOnscreen) return;\n      highestOnscreen = measurements.percentInview;\n      highestOnscreenLocation = id;\n    });\n\n    // set location as most inview component\n    if (highestOnscreenLocation) this.setLocationID(highestOnscreenLocation);\n  }\n}\n\nexport default new Bookmarking();\n","import Adapt from 'core/js/adapt';\n\nexport default class NavigationView extends Backbone.View {\n\n  className() {\n    return 'nav';\n  }\n\n  attributes() {\n    return {\n      role: 'navigation'\n    };\n  }\n\n  initialize() {\n    this.template = 'languagePickerNavigation';\n    this.setupHelpers();\n    this.preRender();\n  }\n\n  preRender() {\n    Adapt.trigger('navigationView:preRender', this);\n    this.render();\n  }\n\n  render() {\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template({\n      _config: this.model.get('_accessibility'),\n      _accessibility: Adapt.config.get('_accessibility')\n    })).insertBefore('#app');\n\n    _.defer(() => Adapt.trigger('navigationView:postRender', this));\n\n    return this;\n  }\n\n  setupHelpers() {\n    Handlebars.registerHelper('a11y_aria_label', text => {\n      return `<div class=\"aria-label\">${text}</div>`;\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport NavigationView from './languagePickerNavigationView';\n\nexport default class LanguagePickerView extends Backbone.View {\n\n  get template() {\n    return 'languagePickerView';\n  }\n\n  events() {\n    return {\n      'click .js-languagepicker-btn-click': 'onLanguageClick'\n    };\n  }\n\n  className() {\n    return 'languagepicker';\n  }\n\n  initialize() {\n    this.initializeNavigation();\n    $('html').addClass('in-languagepicker');\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template(data));\n    this.$el.addClass(data._classes);\n\n    document.title = this.model.get('title') || '';\n\n    _.defer(this.postRender.bind(this));\n  }\n\n  postRender() {\n    $('.js-loading').hide();\n  }\n\n  onLanguageClick(event) {\n    this.destroyNavigation();\n    const lang = event.currentTarget.value;\n    this.model.setLanguage(lang);\n  }\n\n  initializeNavigation() {\n    this.navigationView = new NavigationView({ model: this.model });\n  }\n\n  destroyNavigation() {\n    this.navigationView.remove();\n  }\n\n  remove() {\n    $('html').removeClass('in-languagepicker');\n\n    super.remove();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\n\nexport default class LanguagePickerDrawerView extends Backbone.View {\n\n  get template() {\n    return 'languagePickerDrawerView';\n  }\n\n  events() {\n    return {\n      'click .js-languagepicker-item-btn': 'onButtonClick'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.template];\n    this.$el.html(template(data));\n  }\n\n  onButtonClick(event) {\n    const newLanguage = this.$(event.currentTarget).attr('data-language');\n    this.model.set('newLanguage', newLanguage);\n    this.promptObject = this.getPromptObject(newLanguage);\n    this.listenToOnce(Adapt, 'drawer:closed', this.onDrawerClosed);\n    Adapt.trigger('drawer:closeDrawer');\n  }\n\n  onDrawerClosed() {\n    // wait for drawer to fully close\n    _.delay(() => {\n      this.listenToOnce(Adapt, {\n        'popup:opened': this.onPopupOpened,\n        'languagepicker:changelanguage:yes': this.onDoChangeLanguage,\n        'languagepicker:changelanguage:no': this.onDontChangeLanguage\n      });\n      // show yes/no popup\n      Adapt.notify.prompt(this.promptObject);\n    }, 250);\n  }\n\n  onPopupOpened() {\n    // move popup close focus to #focuser\n    // keep active element incase the user cancels - usually navigation bar icon\n    this.$finishFocus = a11y.setPopupCloseTo($('#a11y-focuser'));\n  }\n\n  onDoChangeLanguage() {\n    const newLanguage = this.model.get('newLanguage');\n    this.model.setTrackedData();\n    this.model.setLanguage(newLanguage);\n    this.remove();\n  }\n\n  /**\n   * If the learner selects 'no' in the 'confirm language change' prompt,\n   * wait for notify to close completely then send focus to the\n   * navigation bar icon\n   */\n  onDontChangeLanguage() {\n    this.remove();\n    _.delay(() => a11y.focusFirst(this.$finishFocus), 500);\n  }\n\n  getPromptObject(newLanguage) {\n    const data = this.model.getLanguageDetails(newLanguage);\n    return {\n      _attributes: { lang: newLanguage },\n      _classes: `is-lang-${newLanguage} ${data._direction === 'rtl' ? 'is-rtl' : 'is-ltr'}`,\n      title: data.warningTitle,\n      body: data.warningMessage,\n      _prompts: [\n        {\n          promptText: data._buttons.yes,\n          _callbackEvent: 'languagepicker:changelanguage:yes'\n        },\n        {\n          promptText: data._buttons.no,\n          _callbackEvent: 'languagepicker:changelanguage:no'\n        }\n      ],\n      _showIcon: true\n    };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport LanguagePickerDrawerView from './languagePickerDrawerView';\n\nexport default class LanguagePickerNavView extends Backbone.View {\n\n  tagName() {\n    return 'button';\n  }\n\n  className() {\n    const classNames = 'btn-icon nav__btn nav__languagepicker-btn js-languagepicker-nav-btn icon';\n    const customClass = this.model.get('_languagePickerIconClass') || 'icon-language-2';\n\n    return `${classNames} ${customClass}`;\n  }\n\n  events() {\n    return {\n      click: 'onClick'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n  }\n\n  onClick(event) {\n    Adapt.drawer.triggerCustomView(new LanguagePickerDrawerView({ model: this.model }).$el, false);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\n\nexport default class LanguagePickerModel extends Backbone.Model {\n  preinitialize() {\n    this.trackedData = {\n      components: [],\n      blocks: []\n    };\n\n    this.locationId = null;\n  }\n\n  defaults() {\n    return {\n      _isEnabled: false,\n      displayTitle: '',\n      body: '',\n      _languages: []\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt.config, 'change:_activeLanguage', this.markLanguageAsSelected);\n    this.listenTo(Adapt, 'app:dataLoaded', this.onDataLoaded);\n  }\n\n  getLanguageDetails(language) {\n    return this.get('_languages').find(({ _language }) => _language === language);\n  }\n\n  setLanguage(language) {\n    Adapt.config.set({\n      _activeLanguage: language,\n      _defaultDirection: this.getLanguageDetails(language)._direction\n    });\n  }\n\n  markLanguageAsSelected(model, language) {\n    this.get('_languages').forEach(item => {\n      item._isSelected = (item._language === language);\n    });\n  }\n\n  onDataLoaded() {\n    if (!this.get('_restoreStateOnLanguageChange')) {\n      return;\n    }\n    _.defer(() => {\n      this.locationId = Adapt.offlineStorage.get('location') || null;\n      this.restoreState();\n    });\n  }\n\n  restoreLocation() {\n    if (!Adapt.findById(this.locationId)) return;\n\n    _.defer(() => Adapt.navigateToElement('.' + this.locationId));\n  }\n\n  /**\n   * Restore course progress on language change.\n   */\n  restoreState() {\n\n    if (this.isTrackedDataEmpty()) return;\n\n    this.trackedData.components?.forEach(this.setTrackableState);\n    this.trackedData.blocks?.forEach(this.setTrackableState);\n  }\n\n  isTrackedDataEmpty() {\n    return _.isEqual(this.trackedData, {\n      components: [],\n      blocks: []\n    });\n  }\n\n  getTrackableState() {\n    return {\n      components: this.getState(Adapt.components.models).filter(Boolean),\n      blocks: this.getState(Adapt.blocks.models).filter(Boolean)\n    };\n  }\n\n  getState(models) {\n    return models.map(model => model.get('_isComplete') && model.getTrackableState());\n  }\n\n  setTrackedData() {\n    if (!this.get('_restoreStateOnLanguageChange')) {\n      return;\n    }\n    this.listenToOnce(Adapt, 'contentObjectView:ready', this.restoreLocation);\n    this.trackedData = this.getTrackableState();\n  }\n\n  setTrackableState(stateObject) {\n    const restoreModel = Adapt.findById(stateObject._id);\n    if (!restoreModel) {\n      Adapt.log.warn('LanguagePicker unable to restore state for: ' + stateObject._id);\n      return;\n    }\n\n    restoreModel.setTrackableState(stateObject);\n  }\n}\n","import Adapt from 'core/js/adapt';\nimport LanguagePickerView from './languagePickerView';\nimport LanguagePickerNavView from './languagePickerNavView';\nimport LanguagePickerModel from './languagePickerModel';\n\nclass LanguagePicker extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'configModel:dataLoaded', this.onConfigLoaded);\n  }\n\n  /**\n   * Once the Adapt config has loaded, check to see if the language picker is enabled. If it is:\n   * - stop the rest of the .json from loading\n   * - set up the language picker model\n   * - register for events to allow us to display the language picker icon in the navbar on pages and menus\n   * - wait for offline storage to be ready so that we can check to see if there's a stored language choice or not\n   */\n  onConfigLoaded() {\n    const config = Adapt.config.get('_languagePicker');\n    if (!config?._isEnabled) return;\n\n    this.languagePickerModel = new LanguagePickerModel(config);\n\n    this.listenTo(Adapt, 'router:menu router:page', this.setupNavigationView);\n\n    const params = new URLSearchParams(window.location.search);\n    const paramLang = params.get('lang');\n\n    if (paramLang && Adapt.build.get('availableLanguageNames').includes(paramLang)) return;\n\n    Adapt.config.set('_canLoadData', false);\n\n    if (Adapt.offlineStorage.ready) { // on the offchance that it may already be ready...\n      this.onOfflineStorageReady();\n      return;\n    }\n\n    this.listenToOnce(Adapt, 'offlineStorage:ready', this.onOfflineStorageReady);\n  }\n\n  /**\n   * Once offline storage is ready, check to see if a language was previously selected by the user\n   * If it was, load it. If it wasn't, show the language picker\n   */\n  onOfflineStorageReady() {\n    const storedLanguage = Adapt.offlineStorage.get('lang');\n\n    if (storedLanguage) {\n      this.languagePickerModel.setLanguage(storedLanguage);\n      return;\n    }\n\n    if (this.languagePickerModel.get('_showOnCourseLoad') === false) {\n      this.languagePickerModel.setLanguage(Adapt.config.get('_defaultLanguage'));\n      return;\n    }\n\n    this.showLanguagePickerView();\n  }\n\n  showLanguagePickerView() {\n    const languagePickerView = new LanguagePickerView({\n      model: this.languagePickerModel\n    });\n\n    languagePickerView.$el.appendTo('#wrapper');\n  }\n\n  setupNavigationView() {\n    /*\n      * On the framework this isn't an issue, but courses built in the authoring tool before the ARIA label\n      * was added will break unless the extension is removed then added again.\n      */\n    const courseGlobals = Adapt.course.get('_globals')._extensions;\n    let navigationBarLabel = '';\n    if (courseGlobals._languagePicker) {\n      navigationBarLabel = courseGlobals._languagePicker.navigationBarLabel;\n    }\n\n    const languagePickerNavView = new LanguagePickerNavView({\n      model: this.languagePickerModel,\n      attributes: {\n        'aria-label': navigationBarLabel\n      }\n    });\n\n    languagePickerNavView.$el.appendTo('.nav__inner');\n  }\n}\n\nexport default new LanguagePicker();\n","import Adapt from 'core/js/adapt';\n\nclass Completion extends Backbone.Controller {\n\n  initialize() {\n    this.subProgressCompleted = 0;\n    this.subProgressTotal = 0;\n    this.nonAssessmentCompleted = 0;\n    this.nonAssessmentTotal = 0;\n    this.assessmentCompleted = 0;\n    this.assessmentTotal = 0;\n  }\n\n  // Calculate completion of a contentObject\n  calculateCompletion(contentObjectModel) {\n\n    const completion = Adapt.completion;\n\n    const viewType = contentObjectModel.get('_type');\n    const isComplete = contentObjectModel.get('_isComplete') ? 1 : 0;\n    let children;\n\n    switch (viewType) {\n      case 'page':\n        // If it's a page\n        children = contentObjectModel.getAllDescendantModels().filter(model => {\n          return model.get('_isAvailable') && !model.get('_isOptional');\n        });\n\n        const availableChildren = this.filterAvailableChildren(children);\n        const components = this.getPageLevelProgressEnabledModels(availableChildren);\n        const nonAssessmentComponents = this.getNonAssessmentComponents(components);\n\n        completion.nonAssessmentTotal = nonAssessmentComponents.length;\n        completion.nonAssessmentCompleted = this.getComponentsCompleted(nonAssessmentComponents).length;\n\n        const assessmentComponents = this.getAssessmentComponents(components);\n\n        completion.assessmentTotal = assessmentComponents.length;\n        completion.assessmentCompleted = this.getComponentsInteractionCompleted(assessmentComponents).length;\n\n        if (contentObjectModel.get('_pageLevelProgress')._excludeAssessments !== true) {\n          completion.subProgressCompleted = contentObjectModel.get('_subProgressComplete') || 0;\n          completion.subProgressTotal = contentObjectModel.get('_subProgressTotal') || 0;\n        }\n\n        const showPageCompletionCourse = Adapt.course.get('_pageLevelProgress')?._showPageCompletion !== false;\n        const showPageCompletionPage = contentObjectModel.get('_pageLevelProgress')?._showPageCompletion !== false;\n\n        if (showPageCompletionCourse && showPageCompletionPage) {\n          // optionally add one point extra for page completion to eliminate incomplete pages and full progress bars\n          // if _showPageCompletion is true then the progress bar should also consider it so add 1 to nonAssessmentTotal\n          completion.nonAssessmentCompleted += isComplete;\n          completion.nonAssessmentTotal += 1;\n        }\n\n        break;\n      case 'menu': case 'course':\n        // If it's a sub-menu\n        children = contentObjectModel.get('_children').models;\n        children.forEach(contentObject => {\n          const completionObject = Adapt.completion.calculateCompletion(contentObject);\n          completion.subProgressCompleted += completionObject.subProgressCompleted || 0;\n          completion.subProgressTotal += completionObject.subProgressTotal || 0;\n          completion.nonAssessmentTotal += completionObject.nonAssessmentTotal;\n          completion.nonAssessmentCompleted += completionObject.nonAssessmentCompleted;\n          completion.assessmentTotal += completionObject.assessmentTotal;\n          completion.assessmentCompleted += completionObject.assessmentCompleted;\n        });\n        break;\n\n    }\n\n    return completion;\n  }\n\n  getNonAssessmentComponents(models) {\n    return models.filter(model => {\n      return !model.get('_isPartOfAssessment');\n    });\n  }\n\n  getAssessmentComponents(models) {\n    return models.filter(model => {\n      return model.get('_isPartOfAssessment');\n    });\n  }\n\n  getComponentsCompleted(models) {\n    return models.filter(item => {\n      return item.get('_isComplete');\n    });\n  }\n\n  getComponentsInteractionCompleted(models) {\n    return models.filter(item => {\n      return item.get('_isComplete');\n    });\n  }\n\n  // Get only those models who were enabled for pageLevelProgress\n  getPageLevelProgressEnabledModels(models) {\n    return models.filter(model => {\n      const config = model.get('_pageLevelProgress');\n      return config?._isEnabled;\n    });\n  }\n\n  unavailableInHierarchy(parents) {\n    if (!parents) return;\n    return parents.some(parent => {\n      return !parent.get('_isAvailable');\n    });\n  }\n\n  filterAvailableChildren(children) {\n    const availableChildren = [];\n\n    for (let i = 0, count = children.length; i < count; i++) {\n      const parents = children[i].getAncestorModels();\n      if (this.unavailableInHierarchy(parents)) continue;\n      availableChildren.push(children[i]);\n    }\n\n    return availableChildren;\n  }\n\n  calculatePercentageComplete(model) {\n    const completionObject = this.calculateCompletion(model);\n    // take all assessment, nonassessment and subprogress into percentage\n    // this allows the user to see if assessments have been passed, if assessment components can be retaken, and all other component's completion\n    const completed = completionObject.nonAssessmentCompleted + completionObject.assessmentCompleted + completionObject.subProgressCompleted;\n    const total = completionObject.nonAssessmentTotal + completionObject.assessmentTotal + completionObject.subProgressTotal;\n    const percentageComplete = Math.floor((completed / total) * 100);\n    return percentageComplete;\n  }\n\n}\n\nexport default (Adapt.completion = new Completion());\n","import Adapt from 'core/js/adapt';\n\nclass PageLevelProgressIndicatorView extends Backbone.View {\n\n  initialize(options) {\n    options = options || {};\n    this.parent = options.parent;\n    this.calculatePercentage = options.calculatePercentage || this.calculatePercentage;\n    this.ariaLabel = options.ariaLabel || '';\n    this.type = options.type || this.model.get('_type');\n    this.addClasses();\n    this.setUpEventListeners();\n    this.setPercentageComplete();\n    this.render();\n    this.refresh();\n  }\n\n  addClasses() {\n    this.$el.addClass([\n      'pagelevelprogress__indicator',\n      'is-' + this.type\n    ].join(' '));\n  }\n\n  checkAria() {\n    if (!this.ariaLabel) {\n      this.$el.attr('aria-hidden', true);\n      return;\n    }\n    const data = this.getRenderData();\n    this.$('.js-indicator-aria-label').html(Handlebars.compile(this.ariaLabel)(data));\n  }\n\n  setUpEventListeners() {\n    if (this.parent) {\n      this.listenToOnce(this.parent, 'postRemove', this.remove);\n    } else {\n      this.listenTo(Adapt, 'remove', this.remove);\n    }\n    this.listenTo(this.model, 'change:_isComplete', this.refresh);\n    if (!this.collection) return;\n    this.listenTo(this.collection, 'change:_isComplete', this.refresh);\n  }\n\n  setPercentageComplete() {\n    const percentage = this.calculatePercentage();\n    this.model.set('percentageComplete', percentage);\n    return percentage;\n  }\n\n  calculatePercentage() {\n    return this.model.get('_isComplete') ? 100 : 0;\n  }\n\n  render() {\n    const data = this.getRenderData();\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  getRenderData() {\n    const data = this.model.toJSON();\n    data.ariaLabel = this.ariaLabel;\n    data.type = this.type;\n    return data;\n  }\n\n  refresh() {\n    this.checkCompletion();\n    this.checkAria();\n    this.$('.js-indicator-bar').css({\n      width: this.calculatePercentage() + '%'\n    });\n  }\n\n  checkCompletion() {\n    const percentage = this.setPercentageComplete();\n    this.$el\n      .toggleClass('is-complete', percentage === 100)\n      .toggleClass('is-incomplete', percentage !== 100);\n  }\n\n}\n\nPageLevelProgressIndicatorView.template = 'pageLevelProgressIndicator';\n\nexport default PageLevelProgressIndicatorView;\n","import Adapt from 'core/js/adapt';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\n\nclass PageLevelProgressItemView extends Backbone.View {\n\n  className() {\n    return [\n      'pagelevelprogress__item drawer__item',\n      this.model.get('_type') + '__indicator'\n    ].join(' ');\n  }\n\n  attributes() {\n    return {\n      role: 'listitem'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n    this.addIndicator();\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    const template = Handlebars.templates[this.constructor.template];\n    this.$el.html(template(data));\n  }\n\n  addIndicator() {\n    if (this.model.get('_isOptional')) return;\n    const item = new PageLevelProgressIndicatorView({\n      model: this.model\n    });\n    this.$('.js-indicator').append(item.$el);\n  }\n\n}\n\nPageLevelProgressItemView.template = 'pageLevelProgressItem';\n\nexport default PageLevelProgressItemView;\n","import Adapt from 'core/js/adapt';\nimport PageLevelProgressItemView from './PageLevelProgressItemView';\n\nexport default class PageLevelProgressView extends Backbone.View {\n\n  className() {\n    return 'pagelevelprogress';\n  }\n\n  events() {\n    return {\n      'click .js-pagelevelprogress-item-click': 'scrollToPageElement'\n    };\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n    this.addChildren();\n  }\n\n  async scrollToPageElement(event) {\n    if (event && event.preventDefault) event.preventDefault();\n\n    const $target = $(event.currentTarget);\n    if ($target.is('.is-disabled')) return;\n\n    const id = $target.attr('data-pagelevelprogress-id');\n    const model = Adapt.findById(id);\n\n    if (!model.get('_isRendered')) {\n      try {\n        await Adapt.parentView.renderTo(id);\n      } catch (err) {\n        return;\n      }\n    }\n\n    const currentComponentSelector = `.${id}`;\n\n    Adapt.once('drawer:closed', () => {\n      Adapt.scrollTo(currentComponentSelector, { duration: 400 });\n    }).trigger('drawer:closeDrawer', $(currentComponentSelector));\n  }\n\n  render() {\n    const template = Handlebars.templates.pageLevelProgress;\n    this.$el.html(template({}));\n  }\n\n  addChildren() {\n    const $children = this.$('.js-children');\n    this.collection.each(model => {\n      $children.append(new PageLevelProgressItemView({\n        model\n      }).$el);\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\nimport PageLevelProgressView from './PageLevelProgressView';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\n\nexport default class PageLevelProgressNavigationView extends Backbone.View {\n\n  tagName() {\n    return 'button';\n  }\n\n  className() {\n    return 'btn-icon nav__btn nav__pagelevelprogress-btn pagelevelprogress__nav-btn';\n  }\n\n  events() {\n    return {\n      click: 'onProgressClicked'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'updateProgressBar');\n    this.setUpEventListeners();\n    this.render();\n    this.addIndicator();\n    this.deferredUpdate();\n  }\n\n  setUpEventListeners() {\n    this.listenTo(Adapt, {\n      remove: this.remove,\n      'router:location': this.updateProgressBar,\n      'view:childAdded pageLevelProgress:update': this.refreshProgressBar\n    });\n  }\n\n  render() {\n    const template = Handlebars.templates.pageLevelProgressNavigation;\n    this.$el.html(template({}));\n  }\n\n  addIndicator() {\n    this.indicatorView = new PageLevelProgressIndicatorView({\n      model: this.model,\n      collection: this.collection,\n      calculatePercentage: this._getPageCompletionPercentage,\n      ariaLabel: Adapt.course.get('_globals')._extensions._pageLevelProgress.pageLevelProgressIndicatorBar\n    });\n    this.$el.prepend(this.indicatorView.$el);\n  }\n\n  _getPageCompletionPercentage() {\n    return completionCalculations.calculatePercentageComplete(this.model);\n  }\n\n  deferredUpdate() {\n    _.defer(this.updateProgressBar);\n  }\n\n  updateProgressBar() {\n    this.indicatorView.refresh();\n  }\n\n  refreshProgressBar() {\n    this.collection.repopulate();\n    this.updateProgressBar();\n  }\n\n  onProgressClicked(event) {\n    if (event && event.preventDefault) event.preventDefault();\n    Adapt.drawer.triggerCustomView(new PageLevelProgressView({\n      collection: this.collection\n    }).$el, false);\n  }\n\n  remove() {\n    super.remove();\n    this.collection.reset();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\n\nexport default class PageLevelProgressCollection extends Backbone.Collection {\n\n  initialize(models, options) {\n    this.listenTo(Adapt, 'remove', this.reset);\n    if (!options?.pageModel) return;\n    this._pageModel = options.pageModel;\n    this.repopulate();\n  }\n\n  repopulate() {\n    this.reset();\n    if (!this._pageModel) return;\n\n    const allDescendants = this._pageModel.getAllDescendantModels(true);\n    const currentPageItems = allDescendants.filter(item => {\n      return item.get('_isAvailable') === true;\n    });\n    const availableItems = completionCalculations.filterAvailableChildren(currentPageItems);\n    const enabledProgressItems = completionCalculations.getPageLevelProgressEnabledModels(availableItems);\n\n    this.add(enabledProgressItems);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport completionCalculations from './completionCalculations';\nimport PageLevelProgressNavigationView from './PageLevelProgressNavigationView';\nimport PageLevelProgressIndicatorView from './PageLevelProgressIndicatorView';\nimport PageLevelProgressCollection from './PageLevelProgressCollection';\n\nclass PageLevelProgress extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, {\n      'app:dataReady': this.onDataReady,\n      'app:languageChanged': this.onLanguageChange\n    });\n  }\n\n  getCourseConfig() {\n    return Adapt.course.get('_pageLevelProgress');\n  }\n\n  onDataReady() {\n    // Do not proceed if pageLevelProgress is not enabled in course.json\n    const coursePLPConfig = this.getCourseConfig();\n    if (!coursePLPConfig?._isEnabled) return;\n    this.setUpEventListeners();\n  }\n\n  onLanguageChange() {\n    this.stopListening();\n    this.initialize();\n  }\n\n  setUpEventListeners() {\n    const headerIndicatorTypes = [\n      'menu',\n      'menuItem',\n      'page',\n      'article',\n      'block',\n      'component'\n    ];\n\n    const headerIndicatorEventNames = headerIndicatorTypes\n      .concat([''])\n      .join('View:render ');\n\n    this.listenTo(Adapt, headerIndicatorEventNames, this.renderHeaderIndicatorView);\n\n    this.listenTo(Adapt, {\n      'menuItemView:postRender': this.renderMenuItemIndicatorView,\n      'router:page': this.renderNavigationView\n    });\n\n    this.listenTo(Adapt.course, 'bubble:change:_isComplete', this.onCompletionChange);\n  }\n\n  onCompletionChange(event) {\n    if (!Adapt.location._currentId) return;\n\n    const currentModel = Adapt.findById(Adapt.location._currentId);\n    const completionState = {\n      currentLocation: completionCalculations.calculatePercentageComplete(currentModel),\n      course: completionCalculations.calculatePercentageComplete(Adapt.course)\n    };\n    const hasChanged = !_.isMatch(this._previousCompletionState, completionState);\n    if (!hasChanged) return;\n\n    this._previousCompletionState = completionState;\n    Adapt.trigger('pageLevelProgress:percentageCompleteChange', completionState);\n  }\n\n  renderHeaderIndicatorView(view) {\n    const model = view.model;\n    const config = model.get('_pageLevelProgress');\n    if (!config?._isEnabled || !config?._isCompletionIndicatorEnabled) return;\n\n    const pageModel = model.findAncestor('contentObjects');\n    const pageConfig = pageModel && pageModel.get('_pageLevelProgress');\n    if (!pageConfig?._isEnabled) return;\n\n    const $headings = view.$('.js-heading');\n    $headings.each((index, el) => {\n      const $el = $(el);\n      const indicatorView = new PageLevelProgressIndicatorView({\n        parent: view,\n        model\n      });\n      indicatorView.$el.insertAfter($el);\n    });\n  }\n\n  // This should add/update progress on menuView\n  renderMenuItemIndicatorView(view) {\n    // Do not render on menu, only render on menu items\n    if (view.model.get('_id') === Adapt.location._currentId) return;\n\n    // Progress bar should not render for course viewType\n    const viewType = view.model.get('_type');\n    if (viewType === 'course') return;\n\n    // Do not proceed if pageLevelProgress is not enabled for the content object\n    const pageLevelProgress = view.model.get('_pageLevelProgress');\n    if (!pageLevelProgress?._isEnabled) return;\n\n    view.$el.find('.js-menu-item-progress').append(new PageLevelProgressIndicatorView({\n      parent: view,\n      model: view.model,\n      type: 'menu-item',\n      calculatePercentage: this._getMenuItemCompletionPercentage.bind(view),\n      ariaLabel: Adapt.course.get('_globals')._extensions._pageLevelProgress.pageLevelProgressMenuBar\n    }).$el);\n  }\n\n  _getMenuItemCompletionPercentage() {\n    return completionCalculations.calculatePercentageComplete(this.model);\n  }\n\n  // This should add/update progress on page navigation bar\n  renderNavigationView(pageModel) {\n    // Do not render if turned off at course level\n    const coursePLPConfig = this.getCourseConfig();\n    if (coursePLPConfig?._isShownInNavigationBar === false) return;\n\n    // Do not proceed if pageLevelProgress is not enabled for the content object\n    const pagePLPConfig = pageModel.get('_pageLevelProgress');\n    if (!pagePLPConfig?._isEnabled) return;\n\n    const collection = new PageLevelProgressCollection(null, {\n      pageModel\n    });\n\n    if (collection.length === 0) return;\n\n    $('.nav__drawer-btn').after(new PageLevelProgressNavigationView({\n      model: pageModel,\n      collection\n    }).$el);\n  }\n\n}\n\nexport default (Adapt.pageLevelProgress = new PageLevelProgress());\n","import Adapt from 'core/js/adapt';\n\nexport default class ResourcesView extends Backbone.View {\n\n  className() {\n    return 'resources';\n  }\n\n  initialize() {\n    this.listenTo(Adapt, 'remove', this.remove);\n    this.render();\n  }\n\n  events() {\n    return {\n      'click .js-resources-filter-btn-click': 'onFilterClicked'\n    };\n  }\n\n  render() {\n    this.$el.html(Handlebars.templates.resources({\n      model: this.model.toJSON(),\n      resources: this.collection.toJSON()\n    }));\n    \n    _.defer(() => {\n      this.listenTo(Adapt, 'drawer:triggerCustomView', this.remove);\n    });\n\n    return this;\n  }\n\n  onFilterClicked(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    \n    this.$('.js-resources-filter-btn-click').removeClass('is-selected');\n    \n    let items;\n    const filter = $(e.currentTarget).addClass('is-selected').attr('data-filter');\n    if (filter === 'all') {\n      items = this.$('.js-resources-item').removeClass('u-display-none');\n    } else {\n      this.$('.js-resources-item')\n        .removeClass('u-display-none').not('.is-' + filter)\n        .addClass('u-display-none');\n      items = this.$('.js-resources-item.is-' + filter);\n    }\n\n    if (items.length < 0) return;\n    Adapt.a11y.focusFirst($(items[0]));\n  }\n}\n","import Handlebars from 'handlebars';\nimport Adapt from 'core/js/adapt';\n\nconst helpers = {\n\n  resources_has_type(resources, type, block) {\n    const hasType = resources.some(_.matcher({ _type: type }));\n    return hasType ? block.fn(this) : block.inverse(this);\n  },\n\n  resources_has_multiple_types(resources, block) {\n    if (resources.length === 1) return block.inverse(this);\n\n    const allSameType = resources.every(_.matcher({ _type: resources[0]._type }));\n    return allSameType ? block.inverse(this) : block.fn(this);\n  },\n\n  resources_get_column_count(resources) {\n    return _.uniq(_.pluck(resources, '_type')).length + 1;// add 1 for the 'All' button column\n  },\n\n  /**\n   * IE doesn't support the 'download' attribute\n   * https://github.com/adaptlearning/adapt_framework/issues/1559\n   * and iOS just opens links with that attribute in the same window\n   * https://github.com/adaptlearning/adapt_framework/issues/1852\n   */\n  resources_force_download(resource, block) {\n    if (Adapt.device.browser === 'internet explorer' || Adapt.device.OS === 'ios') {\n      return block.inverse(this);\n    }\n\n    return (resource._forceDownload || resource.filename) ? block.fn(this) : block.inverse(this);\n  }\n\n};\n\nfor (const name in helpers) {\n  Handlebars.registerHelper(name, helpers[name]);\n}\n\nexport default helpers;\n","import Adapt from 'core/js/adapt';\nimport ResourcesView from './ResourcesView';\nimport ResourcesHelpers from './ResourcesHelpers';\n\nclass Resources extends Backbone.Controller {\n  \n  initialize() {\n    this.listenTo(Adapt, 'adapt:start', this.initResources); \n  }\n  \n  initResources() {\n    const courseResources = Adapt.course.get('_resources');\n\n    // do not proceed until resource set on course.json\n    if (!courseResources || courseResources._isEnabled === false) return;\n\n    const drawerObject = {\n      title: courseResources.title,\n      description: courseResources.description,\n      className: 'is-resources',\n      drawerOrder: courseResources._drawerOrder || 0\n    };\n\n    Adapt.drawer.addItem(drawerObject, 'resources:showResources');\n\n    this.setupResources(courseResources);\n  }\n  \n  setupResources(resourcesData) {\n    const model = new Backbone.Model(resourcesData);\n    const collection = new Backbone.Collection(model.get('_resourcesItems'));\n\n    this.listenTo(Adapt, 'resources:showResources', () => {\n      Adapt.drawer.triggerCustomView(new ResourcesView({\n        model,\n        collection\n      }).$el);\n    });\n  }\n}\n\nexport default new Resources();\n","class Logger {\n\n  constructor() {\n    this.logArr = [];\n    this.registeredViews = [];\n  }\n\n  static getInstance() {\n    if (Logger.instance === null) {\n      Logger.instance = new Logger();\n    }\n    return Logger.instance;\n  }\n\n  getEntries() {\n    return this.logArr;\n  }\n\n  getLastEntry() {\n    return this.logArr[this.logArr.length - 1];\n  }\n\n  info(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_INFO, time: Date.now() };\n    this.updateViews();\n  }\n\n  warn(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_WARN, time: Date.now() };\n    this.updateViews();\n  }\n\n  error(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_ERROR, time: Date.now() };\n    this.updateViews();\n  }\n\n  debug(str) {\n    this.logArr[this.logArr.length] = { str: str, type: Logger.LOG_TYPE_DEBUG, time: Date.now() };\n    this.updateViews();\n  }\n\n  registerView(_view) {\n    this.registeredViews[this.registeredViews.length] = _view;\n  }\n\n  unregisterView(_view) {\n    for (let i = 0, l = this.registeredViews.length; i < l; i++) {\n      if (this.registeredViews[i] !== _view) continue;\n      this.registeredViews.splice(i, 1);\n      i--;\n    }\n  }\n\n  updateViews() {\n    for (let i = 0, l = this.registeredViews.length; i < l; i++) {\n      if (!this.registeredViews[i]) continue;\n      this.registeredViews[i].update(this);\n    }\n  }\n\n}\n\nLogger.instance = null;\nLogger.LOG_TYPE_INFO = 0;\nLogger.LOG_TYPE_WARN = 1;\nLogger.LOG_TYPE_ERROR = 2;\nLogger.LOG_TYPE_DEBUG = 3;\n\n// Assign global reference for debug window\nexport default (window.Logger = Logger);\n","class ScormError {\n\n  constructor(name, data = {}) {\n    this.name = name;\n    this.data = data;\n  }\n\n}\n\nScormError.CLIENT_COULD_NOT_CONNECT = 'CLIENT_COULD_NOT_CONNECT';\nScormError.SERVER_STATUS_UNSUPPORTED = 'SERVER_STATUS_UNSUPPORTED'; // status\nScormError.CLIENT_STATUS_UNSUPPORTED = 'CLIENT_STATUS_UNSUPPORTED'; // status\nScormError.CLIENT_COULD_NOT_COMMIT = 'CLIENT_COULD_NOT_COMMIT'; // errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_NOT_CONNECTED = 'CLIENT_NOT_CONNECTED';\nScormError.CLIENT_COULD_NOT_FINISH = 'CLIENT_COULD_NOT_FINISH'; // errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_COULD_NOT_GET_PROPERTY = 'CLIENT_COULD_NOT_GET_PROPERTY'; // property, errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_COULD_NOT_SET_PROPERTY = 'CLIENT_COULD_NOT_SET_PROPERTY'; // property, value, errorCode, errorInfo, diagnosticInfo\nScormError.CLIENT_INVALID_CHOICE_VALUE = 'CLIENT_INVALID_CHOICE_VALUE';\n\nScormError.defaultMessages = {\n  title: 'An error has occurred',\n  pressOk: 'Press \\'OK\\' to view detailed debug information to send to technical support.',\n  CLIENT_COULD_NOT_CONNECT: 'The course could not connect to the Learning Management System',\n  SERVER_STATUS_UNSUPPORTED: 'An invalid lesson status of \\'{{{status}}}\\' was received from Learning Management System',\n  CLIENT_STATUS_UNSUPPORTED: 'The status \\'{{{status}}}\\' is not supported.',\n  CLIENT_COULD_NOT_COMMIT: 'There was a problem saving data to the Learning Management System\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_NOT_CONNECTED: 'The course is not connected to the Learning Management System',\n  CLIENT_COULD_NOT_FINISH: 'The course was unable to terminate the learning session\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_COULD_NOT_GET_PROPERTY: 'Unable to get the value of {{property}} from the Learning Management System\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_COULD_NOT_SET_PROPERTY: 'Unable to set {{property}} to: \\'{{{value}}}\\'\\n\\nError: {{errorCode}} - {{{errorInfo}}}\\nLMS Error Info: {{{diagnosticInfo}}}',\n  CLIENT_INVALID_CHOICE_VALUE: 'Numeric choice/matching response elements must use a value from 0 to 35 in SCORM 1.2'\n};\n\nexport default ScormError;\n","import Adapt from 'core/js/adapt';\nimport pipwerks from 'libraries/SCORM_API_wrapper';\nimport Logger from './logger';\nimport ScormError from './error';\n\nconst {\n  CLIENT_COULD_NOT_CONNECT,\n  SERVER_STATUS_UNSUPPORTED,\n  CLIENT_STATUS_UNSUPPORTED,\n  CLIENT_COULD_NOT_COMMIT,\n  CLIENT_NOT_CONNECTED,\n  CLIENT_COULD_NOT_FINISH,\n  CLIENT_COULD_NOT_GET_PROPERTY,\n  CLIENT_COULD_NOT_SET_PROPERTY,\n  CLIENT_INVALID_CHOICE_VALUE\n} = ScormError;\n\n/**\n * IMPORTANT: This wrapper uses the Pipwerks SCORM wrapper and should therefore support both SCORM 1.2 and 2004. Ensure any changes support both versions.\n */\nclass ScormWrapper {\n\n  constructor() {\n    /* configuration */\n    this.setCompletedWhenFailed = true;// this only applies to SCORM 2004\n    /**\n     * whether to commit each time there's a change to lesson_status or not\n     */\n    this.commitOnStatusChange = true;\n    /**\n     * whether to commit each time there's a change to any value\n     */\n    this.commitOnAnyChange = false;\n    /**\n     * how frequently (in minutes) to commit automatically. set to 0 to disable.\n     */\n    this.timedCommitFrequency = 10;\n    /**\n     * how many times to retry if a commit fails\n     */\n    this.maxCommitRetries = 5;\n    /**\n     * time (in milliseconds) to wait between retries\n     */\n    this.commitRetryDelay = 1000;\n\n    /**\n     * prevents commit from being called if there's already a 'commit retry' pending.\n     */\n    this.commitRetryPending = false;\n    /**\n     * how many times we've done a 'commit retry'\n     */\n    this.commitRetries = 0;\n    /**\n     * not currently used - but you could include in an error message to show when data was last saved\n     */\n    this.lastCommitSuccessTime = null;\n    /**\n     * The exit state to use when course isn't completed yet\n     */\n    this.exitStateIfIncomplete = 'auto';\n    /**\n     * The exit state to use when the course has been completed/passed\n     */\n    this.exitStateIfComplete = 'auto';\n\n    this.timedCommitIntervalID = null;\n    this.retryCommitTimeoutID = null;\n    this.logOutputWin = null;\n    this.startTime = null;\n    this.endTime = null;\n\n    this.lmsConnected = false;\n    this.finishCalled = false;\n\n    this.logger = Logger.getInstance();\n    this.scorm = pipwerks.SCORM;\n    /**\n     * Prevent the Pipwerks SCORM API wrapper's handling of the exit status\n     */\n    this.scorm.handleExitMode = false;\n\n    this.suppressErrors = false;\n    this.debouncedCommit = _.debounce(this.commit.bind(this), 100);\n    if (window.__debug) {\n      this.showDebugWindow();\n    }\n\n    if (!(window.API?.__offlineAPIWrapper && window?.API_1484_11?.__offlineAPIWrapper)) return;\n    this.logger.error('Offline SCORM API is being used. No data will be reported to the LMS!');\n  }\n\n  // ******************************* public methods *******************************\n\n  static getInstance() {\n    if (ScormWrapper.instance === null) {\n      ScormWrapper.instance = new ScormWrapper();\n    }\n\n    return ScormWrapper.instance;\n  }\n\n  getVersion() {\n    return this.scorm.version;\n  }\n\n  setVersion(value) {\n    this.logger.debug(`ScormWrapper::setVersion: ${value}`);\n    this.scorm.version = value;\n  }\n\n  initialize() {\n    this.logger.debug('ScormWrapper::initialize');\n    this.lmsConnected = this.scorm.init();\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_COULD_NOT_CONNECT));\n      return this.lmsConnected;\n    }\n\n    this.startTime = new Date();\n    this.initTimedCommit();\n\n    return this.lmsConnected;\n  }\n\n  /**\n   * allows you to check if this is the user's first ever 'session' of a SCO, even after the lesson_status has been set to 'incomplete'\n   */\n  isFirstSession() {\n    return (this.getValue(this.isSCORM2004() ? 'cmi.entry' : 'cmi.core.entry') === 'ab-initio');\n  }\n\n  setIncomplete() {\n    this.setValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status', 'incomplete');\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setCompleted() {\n    this.setValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status', 'completed');\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setPassed() {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.completion_status', 'completed');\n      this.setValue('cmi.success_status', 'passed');\n    } else {\n      this.setValue('cmi.core.lesson_status', 'passed');\n    }\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  setFailed() {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.success_status', 'failed');\n\n      if (this.setCompletedWhenFailed) {\n        this.setValue('cmi.completion_status', 'completed');\n      }\n    } else {\n      this.setValue('cmi.core.lesson_status', 'failed');\n    }\n\n    if (this.commitOnStatusChange && !this.commitOnAnyChange) this.commit();\n  }\n\n  getStatus() {\n    const status = this.getValue(this.isSCORM2004() ? 'cmi.completion_status' : 'cmi.core.lesson_status');\n\n    switch (status.toLowerCase()) { // workaround for some LMSes (e.g. Arena) not adhering to the all-lowercase rule\n      case 'passed':\n      case 'completed':\n      case 'incomplete':\n      case 'failed':\n      case 'browsed':\n      case 'not attempted':\n      case 'not_attempted': // mentioned in SCORM 2004 docs but not sure it ever gets used\n      case 'unknown': // the SCORM 2004 version of not attempted\n        return status;\n      default:\n        this.handleError(new ScormError(SERVER_STATUS_UNSUPPORTED, { status }));\n        return null;\n    }\n  }\n\n  setStatus(status) {\n    switch (status.toLowerCase()) {\n      case 'incomplete':\n        this.setIncomplete();\n        break;\n      case 'completed':\n        this.setCompleted();\n        break;\n      case 'passed':\n        this.setPassed();\n        break;\n      case 'failed':\n        this.setFailed();\n        break;\n      default:\n        this.handleError(new ScormError(CLIENT_STATUS_UNSUPPORTED, { status }));\n    }\n  }\n\n  getScore() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.score.raw' : 'cmi.core.score.raw');\n  }\n\n  setScore(score, minScore = 0, maxScore = 100) {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.score.raw', score);\n      this.setValue('cmi.score.min', minScore);\n      this.setValue('cmi.score.max', maxScore);\n\n      const range = maxScore - minScore;\n      const scaledScore = ((score - minScore) / range).toFixed(7);\n      this.setValue('cmi.score.scaled', scaledScore);\n      return;\n    }\n    // SCORM 1.2\n    this.setValue('cmi.core.score.raw', score);\n    if (this.isSupported('cmi.core.score.min')) this.setValue('cmi.core.score.min', minScore);\n    if (this.isSupported('cmi.core.score.max')) this.setValue('cmi.core.score.max', maxScore);\n  }\n\n  getLessonLocation() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.location' : 'cmi.core.lesson_location');\n  }\n\n  setLessonLocation(location) {\n    this.setValue(this.isSCORM2004() ? 'cmi.location' : 'cmi.core.lesson_location', location);\n  }\n\n  getSuspendData() {\n    return this.getValue('cmi.suspend_data');\n  }\n\n  setSuspendData(data) {\n    this.setValue('cmi.suspend_data', data);\n  }\n\n  getStudentName() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.learner_name' : 'cmi.core.student_name');\n  }\n\n  getStudentId() {\n    return this.getValue(this.isSCORM2004() ? 'cmi.learner_id' : 'cmi.core.student_id');\n  }\n\n  setLanguage(lang) {\n    if (this.isSCORM2004()) {\n      this.setValue('cmi.learner_preference.language', lang);\n      return;\n    }\n    if (!this.isSupported('cmi.student_preference.language')) return;\n    this.setValue('cmi.student_preference.language', lang);\n  }\n\n  commit() {\n    this.logger.debug('ScormWrapper::commit');\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(ScormError.CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    if (this.commitRetryPending) {\n      this.logger.debug('ScormWrapper::commit: skipping this commit call as one is already pending.');\n      return;\n    }\n\n    if (this.scorm.save()) {\n      this.commitRetries = 0;\n      this.lastCommitSuccessTime = new Date();\n      Adapt.trigger('spoor:commit', this);\n      return;\n    }\n\n    if (this.commitRetries < this.maxCommitRetries && !this.finishCalled) {\n      this.commitRetries++;\n      this.initRetryCommit();\n      return;\n    }\n\n    const errorCode = this.scorm.debug.getCode();\n    this.handleError(new ScormError(CLIENT_COULD_NOT_COMMIT, {\n      errorCode,\n      errorInfo: this.scorm.debug.getInfo(errorCode),\n      diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n    }));\n  }\n\n  finish() {\n    this.logger.debug('ScormWrapper::finish');\n\n    if (!this.lmsConnected || this.finishCalled) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    this.finishCalled = true;\n\n    if (this.timedCommitIntervalID !== null) {\n      window.clearInterval(this.timedCommitIntervalID);\n    }\n\n    if (this.commitRetryPending) {\n      window.clearTimeout(this.retryCommitTimeoutID);\n      this.commitRetryPending = false;\n    }\n\n    if (this.logOutputWin && !this.logOutputWin.closed) {\n      this.logOutputWin.close();\n    }\n\n    this.endTime = new Date();\n\n    if (this.isSCORM2004()) {\n      this.scorm.set('cmi.session_time', this.convertToSCORM2004Time(this.endTime.getTime() - this.startTime.getTime()));\n      this.scorm.set('cmi.exit', this.getExitState());\n    } else {\n      this.scorm.set('cmi.core.session_time', this.convertToSCORM12Time(this.endTime.getTime() - this.startTime.getTime()));\n      this.scorm.set('cmi.core.exit', this.getExitState());\n    }\n\n    // api no longer available from this point\n    this.lmsConnected = false;\n\n    if (this.scorm.quit()) return;\n    const errorCode = this.scorm.debug.getCode();\n    this.handleError(new ScormError(CLIENT_COULD_NOT_FINISH, {\n      errorCode,\n      errorInfo: this.scorm.debug.getInfo(errorCode),\n      diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n    }));\n  }\n\n  recordInteraction(id, response, correct, latency, type) {\n    if (!this.isSupported('cmi.interactions._count')) {\n      this.logger.info('ScormWrapper::recordInteraction: cmi.interactions are not supported by this LMS...');\n      return;\n    }\n\n    switch (type) {\n      case 'choice':\n        this.recordInteractionMultipleChoice.apply(this, arguments);\n        break;\n\n      case 'matching':\n        this.recordInteractionMatching.apply(this, arguments);\n        break;\n\n      case 'numeric':\n        this.isSCORM2004() ? this.recordInteractionScorm2004.apply(this, arguments) : this.recordInteractionScorm12.apply(this, arguments);\n        break;\n\n      case 'fill-in':\n        this.recordInteractionFillIn.apply(this, arguments);\n        break;\n\n      default:\n        console.error(`ScormWrapper.recordInteraction: unknown interaction type of '${type}' encountered...`);\n    }\n  }\n\n  // ****************************** private methods ******************************\n\n  getValue(property) {\n    this.logger.debug(`ScormWrapper::getValue: _property=${property}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::getValue: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    const value = this.scorm.get(property);\n    const errorCode = this.scorm.debug.getCode();\n\n    switch (errorCode) {\n      case 0:\n        break;\n      case 403:\n        // 403 errors are common (and normal) when targetting SCORM 2004 - they are triggered on any\n        // attempt to get the value of a data model element that hasn't yet been assigned a value.\n        this.logger.warn('ScormWrapper::getValue: data model element not initialized');\n        break;\n      default:\n        this.handleError(new ScormError(CLIENT_COULD_NOT_GET_PROPERTY, {\n          property,\n          errorCode,\n          errorInfo: this.scorm.debug.getInfo(errorCode),\n          diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n        }));\n    }\n    this.logger.debug(`ScormWrapper::getValue: returning ${value}`);\n    return value + '';\n  }\n\n  setValue(property, value) {\n    this.logger.debug(`ScormWrapper::setValue: _property=${property} _value=${value}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::setValue: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return;\n    }\n\n    const success = this.scorm.set(property, value);\n    if (!success) {\n      // Some LMSes have an annoying tendency to return false from a set call even when it actually worked fine.\n      // So we should only throw an error if there was a valid error code...\n      const errorCode = this.scorm.debug.getCode();\n      if (errorCode !== 0) {\n        this.handleError(new ScormError(CLIENT_COULD_NOT_SET_PROPERTY, {\n          property,\n          value,\n          errorCode,\n          errorInfo: this.scorm.debug.getInfo(errorCode),\n          diagnosticInfo: this.scorm.debug.getDiagnosticInfo(errorCode)\n        }));\n        return success;\n      }\n      this.logger.warn('ScormWrapper::setValue: LMS reported that the \\'set\\' call failed but then said there was no error!');\n    }\n\n    if (this.commitOnAnyChange) this.debouncedCommit();\n\n    return success;\n  }\n\n  /**\n   * used for checking any data field that is not 'LMS Mandatory' to see whether the LMS we're running on supports it or not.\n   * Note that the way this check is being performed means it wouldn't work for any element that is\n   * 'write only', but so far we've not had a requirement to check for any optional elements that are.\n   */\n  isSupported(property) {\n    this.logger.debug(`ScormWrapper::isSupported: _property=${property}`);\n\n    if (this.finishCalled) {\n      this.logger.debug('ScormWrapper::isSupported: ignoring request as \\'finish\\' has been called');\n      return;\n    }\n\n    if (!this.lmsConnected) {\n      this.handleError(new ScormError(CLIENT_NOT_CONNECTED));\n      return false;\n    }\n\n    this.scorm.get(property);\n\n    return (this.scorm.debug.getCode() !== 401); // 401 is the 'not implemented' error code\n  }\n\n  initTimedCommit() {\n    this.logger.debug('ScormWrapper::initTimedCommit');\n\n    if (!this.commitOnAnyChange && this.timedCommitFrequency > 0) {\n      const delay = this.timedCommitFrequency * (60 * 1000);\n      this.timedCommitIntervalID = window.setInterval(this.commit.bind(this), delay);\n    }\n  }\n\n  initRetryCommit() {\n    this.logger.debug(`ScormWrapper::initRetryCommit ${this.commitRetries} out of ${this.maxCommitRetries}`);\n\n    this.commitRetryPending = true;// stop anything else from calling commit until this is done\n\n    this.retryCommitTimeoutID = window.setTimeout(this.doRetryCommit.bind(this), this.commitRetryDelay);\n  }\n\n  doRetryCommit() {\n    this.logger.debug('ScormWrapper::doRetryCommit');\n\n    this.commitRetryPending = false;\n\n    this.commit();\n  }\n\n  handleError(error) {\n\n    if (!Adapt.get('_isStarted')) {\n      Adapt.once('contentObjectView:ready', this.handleError.bind(this, error));\n      return;\n    }\n\n    if ('value' in error.data) {\n      // because some browsers (e.g. Firefox) don't like displaying very long strings in the window.confirm dialog\n      if (error.data.value.length && error.data.value.length > 80) error.data.value = error.data.value.slice(0, 80) + '...';\n      // if the value being set is an empty string, ensure it displays in the error as ''\n      if (error.data.value === '') error.data.value = '\\'\\'';\n    }\n\n    const config = Adapt.course.get('_spoor');\n    const messages = Object.assign({}, ScormError.defaultMessages, config && config._messages);\n    const message = Handlebars.compile(messages[error.name])(error.data);\n\n    switch (error.name) {\n      case CLIENT_COULD_NOT_CONNECT:\n        Adapt.notify.popup({\n          _isCancellable: false,\n          title: messages.title,\n          body: message\n        });\n        return;\n    }\n\n    this.logger.error(message);\n\n    if (!this.suppressErrors && (!this.logOutputWin || this.logOutputWin.closed) && confirm(`${messages.title}:\\n\\n${message}\\n\\n${messages.pressOk}`)) {\n      this.showDebugWindow();\n    }\n\n  }\n\n  getInteractionCount() {\n    const count = this.getValue('cmi.interactions._count');\n    return count === '' ? 0 : count;\n  }\n\n  recordInteractionScorm12(id, response, correct, latency, type) {\n\n    id = id.trim();\n\n    const cmiPrefix = `cmi.interactions.${this.getInteractionCount()}`;\n\n    this.setValue(`${cmiPrefix}.id`, id);\n    this.setValue(`${cmiPrefix}.type`, type);\n    this.setValue(`${cmiPrefix}.student_response`, response);\n    this.setValue(`${cmiPrefix}.result`, correct ? 'correct' : 'wrong');\n    if (latency !== null && latency !== undefined) this.setValue(`${cmiPrefix}.latency`, this.convertToSCORM12Time(latency));\n    this.setValue(`${cmiPrefix}.time`, this.getCMITime());\n  }\n\n  recordInteractionScorm2004(id, response, correct, latency, type) {\n\n    id = id.trim();\n\n    const cmiPrefix = `cmi.interactions.${this.getInteractionCount()}`;\n\n    this.setValue(`${cmiPrefix}.id`, id);\n    this.setValue(`${cmiPrefix}.type`, type);\n    this.setValue(`${cmiPrefix}.learner_response`, response);\n    this.setValue(`${cmiPrefix}.result`, correct ? 'correct' : 'incorrect');\n    if (latency !== null && latency !== undefined) this.setValue(`${cmiPrefix}.latency`, this.convertToSCORM2004Time(latency));\n    this.setValue(`${cmiPrefix}.timestamp`, this.getISO8601Timestamp());\n  }\n\n  recordInteractionMultipleChoice(id, response, correct, latency, type) {\n\n    if (this.isSCORM2004()) {\n      response = response.replace(/,|#/g, '[,]');\n    } else {\n      response = response.replace(/#/g, ',');\n      response = this.checkResponse(response, 'choice');\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  recordInteractionMatching(id, response, correct, latency, type) {\n\n    response = response.replace(/#/g, ',');\n\n    if (this.isSCORM2004()) {\n      response = response.replace(/,/g, '[,]');\n      response = response.replace(/\\./g, '[.]');\n    } else {\n      response = this.checkResponse(response, 'matching');\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  recordInteractionFillIn(id, response, correct, latency, type) {\n\n    const maxLength = this.isSCORM2004() ? 250 : 255;\n\n    if (response.length > maxLength) {\n      response = response.substr(0, maxLength);\n\n      this.logger.warn(`ScormWrapper::recordInteractionFillIn: response data for ${id} is longer than the maximum allowed length of ${maxLength} characters; data will be truncated to avoid an error.`);\n    }\n\n    const scormRecordInteraction = this.isSCORM2004() ? this.recordInteractionScorm2004 : this.recordInteractionScorm12;\n\n    scormRecordInteraction.call(this, id, response, correct, latency, type);\n  }\n\n  showDebugWindow() {\n\n    if (this.logOutputWin && !this.logOutputWin.closed) {\n      this.logOutputWin.close();\n    }\n\n    this.logOutputWin = window.open('log_output.html', 'Log', 'width=600,height=300,status=no,scrollbars=yes,resizable=yes,menubar=yes,toolbar=yes,location=yes,top=0,left=0');\n\n    if (!this.logOutputWin) return;\n    this.logOutputWin.focus();\n  }\n\n  convertToSCORM12Time(msConvert) {\n\n    const msPerSec = 1000;\n    const msPerMin = msPerSec * 60;\n    const msPerHour = msPerMin * 60;\n\n    const ms = msConvert % msPerSec;\n    msConvert = msConvert - ms;\n\n    let secs = msConvert % msPerMin;\n    msConvert = msConvert - secs;\n    secs = secs / msPerSec;\n\n    let mins = msConvert % msPerHour;\n    msConvert = msConvert - mins;\n    mins = mins / msPerMin;\n\n    const hrs = msConvert / msPerHour;\n\n    if (hrs > 9999) {\n      return '9999:99:99.99';\n    }\n\n    const str = [ this.padWithZeroes(hrs, 4), this.padWithZeroes(mins, 2), this.padWithZeroes(secs, 2) ].join(':');\n    return (`${str}.${Math.floor(ms / 10)}`);\n  }\n\n  /**\n   * Converts milliseconds into the SCORM 2004 data type 'timeinterval (second, 10,2)'\n   * this will output something like 'P1DT3H5M0S' which indicates a period of time of 1 day, 3 hours and 5 minutes\n   * or 'PT2M10.1S' which indicates a period of time of 2 minutes and 10.1 seconds\n   */\n  convertToSCORM2004Time(msConvert) {\n    let csConvert = Math.floor(msConvert / 10);\n    const csPerSec = 100;\n    const csPerMin = csPerSec * 60;\n    const csPerHour = csPerMin * 60;\n    const csPerDay = csPerHour * 24;\n\n    let days = Math.floor(csConvert / csPerDay);\n    csConvert -= days * csPerDay;\n    days = days ? days + 'D' : '';\n\n    let hours = Math.floor(csConvert / csPerHour);\n    csConvert -= hours * csPerHour;\n    hours = hours ? hours + 'H' : '';\n\n    let mins = Math.floor(csConvert / csPerMin);\n    csConvert -= mins * csPerMin;\n    mins = mins ? mins + 'M' : '';\n\n    let secs = Math.floor(csConvert / csPerSec);\n    csConvert -= secs * csPerSec;\n    secs = secs || '0';\n\n    let cs = csConvert;\n    cs = cs ? '.' + cs : '';\n\n    const seconds = secs + cs + 'S';\n\n    const hms = [ hours, mins, seconds ].join('');\n\n    return 'P' + days + 'T' + hms;\n  }\n\n  getCMITime() {\n\n    const date = new Date();\n\n    const hours = this.padWithZeroes(date.getHours(), 2);\n    const min = this.padWithZeroes(date.getMinutes(), 2);\n    const sec = this.padWithZeroes(date.getSeconds(), 2);\n\n    return [ hours, min, sec ].join(':');\n  }\n\n  /**\n   * returns the current date & time in the format YYYY-MM-DDTHH:mm:ss\n   */\n  getISO8601Timestamp() {\n    const date = new Date().toISOString();\n    return date.replace(/.\\d\\d\\dZ/, ''); // Date.toISOString returns the date in the format YYYY-MM-DDTHH:mm:ss.sssZ so we need to drop the last bit to make it SCORM 2004 conformant\n  }\n\n  padWithZeroes(numToPad, padBy) {\n\n    let len = padBy;\n\n    while (--len) {\n      numToPad = '0' + numToPad;\n    }\n\n    return numToPad.slice(-padBy);\n  }\n\n  isSCORM2004() {\n    return this.scorm.version === '2004';\n  }\n\n  /**\n   * SCORM 1.2 requires that the identifiers in cmi.interactions.n.student_response for choice and matching activities be a character from [0-9a-z].\n   * When numeric identifiers are used this function attempts to map identifiers 10 to 35 to [a-z]. Resolves issues/1376.\n   */\n  checkResponse(response, responseType) {\n    if (!response) return response;\n    if (responseType !== 'choice' && responseType !== 'matching') return response;\n\n    response = response.split(/,|#/);\n\n    const self = this;\n\n    if (responseType === 'choice') {\n      response = response.map(checkIdentifier);\n    } else {\n      response = response.map(r => {\n        const identifiers = r.split('.');\n        return checkIdentifier(identifiers[0]) + '.' + checkIdentifier(identifiers[1]);\n      });\n    }\n\n    function checkIdentifier(r) {\n      // if [0-9] then ok\n      if (r.length === 1 && r >= '0' && r <= '9') return r;\n\n      // if [a-z] then ok\n      if (r.length === 1 && r >= 'a' && r <= 'z') return r;\n\n      // try to map integers 10-35 to [a-z]\n      const i = parseInt(r);\n\n      if (isNaN(i) || i < 10 || i > 35) {\n        self.handleError(new ScormError(CLIENT_INVALID_CHOICE_VALUE));\n      }\n\n      return Number(i).toString(36); // 10 maps to 'a', 11 maps to 'b', ..., 35 maps to 'z'\n    }\n\n    return response.join(',');\n  }\n\n  getExitState() {\n    const completionStatus = this.scorm.data.completionStatus;\n    const isIncomplete = completionStatus === 'incomplete' || completionStatus === 'not attempted';\n    const exitState = isIncomplete ? this.exitStateIfIncomplete : this.exitStateIfComplete;\n\n    if (exitState !== 'auto') return exitState;\n\n    if (this.isSCORM2004()) return (isIncomplete ? 'suspend' : 'normal');\n\n    return '';\n  }\n\n}\n\n// static\nScormWrapper.instance = null;\n\nexport default ScormWrapper;\n","define([\n  'underscore',\n  'libraries/lzma-min',\n  'libraries/lzma_worker-min.js'\n], function(_) {\n  const LZMAWorker = window.LZMAFactory('./libraries/lzma_worker-min.js');\n  /**\n   * 2020/05/06 SCORMSuspendData\n   *\n   * Serialize and deserialize arrays, booleans and numbers into a base64 string\n   * for transport over SCORM 1.2 based systems where storage space is restricted\n   * to only 4096 characters or 4KB.\n   *\n   * The algorithm is weighted heavily in efficiency towards storing data by\n   * its occurrence frequency when it is used to save Adapt question responses,\n   * booleans, arrays of <16 length and numbers of <4 value.\n   *\n   * Numbers can be 2 precision decimals, positive and negative numbers between\n   * -4294967295.99 and 4294967295.99. Arrays can have 0 to 65535 entries. Arrays\n   * can be nested. All arrays must have the same ES type (boolean, number or array).\n   *\n   * The appropriate binary type is chosen for each array according to the following table,\n   * an array must have one type which best fits its values:\n   *\n   *           VALUES                                VALUETYPE     PER ENTRY\n   * VALUETYPE MIN           MAX            DECIMAL  BITS          MIN BITS  MAX BITS  STORES\n   * ARRAY     0             65535 (items)  NO       2             6         23        Array length and valuetype\n   * BOOLEAN   0             1              NO       1             1         1         Entry value\n   * UINT3     0             7              NO       4             3         3         Entry value\n   * VINT8+    0             255            NO       3             3         9         Entry value\n   * VINT8-   -255           0              NO       6             3         9         Entry value\n   * SDEC15   -255.99        255.99         NO       6             8         22        Entry value\n   * SINT32   -4294967295    4294967295     NO       6             5         35        Entry value\n   * SDEC39   -4294967295.99 4294967295.99  YES      6             10        48        Entry value\n   *\n   * Output construction map:\n   *\n   *  OUTPUT = VALUETYPE + DATA\n   *  DATA = ( ARRAY | BOOLEAN | UINT3 | VINT8+ | VINT8- | SDEC15 | SINT32 | SDEC39 )\n   *  ARRAY = IS_SMALL_BIT( BOOLEAN ) + LENGTH( UINT4 | UINT16 ) + VALUETYPE + DATA[0-65535]\n   *\n   *  VALUETYPE = 0 to 111111\n   *   Signifies the type of value for the output or array data.\n   *\n   *   BINARY  NAME        USAGE RANKING\n   *   10      ARRAY       2\n   *   0       BOOLEAN     1\n   *   1110    UINT3       4\n   *   110     VINT8+      3\n   *   111100  VINT8-      7\n   *   111101  SDEC15      5\n   *   111110  SINT32      6\n   *   111111  SDEC39      8\n   *\n   *  ARRAY\n   *   Stores the number and type of items.\n   *\n   *          BINARY\n   *   BITS | SMALL LENGTH (UINT4/16) VALUETYPE = VALUE\n   *   6    | 1     0000              0         = zero length boolean array\n   *   6    | 1     1111              0         = 15 length boolean array\n   *   23   | 0     1000000000000000  111111    = 8 length sdec39 array\n   *   23   | 0     1111111111111111  111111    = 65535 length sdec39 array\n   *\n   *  BOOLEAN\n   *   A value of true or false.\n   *\n   *          BINARY\n   *   BITS | BOOL  = VALUE\n   *   1    | 0     = false\n   *   1    | 1     = true\n   *\n   *  UINT3\n   *   A value from 0 to 7 with a 3 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT3) = VALUE\n   *   3    | 000         = 0\n   *   3    | 111         = 7\n   *\n   *  UINT4\n   *   An array length from 0 to 15 with a 4 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT4) = VALUE\n   *   4    | 0000        = 0\n   *   4    | 1111        = 15\n   *\n   *  VINT8+\n   *   A value from 0 to 255 with variable length output.\n   *   Output is a UINT2/8 bit integer with a 1 bit header.\n   *\n   *          BINARY\n   *   BITS | SMALL INT (UINT2/8) = VALUE\n   *   3    | 1     00           =  0\n   *   3    | 1     11           =  3\n   *   9    | 0     00000100     =  4\n   *   9    | 0     11111111     =  255\n   *\n   *  VINT8-\n   *   A value from -255 to 0 with variable length output.\n   *   Output is a UINT2/8 bit integer with a 1 bit header.\n   *\n   *   BITS | SMALL INT (UINT2/8) = VALUE\n   *   3    | 1     00            =  0\n   *   3    | 1     11            = -3\n   *   9    | 0     00000100      = -4\n   *   9    | 0     11111111      = -255\n   *\n   *  SDEC15\n   *   A value from -255.99 to 255.99 preserving 2 decimals places\n   *   places and with variable length output.\n   *\n   *   BITS | SIGN INTSIZE INT (UINT2/8) DECSIZE DEC (UINT0/7)   = VALUE\n   *   5    | 0    0       00            0                       =  0\n   *   12   | 0    0       00            0       0000001         =  0.01\n   *   12   | 1    0       00            0       0000001         = -0.01\n   *   12   | 1    0       00            1       1100011         = -0.99\n   *   18   | 0    1       00001000      1       0000001         =  8.01\n   *   18   | 1    1       00001000      1       1100011         = -8.99\n   *   18   | 0    1       11111111      1       1100011         =  255.99\n   *   18   | 1    1       11111111      1       1100011         = -255.99\n   *\n   *  UINT16\n   *   An array length from 0 to 65535 with a 16 bit fixed length output.\n   *\n   *          BINARY\n   *   BITS | INT (UINT16)       = VALUE\n   *   16   | 0000000000000000  = 0\n   *   16   | 1111111111111111  = 65535\n   *\n   *  SINT32\n   *   A value from -4294967295 to 4294967295 with variable length output.\n   *   Output is a UINT2/4/16/32 bit integer with a 3 bit header.\n   *\n   *   BITS | SIGN SIZE  INT (UINT2/4/16/32)              = VALUE\n   *   5    | 0    00    00                               =  0\n   *   5    | 1    00    11                               = -3\n   *   7    | 0    01    1000                             =  8\n   *   7    | 1    01    1111                             = -15\n   *   19   | 0    10    0000000100000000                 =  256\n   *   19   | 1    10    1111111111111111                 = -65535\n   *   35   | 1    11    11111111111111111111111111111111 = -4294967295\n   *   35   | 0    11    11111111111111111111111111111111 =  4294967295\n   *\n   *  SDEC39\n   *   A value from -4294967295.99 to 4294967295.99 preserving 2 decimals places\n   *   places and with variable length output.\n   *\n   *   BITS | SIGN INTSIZE INT (UINT2/4/16/32)              DECSIZE DEC (UINT0/7)   = VALUE\n   *   6    | 0    00      00                               0                       =  0\n   *   13   | 0    00      11                               0       0000001         =  3.01\n   *   13   | 1    01      1000                             0       0000001         = -8.01\n   *   13   | 1    01      1111                             1       1100011         = -15.99\n   *   27   | 0    10      0000000100000000                 1       0000001         =  256.01\n   *   27   | 1    10      1111111111111111                 1       1100011         = -65535.99\n   *   37   | 0    11      11111111111111111111111111111111 0                       =  4294967295\n   *   37   | 1    11      11111111111111111111111111111111 0                       = -4294967295\n   *   43   | 0    11      11111111111111111111111111111111 1       1100011         =  4294967295.99\n   *   43   | 1    11      11111111111111111111111111111111 1       1100011         = -4294967295.99\n   *\n   * Output byte count formula:\n   *\n   *  byte_count = (bit_count * 1.5base64_expansion) / 8bits_per_byte\n   *\n   *  The output is in base64 so bit counts are always inflated by 1.5 from byte to base64.\n   *\n   * Example:\n   *\n   * [\n   *   [\n   *     0,\n   *     7,\n   *     1,\n   *     0\n   *   ],\n   *   [\n   *     true,\n   *     true,\n   *     true,\n   *     true,\n   *     true\n   *   ],\n   *   [\n   *     true,\n   *     false,\n   *     false,\n   *     false\n   *   ]\n   * ]\n   *\n   * In this example the parent array represents a completed question state for a\n   * single question. The first child number-array stores the block location,\n   * tracking id, score and attemptsLeft. The second child boolean-array stores\n   * the completion, correctness, submission state and user answer states. The\n   * third child boolean-array stores the user selections for a multiple choice question.\n   *\n   * When serialized with SCORMSuspendData.serialize() it becomes the following\n   * 10 characters:\n   *\n   *   hxOHIK-RAA\n   *\n   * These characters can be deserialized back into the nested arrays above using\n   * SCORMSuspendData.deserialize(\"hxOHIK-RAA\");\n   *\n   * In JSON this array would usually be 63 characters minified, at 10 characters this is\n   * a reduction of about 84%. At the worse case, storing an array containing just\n   * the largest possible number ([-4294967295.99]) the output will only be reduced\n   * by about 37% (g///////4w) when compared to the equivalent JSON. It is possible\n   * to store 500 of the above mcq state arrays in just 4088 characters. About 250\n   * question states will occupy about half of the available space in SCORM's 4096\n   * character suspend data.\n   */\n\n  // Cache for zero strings of various lengths\n  const ZeroString = {};\n  /**\n   * Make and cache a zero string up to the supplied length\n   * @param {number} length\n   * @returns {string}\n   */\n  function makeZeroString(length) {\n    ZeroString[length] = ZeroString[length] || (new Array(length + 1)).join('0');\n    return ZeroString[length];\n  }\n  // Initialize zero string cache up to 64 characters in length\n  for (let i = 1, l = 64; i <= l; i++) {\n    makeZeroString(i);\n  }\n\n  /**\n   * Zero pads to the right, making up to the supplied length\n   * @param {string} string\n   * @param {number} length\n   * @returns {string}\n   */\n  function zeroPadRightToLength(string, length) {\n    const padLength = (length - string.length);\n    if (padLength > 0) {\n      string += makeZeroString(padLength);\n    }\n    return string;\n  }\n\n  /**\n   * Zero pads to the left, making up to the supplied length\n   * @param {string} string\n   * @param {number} length\n   * @returns {string}\n   */\n  function zeroPadLeftToLength(string, length) {\n    const padLength = (length - string.length);\n    if (padLength > 0) {\n      string = makeZeroString(padLength) + string;\n    }\n    return string;\n  }\n\n  /**\n   * Zero pads to the right at even multiples\n   * @param {string} string\n   * @param {number} multiple\n   * @returns {string}\n   */\n  function zeroPadRightToMultiple(string, multiple) {\n    const padLength = multiple - (string.length % multiple);\n    if (padLength !== multiple) {\n      string += makeZeroString(padLength);\n    }\n    return string;\n  }\n\n  /**\n   * Returns a positive integer from the supplied binary string and binaryLength\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {number}\n   */\n  function binaryToUnsignedInteger(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return 0;\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const integer = parseInt(binary.slice(0, binaryLength), 2);\n    return integer;\n  }\n\n  /**\n   * Shifts a positive integer from the supplied binary string and binaryLength,\n   * returning the shifted integer and the next part of the binary string\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {[number, string]}\n   */\n  function shiftUnsignedIntegerFromBinary(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return [0, binary];\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const integer = parseInt(binary.slice(0, binaryLength), 2);\n    binary = binary.slice(binaryLength);\n    return [integer, binary];\n  }\n\n  /**\n   * Shifts binaryLength characters from the supplied binary string, returning the\n   * shifted binary string and the next part of the binary string\n   * @param {string} binary\n   * @param {number} binaryLength\n   * @returns {[string, string]}\n   */\n  function shiftBinary(binary, binaryLength) {\n    if (binaryLength === 0) {\n      return ['', binary];\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    const shifted = binary.slice(0, binaryLength);\n    binary = binary.slice(binaryLength);\n    return [shifted, binary];\n  }\n\n  /**\n   * Converts a positive integer to a binary string\n   * @param {number} integer\n   * @param {number} [binaryLength] Length of the output string\n   */\n  function unsignedIntegerToBinary(integer, binaryLength) {\n    if (binaryLength === 0) {\n      return '';\n    }\n    let binary = Math.abs(integer).toString(2);\n    if (typeof binaryLength === 'undefined') {\n      return binary;\n    }\n    const length = binary.length;\n    if (length > binaryLength) {\n      throw new Error(`Integer too big for specified binary length. integer: ${integer} binarylen: ${binaryLength}`);\n    }\n    binary = zeroPadLeftToLength(binary, binaryLength);\n    return binary;\n  }\n\n  /**\n   * Converts a byte array to a string\n   * @param {[number]} array\n   * @returns {string}\n   */\n  function byteArrayToString(array) {\n    const arrayLength = array.length;\n    let string = new Array(arrayLength);\n    for (let i = 0, l = arrayLength; i < l; i++) {\n      string[i] = String.fromCharCode(array[i]);\n    }\n    string = string.join('');\n    return string;\n  }\n\n  /**\n   * Converts a string to a byte array\n   * @param {string} string\n   * @returns {[number]}\n   */\n  function stringToByteArray(string) {\n    const stringLength = string.length;\n    const array = new Array(stringLength);\n    for (let i = 0, l = stringLength; i < l; i++) {\n      array[i] = string.charCodeAt(i);\n    }\n    return array;\n  }\n\n  /** @type {number} Number of bits per byte */\n  const BYTE_BIT_LENGTH = 8;\n\n  /**\n   * Converts a binary string or nested arrays of binary strings to a base64 string\n   * @param {string|[string]} binary\n   * @returns {string}\n   */\n  function binaryToBase64(binary) {\n    binary = _.flatten(binary).join('');\n    binary = zeroPadRightToMultiple(binary, BYTE_BIT_LENGTH);\n    const bytesCount = binary.length / BYTE_BIT_LENGTH;\n    const charCodes = new Array(bytesCount);\n    for (let i = 0, l = bytesCount; i < l; i++) {\n      [ charCodes[i], binary ] = shiftUnsignedIntegerFromBinary(binary, BYTE_BIT_LENGTH);\n    }\n    let base64 = btoa(byteArrayToString(charCodes));\n    // Remove padding = or == as not necessary here\n    base64 = base64.replace(/=/g, '');\n    // Can't handle base64 with the + sign so swap with a -\n    base64 = base64.replace(/\\+/g, '-');\n    return base64;\n  }\n\n  /**\n   * Converts a base64 string to a binary string\n   * @param {string} base64\n   * @returns {string}\n   */\n  function base64ToBinary(base64) {\n    // base64 should have a + instead of a -\n    base64 = base64.replace(/-/g, '+');\n    const charCodes = stringToByteArray(atob(base64));\n    const bytesCount = charCodes.length;\n    let binary = new Array(bytesCount);\n    for (let i = 0, l = bytesCount; i < l; i++) {\n      binary[i] = unsignedIntegerToBinary(charCodes[i], BYTE_BIT_LENGTH);\n    }\n    binary = binary.join('');\n    return binary;\n  }\n\n  // Console output store\n  const logs = {\n    usedTypes: {},\n    typeLengths: {},\n    binarySamples: {}\n  };\n\n  /**\n   * An abstract base class for a ValueType value to and from binary string converter\n   */\n  class AbstractValueType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     */\n    constructor(options) {\n      Object.assign(this, options);\n      this.binaryTypeLength = this.binaryType.length;\n    }\n\n    /**\n     * Adds a record of the binary string production to the logging store\n     * @param {[Array|string]} binary\n     */\n    log(binary) {\n      const name = this.name;\n      logs.usedTypes[name] = logs.usedTypes[name] || 0;\n      logs.usedTypes[name]++;\n      logs.binarySamples[name] = logs.binarySamples[name] || [];\n      logs.binarySamples[name].push(binary);\n    }\n\n  };\n\n  /**\n   * Converts a fixed length positive integer to and from a binary string.\n   */\n  class FixedIntegerType extends AbstractValueType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.valueBinaryLength Bit length of the integer\n     */\n    constructor(options) {\n      super(options);\n      this.esType = 'number';\n      if (!this.valueBinaryLength) {\n        return;\n      }\n      this.minValue = options.minValue || 0;\n      this.maxValue = options.maxValue || Math.pow(2, this.valueBinaryLength) - 1;\n    }\n\n    /**\n     * Converts a fixed length positive integer to an array of binary strings\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      let binary = unsignedIntegerToBinary(integer, this.valueBinaryLength);\n      if (logStats) {\n        this.log(binary);\n      }\n      binary = [binary];\n      return binary;\n    }\n\n    /**\n     * Shifts a fixed length positive integer from the binary string, returning\n     * the integer and the next part of the binary string.\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let integer;\n      [integer, binary] = shiftUnsignedIntegerFromBinary(binary, this.valueBinaryLength);\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a boolean to and from a binary string\n   */\n  class FixedBooleanType extends FixedIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     */\n    constructor(options) {\n      options.valueBinaryLength = 1;\n      super(options);\n      this.esType = 'boolean';\n    }\n\n    /**\n     * Shifts a boolean from the binary string, returning\n     * the boolean and the next part of the binary string\n     * @param {string} binary\n     * @returns {[boolean, string]}\n     */\n    shiftValueFromBinary(binary) {\n      const bool = (binary[0] === '1');\n      binary = binary.slice(1);\n      return [bool, binary];\n    }\n\n  }\n\n  /**\n   * A helper for converting variable length positive integers to and from a binary string\n   */\n  class LengthAndValueBinary {\n\n    /**\n     * @param {string} parent The parent AbstractValueType\n     * @param {string} name The sub parent value part name \"integer\" or \"decimal\"\n     * @param {[number]} bitSizes An ordered array of expressible bit lengths\n     */\n    constructor(parent, name, bitSizes) {\n      this.parent = parent;\n      this.name = name;\n      this.bitSizes = bitSizes;\n      this.maxValues = _.flatten(this.bitSizes).map(value => (Math.pow(2, value) - 1));\n      this.maxValue = this.maxValues[this.maxValues.length - 1];\n      this.sizeBinaryLength = unsignedIntegerToBinary(this.bitSizes.length - 1).length;\n    }\n\n    /**\n     * Converts a positive integer to a binary string array\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      const parentName = this.parent.name;\n      const sizeIndex = this.maxValues.findIndex(maxValue => (integer <= maxValue));\n      if (sizeIndex === -1) {\n        throw new Error(`Value is too large for type: ${parentName} value: ${integer} max: ${this.maxValue}`);\n      }\n      const sizeBinary = unsignedIntegerToBinary(sizeIndex, this.sizeBinaryLength);\n      const valueLength = this.bitSizes[sizeIndex];\n      const name = this.name;\n      if (logStats) {\n        logs.typeLengths[parentName] = logs.typeLengths[parentName] || {};\n        logs.typeLengths[parentName][name] = logs.typeLengths[parentName][name] || {};\n        logs.typeLengths[parentName][name][valueLength] = logs.typeLengths[parentName][name][valueLength] || 0;\n        logs.typeLengths[parentName][name][valueLength]++;\n      }\n      const integerBinary = unsignedIntegerToBinary(integer, valueLength);\n      const binary = [sizeBinary, integerBinary];\n      return binary;\n    }\n\n    /**\n     * Shifts a positive integer from the binary string, returning\n     * the integer and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let sizeBinary;\n      [sizeBinary, binary] = shiftBinary(binary, this.sizeBinaryLength);\n      const sizeIndex = binaryToUnsignedInteger(sizeBinary);\n      const valueLength = this.bitSizes[sizeIndex];\n      let integer;\n      [integer, binary] = shiftUnsignedIntegerFromBinary(binary, valueLength);\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length positive or negative integer to and from a\n   * binary string\n   */\n  class VariableIntegerType extends FixedIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.minValue Minimum value for the integer\n     * @param {number} options.maxValue Maximum value for the integer\n     * @param {[number]} options.integerBitSizes Expressible storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.isNegative = (this.minValue < 0 && this.maxValue === 0);\n      this.integer = new LengthAndValueBinary(this, 'integer', options.integerBitSizes);\n    }\n\n    /**\n     * Converts a positive or negative integer to a array of binary strings\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      integer = integer.toFixed(0);\n      const binary = this.integer.valueToBinary(Math.abs(integer), logStats);\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts a positive or negative integer from the binary string, returning\n     * the integer and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let integer;\n      [integer, binary] = this.integer.shiftValueFromBinary(binary);\n      if (this.isNegative) {\n        integer = -integer;\n      }\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length array to and from a binary string\n   */\n  class VariableArrayType extends VariableIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {[number]} options.integerBitSizes Expressible storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.esType = 'array';\n    }\n\n    /**\n     * Converts an array to an array of binary strings\n     * @param {Array} array\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[Array|string]}\n     */\n    valueToBinary(array, logStats = null) {\n      const arrayLength = array.length;\n      const binary = super.valueToBinary(arrayLength);\n      if (arrayLength) {\n        const valueType = findValueTypeFromValues(array);\n        binary.push(valueType.binaryType);\n        binary.type = valueType.name;\n        binary.push(array.map(value => valueType.valueToBinary(value, logStats)));\n      }\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts an array from the binary string, returning\n     * the array and the next part of the binary string\n     * @param {string} binary\n     * @returns {[Array, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let arrayLength;\n      [arrayLength, binary] = super.shiftValueFromBinary(binary);\n      const value = new Array(arrayLength);\n      if (arrayLength) {\n        let valueType;\n        [valueType, binary] = shiftValueTypeFromBinary(binary);\n        for (let i = 0, l = arrayLength; i < l; i++) {\n          [value[i], binary] = valueType.shiftValueFromBinary(binary);\n        }\n      }\n      return [value, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length signed integer to and from a binary string\n   */\n  class VariableSignedIntegerType extends VariableIntegerType {\n\n    /**\n     * Converts a signed positive or negative integer to a binary string array\n     * @param {number} integer\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(integer, logStats = null) {\n      integer = integer.toFixed(0);\n      const isNegative = (integer < 0);\n      const signBinary = isNegative ? '1' : '0';\n      const integerBinary = this.integer.valueToBinary(Math.abs(integer), logStats);\n      const binary = [signBinary, integerBinary];\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts the first signed integer value from the binary string, returning\n     * the integer value and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let isNegative;\n      [isNegative, binary] = shiftUnsignedIntegerFromBinary(binary, 1);\n      let integer;\n      [integer, binary] = this.integer.shiftValueFromBinary(binary);\n      if (isNegative) {\n        integer = -integer;\n      }\n      return [integer, binary];\n    }\n\n  }\n\n  /**\n   * Converts a variable length 2 precision decimal to and from a binary string\n   */\n  class VariableDecimalType extends VariableIntegerType {\n\n    /**\n     * @param {Object} options\n     * @param {string} options.name Name identifying the type\n     * @param {string} options.binaryType Binary string identifying the type\n     * @param {number} options.minValue Minimum value for the integer\n     * @param {number} options.maxValue Maximum value for the integer\n     * @param {[number]} options.integerBitSizes Expressible integer storage bit sizes\n     * @param {[number]} options.decimalBitSizes Expressible decimal storage bit sizes\n     */\n    constructor(options) {\n      super(options);\n      this.isFloat = true;\n      this.decimal = new LengthAndValueBinary(this, 'decimal', options.decimalBitSizes);\n    }\n\n    /**\n     * Converts a signed 2 precision decimal to an array of binary strings\n     * @param {number} float\n     * @param {boolean} [logStats] Log the type usage for output to the console\n     * @returns {[string]}\n     */\n    valueToBinary(float, logStats = null) {\n      float = float.toFixed(2);\n      const isNegative = (float < 0);\n      float = Math.abs(float);\n      const parts = String(float).split('.');\n      const higherInteger = parseInt(parts[0]);\n      const lowerInteger = parseInt(zeroPadRightToLength(parts[1] || 0, 2));\n      const signBinary = isNegative ? '1' : '0';\n      const integerValueBinary = this.integer.valueToBinary(higherInteger, logStats);\n      const decimalValueBinary = this.decimal.valueToBinary(lowerInteger, logStats);\n      const binary = [signBinary, integerValueBinary, decimalValueBinary];\n      if (logStats) {\n        this.log(binary);\n      }\n      return binary;\n    }\n\n    /**\n     * Shifts the first signed 2 precision decimal value from the binary string,\n     * returning the decimal value and the next part of the binary string\n     * @param {string} binary\n     * @returns {[number, string]}\n     */\n    shiftValueFromBinary(binary) {\n      let isNegative;\n      [isNegative, binary] = shiftUnsignedIntegerFromBinary(binary, 1);\n      let higherInteger;\n      [higherInteger, binary] = this.integer.shiftValueFromBinary(binary);\n      let lowerInteger;\n      [lowerInteger, binary] = this.decimal.shiftValueFromBinary(binary);\n      lowerInteger = zeroPadLeftToLength(String(lowerInteger), 2);\n      let float = parseFloat(higherInteger + '.' + lowerInteger);\n      if (isNegative) {\n        float = -float;\n      }\n      return [float, binary];\n    }\n\n  }\n\n  const arrayType = new VariableArrayType({\n    name: 'array',\n    binaryType: '10',\n    integerBitSizes: [4, 16]\n  });\n\n  const booleanType = new FixedBooleanType({\n    name: 'boolean',\n    binaryType: '0'\n  });\n\n  /**\n   * @type {[FixedIntegerType|VariableIntegerType]}\n   */\n  const integerTypes = [\n    new FixedIntegerType({\n      name: 'uint3',\n      binaryType: '1110',\n      valueBinaryLength: 3\n    }),\n    new VariableIntegerType({\n      name: 'vint8+',\n      binaryType: '110',\n      minValue: 0,\n      maxValue: 255,\n      integerBitSizes: [2, 8]\n    }),\n    new VariableIntegerType({\n      name: 'vint8-',\n      binaryType: '111100',\n      minValue: -255,\n      maxValue: 0,\n      integerBitSizes: [2, 8]\n    }),\n    new VariableSignedIntegerType({\n      name: 'sint32',\n      binaryType: '111110',\n      minValue: -4294967295,\n      maxValue: 4294967295,\n      integerBitSizes: [2, 4, 16, 32]\n    })\n  ];\n\n  /**\n   * @type {[VariableDecimalType]}\n   */\n  const decimalTypes = [\n    new VariableDecimalType({\n      name: 'sdec15',\n      binaryType: '111101',\n      minValue: -255.99,\n      maxValue: 255.99,\n      integerBitSizes: [2, 8],\n      decimalBitSizes: [0, 7]\n    }),\n    new VariableDecimalType({\n      name: 'sdec39',\n      binaryType: '111111',\n      minValue: -4294967295.99,\n      maxValue: 4294967295.99,\n      integerBitSizes: [2, 4, 16, 32],\n      decimalBitSizes: [0, 7]\n    })\n  ];\n\n  // Store and index all of the value types for searching by binaryType and name\n  const ValueTypes = [booleanType, arrayType].concat(integerTypes).concat(decimalTypes);\n  ValueTypes.nameIndex = {};\n  ValueTypes.forEach(valueType => (ValueTypes.nameIndex[valueType.name] = valueType));\n\n  /**\n   * Extends the native typeof keyword with array and null\n   * @param {*} value\n   * @returns {string} \"undefined\"|\"null\"|\"boolean\"|\"number\"|\"array\"|\"object\"\n   */\n  function esTypeOf(value) {\n    if (Array.isArray(value)) {\n      return 'array';\n    }\n    if (value === null) {\n      return 'null';\n    }\n    return typeof value;\n  }\n\n  /**\n   * Returns matching ValueType for the given name\n   * @param {string} name\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromName(name) {\n    return ValueTypes.nameIndex[name.toLowerCase()];\n  }\n\n  /**\n   * Returns matching ValueType for the given value\n   * @param {number|boolean|Array} value\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromValue(value) {\n    const esType = esTypeOf(value);\n    switch (esType) {\n      case 'array':\n        return arrayType;\n      case 'boolean':\n        return booleanType;\n    }\n    value = value.toFixed(2);\n    const isFloat = !Number.isInteger(value);\n    const isValueInValueTypeRange = valueType => (value >= valueType.minValue && value <= valueType.maxValue);\n    const valueType = isFloat ?\n      decimalTypes.find(isValueInValueTypeRange) :\n      integerTypes.find(isValueInValueTypeRange);\n    if (!valueType) {\n      throw new Error(`Cannot find type from value: ${value}`);\n    }\n    return valueType;\n  }\n\n  /**\n   * Returns a common ValueType for an array of values\n   * @param {Array} values\n   * @returns {AbstractValueType}\n   */\n  function findValueTypeFromValues(values) {\n    if (!values.length) {\n      return;\n    }\n    let minValue = 0;\n    let maxValue = 0;\n    let isFloat = false;\n    const esTypes = values.map(value => {\n      const valueType = findValueTypeFromValue(value, isFloat);\n      if (valueType.esType === 'number') {\n        minValue = Math.min(value, minValue);\n        maxValue = Math.max(value, maxValue);\n        isFloat = isFloat || !Number.isInteger(value);\n      }\n      return valueType.esType;\n    });\n    const uniqESTypes = [...new Set(esTypes)];\n    if (uniqESTypes.length > 1) {\n      throw new Error(`Cannot resolve array to one type: ${uniqESTypes.join()}`);\n    }\n    const esType = uniqESTypes[0];\n    switch (esType) {\n      case 'array':\n        return arrayType;\n      case 'boolean':\n        return booleanType;\n    }\n    const isRangeInValueTypeRange = valueType => (minValue >= valueType.minValue && maxValue <= valueType.maxValue);\n    const valueType = isFloat ?\n      decimalTypes.find(isRangeInValueTypeRange) :\n      integerTypes.find(isRangeInValueTypeRange);\n    if (!valueType) {\n      throw new Error(`Cannot find type from value. min: ${minValue} max: ${maxValue} isfloat: ${isFloat}`);\n    }\n    return valueType;\n  }\n\n  /**\n   * Shifts the first value type representation from the binary string, returning\n   * the the ValueType found and next part of the binary string\n   * @param {string} binary\n   * @returns {[AbstractValueType, string]}\n   */\n  function shiftValueTypeFromBinary(binary) {\n    const valueType = ValueTypes.find(valueType => {\n      const binaryType = binary.slice(0, valueType.binaryTypeLength);\n      return (binaryType === valueType.binaryType);\n    });\n    if (!valueType) {\n      throw new Error(`Cannot find type from binary: ${binary.slice(0, 6)}...`);\n    }\n    binary = binary.slice(valueType.binaryTypeLength);\n    return [valueType, binary];\n  }\n\n  /**\n   * Sanitize the input throwing errors on any incorrect variable types whilst\n   * cloning the input arrays\n   * @param {number|boolean|Array} value\n   * @returns {number|boolean|Array}\n   */\n  function convertValuesToNumbers(value) {\n    const esType = esTypeOf(value);\n    switch (esType) {\n      case 'array':\n        return value.map(convertValuesToNumbers);\n      case 'undefined':\n      case 'null':\n        return (value ? 1 : 0);\n      case 'boolean':\n      case 'number':\n        return value;\n    }\n    throw new Error(`Cannot convert ${esType} to number`);\n  }\n\n  /**\n   * Main API\n   */\n  class Converter {\n\n    /**\n     * Checks the given value for conversion errors and returns the error\n     * @param {string|number|Array} value\n     * @returns {undefined|Error}\n     */\n    getInvalidTypeError(value) {\n      try {\n        value = convertValuesToNumbers(value);\n        (esTypeOf(value) === 'array') ?\n          findValueTypeFromValues(value) :\n          findValueTypeFromValue(value);\n        return;\n      } catch (err) {\n        return err;\n      }\n    }\n\n    /**\n     * Convert an array, boolean or number into a string binary representation\n     * @param {number|boolean|Array} value\n     * @param {string} [typeName] To force an internal data type for testing\n     * @param {boolean} [logStats] Console logs statistics on type use\n     * @returns {string}\n     */\n    valueToBinary(value, typeName = null, logStats = null) {\n      this.clearLog();\n      const hasInitialType = (typeof typeName === 'string');\n      value = convertValuesToNumbers(value);\n      const valueType = hasInitialType ?\n        findValueTypeFromName(typeName) :\n        findValueTypeFromValue(value);\n      if (!valueType) {\n        throw new Error(`Could not find value type from ${hasInitialType ? `name ${typeName}` : `value ${value}`} accepts: ${Object.keys(ValueTypes.nameIndex)}. Leave typeName empty for auto-detect.`);\n      }\n      const binary = valueType.valueToBinary(value, logStats);\n      if (!hasInitialType) {\n        binary.unshift(valueType.binaryType);\n      }\n      if (logStats) {\n        this.printLog();\n      }\n      return binary;\n    }\n\n    /**\n     * Convert the string binary representation back into an array, boolean or number\n     * @param {string} binary A string binary representation of data from valueToBinary\n     * @param {string} [typeName] To force an internal data type for testing\n     * @returns {number|boolean|Array}\n     */\n    valueFromBinary(binary, typeName = null) {\n      binary = _.flatten(binary).join('');\n      const hasInitialType = typeof typeName === 'string';\n      let valueType;\n      if (hasInitialType) {\n        valueType = findValueTypeFromName(typeName);\n      } else {\n        [valueType, binary] = shiftValueTypeFromBinary(binary);\n      }\n      if (!valueType || !(valueType instanceof AbstractValueType)) {\n        throw new Error(`Could not find value type from ${hasInitialType ? `name \"${typeName}\"` : `binary \"${binary.slice(0, 8)}\"...`} accepts: ${Object.keys(ValueTypes.nameIndex)}. Leave typeName empty for auto-detect.`);\n      }\n      const [value] = valueType.shiftValueFromBinary(binary);\n      return value;\n    }\n\n    /**\n     * Clears any previous logs\n     */\n    clearLog() {\n      logs.usedTypes = {};\n      logs.typeLengths = {};\n      logs.binarySamples = {};\n    }\n\n    /**\n     * Prints logs from last run\n     */\n    printLog() {\n      console.log('Types used count:', logs.usedTypes);\n      console.log('Type lengths used count:', logs.typeLengths);\n      console.log('Type binary samples:', logs.binarySamples);\n    }\n\n    /**\n     * Convert an array, boolean or number into a base64 string\n     * @param {number|boolean|Array} value\n     * @param {string} [typeName] To force an internal data type for testing\n     * @param {boolean} [logStats] Console logs statistics on type use\n     * @returns {string}\n     */\n    serialize(value, typeName = null, logStats = null) {\n      const binary = this.valueToBinary(value, typeName, logStats);\n      const base64 = binaryToBase64(binary);\n      return base64;\n    }\n\n    /**\n     * Convert an array, boolean or number into a base64 string, asynchronously\n     * @param {number|boolean|Array} value\n     * @returns {string}\n     */\n    async serializeAsync(value, typeName = null, logStats = null) {\n      const binary = this.valueToBinary(value, null, null);\n      const base64 = binaryToBase64(binary);\n      const isLargeArray = (Array.isArray(value) && value.length > 10);\n      if (isLargeArray) {\n        return new Promise(resolve => {\n          LZMAWorker.compress(JSON.stringify(value), 1, data => {\n            const compressedBase64 = `#${window.btoa(data.map(i => String.fromCharCode(i + 128)).join('')).replace(/=/g, '')}`;\n            const isCompressedSmaller = (compressedBase64.length < base64.length);\n            if (isCompressedSmaller) return resolve(compressedBase64);\n            return resolve(base64);\n          });\n        });\n      }\n      return base64;\n    }\n\n    /**\n     * Convert the base64 string back into an array, boolean or number\n     * @param {string} base64 A string representation of data from serialize\n     * @param {string} [typeName] To force an internal data type for testing\n     * @returns {number|boolean|Array}\n     */\n    deserialize(base64, typeName = null) {\n      const isLZMACompressed = (base64[0] === '#');\n      if (isLZMACompressed) return JSON.parse(window.LZMA.decompress(window.atob(base64.slice(1)).split('').map(c => c.charCodeAt(0) - 128)));\n      const binary = base64ToBinary(base64);\n      const value = this.valueFromBinary(binary, typeName);\n      return value;\n    }\n\n  }\n\n  return (window.SCORMSuspendData = new Converter());\n});\n","import Adapt from 'core/js/adapt';\nimport log from 'core/js/logging';\nimport SCORMSuspendData from './SCORMSuspendData';\n\nexport default class ComponentSerializer extends Backbone.Controller {\n\n  initialize(trackingIdType, shouldCompress) {\n    this.trackingIdType = trackingIdType;\n    this.shouldCompress = shouldCompress;\n  }\n\n  async serialize(shouldStoreResponses, shouldStoreAttempts) {\n    if (shouldStoreAttempts && !shouldStoreResponses) {\n      log.warnOnce('SPOOR configuration error, cannot use \\'_shouldStoreAttempts\\' without \\'_shouldStoreResponses\\'');\n    }\n    const states = [];\n    Adapt.data.each(model => {\n      if (model.get('_type') !== this.trackingIdType) {\n        return;\n      }\n      const trackingId = model.get('_trackingId');\n      if (typeof trackingId === 'undefined') {\n        return;\n      }\n      const isContainer = model.hasManagedChildren;\n      const components = isContainer ?\n        model.findDescendantModels('component') :\n        [model];\n      components.forEach((component, index) => {\n        if (component.get('_isTrackable') === false) {\n          return;\n        }\n        if (!shouldStoreResponses) {\n          // Store only component completion\n          const state = [\n            [ trackingId, index ],\n            [ component.get('_isComplete') ]\n          ];\n          states.push(state);\n          return;\n        }\n        let modelState = null;\n        if (!component.getAttemptState) {\n          // Legacy components without getAttemptState API\n          modelState = component.get('_isQuestionType') ?\n            [\n              [\n                component.get('_score') || 0,\n                component.get('_attemptsLeft') || 0\n              ],\n              [\n                component.get('_isComplete') || false,\n                component.get('_isInteractionComplete') || false,\n                component.get('_isSubmitted') || false,\n                component.get('_isCorrect') || false\n              ],\n              [\n                component.get('_userAnswer')\n              ]\n            ] :\n            [\n              [],\n              [\n                component.get('_isComplete') || false,\n                component.get('_isInteractionComplete') || false\n              ],\n              [\n                component.get('_userAnswer')\n              ]\n            ];\n        } else {\n          modelState = component.getAttemptState();\n        }\n        // Correct the _userAnswer array as it is sometimes not an array\n        // incomplete components are undefined and slider is a number\n        const userAnswer = modelState[2][0];\n        const hasUserAnswer = typeof userAnswer !== 'undefined' && userAnswer !== null;\n        const isUserAnswerArray = Array.isArray(userAnswer);\n        if (!hasUserAnswer) {\n          modelState[2][0] = [];\n        } else if (!isUserAnswerArray) {\n          modelState[2][0] = [modelState[2][0]];\n        }\n        // _attemptStates is empty if not a question or not attempted\n        const attemptStates = component.get('_attemptStates');\n        const hasAttemptStates = shouldStoreAttempts && Array.isArray(attemptStates);\n        if (hasAttemptStates) {\n          modelState[2][1] = attemptStates;\n        }\n        // Create the restoration state object\n        const state = [\n          [ trackingId, index ],\n          [ hasUserAnswer, isUserAnswerArray, hasAttemptStates ],\n          modelState\n        ];\n        states.push(state);\n      });\n    });\n    if (this.shouldCompress) return await SCORMSuspendData.serializeAsync(states);\n    return SCORMSuspendData.serialize(states)\n  }\n\n  deserialize(binary) {\n    // Build a table of models and their tracking ids\n    const trackingIdMap = Adapt.data.toArray().reduce((trackingIdMap, model) => {\n      const trackingId = model.get('_trackingId');\n      if (typeof trackingId === 'undefined') return trackingIdMap;\n      trackingIdMap[trackingId] = model;\n      return trackingIdMap;\n    }, {});\n    const states = SCORMSuspendData.deserialize(binary);\n    // Derive the storage settings of the data from the states array, this will allow changes\n    // in the spoor configuration for _shouldStoreResponses and _shouldStoreAttempts\n    // to be non-breaking\n    const shouldStoreResponses = (states[0].length > 2);\n    states.forEach(state => {\n      const [ trackingId, index ] = state[0];\n      const model = trackingIdMap[trackingId];\n      if (!model) {\n        // Ignore any recently missing tracking ids if a course has been updated\n        return;\n      }\n      const isContainer = model.hasManagedChildren;\n      const components = isContainer ?\n        model.findDescendantModels('component') :\n        [model];\n      const component = components[index];\n      if (!component) {\n        log.warn(`SPOOR could not restore tracking id: ${trackingId}, index: ${index}`);\n        return;\n      }\n      if (!shouldStoreResponses) {\n        // Restore only component completion\n        const isComplete = state[1][0];\n        component.set('_isComplete', isComplete);\n        return;\n      }\n      const [ hasUserAnswer, isUserAnswerArray, hasAttemptStates ] = state[1];\n      const modelState = state[2];\n      // Correct the _userAnswer value if it wasn't an array originally\n      if (!hasUserAnswer) {\n        modelState[2][0] = null;\n      } else if (!isUserAnswerArray) {\n        modelState[2][0] = modelState[2][0][0];\n      }\n      // Allow empty _attemptStates\n      if (!hasAttemptStates) {\n        modelState[2][1] = null;\n      }\n      if (component.setAttemptObject) {\n        // Restore component state with setAttemptObject API\n        component.set('_attemptStates', modelState[2][1]);\n        const attemptObject = component.getAttemptObject(modelState);\n        component.setAttemptObject(attemptObject, false);\n        return;\n      }\n      // Legacy components without getAttemptState\n      component.get('_isQuestionType') ?\n        component.set({\n          _score: modelState[0][0],\n          _attemptsLeft: modelState[0][1],\n          _isComplete: modelState[1][0],\n          _isInteractionComplete: modelState[1][1],\n          _isSubmitted: modelState[1][2],\n          _isCorrect: modelState[1][3],\n          _userAnswer: modelState[2][0],\n          _attemptStates: modelState[2][1]\n        }) :\n        component.set({\n          _isComplete: modelState[1][0],\n          _isInteractionComplete: modelState[1][1],\n          _userAnswer: modelState[2][0],\n          _attemptStates: modelState[2][1]\n        });\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport COMPLETION_STATE from 'core/js/enums/completionStateEnum';\nimport ComponentSerializer from './serializers/ComponentSerializer';\nimport SCORMSuspendData from './serializers/SCORMSuspendData';\n\nexport default class StatefulSession extends Backbone.Controller {\n\n  initialize() {\n    _.bindAll(this, 'beginSession', 'onVisibilityChange', 'endSession');\n    this.scorm = ScormWrapper.getInstance();\n    this._trackingIdType = 'block';\n    this._componentSerializer = null;\n    this._shouldCompress = false;\n    this._shouldStoreResponses = true;\n    this._shouldStoreAttempts = false;\n    this._shouldRecordInteractions = true;\n    this.beginSession();\n  }\n\n  beginSession() {\n    this.listenTo(Adapt, 'app:dataReady', this.restoreSession);\n    this._trackingIdType = Adapt.build.get('trackingIdType') || 'block';\n    // suppress SCORM errors if 'nolmserrors' is found in the querystring\n    if (window.location.search.indexOf('nolmserrors') !== -1) {\n      this.scorm.suppressErrors = true;\n    }\n    const config = Adapt.spoor.config;\n    if (!config) return;\n    const tracking = config._tracking;\n    this._shouldStoreResponses = (tracking && tracking._shouldStoreResponses) || false;\n    this._shouldStoreAttempts = (tracking && tracking._shouldStoreAttempts) || false;\n    this._shouldCompress = (tracking && tracking._shouldCompress) || false;\n    this._componentSerializer = new ComponentSerializer(this._trackingIdType, this._shouldCompress);\n    // Default should be to record interactions, so only avoid doing that if\n    // _shouldRecordInteractions is set to false\n    if (tracking?._shouldRecordInteractions === false) {\n      this._shouldRecordInteractions = false;\n    }\n    const settings = config._advancedSettings;\n    if (!settings) {\n      // force use of SCORM 1.2 by default - some LMSes (SABA/Kallidus for instance)\n      // present both APIs to the SCO and, if given the choice, the pipwerks\n      // code will automatically select the SCORM 2004 API - which can lead to\n      // unexpected behaviour.\n      this.scorm.setVersion('1.2');\n      this.scorm.initialize();\n      return;\n    }\n    if (settings._showDebugWindow) {\n      this.scorm.showDebugWindow();\n    }\n    this.scorm.setVersion(settings._scormVersion || '1.2');\n    if (_.isBoolean(settings._suppressErrors)) {\n      this.scorm.suppressErrors = settings._suppressErrors;\n    }\n    if (_.isBoolean(settings._commitOnStatusChange)) {\n      this.scorm.commitOnStatusChange = settings._commitOnStatusChange;\n    }\n    if (_.isBoolean(settings._commitOnAnyChange)) {\n      this.scorm.commitOnAnyChange = settings._commitOnAnyChange;\n    }\n    if (_.isFinite(settings._timedCommitFrequency)) {\n      this.scorm.timedCommitFrequency = settings._timedCommitFrequency;\n    }\n    if (_.isFinite(settings._maxCommitRetries)) {\n      this.scorm.maxCommitRetries = settings._maxCommitRetries;\n    }\n    if (_.isFinite(settings._commitRetryDelay)) {\n      this.scorm.commitRetryDelay = settings._commitRetryDelay;\n    }\n    if ('_exitStateIfIncomplete' in settings) {\n      this.scorm.exitStateIfIncomplete = settings._exitStateIfIncomplete;\n    }\n    if ('_exitStateIfComplete' in settings) {\n      this.scorm.exitStateIfComplete = settings._exitStateIfComplete;\n    }\n    this.scorm.initialize();\n  }\n\n  restoreSession() {\n    this.setupLearnerInfo();\n    this.restoreSessionState();\n    // defer call because AdaptModel.check*Status functions are asynchronous\n    _.defer(this.setupEventListeners.bind(this));\n  }\n\n  setupLearnerInfo() {\n    // Replace the hard-coded _learnerInfo data in _globals with the actual data\n    // from the LMS\n    // If the course has been published from the AT, the _learnerInfo object\n    // won't exist so we'll need to create it\n    const globals = Adapt.course.get('_globals');\n    if (!globals._learnerInfo) {\n      globals._learnerInfo = {};\n    }\n    Object.assign(globals._learnerInfo, Adapt.offlineStorage.get('learnerinfo'));\n  }\n\n  restoreSessionState() {\n    const sessionPairs = Adapt.offlineStorage.get();\n    const hasNoPairs = !Object.keys(sessionPairs).length;\n    if (hasNoPairs) return;\n    if (sessionPairs.c) {\n      const [ _isComplete, _isAssessmentPassed ] = SCORMSuspendData.deserialize(sessionPairs.c);\n      Adapt.course.set({\n        _isComplete,\n        _isAssessmentPassed\n      });\n    }\n    if (!sessionPairs.q) return;\n    this._componentSerializer?.deserialize(sessionPairs.q);\n  }\n\n  setupEventListeners() {\n    this.debouncedSaveSession = _.debounce(this.saveSessionState.bind(this), 1);\n    this.listenTo(Adapt.components, 'change:_isComplete', this.debouncedSaveSession);\n    this.listenTo(Adapt.course, 'change:_isComplete', this.debouncedSaveSession);\n    if (this._shouldStoreResponses) {\n      this.listenTo(Adapt.data, 'change:_isSubmitted change:_userAnswer', this.debouncedSaveSession);\n    }\n    this.listenTo(Adapt, {\n      'app:languageChanged': this.onLanguageChanged,\n      'questionView:recordInteraction': this.onQuestionRecordInteraction,\n      'tracking:complete': this.onTrackingComplete\n    });\n    const config = Adapt.spoor.config;\n    const advancedSettings = config._advancedSettings;\n    const shouldCommitOnVisibilityChange = (!advancedSettings ||\n        advancedSettings._commitOnVisibilityChangeHidden !== false);\n    if (shouldCommitOnVisibilityChange) {\n      document.addEventListener('visibilitychange', this.onVisibilityChange);\n    }\n    $(window).on('beforeunload unload', this.endSession);\n  }\n\n  async saveSessionState() {\n    const isMidRender = !Adapt.parentView?.model.get('_isReady');\n    // Wait until finished rendering to save\n    if (isMidRender) return this.debouncedSaveSession();\n    const courseState = SCORMSuspendData.serialize([\n      Boolean(Adapt.course.get('_isComplete')),\n      Boolean(Adapt.course.get('_isAssessmentPassed'))\n    ]);\n    const componentStates = await this._componentSerializer?.serialize(this._shouldStoreResponses, this._shouldStoreAttempts);\n    const sessionPairs = {\n      c: courseState,\n      q: componentStates\n    };\n    Adapt.offlineStorage.set(sessionPairs);\n    this.printCompletionInformation(sessionPairs);\n  }\n\n  printCompletionInformation(suspendData) {\n    if (typeof suspendData === 'string') {\n      // In-case LMS data is passed as a string\n      suspendData = JSON.parse(suspendData);\n    }\n    const courseState = SCORMSuspendData.deserialize(suspendData.c);\n    const courseComplete = courseState[0];\n    const assessmentPassed = courseState[1];\n    const trackingIdModels = Adapt.data.filter(model => model.get('_type') === this._trackingIdType && model.has('_trackingId'));\n    const trackingIds = trackingIdModels.map(model => model.get('_trackingId'));\n    if (!trackingIds.length) {\n      Adapt.log.info(`course._isComplete: ${courseComplete}, course._isAssessmentPassed: ${assessmentPassed}, ${this._trackingIdType} completion: no tracking ids found`);\n      return;\n    }\n    const data = SCORMSuspendData.deserialize(suspendData.q);\n    const max = Math.max(...data.map(item => item[0][0]));\n    const shouldStoreResponses = (data[0].length === 3);\n    const completionString = data.reduce((markers, item) => {\n      const trackingId = item[0][0];\n      const isComplete = shouldStoreResponses ?\n        item[2][1][0] :\n        item[1][0];\n      const mark = isComplete ? '1' : '0';\n      markers[trackingId] = (markers[trackingId] === '-' || markers[trackingId] === '1') ?\n        mark :\n        '0';\n      return markers;\n    }, (new Array(max + 1).join('-').split(''))).join('');\n    Adapt.log.info(`course._isComplete: ${courseComplete}, course._isAssessmentPassed: ${assessmentPassed}, ${this._trackingIdType} completion: ${completionString}`);\n  }\n\n  onLanguageChanged() {\n    // when the user switches language, we need to:\n    // - reattach the event listeners as the language change triggers a reload of\n    //   the json, which will create brand new collections\n    // - get and save a fresh copy of the session state. as the json has been reloaded,\n    //   the blocks completion data will be reset (the user is warned that this will\n    //   happen by the language picker extension)\n    // - check to see if the config requires that the lesson_status be reset to\n    //   'incomplete'\n    const config = Adapt.spoor.config;\n    this.removeEventListeners();\n    this.setupEventListeners();\n    this.saveSessionState();\n    if (config?._reporting?._resetStatusOnLanguageChange !== true) return;\n    Adapt.offlineStorage.set('status', 'incomplete');\n  }\n\n  onVisibilityChange() {\n    if (document.visibilityState === 'hidden') this.scorm.commit();\n  }\n\n  onQuestionRecordInteraction(questionView) {\n    if (!this._shouldRecordInteractions) return;\n    const responseType = questionView.getResponseType();\n    // If responseType doesn't contain any data, assume that the question\n    // component hasn't been set up for cmi.interaction tracking\n    if (_.isEmpty(responseType)) return;\n    const id = questionView.model.get('_id');\n    const response = questionView.getResponse();\n    const result = questionView.isCorrect();\n    const latency = questionView.getLatency();\n    Adapt.offlineStorage.set('interaction', id, response, result, latency, responseType);\n  }\n\n  onTrackingComplete(completionData) {\n    const config = Adapt.spoor.config;\n    this.saveSessionState();\n    let completionStatus = completionData.status.asLowerCase;\n    // The config allows the user to override the completion state.\n    switch (completionData.status) {\n      case COMPLETION_STATE.COMPLETED:\n      case COMPLETION_STATE.PASSED: {\n        if (!config?._reporting?._onTrackingCriteriaMet) {\n          Adapt.log.warn(`No value defined for '_onTrackingCriteriaMet', so defaulting to '${completionStatus}'`);\n        } else {\n          completionStatus = config._reporting._onTrackingCriteriaMet;\n        }\n\n        break;\n      }\n      case COMPLETION_STATE.FAILED: {\n        if (!config?._reporting?._onAssessmentFailure) {\n          Adapt.log.warn(`No value defined for '_onAssessmentFailure', so defaulting to '${completionStatus}'`);\n        } else {\n          completionStatus = config._reporting._onAssessmentFailure;\n        }\n      }\n    }\n    Adapt.offlineStorage.set('status', completionStatus);\n  }\n\n  endSession() {\n    if (!this.scorm.finishCalled) {\n      this.scorm.finish();\n    }\n    this.removeEventListeners();\n  }\n\n  removeEventListeners() {\n    $(window).off('beforeunload unload', this.endSession);\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n    this.stopListening();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport SCORMSuspendData from './serializers/SCORMSuspendData';\nimport OfflineStorage from 'core/js/offlineStorage';\n\n/**\n * SCORM handler for Adapt.offlineStorage interface.\n */\nexport default class OfflineStorageScorm extends Backbone.Controller {\n\n  initialize(statefulSession) {\n    this.offlineStorage = OfflineStorage;\n    this.scorm = ScormWrapper.getInstance();\n    this.statefulSession = statefulSession;\n    this.temporaryStore = {};\n    this.suspendDataStore = {};\n    this.suspendDataRestored = false;\n    Adapt.offlineStorage.initialize(this);\n  }\n\n  save() {\n    this.statefulSession.saveSessionState();\n    this.scorm.commit();\n  }\n\n  serialize(...args) {\n    return SCORMSuspendData.serialize(...args);\n  }\n\n  deserialize(...args) {\n    return SCORMSuspendData.deserialize(...args);\n  }\n\n  get(name) {\n    if (name === undefined) {\n      // If not connected return just temporary store.\n      if (this.useTemporaryStore()) return this.temporaryStore;\n\n      // Get all values as a combined object\n      this.suspendDataStore = this.getCustomStates();\n\n      const data = Object.assign(_.clone(this.suspendDataStore), {\n        location: this.scorm.getLessonLocation(),\n        score: this.scorm.getScore(),\n        status: this.scorm.getStatus(),\n        student: this.scorm.getStudentName(),\n        learnerInfo: this.getLearnerInfo()\n      });\n\n      this.suspendDataRestored = true;\n\n      return data;\n    }\n\n    // If not connected return just temporary store value.\n    if (this.useTemporaryStore()) return this.temporaryStore[name];\n\n    // Get by name\n    let courseState;\n    switch (name.toLowerCase()) {\n      case 'location':\n        return this.scorm.getLessonLocation();\n      case 'score':\n        return this.scorm.getScore();\n      case 'status':\n        return this.scorm.getStatus();\n      case 'student':\n        // for backwards-compatibility. learnerInfo is preferred now and will\n        // give you more information\n        return this.scorm.getStudentName();\n      case 'learnerinfo':\n        return this.getLearnerInfo();\n      case 'coursestate': {\n        courseState = this.getCustomState('c');\n        const stateArray = (courseState && SCORMSuspendData.deserialize(courseState)) || [];\n        return {\n          _isCourseComplete: Boolean(stateArray.slice(0, 1).map(Number)[0]),\n          _isAssessmentPassed: Boolean(stateArray.slice(1, 2).map(Number)[0]),\n          completion: stateArray.slice(2).map(Number).map(String).join('') || ''\n        };\n      }\n      case 'completion':\n        courseState = this.getCustomState('c');\n        return (courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(2)\n          .map(Number)\n          .map(String)\n          .join('')) || '';\n      case '_iscoursecomplete':\n        courseState = this.getCustomState('c');\n        return Boolean(courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(0, 1)\n          .map(Number)[0]);\n      case '_isassessmentpassed':\n        courseState = this.getCustomState('c');\n        return Boolean(courseState && SCORMSuspendData\n          .deserialize(courseState)\n          .slice(1, 2)\n          .map(Number)[0]);\n      case 'questions': {\n        const questionsState = this.getCustomState('q');\n        return questionsState || '';\n      }\n      default:\n        return this.getCustomState(name);\n    }\n  }\n\n  set(name, value) {\n    // Convert arguments to array and drop the 'name' parameter\n    const args = [...arguments].slice(1);\n    const isObject = typeof name === 'object';\n\n    if (isObject) {\n      value = name;\n      name = 'suspendData';\n    }\n\n    if (this.useTemporaryStore()) {\n      if (isObject) {\n        Object.assign(this.temporaryStore, value);\n      } else {\n        this.temporaryStore[name] = value;\n      }\n\n      return true;\n    }\n\n    switch (name.toLowerCase()) {\n      case 'interaction':\n        return this.scorm.recordInteraction(...args);\n      case 'location':\n        return this.scorm.setLessonLocation(...args);\n      case 'score':\n        return this.scorm.setScore(...args);\n      case 'status':\n        return this.scorm.setStatus(...args);\n      case 'student':\n      case 'learnerinfo':\n        return false;// these properties are read-only\n      case 'lang':\n        this.scorm.setLanguage(value);\n        // fall-through so that lang gets stored in suspend_data as well:\n        // because in SCORM 1.2 cmi.student_preference.language is an optional\n        // data element so we can't rely on the LMS having support for it.\n        // If it does support it we may as well save the user's choice there\n        // purely for reporting purposes\n        break;\n      case 'suspenddata':\n        break;\n    }\n\n    if (isObject) {\n      Object.assign(this.suspendDataStore, value);\n    } else {\n      this.suspendDataStore[name] = value;\n    }\n\n    const dataAsString = JSON.stringify(this.suspendDataStore);\n    return (this.suspendDataRestored) ? this.scorm.setSuspendData(dataAsString) : false;\n  }\n\n  getCustomStates() {\n    const isSuspendDataStoreEmpty = _.isEmpty(this.suspendDataStore);\n    if (!isSuspendDataStoreEmpty && this.suspendDataRestored) {\n      return _.clone(this.suspendDataStore);\n    }\n\n    const dataAsString = this.scorm.getSuspendData();\n    if (dataAsString === '' || dataAsString === ' ' || dataAsString === undefined) {\n      return {};\n    }\n\n    const dataAsJSON = JSON.parse(dataAsString);\n    if (!isSuspendDataStoreEmpty && !this.suspendDataRestored) {\n      Object.assign(dataAsJSON, this.suspendDataStore);\n    }\n    return dataAsJSON;\n  }\n\n  getCustomState(name) {\n    const dataAsJSON = this.getCustomStates();\n    return dataAsJSON[name];\n  }\n\n  useTemporaryStore() {\n    const cfg = Adapt.config.get('_spoor');\n\n    if (!this.scorm.lmsConnected || (cfg?._isEnabled === false)) return true;\n    return false;\n  }\n\n  /**\n   * Returns an object with the properties:\n   * - id (cmi.core.student_id)\n   * - name (cmi.core.student_name - which is usually in the format\n   *    'Lastname, Firstname' or 'Firstname Lastname' - but it sometimes doesn't\n   *    have the space after the comma\n   *   )\n   * - firstname\n   * - lastname\n   */\n  getLearnerInfo() {\n    const id = this.scorm.getStudentId();\n\n    let name = this.scorm.getStudentName();\n    let firstname = '';\n    let lastname = '';\n\n    let hasName = (name && name !== 'undefined');\n    const isNameCommaSeparated = hasName && name.includes(',');\n    const isNameSpaceSeparated = hasName && name.includes(' ');\n\n    // Name must have either a comma or a space\n    hasName = hasName && (isNameCommaSeparated || isNameSpaceSeparated);\n\n    if (!hasName) {\n      console.log('SPOOR: LMS learner_name not in \\'lastname, firstname\\' or \\'firstname lastname\\' format');\n      return { id, name, firstname, lastname };\n    }\n\n    const separator = isNameCommaSeparated ? ',' : ' ';\n    const nameParts = name.split(separator);\n    if (isNameCommaSeparated) {\n      // Assume lastname appears before the comma\n      nameParts.reverse();\n    }\n    [ firstname, lastname ] = nameParts.map(part => part.trim());\n    name = `${firstname} ${lastname}`;\n    return { id, name, firstname, lastname };\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport ScormWrapper from './scorm/wrapper';\nimport StatefulSession from './adapt-stateful-session';\nimport OfflineStorage from './adapt-offlineStorage-scorm';\n\nclass Spoor extends Backbone.Controller {\n\n  initialize() {\n    this.config = null;\n    this.scorm = ScormWrapper.getInstance();\n    this.listenToOnce(Adapt, 'offlineStorage:prepare', this._prepare);\n  }\n\n  _prepare() {\n    this.config = Adapt.config.get('_spoor');\n    if (!this.isEnabled) {\n      Adapt.offlineStorage.setReadyStatus();\n      return;\n    }\n    this.statefulSession = new StatefulSession();\n    this.offlineStorage = new OfflineStorage(this.statefulSession);\n    // force offlineStorage-scorm to initialise suspendDataStore - this allows\n    // us to do things like store the user's chosen language before the rest\n    // of the course data loads\n    Adapt.offlineStorage.get();\n    Adapt.offlineStorage.setReadyStatus();\n    // setup debug window keyboard shortcut\n    require(['libraries/jquery.keycombo'], () => {\n      // listen for user holding 'd', 'e', 'v' keys together\n      $.onKeyCombo([68, 69, 86], () => {\n        Adapt.spoor.scorm.showDebugWindow();\n      });\n    });\n  }\n\n  get isEnabled() {\n    return (this.config && this.config._isEnabled);\n  }\n\n}\n\nAdapt.spoor = new Spoor();\n\nexport default Adapt.spoor;\n","import Adapt from 'core/js/adapt';\nimport data from 'core/js/data';\nimport logging from 'core/js/logging';\nimport ContentObjectModel from 'core/js/models/contentObjectModel';\nimport CourseModel from 'core/js/models/courseModel';\n\n/**\n * Utility function for applying deep defaults\n * @param {Object} original\n * @param  {...Object} defaultObjects\n * @returns {Object} Returns original\n */\nexport function _deepDefaults(original, ...defaultObjects) {\n  defaultObjects.reverse();\n  defaultObjects.forEach(defaults => {\n    const keyValuePairs = Object.entries(defaults);\n    keyValuePairs.forEach(([ key, defaultValue ]) => {\n      const isRecursiveObject = (typeof defaultValue === 'object' && !Array.isArray(defaultValue) && defaultValue !== null);\n      if (isRecursiveObject) {\n        original[key] = _deepDefaults(original[key] || {}, defaultValue);\n        return;\n      }\n      const isValueAlreadySet = Object.prototype.hasOwnProperty.call(original, key);\n      if (isValueAlreadySet) return;\n      original[key] = defaultValue;\n    });\n  });\n  return original;\n}\n\nexport const configDefaults = {\n  _isEnabled: false,\n  _isInherited: false,\n  _autoScroll: true,\n  _scrollTo: '@block +1',\n  _onChildren: false,\n  _button: {\n    _isEnabled: true,\n    _isFullWidth: true,\n    _autoHide: false,\n    _hasIcon: false,\n    _styleBeforeCompletion: 'hidden',\n    _styleAfterClick: 'hidden',\n    _component: 'trickle-button',\n    _className: '',\n    text: 'Continue',\n    ariaLabel: '',\n    startText: '',\n    startAriaLabel: '',\n    finalText: '',\n    finalAriaLabel: ''\n  },\n  _stepLocking: {\n    _isEnabled: true,\n    _isCompletionRequired: true,\n    _isLockedOnRevisit: false\n  }\n};\n\n/**\n * @param {Backbone.Model} model\n * @returns {Boolean}\n */\nexport function isModelArticleWithOnChildren(model) {\n  const type = model.get('_type');\n  const trickleConfig = model.get('_trickle');\n  return (type === 'article' && trickleConfig && trickleConfig._onChildren !== false);\n}\n\n/**\n * Get the default trickle configuration for the given model\n * @param {Backbone.Model} model\n */\nexport function getModelConfigDefaults(model) {\n  const type = model.get('_type');\n  const config = {};\n  // Setup default legacy article behaviour, onChildren === isArticle if omitted\n  _deepDefaults(config, configDefaults, {\n    _onChildren: (type === 'article')\n  });\n  // Default startText and finalText when _onChildren: true\n  if (config._onChildren) {\n    config._button.startText = config._button.startText ?? 'Begin';\n    config._button.startAriaLabel = config._button.startAriaLabel ?? '';\n    config._button.finalText = config._button.finalText ?? 'Finish';\n    config._button.finalAriaLabel = config._button.finalAriaLabel ?? '';\n  }\n  // Force step locking for _isFullWidth buttons\n  if (config._button._isFullWidth) {\n    config._stepLocking._isEnabled = true;\n  }\n  return config;\n}\n\n/**\n * Returns an array of models from which to derive a trickle config or null\n * @param {Backbone.Model} configModel\n * @returns {[Backbone.Model]|null}\n */\nexport function getModelInheritanceChain(configModel) {\n  if (!data.isReady) throw new Error('Trickle cannot resolve inheritance chains until data is ready');\n  const type = configModel.get('_type');\n  if (type === 'block') {\n    const parentModel = configModel.getParent();\n    const parentConfig = parentModel.get('_trickle');\n    const blockConfig = configModel.get('_trickle');\n    const isParentEnabledNotOnChildren = (parentConfig?._isEnabled && parentConfig._onChildren === false);\n    const isNoChildConfig = (!blockConfig?._isEnabled);\n    if (isParentEnabledNotOnChildren && isNoChildConfig) {\n      return null;\n    }\n    return [ configModel, parentModel ].filter(ancestor => {\n      const config = ancestor.get('_trickle');\n      // Remove models with no config and models which explicitly require inheritance\n      return (config && !config._isInherited);\n    });\n  }\n  if (type === 'article') {\n    return [ configModel ];\n  }\n  return null;\n};\n\n/**\n * Returns the derived trickle configuration for the given model\n * @param {Backbone.Model} model\n * @returns {Object}\n */\nexport function getModelConfig(model) {\n  const inheritance = getModelInheritanceChain(model);\n  if (!inheritance?.length || isModelArticleWithOnChildren(model)) return null;\n  const config = $.extend(true, {}, ...inheritance.reverse().map((inheritModel, index, arr) => {\n    const isLast = (index === arr.length - 1);\n    const defaults = isLast ? getModelConfigDefaults(inheritModel) : null;\n    return $.extend(true, {}, defaults, inheritModel.get('_trickle'));\n  }));\n  if (!config._isEnabled) return null;\n  return config;\n}\n\n/**\n * Returns the first model in the inheritance chain with _onChildren: true\n * @param {Backbone.Model} model\n * @returns {Backbone.Model}\n */\nexport function getModelContainer(model) {\n  const inheritance = getModelInheritanceChain(model);\n  return inheritance?.find(inheritModel => {\n    const defaults = getModelConfigDefaults(inheritModel);\n    const config = $.extend(true, {}, defaults, inheritModel.get('_trickle'));\n    return config._onChildren;\n  });\n}\n\n/**\n * Fetch the defined or default completion attribute on which trickle should\n * listen for completion\n * @return {string}\n */\nexport function getCompletionAttribute() {\n  return Adapt.config.get('_trickle')?._completionAttribute || '_isComplete';\n}\n\n/**\n * Reapply trickle locks if the completion attribute has changed on the given model\n * @param {Backbone.Model} model\n */\nexport function checkApplyLocks(model) {\n  const completionAttribute = getCompletionAttribute();\n  if (!Object.prototype.hasOwnProperty.call(model.changed, completionAttribute)) return;\n  // Apply the locks lazily\n  debouncedApplyLocks();\n}\n\n/**\n * Calculates and applies the new locking state for each sub-page model according\n * to each trickle configuration\n */\nexport function applyLocks() {\n  if (!data.isReady) return;\n  const completionAttribute = getCompletionAttribute();\n  const locks = {};\n  const modelsById = {};\n  // Fetch the component model from the store incase it needs overriding by another extension\n  const TrickleButtonModel = Adapt.getModelClass('trickle-button');\n  // Check all models for trickle potential\n  Adapt.course.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(siteModel => {\n    const trickleConfig = getModelConfig(siteModel);\n    if (!trickleConfig || !trickleConfig._isEnabled) return;\n    const isStepLocked = Boolean(trickleConfig?._stepLocking?._isEnabled);\n    const isLocked = isStepLocked &&\n      !siteModel?.get(completionAttribute) &&\n      !siteModel?.get('_isOptional');\n    const id = siteModel.get('_id');\n    modelsById[id] = siteModel;\n    locks[id] = locks[id] || false;\n    // Apply lock to all subsequent models\n    const subsequentLockingModels = _getAncestorNextSiblings(siteModel);\n    subsequentLockingModels.forEach((model, index) => {\n      const id = model.get('_id');\n      const isButtonModel = (model instanceof TrickleButtonModel);\n      // Do not stop at TrickleButtonModels\n      model.set('_isTrickled', !isButtonModel);\n      // Store the new locking state of each model in the locks variable\n      // Don't unlock anything that was locked in a previous group\n      modelsById[id] = model;\n      locks[id] = locks[id] || isLocked;\n      // Cascade inherited locks through the hierarchyd\n      model.getAllDescendantModels().forEach(descendant => {\n        const descendantId = descendant.get('_id');\n        modelsById[descendantId] = descendant;\n        locks[descendantId] = locks[id];\n      });\n    });\n  });\n  // Apply only changed locking states\n  Object.entries(locks).forEach(([ id, isLocked ]) => {\n    const model = modelsById[id];\n    const wasLocked = model.get('_isLocked');\n    if (wasLocked === isLocked) return;\n    model.set('_isLocked', isLocked);\n  });\n  logTrickleState();\n}\n\nexport const debouncedApplyLocks = _.debounce(applyLocks, 1);\n\n/**\n * Returns all of the contentobject descendant models directly subsequent to the\n * given model through each ancestor\n * If fromModel is a block; its block next siblings and article next siblings\n * @param {Backbone.Model} child\n * @returns {Array<Backbone.Model>}\n */\nexport function _getAncestorNextSiblings(fromModel) {\n  if (!fromModel) return [];\n  // Fetch all subsequent siblings\n  const allSiblings = fromModel.getParent().getAvailableChildModels();\n  const subsequentSiblings = allSiblings.slice(allSiblings.findIndex(sibling => sibling === fromModel) + 1);\n  // Fetch all ancestors between the page and the child\n  const allAncestors = fromModel.getAncestorModels();\n  const inPageAncestors = allAncestors.slice(0, allAncestors.findIndex(parent => parent instanceof ContentObjectModel) + 1);\n  // Move from the next ancestor down as we already have the parent's children (fromModel siblings)\n  // Collect all subsequent in-page ancestor siblings\n  const subsequentInPageAncestors = [];\n  inPageAncestors.slice(1).forEach((grandParent, previousIndex) => {\n    const parent = inPageAncestors[previousIndex];\n    const allGrandParentChildren = grandParent.getAvailableChildModels();\n    const subsequentAncestorSiblings = allGrandParentChildren.slice(allGrandParentChildren.findIndex(child => child === parent) + 1);\n    subsequentInPageAncestors.push(...subsequentAncestorSiblings);\n  });\n  // Combine and return entire set\n  const subsequentContentObjectDescendantModels = subsequentSiblings.concat(subsequentInPageAncestors);\n  return subsequentContentObjectDescendantModels;\n}\n\n/**\n * Adds trickle button components in their relevant places throughout the course\n */\nexport function addButtonComponents() {\n  // Fetch the component model from the store incase it needs overriding by another extension\n  const TrickleButtonModel = Adapt.getModelClass('trickle-button');\n  let uid = 0;\n  data.forEach(buttonModelSite => {\n    if (buttonModelSite instanceof CourseModel) return;\n    const trickleConfig = getModelConfig(buttonModelSite);\n    if (!trickleConfig || !trickleConfig?._isEnabled || buttonModelSite.get('_isTrickleSiteConfigured')) return;\n    buttonModelSite.set('_isTrickleSiteConfigured', true);\n    const parentId = buttonModelSite.get('_id');\n    const trickleButtonModel = new TrickleButtonModel({\n      _id: `trickle-${uid++}`,\n      _type: 'component',\n      _component: 'trickle-button',\n      _parentId: parentId,\n      _isAvailable: true,\n      _layout: 'full',\n      _trickle: { _isEnabled: true },\n      _renderPosition: 'outer-append',\n      _isTrackable: false\n    });\n    trickleButtonModel.setupModel();\n    // This line would usually append a trickle button to an article or block\n    buttonModelSite.getChildren().add(trickleButtonModel);\n  });\n}\n\n/**\n * Pretty print locking state for current page\n */\nexport function logTrickleState() {\n  if (logging._config?._level !== 'debug') return;\n  if (!Adapt.parentView?.model?.isTypeGroup('page')) {\n    logging.debug('TRICKLE GLOBAL STATE');\n    Adapt.course.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(model => {\n      const isLocked = model.get('_isLocked');\n      const isTrickled = model.get('_isTrickled');\n      logging.debug(`${' '.repeat(model.getAncestorModels().length)}${model.get('_type')} ${model.get('_id')} isLocked: ${isLocked} isTrickled: ${isTrickled}`);\n    });\n    return;\n  }\n  logging.debug('TRICKLE STATE');\n  Adapt.parentView.model.getAllDescendantModels(true).filter(model => model.get('_isAvailable')).forEach(model => {\n    const isLocked = model.get('_isLocked');\n    const isTrickled = model.get('_isTrickled');\n    logging.debug(`${' '.repeat(model.getAncestorModels().length)}${model.get('_type')} ${model.get('_id')} isLocked: ${isLocked} isTrickled: ${isTrickled}`);\n  });\n}\n\n/**\n * Utility functions for trickle model operations\n */\nexport default {\n  _deepDefaults,\n  configDefaults,\n  getModelConfigDefaults,\n  getModelInheritanceChain,\n  getModelConfig,\n  getModelContainer,\n  getCompletionAttribute,\n  checkApplyLocks,\n  applyLocks,\n  debouncedApplyLocks,\n  _getAncestorNextSiblings,\n  addButtonComponents,\n  logTrickleState\n};\n","import Adapt from 'core/js/adapt';\nimport data from 'core/js/data';\nimport a11y from 'core/js/a11y';\nimport {\n  checkApplyLocks,\n  addButtonComponents,\n  applyLocks,\n  debouncedApplyLocks,\n  getModelConfig,\n  isModelArticleWithOnChildren\n} from './models';\n\n/** @typedef {import('core/js/childEvent').default} ChildEvent  */\n\nclass TrickleController extends Backbone.Controller {\n\n  initialize() {\n    this.checkIsFinished = _.debounce(this.checkIsFinished, 1);\n    this.listenTo(data, {\n      'ready': this.onDataReady,\n      // Check that the locking is accurate after any completion, this happens asynchronously\n      'change:_isInteractionComplete change:_isComplete change:_isAvailable add remove': checkApplyLocks,\n      // Check whether trickle is finished after any locking changes\n      'change:_isLocked': this.checkIsFinished\n    });\n    this.listenTo(Adapt, {\n      // Reapply locks after assessment reset, this happens asynchronously where possible\n      'assessments:reset': this.onAssessmentReset,\n      // Reset trickle's global state when changing content objects\n      'contentObjectView:preRender': this.reset,\n      // Stop rendering where necessary before a child is rendered\n      'view:addChild': this.onAddChildView,\n      // Temporarily remove trickle from the current content object\n      'trickle:kill': this.kill\n    });\n  }\n\n  onAssessmentReset() {\n    // If mid render then apply locks immediately\n    const isMidRender = !Adapt.parentView?.model.get('_isReady');\n    if (isMidRender) return applyLocks();\n    // Otherwise apply them lazily\n    debouncedApplyLocks();\n  }\n\n  async onDataReady() {\n    Adapt.wait.for(done => {\n      addButtonComponents();\n      applyLocks();\n      done();\n    });\n  }\n\n  /**\n   * Returns true if the current page is or was locked by trickle\n   */\n  get isStarted() {\n    return Boolean(Adapt.parentView?.model.get('_isTrickleStarted'));\n  }\n\n  set isStarted(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleStarted', value);\n    if (!value) return;\n    Adapt.trigger('trickle:started');\n  }\n\n  /**\n   * When each child view is added to its parent, check to see if trickle should\n   * stop the render at this child according to the locking state\n   * @param {ChildEvent} event\n   */\n  onAddChildView(event) {\n    if (this.isKilled) return;\n    if (event.hasRequestChild) applyLocks();\n    const isManagedByTrickleAndLocked = (event.model.get('_isTrickled') && event.model.get('_isLocked'));\n    if (!isManagedByTrickleAndLocked) return;\n    event.stop();\n  }\n\n  /**\n   * Returns true if the current page is locked by trickle\n   */\n  get isTrickling() {\n    const isTrickling = Adapt.parentView.model.getAllDescendantModels().some(model => {\n      return model.get('_isAvailable') && model.get('_isTrickled') && model.get('_isLocked');\n    });\n    return isTrickling;\n  }\n\n  /**\n   * Make the framework try to render the next set of children\n   */\n  async continue() {\n    applyLocks();\n    await Adapt.parentView.addChildren();\n    await Adapt.parentView.whenReady();\n  }\n\n  /**\n   * Scroll to the next section as defined by the trickle configuration on the\n   * specified model\n   * @param {Backbone.Model} fromModel\n   */\n  async scroll(fromModel) {\n    const trickleConfig = getModelConfig(fromModel);\n    if (!trickleConfig?._isEnabled) return false;\n\n    if (isModelArticleWithOnChildren(fromModel)) return false;\n\n    const isAutoScrollOff = !trickleConfig._autoScroll;\n    const hasTrickleButton = trickleConfig._button._isEnabled;\n    if (isAutoScrollOff && !hasTrickleButton) {\n      return;\n    }\n\n    const getScrollToId = () => {\n      const scrollTo = trickleConfig._scrollTo;\n      const firstCharacter = scrollTo.substr(0, 1);\n      switch (firstCharacter) {\n        case '@': {\n          // NAVIGATE BY RELATIVE TYPE\n          // Allows trickle to scroll to a sibling / cousin component\n          // relative to the current trickle item\n          const relativeModel = fromModel.findRelativeModel(scrollTo, {\n            filter: model => model.get('_isAvailable')\n          });\n          if (relativeModel === undefined) return;\n          return relativeModel.get('_id');\n        }\n        case '.':\n          // NAVIGATE BY CLASS\n          return scrollTo.substr(1, scrollTo.length - 1);\n        default:\n          return scrollTo;\n      }\n    };\n\n    let scrollToId = getScrollToId();\n    if (scrollToId === '') return;\n\n    const isDescendant = Adapt.parentView.model.getAllDescendantModels().some(model => {\n      return model.get('_id') === scrollToId;\n    });\n    if (!isDescendant) {\n      applyLocks();\n      // Navigate to another content object\n      const model = Adapt.findById(scrollToId);\n      const contentObject = model.isTypeGroup('contentobject') ? model : model.findAncestor('contentobject');\n      await Adapt.navigateToElement(contentObject.get('_id'));\n      // Recalculate the relative id after the page is ready as it may change\n      scrollToId = getScrollToId();\n      await Adapt.navigateToElement(scrollToId);\n      return;\n    }\n\n    await Adapt.parentView.renderTo(scrollToId);\n\n    if (hasTrickleButton) {\n      // Only set focus if there is a trickle button - see https://github.com/adaptlearning/adapt_framework/issues/2813\n      a11y.focusFirst($('.' + scrollToId), { preventScroll: true });\n    }\n\n    if (isAutoScrollOff) return false;\n\n    const duration = trickleConfig._scrollDuration || 500;\n    Adapt.scrollTo('.' + scrollToId, { duration });\n  }\n\n  /**\n   * Returns true if the current page was locked by trickle and is now finished\n   */\n  get isFinished() {\n    if (!Adapt.parentView) return false;\n    return Boolean(!this.isStarted || Adapt.parentView.model.get('_isTrickleFinished') || this.isKilled);\n  }\n\n  set isFinished(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleFinished', value);\n    if (!value) return;\n    Adapt.trigger('trickle:finished');\n  }\n\n  checkIsFinished() {\n    if (!this.isStarted) return;\n    if (this.isKilled || this.isFinished) return;\n    if (this.isTrickling) return;\n    this.isFinished = true;\n  }\n\n  /**\n   * Turn off all trickle locking, continue rendering and set the page model state as killed\n   */\n  async kill() {\n    // Fetch the component model from the store incase it needs overriding by another extension\n    const TrickleModel = Adapt.getModelClass('trickle-button');\n    this.isKilled = true;\n    Adapt.parentView.model.getAllDescendantModels().forEach(model => {\n      const isButtonModel = (model instanceof TrickleModel);\n      if (isButtonModel) {\n        model.setCompletionStatus();\n      }\n      if (!model.get('_isTrickled')) return;\n      model.set('_isLocked', false);\n    });\n    await this.continue();\n  }\n\n  /**\n   * Returns true if the current page was locked by trickle and is now killed\n   */\n  get isKilled() {\n    if (!Adapt.parentView) return false;\n    return !this.isStarted || Adapt.parentView.model.get('_isTrickleKilled');\n  }\n\n  set isKilled(value) {\n    if (!Adapt.parentView) return;\n    Adapt.parentView.model.set('_isTrickleKilled', value);\n    if (!value) return;\n    Adapt.trigger('trickle:killed');\n  }\n\n  /**\n   * Reset the page trickle state\n   */\n  reset() {\n    this.isKilled = false;\n    if (!this.isTrickling) {\n      this.isStarted = false;\n      this.isFinished = false;\n      return;\n    }\n    this.isStarted = true;\n    this.isFinished = false;\n  }\n\n}\n\nexport default new TrickleController();\n","import Adapt from 'core/js/adapt';\nimport a11y from 'core/js/a11y';\nimport ComponentView from 'core/js/views/componentView';\nimport controller from './controller';\nimport {\n  getModelConfig,\n  getCompletionAttribute\n} from './models';\n\n/** @typedef {import('core/js/modelEvent').default} ModelEvent  */\n\nclass TrickleButtonView extends ComponentView {\n\n  className() {\n    const config = getModelConfig(this.model.getParent());\n    return [\n      'trickle',\n      this.model.get('_id'),\n      config._button._component,\n      config._button._isFullWidth && 'is-full-width',\n      config._button._className\n    ].filter(Boolean).join(' ');\n  }\n\n  events() {\n    return {\n      'click .js-trickle-btn': 'onButtonClick'\n    };\n  }\n\n  initialize() {\n    this.openPopupCount = 0;\n    this.isAwaitingPopupClose = false;\n    this.wasButtonClicked = false;\n    this.model.calculateButtonText();\n    this.calculateButtonState();\n    this.setupEventListeners();\n    this.render();\n    if (!this.model.isEnabled()) {\n      this.setCompletionStatus();\n    }\n    _.defer(this.setReadyStatus.bind(this));\n  }\n\n  /**\n   * Taking account of open popups, recalculate the button visible and enabled states\n   */\n  calculateButtonState() {\n    const isDisabledByPopups = (this.openPopupCount > 0);\n    this.model.calculateButtonState(isDisabledByPopups, this.wasButtonClicked);\n  }\n\n  render() {\n    const data = this.model.toJSON();\n    data._globals = Adapt.course.get('_globals');\n    data._trickle = getModelConfig(this.model.getParent());\n    this.$el.html(Handlebars.templates[TrickleButtonView.template](data));\n  }\n\n  setupEventListeners() {\n    this.tryButtonAutoHide = this.tryButtonAutoHide.bind(this);\n    // Add async delay on each call to onParent complete\n    // to wait for autoscroll question feedback notify to appear\n    const onParentComplete = this.onParentComplete.bind(this);\n    this.onParentComplete = (...args) => _.delay(() => onParentComplete(...args), 100);\n    this.listenTo(Adapt.parentView, 'postRemove', this.onRemove);\n    this.listenTo(Adapt, 'trickle:killed', this.updateButtonState);\n    if (this.model.isStepUnlocked() && this.model.isFinished()) {\n      // Already complete, no need to listen to anything else\n      return;\n    }\n    this.$el.on('onscreen', this.tryButtonAutoHide);\n    this.listenTo(Adapt, {\n      'popup:opened': this.onPopupOpened,\n      'popup:closed': this.onPopupClosed\n    });\n    const parentModel = this.model.getParent();\n    const completionAttribute = getCompletionAttribute();\n    this.listenTo(parentModel, {\n      'change:_requireCompletionOf': this.onStepUnlocked,\n      [`bubble:change:${completionAttribute}`]: this.onStepUnlocked,\n      [`change:${completionAttribute}`]: this.onParentComplete\n    });\n  }\n\n  /**\n   * Keep count of the number of open popups\n   */\n  onPopupOpened() {\n    this.openPopupCount++;\n    const shouldUserInteractWithButton = (this.model.isStepUnlocked() && !this.model.isFinished());\n    if (!shouldUserInteractWithButton) return;\n    this.updateButtonState();\n  }\n\n  /**\n   * Keep count of the number of open popups\n   */\n  async onPopupClosed() {\n    this.openPopupCount--;\n    if (this.openPopupCount) return;\n    if (this.isAwaitingPopupClose) {\n      // Had completed with an open popup, perform final part of finishing\n      return this.finish();\n    }\n    const shouldUserInteractWithButton = (this.model.isStepUnlocked() && !this.model.isFinished());\n    if (!shouldUserInteractWithButton) return;\n    this.updateButtonState();\n    await Adapt.parentView.addChildren();\n  }\n\n  /**\n   * Modify the DOM according to the current button states\n   */\n  updateButtonState() {\n    this.calculateButtonState();\n    const isButtonHidden = !(this.model.get('_isButtonVisible') && !this.model.get('_isButtonAutoHidden'));\n    this.$('.js-trickle-btn-container').toggleClass('u-display-none', isButtonHidden);\n    const isButtonDisabled = this.model.get('_isButtonDisabled');\n    const $button = this.$('.js-trickle-btn');\n    const $ariaLabel = this.$('.aria-label');\n    Adapt.a11y.toggleEnabled($button, !isButtonDisabled);\n    if (!isButtonDisabled) {\n      // move focus forward if it's on the aria-label\n      if (document.activeElement instanceof HTMLElement && document.activeElement.isSameNode($ariaLabel[0])) {\n        a11y.focusNext($ariaLabel);\n      }\n      // make label unfocusable as it is no longer needed\n      a11y.toggleAccessibleEnabled($ariaLabel, false);\n    }\n    const $buttonText = this.$('.js-trickle-btn-text');\n    const text = this.model.get('buttonText');\n    const ariaLabel = this.model.get('buttonAriaLabel');\n    $buttonText.html(text);\n    $button.attr('aria-label', ariaLabel);\n  }\n\n  /**\n   * Update the button state when any completion changes occur in the trickle button\n   * parent or descendants\n   * @param {ModelEvent} event\n   */\n  async onStepUnlocked(event) {\n    if (event.value === false) return;\n    // Defer to allow for a feedback notify to open\n    _.defer(this.updateButtonState.bind(this));\n  }\n\n  async onButtonClick() {\n    const wasComplete = this.model.get('_isComplete');\n    // Assuming step locking completion is required, setting this model as complete\n    // will cause onParentComplete to fire\n    this.model.setCompletionStatus();\n    this.wasButtonClicked = true;\n    const isStepLockingCompletionRequired = this.model.isStepLockingCompletionRequired();\n    if (isStepLockingCompletionRequired && !wasComplete) return;\n    // Assuming step locking completion is NOT required, continue and scroll\n    await this.continue();\n  }\n\n  /**\n   * Fires when all children in the button parent are complete, including the button\n   */\n  async onParentComplete(model, value) {\n    if (!value) return;\n    const parentModel = this.model.getParent();\n    const completionAttribute = getCompletionAttribute();\n    this.stopListening(parentModel, {\n      [`bubble:change:${completionAttribute}`]: this.onStepUnlocked,\n      [`change:${completionAttribute}`]: this.onParentComplete\n    });\n    if (controller.isKilled) return;\n    if (this.openPopupCount > 0) {\n      // Has completed with an open popup, defer finish until popup closed\n      this.isAwaitingPopupClose = true;\n      return;\n    }\n    await this.finish();\n  }\n\n  /**\n   * Stop listening, update the button and continue if required\n   */\n  async finish() {\n    this.stopListening(Adapt, {\n      'popup:opened': this.onPopupOpened,\n      'popup:closed': this.onPopupClosed\n    });\n    this.updateButtonState();\n    const isStepLockingCompletionRequired = this.model.isStepLockingCompletionRequired();\n    if (!isStepLockingCompletionRequired) return;\n    // Continue and scroll only if steplocking completion is required\n    await this.continue();\n  }\n\n  /**\n   * Causes Adapt to attempt to render more children and scroll to the next content\n   * element if required\n   */\n  async continue() {\n    const parent = this.model.getParent();\n    await controller.continue();\n    await controller.scroll(parent);\n  }\n\n  tryButtonAutoHide() {\n    if (!this.model.get('_isButtonVisible')) return;\n    const trickleConfig = getModelConfig(this.model.getParent());\n    if (!trickleConfig._button._autoHide) {\n      this.model.set('_isButtonAutoHidden', false);\n      return;\n    }\n    const measurements = this.$el.onscreen();\n    // This is to fix common miscalculation issues\n    const isJustOffscreen = (measurements.bottom > -100);\n    const isButtonAutoHidden = !measurements.onscreen && !isJustOffscreen;\n    this.model.set('_isButtonAutoHidden', isButtonAutoHidden);\n    this.updateButtonState();\n  }\n\n  onRemove() {\n    this.$el.off('onscreen', this.tryButtonAutoHide);\n    this.remove();\n  }\n\n}\n\nTrickleButtonView.template = 'trickle-button';\n\nexport default TrickleButtonView;\n","import controller from './controller';\nimport ComponentModel from 'core/js/models/componentModel';\nimport {\n  getModelContainer,\n  getModelConfig,\n  getCompletionAttribute\n} from './models';\n\nexport default class TrickleButtonModel extends ComponentModel {\n\n  init() {\n    super.init();\n    if (!this.isStepComplete()) return;\n    this.setCompletionStatus();\n  }\n\n  /**\n   * @returns {boolean} true if the button is enabled in its trickle configuration\n   */\n  isEnabled() {\n    const trickleConfig = getModelConfig(this.getParent());\n    const isEnabled = trickleConfig._isEnabled && trickleConfig._button?._isEnabled;\n    return isEnabled;\n  }\n\n  /**\n   * @return {boolean} true if page truncation (step locking) is active\n   */\n  isStepLocking() {\n    const config = getModelConfig(this.getParent());\n    const isStepLocking = config._stepLocking?._isEnabled;\n    return isStepLocking;\n  }\n\n  /**\n   * @return {boolean} true if completion is required to unlock this step\n   */\n  isStepLockingCompletionRequired() {\n    const config = getModelConfig(this.getParent());\n    const isStepLockingCompletionRequired = config._stepLocking &&\n      config._stepLocking._isEnabled &&\n      config._stepLocking._isCompletionRequired;\n    return isStepLockingCompletionRequired;\n  }\n\n  /**\n   * @returns {boolean} true if all available siblings are complete, optional or not available\n   */\n  isStepUnlocked() {\n    const completionAttribute = getCompletionAttribute();\n    // Check if completion is blocked by another extension\n    const isCompletionBlocked = (this.getParent().get('_requireCompletionOf') === Number.POSITIVE_INFINITY);\n    if (isCompletionBlocked) return;\n    return this.getSiblings().every(sibling => {\n      if (sibling === this) {\n        return true;\n      }\n      return sibling.get(completionAttribute) ||\n        sibling.get('_isOptional') ||\n        !sibling.get('_isAvailable');\n    });\n  }\n\n  /**\n   * @returns {boolean} true if the parent container is already complete\n   */\n  isStepComplete() {\n    const completionAttribute = getCompletionAttribute();\n    const isParentComplete = this.getParent().get(completionAttribute);\n    return isParentComplete;\n  }\n\n  /**\n   * @returns {boolean} true if this button should always be locked on revisit\n   */\n  isStepLockedOnRevisit() {\n    const trickleConfig = getModelConfig(this.getParent());\n    return Boolean(trickleConfig._stepLocking._isLockedOnRevisit);\n  }\n\n  /**\n   * @return {boolean} true if completion is not required or if completion has been fulfilled\n   * and the button has been clicked\n   */\n  isFinished() {\n    const isStepUnlocked = this.isStepUnlocked();\n    const isStepLockingCompletionRequired = this.isStepLockingCompletionRequired();\n    const isButtonComplete = this.get('_isComplete');\n    const isFinished = ((isStepUnlocked || !isStepLockingCompletionRequired) && isButtonComplete);\n    return isFinished;\n  }\n\n  isLastInContentObject() {\n    const contentObject = this.findAncestor('contentobject');\n    const allDescendants = contentObject.getAllDescendantModels(true);\n    const lastDescendant = allDescendants[allDescendants.length - 1];\n    return (this === lastDescendant);\n  }\n\n  /**\n   * Apply start and final text amongst the current siblings\n   * Siblings in assessments can be randomised so this must be derived at runtime\n   */\n  calculateButtonText() {\n    const parentModel = this.getParent();\n    const trickleConfig = getModelConfig(parentModel);\n    let isStart = false;\n    let isFinal = false;\n    if (trickleConfig._onChildren) {\n      const parentId = parentModel.get('_id');\n      const trickleParent = getModelContainer(parentModel);\n      const trickleSiblings = trickleParent.getAllDescendantModels(true).filter(model => {\n        return model.get('_isAvailable') && model.get('_isTrickled');\n      });\n      const index = trickleSiblings.findIndex(model => model.get('_id') === parentId);\n      isStart = (index === 0);\n      isFinal = (index === trickleSiblings.length - 1 && !trickleParent.get('_canRequestChild'));\n    }\n    const text = (isStart && trickleConfig._button.startText) ?\n      trickleConfig._button.startText :\n      (isFinal && trickleConfig._button.finalText) ?\n        trickleConfig._button.finalText :\n        trickleConfig._button.text;\n    const ariaLabel = (isStart && trickleConfig._button.startAriaLabel) ?\n      trickleConfig._button.startAriaLabel :\n      (isFinal && trickleConfig._button.finalAriaLabel) ?\n        trickleConfig._button.finalAriaLabel :\n        trickleConfig._button.ariaLabel;\n    this.set({\n      buttonText: text,\n      buttonAriaLabel: ariaLabel\n    });\n  }\n\n  /**\n   * Will reset this button if the step has been unlocked and should be relocked\n   * on revisit\n   */\n  checkIfResetOnRevisit() {\n    if (this.isStepUnlocked() && !this.isStepLockedOnRevisit()) return;\n    this.set({\n      _isComplete: false,\n      _isInteractionComplete: false\n    });\n  }\n\n  /**\n   * Calculate the current button visible and enabled states\n   * @param {boolean} isButtonDisableForced Set to true to signify that the button must not be enabled\n   * @param {boolean} isButtonHiddenForced Set to true to signify that the button must not be visible\n   */\n  calculateButtonState(isButtonDisableForced = false, isButtonHiddenForced = false) {\n    if (!this.isEnabled()) {\n      this.set({\n        _isButtonVisible: false,\n        _isButtonDisabled: !this.isStepUnlocked()\n      });\n      return;\n    };\n\n    const trickleConfig = getModelConfig(this.getParent());\n    if (this.isLastInContentObject() && trickleConfig._button._showEndOfPage === false) {\n      return this.set({\n        _isButtonVisible: false,\n        _isButtonDisabled: true\n      });\n    }\n\n    const isTrickleKilled = controller.isKilled;\n    const isStepUnlocked = this.isStepUnlocked() || isTrickleKilled;\n    const isFinished = this.isFinished() || isTrickleKilled;\n    const isButtonVisibleBeforeCompletion = (trickleConfig._button._styleBeforeCompletion !== 'hidden');\n    // Force button to be hidden after completion if _isFullWidth, otherwise absolutely positioned buttons will stack\n    const isButtonVisibleAfterCompletion = (trickleConfig._button._styleAfterClick !== 'hidden') && !trickleConfig._button._isFullWidth;\n\n    const isStepLockingCompletionRequired = this.isStepLockingCompletionRequired();\n\n    const isNoCompletionRequiredAndLockedVisible = (!isStepLockingCompletionRequired && !isFinished && isButtonVisibleBeforeCompletion);\n    const isNoCompletionRequiredAndUnlockedVisible = (!isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n    const isNoCompletionRequiredAndFinishedVisible = (!isStepLockingCompletionRequired && isFinished && isButtonVisibleAfterCompletion);\n    const isStepLockedAndVisibleBeforeCompletion = (isStepLockingCompletionRequired && !isStepUnlocked && isButtonVisibleBeforeCompletion && !isButtonHiddenForced);\n    const isFinishedAndVisibleAfterCompletion = (isStepLockingCompletionRequired && isFinished && isButtonVisibleAfterCompletion);\n    const isStepUnlockedAndButtonIncomplete = (isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n\n    const isButtonVisible = isNoCompletionRequiredAndLockedVisible ||\n      isNoCompletionRequiredAndUnlockedVisible ||\n      isNoCompletionRequiredAndFinishedVisible ||\n      isStepLockedAndVisibleBeforeCompletion ||\n      isFinishedAndVisibleAfterCompletion ||\n      isStepUnlockedAndButtonIncomplete;\n\n    const isButtonEnabledBeforeCompletion = (trickleConfig._button._styleBeforeCompletion !== 'disabled');\n    const isButtonEnabledAfterCompletion = (trickleConfig._button._styleAfterClick !== 'disabled');\n\n    const isNoCompletionRequiredAndLockedEnabled = (!isStepLockingCompletionRequired && !isFinished && isButtonEnabledBeforeCompletion);\n    const isNoCompletionRequiredAndUnlockedEnabled = (!isStepLockingCompletionRequired && isStepUnlocked && !isFinished);\n    const isNoCompletionRequiredAndFinishedEnabled = (!isStepLockingCompletionRequired && isFinished && isButtonEnabledAfterCompletion);\n    const isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced = (isStepLockingCompletionRequired && isStepUnlockedAndButtonIncomplete && !isButtonDisableForced);\n    const isFinishedAndEnabledAfterCompletion = (isStepLockingCompletionRequired && isFinished && isButtonEnabledAfterCompletion);\n\n    const isButtonEnabled = isNoCompletionRequiredAndLockedEnabled ||\n      isNoCompletionRequiredAndUnlockedEnabled ||\n      isNoCompletionRequiredAndFinishedEnabled ||\n      isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced ||\n      isFinishedAndEnabledAfterCompletion ||\n      false;\n\n    this.set({\n      _isButtonVisible: isButtonVisible,\n      _isButtonDisabled: !isButtonEnabled\n    });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TrickleButtonView from './TrickleButtonView';\nimport TrickleButtonModel from './TrickleButtonModel';\n\nexport default Adapt.register('trickle-button', {\n  view: TrickleButtonView,\n  model: TrickleButtonModel\n});\n","import Adapt from 'core/js/adapt';\nimport controller from './controller';\nimport models from './models';\nimport trickleButton from './trickleButton';\nimport TrickleButtonModel from './TrickleButtonModel';\nimport TrickleButtonView from './TrickleButtonView';\n\n// Export main API\nexport default (Adapt.trickle = controller);\n\n// Export everything\nexport {\n  controller,\n  models,\n  trickleButton,\n  TrickleButtonModel,\n  TrickleButtonView\n};\n","const TUTOR_TYPE = ENUM([\n  'NOTIFY',\n  'INLINE',\n  'OVERLAY',\n  'NONE'\n]);\n\nexport default TUTOR_TYPE;\n","import Adapt from 'core/js/adapt';\nimport TUTOR_TYPE from './TUTOR_TYPE';\n\nexport default class TutorModel extends Backbone.Model {\n\n  defaults() {\n    return {\n      _type: TUTOR_TYPE.NOTIFY.asLowerCase,\n      _classes: '',\n      _hasNotifyBottomButton: false,\n      _button: {\n        text: '{{_globals._extensions._tutor.hideFeedback}}',\n        ariaLabel: '{{_globals._extensions._tutor.hideFeedback}}'\n      },\n      ...Adapt.course.get('_tutor')\n    };\n  }\n\n  initialize(data, parentModel) {\n    data = $.extend(true, this.defaults(), data?._isInherited === true ? null : data, {\n      _attributes: { 'data-adapt-id': parentModel.get('_id') },\n      title: parentModel.get('feedbackTitle'),\n      body: parentModel.get('feedbackMessage')\n    });\n    data._classes += ` tutor ${this.getOriginClasses(parentModel)}`;\n    this.set(data);\n  }\n\n  getOriginClasses(model) {\n    const component = model.get('_component');\n    const extension = model.get('_extension');\n\n    return [\n      model.get('_isCorrect') ?\n        'is-correct' :\n        model.get('_isAtLeastOneCorrectSelection') ?\n          'is-partially-correct' :\n          'is-incorrect',\n      component && `is-component is-${component}`,\n      extension && `is-extension is-${extension}`\n    ].filter(Boolean).join(' ');\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport notify from 'core/js/notify';\n\nexport default class TutorNotify extends Backbone.Controller {\n\n  initialize(options) {\n    this.parentView = options.parentView;\n    this.listenToOnce(Adapt, 'notify:closed', this.onNotifyClosed);\n    this.triggerNotify();\n  }\n\n  triggerNotify() {\n    const {\n      _hasNotifyBottomButton: isButtonEnabled,\n      _button: { text: promptText }\n    } = this.model.toJSON();\n\n    this.notifyOptions = {\n      ...this.model.toJSON(),\n      _prompts: isButtonEnabled && [{\n        promptText: Handlebars.compile(promptText)({ _globals: Adapt.course.get('_globals') })\n      }],\n      _type: isButtonEnabled ? 'prompt' : 'popup'\n    };\n\n    notify.create(this.notifyOptions);\n    Adapt.trigger('tutor:opened', this.parentView, this.notifyOptions);\n  }\n\n  onNotifyClosed() {\n    Adapt.trigger('tutor:closed', this.parentView, this.notifyOptions);\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport BUTTON_STATE from 'core/js/enums/buttonStateEnum';\nimport a11y from 'core/js/a11y';\n\nexport default class TutorView extends Backbone.View {\n\n  className() {\n    return [\n      'tutor',\n      `tutor-type-${this.model.get('_type')}`,\n      this.model.get('_classes')\n    ].join(' ');\n  }\n\n  events() {\n    return { 'click .js-tutor-btn': 'onCloseClick' };\n  }\n\n  initialize(options) {\n    this.parentView = options.parentView;\n    this.buttonsView = this.parentView.buttonsView;\n    this.listenTo(this.parentView, 'postRemove', this.onTutorClosed);\n    this.listenTo(this.buttonsView, 'buttons:stateUpdate', this.onButtonsStateUpdate);\n    this.render();\n  }\n\n  render() {\n    this.$el.html(Handlebars.templates.tutor(this.model.toJSON()));\n    _.defer(this.postRender.bind(this));\n  }\n\n  postRender() {\n    this.toggleFeedback({ shouldOpen: true });\n  }\n\n  toggleFeedback({ shouldOpen, shouldManageFocus = true } = {}) {\n    const animation = this.model.get('_type') === 'inline' ? 'slide' : 'fade';\n\n    const onAnimationEnd = shouldOpen ?\n      this.onTutorOpened.bind(this, shouldManageFocus) :\n      this.onTutorClosed.bind(this, shouldManageFocus);\n\n    if (shouldManageFocus) {\n      a11y.toggleEnabled(this.buttonsView.$('.js-btn-feedback'), !shouldOpen);\n    }\n\n    this.$('.tutor__inner').stop()[`${animation}Toggle`](200, onAnimationEnd);\n  }\n\n  onCloseClick() {\n    this.toggleFeedback({ shouldOpen: false });\n  }\n\n  onTutorOpened(shouldManageFocus) {\n    if (shouldManageFocus) {\n      a11y.focus(this.$('.tutor__inner'), { defer: true, preventScroll: true });\n    }\n    Adapt.trigger('tutor:opened', this.parentView, this.model.toJSON());\n  }\n\n  onTutorClosed(shouldManageFocus) {\n    if (shouldManageFocus) {\n      const $showFeedbackButton = this.buttonsView.$('.js-btn-feedback');\n      a11y.focus($showFeedbackButton, { defer: true, preventScroll: true });\n    }\n    Adapt.trigger('tutor:closed', this.parentView, this.model.toJSON());\n    this.remove();\n  }\n\n  onButtonsStateUpdate(state) {\n    if (state !== BUTTON_STATE.RESET) return;\n    this.toggleFeedback({ shouldOpen: false, shouldManageFocus: false });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport TutorModel from './TutorModel';\nimport TutorNotify from './TutorNotify';\nimport TutorView from './TutorView';\nimport TUTOR_TYPE from './TUTOR_TYPE';\n\nclass Tutor extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'questionView:showFeedback', this.onQuestionViewShowFeedback);\n  }\n\n  onQuestionViewShowFeedback(view) {\n    const parentModel = view.model;\n    const tutorModel = new TutorModel(parentModel.get('_tutor'), parentModel);\n    const options = { model: tutorModel, parentView: view };\n\n    switch (TUTOR_TYPE(tutorModel.get('_type').toUpperCase())) {\n      case TUTOR_TYPE.NOTIFY:\n        new TutorNotify(options);\n        break;\n      case TUTOR_TYPE.INLINE:\n      case TUTOR_TYPE.OVERLAY:\n        view.$('.component__inner').append(new TutorView(options).$el);\n        break;\n      case TUTOR_TYPE.NONE:\n      default:\n        // do nothing\n    }\n  }\n\n}\n\nexport default (Adapt.tutor = new Tutor());\n","/*\n * adapt-contrib-xapi\n * License      - http://github.com/adaptlearning/adapt_framework/LICENSE\n * Maintainers  - Dennis Heaney <dennis@learningpool.com>\n *              - Barry McKay <barry@learningpool.com>\n *              - Brian Quinn <brian@learningpool.com>\n */\ndefine([\n  'core/js/adapt',\n  'core/js/enums/completionStateEnum',\n  'libraries/async.min',\n  'libraries/xapiwrapper.min',\n  'libraries/url-polyfill.min'\n], function(Adapt, COMPLETION_STATE, Async) {\n\n  'use strict';\n\n  /**\n   * @callback ErrorOnlyCallback\n   * @param {?Error} error\n   */\n  var xAPI = Backbone.Model.extend({\n\n    /** Declare defaults and model properties */\n\n    // Default model properties.\n    defaults: {\n      lang: 'en-US',\n      displayLang: 'en-US',\n      generateIds: false,\n      activityId: null,\n      actor: null,\n      shouldTrackState: true,\n      shouldUseRegistration: false,\n      componentBlacklist: 'blank,graphic',\n      isInitialised: false,\n      state: {}\n    },\n\n    startAttemptDuration: 0,\n    startTimeStamp: null,\n    courseName: '',\n    courseDescription: '',\n    defaultLang: 'en-US',\n    isComplete: false,\n    debug: false,\n\n    // Default events to send statements for.\n    coreEvents: {\n      Adapt: {\n        'router:page': false,\n        'router:menu': false,\n        'assessments:complete': true,\n        'questionView:recordInteraction': true\n      },\n      contentObjects: {\n        'change:_isComplete': false\n      },\n      articles: {\n        'change:_isComplete': false\n      },\n      blocks: {\n        'change:_isComplete': false\n      },\n      components: {\n        'change:_isComplete': true\n      }\n    },\n\n    // An object describing the core Adapt framework collections.\n    coreObjects: {\n      course: 'course',\n      contentObjects: ['menu', 'page'],\n      articles: 'article',\n      blocks: 'block',\n      components: 'component',\n      offlineStorage: 'offlineStorage'\n    },\n\n    /** Implementation starts here */\n    initialize: function() {\n      if (!Adapt.config) {\n        return;\n      }\n\n      this.config = Adapt.config.get('_xapi');\n\n      if (!this.getConfig('_isEnabled')) {\n        return this;\n      }\n\n      Adapt.wait.begin();\n\n      // Initialize the xAPIWrapper.\n      this.initializeWrapper(_.bind(function(error) {\n        if (error) {\n          this.onInitialised(error);\n          return this;\n        }\n\n        this.set({\n          activityId: (this.getLRSAttribute('activity_id') || this.getConfig('_activityID') || this.getBaseUrl()),\n          displayLang: Adapt.config.get('_defaultLanguage'),\n          lang: this.getConfig('_lang'),\n          generateIds: this.getConfig('_generateIds'),\n          shouldTrackState: this.getConfig('_shouldTrackState'),\n          shouldUseRegistration: this.getConfig('_shouldUseRegistration') || false,\n          componentBlacklist: this.getConfig('_componentBlacklist') || []\n        });\n\n        var componentBlacklist = this.get('componentBlacklist');\n\n        if (!_.isArray(componentBlacklist)) {\n          // Create the blacklist array and force the items to lowercase.\n          componentBlacklist = componentBlacklist.split(/,\\s?/).map(function(component) {\n            return component.toLowerCase();\n          });\n        }\n\n        this.set('componentBlacklist', componentBlacklist);\n\n        if (!this.validateProps()) {\n          var error = new Error('Missing required properties');\n          Adapt.log.error('adapt-contrib-xapi: xAPI Wrapper initialisation failed', error);\n          this.onInitialised(error);\n          return this;\n        }\n\n        this.startTimeStamp = new Date();\n        this.courseName = Adapt.course.get('displayTitle') || Adapt.course.get('title');\n        this.courseDescription = Adapt.course.get('description') || '';\n\n        // Send the 'launched' and 'initialized' statements.\n        var statements = [\n          this.getCourseStatement(ADL.verbs.launched),\n          this.getCourseStatement(ADL.verbs.initialized)\n        ];\n\n        this.sendStatements(statements, _.bind(function(error) {\n          if (error) {\n            this.onInitialised(error);\n            return this;\n          }\n\n          if (['ios', 'android'].indexOf(Adapt.device.OS) > -1) {\n            $(document).on('visibilitychange', this.onVisibilityChange.bind(this));\n          } else {\n            $(window).on('beforeunload unload', this.sendUnloadStatements.bind(this));\n          }\n\n          if (!this.get('shouldTrackState')) {\n            // xAPI is not managing the state.\n            this.onInitialised();\n            return this;\n          }\n\n          // Retrieve the course state.\n          this.getState(_.bind(function(error) {\n            if (error) {\n              this.onInitialised(error);\n              return this;\n            }\n\n            if (_.isEmpty(this.get('state'))) {\n              // This is a new attempt, send 'attempted'.\n              this.sendStatement(this.getCourseStatement(ADL.verbs.attempted));\n            } else {\n              // This is a continuation of an existing attempt, send 'resumed'.\n              this.sendStatement(this.getCourseStatement(ADL.verbs.resumed));\n            }\n\n            this.restoreState();\n            this.onInitialised();\n            return this;\n          }, this));\n        }, this));\n      }, this));\n    },\n\n    /**\n     * Replace the hard-coded _learnerInfo data in _globals with the actual data from the LRS.\n     */\n    getLearnerInfo: function() {\n      var globals = Adapt.course.get('_globals');\n\n      if (!globals._learnerInfo) {\n          globals._learnerInfo = {};\n      }\n\n      _.extend(globals._learnerInfo, Adapt.offlineStorage.get('learnerinfo'));\n    },\n  \n    /**\n     * Intializes the ADL xapiWrapper code.\n     * @param {ErrorOnlyCallback} callback\n     */\n    initializeWrapper: function(callback) {\n      // If no endpoint has been configured, assume the ADL Launch method.\n      if (!this.getConfig('_endpoint')) {\n        //check to see if configuration has been passed in URL\n        this.xapiWrapper = window.xapiWrapper || ADL.XAPIWrapper;\n        if (this.checkWrapperConfig()) {\n          // URL had all necessary configuration so we continue using it.\n          // Set the LRS specific properties.\n          this.set({\n            registration: this.getLRSAttribute('registration'),\n            actor: this.getLRSAttribute('actor')\n          });\n\n          this.xapiWrapper.strictCallbacks = true;\n\n          callback();\n        } else {\n          // If no endpoint is configured, assume this is using the ADL launch method.\n          ADL.launch(_.bind(function(error, launchData, xapiWrapper) {\n            if (error) {\n              return callback(error);\n            }\n\n            // Initialise the xAPI wrapper.\n            this.xapiWrapper = xapiWrapper;\n\n            this.set({\n              actor: launchData.actor\n            });\n\n            this.xapiWrapper.strictCallbacks = true;\n\n            callback();\n          }, this), true, true);\n        }\n      } else {\n        // The endpoint has been defined in the config, so use the static values.\n        // Initialise the xAPI wrapper.\n        this.xapiWrapper = window.xapiWrapper || ADL.XAPIWrapper;\n\n        // Set any attributes on the xAPIWrapper.\n        var configError;\n        try {\n          this.setWrapperConfig();\n        } catch (error) {\n          configError = error;\n        }\n\n        if (configError) {\n          return callback(error);\n        }\n\n        function uuidv4() {\n          return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n          );\n        }\n\n        function getDomain(url) {\n          var domain = new URL(url).hostname;\n          var elems = domain.split('.');\n          var iMax = elems.length - 1;\n          \n          var isSecondLevel = elems.length >= 3 && (elems[iMax] + elems[iMax - 1]).length <= 5;\n          var tld = elems.splice( isSecondLevel ? -3 : -2 ).join('.');\n          if (tld != \"localhost\") {\n            return \".\"+tld;\n          }\n          return tld;\n        }\n\n        function setCookie(cname, cvalue, exdays) {\n          const d = new Date();\n          d.setTime(d.getTime() + (exdays*24*60*60*1000));\n          let expires = \"expires=\"+ d.toUTCString();\n          document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/;domain=\"+getDomain(window.location);\n        }      \n\n        function getCookie(cname) {\n          let name = cname + \"=\";\n          let decodedCookie = decodeURIComponent(document.cookie);\n          let ca = decodedCookie.split(';');\n          for(let i = 0; i <ca.length; i++) {\n            let c = ca[i];\n            while (c.charAt(0) == ' ') {\n              c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n              return c.substring(name.length, c.length);\n            }\n          }\n          return \"\";\n        }\n        if (this.debug) {\n          console.log('xAPI: Checking Cookies for actor, or generating random actor'); \n        }\n        if (getCookie('info.learndata.actor') !== \"\") {\n          //  this.xapiWrapper.lrs.actor = `{\"objectType\":\"Agent\",\"name\":\"Testy+McTestface\",\"account\":{\"homePage\":\"http://www.example.com/users\",\"name\":\"1234567890\"}}`\n          this.xapiWrapper.lrs.actor = `${getCookie('info.learndata.actor')}`\n          if(this.debug) { \n            console.log('xAPI: an actor exists in cookies and is:')\n            console.log(`${getCookie('info.learndata.actor')}`)\n          }\n          this.set({\n            registration: getCookie('info.learndata.registration'),\n            actor: JSON.parse(getCookie('info.learndata.actor'))\n          });\n          // insertActorAsUrl();\n          this.xapiWrapper.strictCallbacks = true;\n          callback(); \n        } else if (getCookie('info.learndata.actor') === \"\") {\n          if(this.debug) { \n            console.log('xAPI: actor does not exist in local storage') \n          }\n\n          var courseUser = `${uuidv4()}`\n          var actor = {\n            \"objectType\": \"Agent\",\n            \"name\": courseUser,\n            \"account\": {\n              \"homePage\": \"https://theodi.org\",\n              \"name\": courseUser\n            }\n          }\n          \n          // an actor does not exist in the url so set one from local storage\n          setCookie('info.learndata.actor', JSON.stringify(actor), 365);\n          setCookie('registration', courseUser, 365);\n          this.set({\n            registration: courseUser,\n            actor: actor\n          });\n          if(this.debug) { \n            console.log('xAPI: Generated new actor');\n            console.log(actor);\n            console.log(getCookie('info.learndata.actor'));\n          }\n          this.xapiWrapper.strictCallbacks = true;\n          callback(); \n        } else {\n          if(this.debug) { \n            console.log('xAPI: Failed to generate actor, looking for actor in config?'); \n          }\n\n          // Set the LRS specific properties.\n          this.set({\n            registration: this.getLRSAttribute('registration'),\n            actor: this.getLRSAttribute('actor')\n          });\n\n          this.xapiWrapper.strictCallbacks = true;\n\n          callback();\n        }\n      }\n    },\n\n    /**\n     * Triggers 'plugin:endWait' event (if required).\n     */\n    onInitialised: function(error) {\n      this.set({ isInitialised: !!!error });\n\n      Adapt.wait.end();\n\n      _.defer(function() {\n        if (error) {\n          Adapt.trigger('xapi:lrs:initialize:error', error);\n          return;\n        }\n\n        Adapt.trigger('xapi:lrs:initialize:success');\n      });\n    },\n\n    onLanguageChanged: function(newLanguage) {\n      // Update the language.\n      this.set({ displayLang: newLanguage });\n\n      // Since a language change counts as a new attempt, reset the state.\n      this.deleteState(function() {\n        // Send a statement to track the (new) course.\n        this.sendStatement(this.getCourseStatement(ADL.verbs.launched));\n      });\n    },\n\n    /**\n     * Sends 'suspended' and 'terminated' statements to the LRS when the window\n     * is closed or the browser app is minimised on a device. Sends a 'resume'\n     * statement when switching back to a suspended session.\n     */\n    onVisibilityChange: function() {\n      if (document.visibilityState === 'visible') {\n        this.isTerminated = false;\n\n        return this.sendStatement(this.getCourseStatement(ADL.verbs.resumed));\n      }\n\n      this.sendUnloadStatements();\n    },\n\n    // Sends (optional) 'suspended' and 'terminated' statements to the LRS.\n    sendUnloadStatements: function() {\n      if (this.isTerminated) {\n        return;\n      }\n\n      var statements = [];\n\n      if (!this.isComplete) {\n        // If the course is still in progress, send the 'suspended' verb.\n        statements.push(this.getCourseStatement(ADL.verbs.suspended));\n      }\n\n      // Always send the 'terminated' verb.\n      statements.push(this.getCourseStatement(ADL.verbs.terminated));\n\n      // Note: it is not possible to intercept these synchronous statements.\n      this.sendStatementsSync(statements);\n\n      this.isTerminated = true;\n    },\n\n    /**\n    * Check Wrapper to see if all parameters needed are set.\n    */\n    checkWrapperConfig: function() {\n      if (this.xapiWrapper.lrs.endpoint && this.xapiWrapper.lrs.actor\n        && this.xapiWrapper.lrs.auth && this.xapiWrapper.lrs.activity_id ) {\n          return true;\n        } else {\n          return false;\n        }\n    },\n\n    /**\n     * Attempt to extract endpoint, user and password from the config.json.\n     */\n    setWrapperConfig: function() {\n      var keys = ['endpoint', 'user', 'password'];\n      var newConfig = {};\n\n      _.each(keys, function(key) {\n        var val = this.getConfig('_' + key);\n\n        if (val) {\n          // Note: xAPI wrapper requires a trailing slash and protocol to be present\n          if (key === 'endpoint') {\n            val = val.replace(/\\/?$/, '/');\n\n            if (!/^https?:\\/\\//i.test(val)) {\n              Adapt.log.warn('adapt-contrib-xapi: \"_endpoint\" value is missing protocol (defaulting to http://)');\n\n              val = 'http://' + val;\n            }\n          }\n\n          newConfig[key] = val;\n        }\n      }, this);\n\n      if (!_.isEmpty(newConfig)) {\n        this.xapiWrapper.changeConfig(newConfig);\n\n        if (!this.xapiWrapper.testConfig()) {\n          throw new Error('Incorrect xAPI configuration detected');\n        }\n      }\n    },\n\n    /**\n     * Gets the URL the course is currently running on.\n     * @return {string} The URL to the current course.\n     */\n    getBaseUrl: function() {\n      var url = window.location.origin + window.location.pathname;\n\n      Adapt.log.info('adapt-contrib-xapi: Using detected URL (' + url + ') as ActivityID');\n\n      return url;\n    },\n\n    getAttemptDuration: function() {\n      return this.startAttemptDuration + this.getSessionDuration();\n    },\n\n    getSessionDuration: function() {\n      return Math.abs((new Date()) - this.startTimeStamp);\n    },\n\n    /**\n     * Converts milliseconds to an ISO8601 duration\n     * @param {int} inputMilliseconds - Duration in milliseconds\n     * @return {string} - Duration in ISO8601 format\n     */\n    convertMillisecondsToISO8601Duration: function(inputMilliseconds) {\n      var hours;\n      var minutes;\n      var seconds;\n      var i_inputMilliseconds = parseInt(inputMilliseconds, 10);\n      var i_inputCentiseconds;\n      var inputIsNegative = '';\n      var rtnStr = '';\n\n      // Round to nearest 0.01 seconds.\n      i_inputCentiseconds = Math.round(i_inputMilliseconds / 10);\n\n      if (i_inputCentiseconds < 0) {\n        inputIsNegative = '-';\n        i_inputCentiseconds = i_inputCentiseconds * -1;\n      }\n\n      hours = parseInt(((i_inputCentiseconds) / 360000), 10);\n      minutes = parseInt((((i_inputCentiseconds) % 360000) / 6000), 10);\n      seconds = (((i_inputCentiseconds) % 360000) % 6000) / 100;\n\n      rtnStr = inputIsNegative + 'PT';\n      if (hours > 0) {\n        rtnStr += hours + 'H';\n      }\n\n      if (minutes > 0) {\n        rtnStr += minutes + 'M';\n      }\n\n      rtnStr += seconds + 'S';\n\n      return rtnStr;\n    },\n\n    setupListeners: function() {\n      if (!this.get('isInitialised')) {\n        Adapt.log.warn('adapt-contrib-xapi: Unable to setup listeners for xAPI');\n        return;\n      }\n\n      // Allow surfacing the learner's info in _globals.\n      this.getLearnerInfo()\n\n      this.listenTo(Adapt, 'app:languageChanged', this.onLanguageChanged);\n\n      if (this.get('shouldTrackState')) {\n        this.listenTo(Adapt, 'state:change', this.sendState);\n      }\n\n      // Use the config to specify the core events.\n      this.coreEvents = _.extend(this.coreEvents, this.getConfig('_coreEvents'));\n\n      // Always listen out for course completion.\n      this.listenTo(Adapt, 'tracking:complete', this.onTrackingComplete);\n\n      // Conditionally listen to the events.\n      // Visits to the menu.\n      if (this.coreEvents['Adapt']['router:menu']) {\n        this.listenTo(Adapt, 'router:menu', this.onItemExperience);\n      }\n\n      // Visits to a page.\n      if (this.coreEvents['Adapt']['router:page']) {\n        this.listenTo(Adapt, 'router:page', this.onItemExperience);\n      }\n\n      // When an interaction takes place on a question.\n      if (this.coreEvents['Adapt']['questionView:recordInteraction']) {\n        this.listenTo(Adapt, 'questionView:recordInteraction', this.onQuestionInteraction);\n      }\n\n      // When an assessment is completed.\n      if (this.coreEvents['Adapt']['assessments:complete']) {\n        this.listenTo(Adapt, 'assessments:complete', this.onAssessmentComplete);\n      }\n\n      // Standard completion events for the various collection types, i.e.\n      // course, contentobjects, articles, blocks and components.\n      _.each(_.keys(this.coreEvents), function(key) {\n        if (key !== 'Adapt') {\n          var val = this.coreEvents[key];\n\n          if (typeof val === 'object' && val['change:_isComplete'] === true) {\n            this.listenTo(Adapt[key], 'change:_isComplete', this.onItemComplete);\n          }\n        }\n      }, this);\n    },\n\n    /**\n     * Gets an xAPI Activity (with an 'id of the activityId) representing the course.\n     * @returns {ADL.XAPIStatement.Activity} Activity representing the course.\n     */\n    getCourseActivity: function() {\n      var object = new ADL.XAPIStatement.Activity(this.get('activityId'));\n      var name = {};\n      var description = {};\n\n      name[this.get('displayLang')] = this.courseName;\n      description[this.get('displayLang')] = this.courseDescription;\n\n      object.definition = {\n        type: ADL.activityTypes.course,\n        name: name,\n        description: description\n      };\n\n      return object;\n    },\n\n    /**\n     * Creates an xAPI statement related to the Adapt.course object.\n     * @param {object | string} verb - A valid ADL.verbs object or key.\n     * @param {object} [result] - An optional result object.\n     * @return A valid ADL statement object.\n     */\n    getCourseStatement: function(verb, result) {\n      if (typeof result === 'undefined') {\n        result = {};\n      }\n\n      var object = this.getCourseActivity()\n\n      // Append the duration.\n      switch (verb) {\n        case ADL.verbs.launched:\n        case ADL.verbs.initialized:\n        case ADL.verbs.attempted: {\n          result.duration = 'PT0S';\n          break;\n        }\n\n        case ADL.verbs.failed:\n        case ADL.verbs.passed:\n        case ADL.verbs.suspended: {\n          result.duration = this.convertMillisecondsToISO8601Duration(this.getAttemptDuration());\n          break;\n        }\n\n        case ADL.verbs.terminated: {\n          result.duration = this.convertMillisecondsToISO8601Duration(this.getSessionDuration());\n          break;\n        }\n      }\n\n      return this.getStatement(this.getVerb(verb), object, result);\n    },\n\n    /**\n     * Gets a name object from a given model.\n     * @param {Backbone.Model} model - An instance of Adapt.Model (or Backbone.Model).\n     * @return {object} An object containing a key-value pair with the language code and name.\n     */\n    getNameObject: function(model) {\n      var name = {};\n\n      name[this.get('displayLang')] = model.get('displayTitle') || model.get('title');\n\n      return name;\n    },\n\n    /**\n     * Gets the activity type for a given model.\n     * @param {Backbone.Model} model - An instance of Adapt.Model (or Backbone.Model).\n     * @return {string} A URL to the current activity type.\n     */\n    getActivityType: function(model) {\n      var type = '';\n\n      switch (model.get('_type')) {\n        case 'component': {\n          type = model.get('_isQuestionType') ? ADL.activityTypes.interaction : ADL.activityTypes.media;\n          break;\n        }\n        case 'block':\n        case 'article': {\n          type = ADL.activityTypes.interaction; //??\n          break;\n        }\n        case 'course': {\n          type = ADL.activityTypes.course;\n          break;\n        }\n        case 'menu': {\n          type = ADL.activityTypes.module;\n          break;\n        }\n        case 'page': {\n          type = ADL.activityTypes.lesson;\n          break;\n        }\n      }\n\n      return type;\n    },\n\n    /**\n     * Sends an 'answered' statement to the LRS.\n     * @param {ComponentView} view - An instance of Adapt.ComponentView.\n     */\n    onQuestionInteraction: function(view) {\n      if (!view.model || view.model.get('_type') !== 'component' && !view.model.get('_isQuestionType')) {\n        return;\n      }\n\n      if (this.isComponentOnBlacklist(view.model.get('_component'))) {\n        // This component is on the blacklist, so do not send a statement.\n        return;\n      }\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(view.model));\n      var isComplete = view.model.get('_isComplete');\n      var lang = this.get('displayLang');\n      var statement;\n      var description = {};\n\n      description[this.get('displayLang')] = this.stripHtml(view.model.get('body'));\n\n      object.definition = {\n        name: this.getNameObject(view.model),\n        description: description,\n        type: ADL.activityTypes.question,\n        interactionType: view.getResponseType()\n      };\n\n      if (typeof view.getInteractionObject === 'function') {\n        // Get any extra interactions.\n        _.extend(object.definition, view.getInteractionObject());\n\n        // Ensure any 'description' properties are objects with the language map.\n        _.each(_.keys(object.definition), function(key) {\n          if (_.isArray(object.definition[key]) && object.definition[key].length !== 0) {\n            for (var i = 0; i < object.definition[key].length; i++) {\n              if (!object.definition[key][i].hasOwnProperty('description')) {\n                break;\n              }\n\n              if (typeof object.definition[key][i].description === 'string') {\n                var description = {};\n                description[lang] = object.definition[key][i].description;\n\n                object.definition[key][i].description = description;\n              }\n            }\n          }\n        });\n      }\n\n      var result = {\n        score: {\n          raw: view.model.get('_score') || 0\n        },\n        success: view.model.get('_isCorrect'),\n        completion: isComplete,\n        response: this.processInteractionResponse(object.definition.interactionType, view.getResponse())\n      };\n\n      // Answered\n      statement = this.getStatement(this.getVerb(ADL.verbs.answered), object, result);\n\n      this.addGroupingActivity(view.model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Removes the HTML tags/attributes and returns a string.\n     * @param {string} html - A string containing HTML\n     * @returns {string} The same string minus HTML\n     */\n    stripHtml: function(html) {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      return tempDiv.textContent || tempDiv.innerText || '';\n    },\n\n    /**\n     * In order to support SCORM 1.2 and SCORM 2004, some of the components return a non-standard\n     * response.\n     * @param {string} responseType - The type of the response.\n     * @param {string} response - The unprocessed response string.\n     * @returns {string} A response formatted for xAPI compatibility.\n     */\n    processInteractionResponse: function(responseType, response) {\n      switch (responseType) {\n        case 'choice': {\n          response = response.replace(/,|#/g, '[,]');\n\n          break;\n        }\n        case 'matching': {\n          // Example: 1[.]1_1[,]2[.]2_5\n          response = response\n            .split('#')\n            .map(function(val, i) {\n              return (i + 1) + '[.]' + val.replace('.', '_')\n            })\n            .join('[,]');\n          break;\n        }\n      }\n\n      return response;\n    },\n\n    /**\n     * Sends an xAPI statement when an item has been experienced.\n     * @param {AdaptModel} model - An instance of AdaptModel, i.e. ContentObjectModel, etc.\n     */\n    onItemExperience: function(model) {\n      if (model.get('_id') === 'course') {\n        // We don't really want to track actions on the home menu.\n        return;\n      }\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(model));\n      var statement;\n\n      object.definition = {\n        name: this.getNameObject(model),\n        type: this.getActivityType(model)\n      };\n\n      // Experienced.\n      statement = this.getStatement(this.getVerb(ADL.verbs.experienced), object);\n\n      this.addGroupingActivity(model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Checks if a given component is blacklisted from sending statements.\n     * @param {string} component - The name of the component.\n     * @returns {boolean} true if the component exists on the blacklist.\n     */\n    isComponentOnBlacklist: function(component) {\n      return this.get('componentBlacklist').indexOf(component) !== -1;\n    },\n\n    /**\n     * Sends an xAPI statement when an item has been completed.\n     * @param {AdaptModel} model - An instance of AdaptModel, i.e. ComponentModel, BlockModel, etc.\n     * @param {boolean} isComplete - Flag to indicate if the model has been completed\n     */\n    onItemComplete: function(model, isComplete) {\n      if (isComplete === false) {\n        // The item is not actually completed, e.g. it may have been reset.\n        return;\n      }\n\n      // If this is a question component (interaction), do not record multiple statements.\n      if (model.get('_type') === 'component' && model.get('_isQuestionType') === true\n        && this.coreEvents['Adapt']['questionView:recordInteraction'] === true\n        && this.coreEvents['components']['change:_isComplete'] === true) {\n        // Return because 'Answered' will already have been passed.\n        return;\n      }\n\n      if (model.get('_type') === 'component' && this.isComponentOnBlacklist(model.get('_component'))) {\n        // This component is on the blacklist, so do not send a statement.\n        return;\n      }\n\n      var result = { completion: true };\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(model));\n      var statement;\n\n      object.definition = {\n        name: this.getNameObject(model),\n        type: this.getActivityType(model)\n      };\n\n      // Completed.\n      statement = this.getStatement(this.getVerb(ADL.verbs.completed), object, result);\n\n      this.addGroupingActivity(model, statement)\n      this.sendStatement(statement);\n    },\n\n    /**\n     * Gets a lesson activity for a given page.\n     * @param {string|Adapt.Model} page - Either an Adapt contentObject model of type 'page', or the _id of one.\n     * @returns {XAPIStatement.Activity} Activity corresponding to the lesson.\n     */\n    getLessonActivity: function(page) {\n      var pageModel = (typeof page === 'string')\n        ? Adapt.findById(page)\n        : page\n      var activity = new ADL.XAPIStatement.Activity(this.getUniqueIri(pageModel))\n      var name = this.getNameObject(pageModel)\n\n      activity.definition = {\n        name: name,\n        type: ADL.activityTypes.lesson\n      }\n\n      return activity;\n    },\n\n    /**\n     * Adds a 'grouping' and/or 'parent' value to a statement's contextActivities.\n     * Note: the 'parent' is only added in the case of a question component which is part of\n     * an assessment. All articles, blocks and components are grouped by page.\n     * @param {Adapt.Model} model - Any Adapt model.\n     * @param {ADL.XAPIStatement} statement - A valid xAPI statement object.\n     */\n    addGroupingActivity: function(model, statement) {\n      var type = model.get('_type');\n\n      if (type !== 'course') {\n        // Add a grouping for the course.\n        statement.addGroupingActivity(this.getCourseActivity())\n      }\n\n      if (['article', 'block', 'component'].indexOf(type) !== -1) {\n        // Group these items by page/lesson.\n        var pageModel = model.findAncestor('pages')\n\n        statement.addGroupingActivity(this.getLessonActivity(pageModel));\n      }\n\n      if (type === 'component' && model.get('_isPartOfAssessment')) {\n        // Get the article containing this question component.\n        let articleModel = model.findAncestor('articles')\n\n        if (articleModel && articleModel.has('_assessment') && articleModel.get('_assessment')._isEnabled) {\n          // Set the assessment as the parent.\n          var assessment = {\n            id: articleModel.get('_assessment')._id,\n            articleId: articleModel.get('_id'),\n            type: 'article-assessment',\n            pageId: articleModel.get('_parentId')\n          }\n\n          statement.addParentActivity(this.getAssessmentObject(assessment))\n        }\n      }\n    },\n\n    /**\n     * Takes an assessment state and returns a results object based on it.\n     * @param {object} assessment - An instance of the assessment state.\n     * @return {object} - A result object containing score, success and completion properties.\n     */\n    getAssessmentResultObject: function(assessment) {\n      var result = {\n        score: {\n          scaled: (assessment.scoreAsPercent / 100),\n          raw: assessment.score,\n          min: 0,\n          max: assessment.maxScore\n        },\n        success: assessment.isPass,\n        completion: assessment.isComplete\n      };\n\n      return result;\n    },\n\n    /**\n     * Gets an Activity for use in an xAPI statement.\n     * @param {object} assessment - Object representing the assessment.\n     * @returns {ADL.XAPIStatement.Activity} - Activity representing the assessment.\n     */\n    getAssessmentObject: function(assessment) {\n      // Instantiate a Model so it can be used to obtain an IRI.\n      var fakeModel = new Backbone.Model({\n        _id: assessment.id || assessment.articleId,\n        _type: assessment.type,\n        pageId: assessment.pageId\n      });\n\n      var object = new ADL.XAPIStatement.Activity(this.getUniqueIri(fakeModel));\n      var name = {};\n\n      name[this.get('displayLang')] = assessment.id || 'Assessment';\n\n      object.definition = {\n        name: name,\n        type: ADL.activityTypes.assessment\n      };\n\n      return object\n    },\n\n    /**\n     * Sends an xAPI statement when an assessment has been completed.\n     * @param {object} assessment - Object representing the state of the assessment.\n     */\n    onAssessmentComplete: function(assessment) {\n      var self = this;\n\n      var object = this.getAssessmentObject(assessment)\n      var result = this.getAssessmentResultObject(assessment);\n      var statement;\n\n      if (assessment.isPass) {\n        // Passed.\n        statement = this.getStatement(this.getVerb(ADL.verbs.passed), object, result);\n      } else {\n        // Failed.\n        statement = this.getStatement(this.getVerb(ADL.verbs.failed), object, result);\n      }\n\n      statement.addGroupingActivity(this.getCourseActivity())\n      statement.addGroupingActivity(this.getLessonActivity(assessment.pageId))\n\n      // Delay so that component completion can be recorded before assessment completion.\n      _.delay(function() {\n        self.sendStatement(statement);\n      }, 500);\n    },\n\n    /**\n     * Gets a valid 'verb' object in the ADL.verbs and returns the correct language version.\n     * @param {object|stirng} verb - A valid ADL verb object or key, e.g. 'completed'.\n     * @return {object} An ADL verb object with 'id' and language specific 'display' properties.\n     */\n    getVerb: function(verb) {\n      if (typeof verb === 'string') {\n        var key = verb.toLowerCase();\n        verb = ADL.verbs[key];\n\n        if (!verb) {\n          Adapt.log.error('adapt-contrib-xapi: Verb \"' + key + '\" does not exist in ADL.verbs object');\n        }\n      }\n\n      if (typeof verb !== 'object') {\n        throw new Error('Unrecognised verb: ' + verb);\n      }\n\n      var lang = this.get('lang') || this.defaultLang;\n\n      var singleLanguageVerb = {\n        id: verb.id,\n        display: {}\n      };\n\n      var description = verb.display[lang];\n\n      if (description) {\n        singleLanguageVerb.display[lang] = description;\n      } else {\n        // Fallback in case the verb translation doesn't exist.\n        singleLanguageVerb.display[this.defaultLang] = verb.display[this.defaultLang];\n      }\n\n      return singleLanguageVerb;\n    },\n\n    /**\n     * Gets a unique IRI for a given model.\n     * @param {AdaptModel} model - An instance of an AdaptModel object.\n     * @return {string} An IRI formulated specific to the passed model.\n     */\n    getUniqueIri: function(model) {\n      var iri = this.get('activityId');\n      var type = model.get('_type');\n\n      if (type !== 'course') {\n        if (type === 'article-assessment') {\n          iri = iri + ['#', 'assessment', model.get('_id')].join('/');\n        } else {\n          iri = iri + ['#/id', model.get('_id')].join('/');\n        }\n      }\n\n      return iri;\n    },\n\n    /**\n     * Handler for the Adapt Framework's 'tracking:complete' event.\n     * @param {object} completionData\n     */\n    onTrackingComplete: function(completionData) {\n      var self = this;\n      var result = {};\n      var completionVerb;\n\n      // Check the completion status.\n      switch (completionData.status) {\n        case COMPLETION_STATE.PASSED: {\n          completionVerb = ADL.verbs.passed;\n          break;\n        }\n\n        case COMPLETION_STATE.FAILED: {\n          completionVerb = ADL.verbs.failed;\n          break;\n        }\n\n        default: {\n          completionVerb = ADL.verbs.completed;\n        }\n      }\n\n      if (completionVerb === ADL.verbs.completed) {\n        result = { completion: true };\n      } else {\n        // The assessment(s) play a part in completion, so use their result.\n        result = this.getAssessmentResultObject(completionData.assessment);\n      }\n\n      // Store a reference that the course has actually been completed.\n      this.isComplete = true;\n\n      _.defer(function() {\n        // Send the completion status.\n        self.sendStatement(self.getCourseStatement(completionVerb, result));\n      });\n    },\n\n    /**\n     * Refresh course progress from loaded state.\n     */\n    restoreState: function() {\n      var state = this.get('state');\n\n      if (_.isEmpty(state)) {\n        return;\n      }\n\n      var Adapt = require('core/js/adapt');\n\n      if (state.components) {\n        _.each(state.components, function(stateObject) {\n          var restoreModel = Adapt.findById(stateObject._id);\n\n          if (restoreModel) {\n            restoreModel.setTrackableState(stateObject);\n          } else {\n            Adapt.log.warn('adapt-contrib-xapi: Unable to restore state for component: ' + stateObject._id);\n          }\n        });\n      }\n\n      if (state.blocks) {\n        _.each(state.blocks, function(stateObject) {\n          var restoreModel = Adapt.findById(stateObject._id);\n\n          if (restoreModel) {\n            restoreModel.setTrackableState(stateObject);\n          } else {\n            Adapt.log.warn('adapt-contrib-xapi: Unable to restore state for block: ' + stateObject._id);\n          }\n        });\n      }\n    },\n\n    /**\n     * Generate an XAPIstatement object for the xAPI wrapper sendStatement methods.\n     * @param {object} verb - A valid ADL.verbs object.\n     * @param {object} object -\n     * @param {object} [result] - optional\n     * @param {object} [context] - optional\n     * @return {ADL.XAPIStatement} A formatted xAPI statement object.\n     */\n    getStatement: function(verb, object, result, context) {\n      var statement = new ADL.XAPIStatement(\n        new ADL.XAPIStatement.Agent(this.get('actor')),\n        verb,\n        object\n      );\n\n      if (result && !_.isEmpty(result)) {\n        statement.result = result;\n      }\n\n      if (context) {\n        statement.context = context;\n      }\n\n      if (this.get('_generateIds')) {\n        statement.generateId();\n      }\n\n      return statement;\n    },\n\n    /**\n     * Sends the state to the or the given model to the configured LRS.\n     * @param {AdaptModel} model - The AdaptModel whose state has changed.\n     */\n    sendState: function(model, modelState) {\n      if (this.get('shouldTrackState') !== true) {\n        return;\n      }\n\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var type = model.get('_type');\n      var state = this.get('state');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n      var collectionName = _.findKey(this.coreObjects, function(o) {\n        return o === type || o.indexOf(type) > -1\n      });\n      var stateCollection = _.isArray(state[collectionName]) ? state[collectionName] : [];\n      var newState;\n\n      if (collectionName !== 'course' && collectionName !== 'offlineStorage') {\n        var index = _.findIndex(stateCollection, { _id: model.get('_id') });\n\n        if (index !== -1) {\n          stateCollection.splice(index, 1, modelState);\n        } else {\n          stateCollection.push(modelState);\n        }\n\n        newState = stateCollection;\n      } else {\n        newState = modelState;\n      }\n\n      // Update the locally held state.\n      state[collectionName] = newState;\n      this.set({\n        state: state\n      });\n\n      // Pass the new state to the LRS.\n      this.xapiWrapper.sendState(activityId, actor, collectionName, registration, newState, null, null, function(error, xhr) {\n        if (error) {\n          Adapt.trigger('xapi:lrs:sendState:error', error);\n        }\n\n        Adapt.trigger('xapi:lrs:sendState:success', newState);\n      });\n    },\n\n    /**\n     * Retrieves the state information for the current course.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    getState: function(callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      var self = this;\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n      var state = {};\n\n      Async.each(_.keys(this.coreObjects), function(type, nextType) {\n        self.xapiWrapper.getState(activityId, actor, type, registration, null, function(error, xhr) {\n          _.defer(function() {\n            if (error) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(error);\n            }\n\n            if (!xhr) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(new Error('\\'xhr\\' parameter is missing from callback'));\n            }\n\n            if (xhr.status === 404) {\n              return nextType();\n            }\n\n            if (xhr.status !== 200) {\n              Adapt.log.warn('adapt-contrib-xapi: getState() failed for ' + activityId + ' (' + type + ')');\n              return nextType(new Error('Invalid status code ' + xhr.status + ' returned from getState() call'));\n            }\n\n            var response;\n            var parseError;\n\n            // Check for empty response, otherwise the subsequent JSON.parse() will fail.\n            if (xhr.response === '') {\n              return nextType();\n            }\n\n            try {\n              response = JSON.parse(xhr.response);\n            } catch (e) {\n              parseError = e;\n            }\n\n            if (parseError) {\n              return nextType(parseError);\n            }\n\n            if (!_.isEmpty(response)) {\n              state[type] = response;\n            }\n\n            return nextType();\n          });\n        });\n      }, function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        if (!_.isEmpty(state)) {\n          self.set({ state: state });\n        }\n\n        Adapt.trigger('xapi:stateLoaded');\n\n        callback();\n      });\n    },\n\n    /**\n     * Deletes all state information for the current course.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    deleteState: function(callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      var self = this;\n      var activityId = this.get('activityId');\n      var actor = this.get('actor');\n      var registration = this.get('shouldUseRegistration') === true \n        ? this.get('registration')\n        : null;\n \n      Async.each(_.keys(this.coreObjects), function(type, nextType) {\n        self.xapiWrapper.deleteState(activityId, actor, type, registration, null, null, function(error, xhr) {\n          if (error) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(error);\n          }\n\n          if (!xhr) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(new Error('\\'xhr\\' parameter is missing from callback'));\n          }\n\n          if (xhr.status !== 204) {\n            Adapt.log.warn('adapt-contrib-xapi: deleteState() failed for ' + activityId + ' (' + type + ')');\n            return nextType(new Error('Invalid status code ' + xhr.status + ' returned from getState() call'));\n          }\n\n          return nextType();\n        });\n      }, function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        callback();\n      });\n    },\n\n    /**\n     * Retrieve a config item for the current course, e.g. '_activityID'.\n     * @param {string} key - The data attribute to fetch.\n     * @return {object|boolean} The attribute value, or false if not found.\n     */\n    getConfig: function(key) {\n      if (!this.config || key === '' || typeof this.config[key] === 'undefined') {\n        return false;\n      }\n\n      return this.config[key];\n    },\n\n    /**\n     * Retrieve an LRS attribute for the current session, e.g. 'actor'.\n     * @param {string} key - The attribute to fetch.\n     * @return {object|null} the attribute value, or null if not found.\n     */\n    getLRSAttribute: function(key) {\n      if (!this.xapiWrapper || !this.xapiWrapper.lrs || undefined === this.xapiWrapper.lrs[key]) {\n        return null;\n      }\n\n      try {\n        switch(key) {\n          case 'actor': {\n            var actor = JSON.parse(this.xapiWrapper.lrs[key]);\n\n            if (_.isArray(actor.name)) {\n              // Convert the name from an array to a string.\n              actor.name = actor.name[0];\n            }\n\n            if (_.isArray(actor.mbox)) {\n              // Convert mbox from an array to a string.\n              actor.mbox = actor.mbox[0];\n            }\n\n            // If the account is an array, some work will be required.\n            if (_.isArray(actor.account)) {\n              var account = {};\n\n              // Convert 'accountServiceHomePage' to 'homePage'.\n              if (typeof actor.account[0].accountServiceHomePage !== 'undefined') {\n                account.homePage = actor.account[0].accountServiceHomePage;\n              } else if (actor.account[0].homePage !== 'undefined') {\n                account.homePage = actor.account[0].homePage;\n              }\n\n              // Convert 'accountName' to 'name'.\n              if (typeof actor.account[0].accountName !== 'undefined') {\n                account.name = actor.account[0].accountName;\n              } else if (typeof actor.account[0].name !== 'undefined') {\n                account.name = actor.account[0].name;\n              }\n\n              // Out with the old array.\n              delete actor.account;\n\n              // In with the new object.\n              actor.account = account;\n            }\n\n            return actor;\n          }\n          // case 'registration': {\n          //   var registration = this.xapiWrapper.lrs[key];\n          //   if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(registration)) {\n          //     // The 'registration' isn't a valid UUID, generate one.\n          //     return ADL.ruuid();\n          //   } else {\n          //     return registration;\n          //   }\n          // }\n          default:\n            return this.xapiWrapper.lrs[key];\n        }\n      } catch (e) {\n        return null;\n      }\n    },\n\n    getLRSExtendedAttribute: function(key) {\n      var extended = this.getLRSAttribute('extended');\n      if (extended == null) {\n        return null;\n      }\n\n      try {\n        if (key === 'definition') {\n          return JSON.parse(extended.definition);\n        }\n\n        return extended[key];\n      } catch (e) {\n        return null;\n      }\n    },\n\n    /**\n     * Checks that the required properties -- actor and activityId -- are defined, and\n     * logs a warning if any of them are not.\n     * @return {boolean} true if the properties are valid, false otherwise.\n     */\n    validateProps: function() {\n      var errorCount = 0;\n\n      if (!this.get('actor') || typeof this.get('actor') !== 'object') {\n        Adapt.log.warn('adapt-contrib-xapi: \"actor\" attribute not found!');\n        errorCount++;\n      }\n\n      if (!this.get('activityId')) {\n        Adapt.log.warn('adapt-contrib-xapi: \"activityId\" attribute not found!');\n        errorCount++;\n      }\n\n      // if (!this.get('registration')) {\n      //   Adapt.log.warn('adapt-contrib-xapi: \"registration\" attribute not found!');\n      // }\n\n      if (errorCount > 0) {\n        return false;\n      }\n\n      return true;\n    },\n\n    /**\n     * Prepares to send a single xAPI statement to the LRS.\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     * @param {array} [attachments] - An array of attachments to pass to the LRS.\n     */\n    sendStatement: function(statement, callback, attachments) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      if (!statement) {\n        return;\n      }\n\n      Adapt.trigger('xapi:preSendStatement', statement);\n\n      // Allow the trigger above to augment attachments if the attachments\n      // parameter is not set.\n      if (_.isUndefined(attachments) && statement.attachments) {\n        return this.processAttachments(statement, callback);\n      } else {\n        this.onStatementReady(statement, callback, attachments);\n      }\n    },\n\n    /**\n     * Sends statements using the Fetch API in order to make use of the keepalive\n     * feature not available in AJAX requests. This makes the sending of suspended\n     * and terminated statements more reliable.\n     */\n    sendStatementsSync: function(statements) {\n      var lrs = ADL.XAPIWrapper.lrs;\n\n      // Fetch not supported in IE and keepalive/custom headers\n      // not supported for CORS preflight requests so attempt\n      // to send the statement in the usual way\n      if (!window.fetch || this.isCORS(lrs.endpoint)) {\n        return this.sendStatements(statements);\n      }\n\n      var url = lrs.endpoint + 'statements';\n      var credentials = ADL.XAPIWrapper.withCredentials ? 'include' : 'omit';\n      var headers = {\n        'Content-Type': 'application/json',\n        'Authorization': lrs.auth,\n        'X-Experience-API-Version': ADL.XAPIWrapper.xapiVersion\n      };\n\n      // Add extended LMS-specified values to the URL\n      var extended = _.map(lrs.extended, function(value, key) {\n        return key + '=' + encodeURIComponent(value);\n      });\n\n      if (extended.length > 0) {\n        url += (url.indexOf('?') > -1 ? '&' : '?') + extended.join('&');\n      }\n\n      fetch(url, {\n        body: JSON.stringify(statements),\n        cache: 'no-cache',\n        credentials: credentials,\n        headers: headers,\n        mode: 'same-origin',\n        keepalive: true,\n        method: 'POST'\n      }).then(function() {\n        Adapt.trigger('xapi:lrs:sendStatement:success', statements);\n      }).catch(function(error) {\n        Adapt.trigger('xapi:lrs:sendStatement:error', error);\n      })\n    },\n\n    /**\n     * Determine if sending the statement involves a Cross Origin Request\n     * @param {string} url - the lrs endpoint\n     * @returns {boolean}\n     */\n    isCORS: function(url) {\n      var urlparts = url.toLowerCase().match(/^(.+):\\/\\/([^:\\/]*):?(\\d+)?(\\/.*)?$/);\n      var isCORS = (location.protocol.toLowerCase().replace(':', '') !== urlparts[1] || location.hostname.toLowerCase() !== urlparts[2]);\n      if (!isCORS) {\n        var urlPort = (urlparts[3] === null ? (urlparts[1] === 'http' ? '80' : '443') : urlparts[3]);\n        isCORS = (urlPort === location.port);\n      }\n\n      return isCORS;\n    },\n\n    /**\n     * Send an xAPI statement to the LRS once all async operations are complete\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     * @param {array} [attachments] - An array of attachments to pass to the LRS.\n     */\n    onStatementReady: function(statement, callback, attachments) {\n      this.xapiWrapper.sendStatement(statement, function(error) {\n        if (error) {\n          Adapt.trigger('xapi:lrs:sendStatement:error', error);\n          return callback(error);\n        }\n\n        Adapt.trigger('xapi:lrs:sendStatement:success', statement);\n        return callback();\n      }, attachments);\n    },\n\n    /**\n     * Process any attachments that have been added to the statement object by\n     * intercepting the send operation at the xapi:preSendStatement trigger\n     * If a url is specified for an attachment then retrieve the text content\n     * and store this instead\n     * @param {ADL.XAPIStatement} statement - A valid ADL.XAPIStatement object.\n     * @param {ADLCallback} [callback]\n     */\n    processAttachments: function(statement, callback) {\n      var attachments = statement.attachments;\n\n      Async.each(attachments, function(attachment, nextAttachment) {\n\n        // First check the attachment for a value\n        if (attachment.value) {\n          nextAttachment();\n        } else if (attachment.url) {\n          // If a url is specified then we need to obtain the string value\n          // Use native xhr so we can set the responseType to 'blob'\n          var xhr = new XMLHttpRequest();\n          xhr.onreadystatechange = function() {\n            if (this.readyState === 4 && this.status === 200) {\n\n              // Use FileReader to retrieve the blob contents as a string\n              var reader = new FileReader();\n              reader.onload = function() {\n\n                // Store the string value in the attachment object and\n                // delete the url property which is no longer needed\n                attachment.value = reader.result;\n                delete attachment.url;\n                nextAttachment()\n              };\n              reader.readAsBinaryString(this.response);\n            }\n          };\n          xhr.open('GET', attachment.url);\n          xhr.responseType = 'blob';\n          xhr.send();\n        } else {\n          Adapt.log.warn('Attachment object contained neither a value or url property.');\n        }\n      }, function() {\n        delete statement.attachments;\n        this.onStatementReady(statement, callback, attachments);\n      }.bind(this));\n    },\n\n    /**\n     * Sends multiple xAPI statements to the LRS.\n     * @param {ADL.XAPIStatement[]} statements - An array of valid ADL.XAPIStatement objects.\n     * @param {ErrorOnlyCallback} [callback]\n     */\n    sendStatements: function(statements, callback) {\n      callback = _.isFunction(callback) ? callback : function() { };\n\n      if (!statements || statements.length === 0) {\n        return;\n      }\n\n      Adapt.trigger('xapi:preSendStatements', statements);\n\n      // Rather than calling the wrapper's sendStatements() function, iterate\n      // over each statement and call sendStatement().\n      Async.each(statements, function(statement, nextStatement) {\n        this.sendStatement(statement, nextStatement);\n      }.bind(this), function(error) {\n        if (error) {\n          Adapt.log.error('adapt-contrib-xapi:', error);\n          return callback(error);\n        }\n\n        callback();\n      });\n    },\n\n    getGlobals: function() {\n      return _.defaults(\n        (\n          Adapt &&\n          Adapt.course &&\n          Adapt.course.get('_globals') &&\n          Adapt.course.get('_globals')._extensions &&\n          Adapt.course.get('_globals')._extensions._xapi\n        ) || {},\n        {\n          'confirm': 'OK',\n          'lrsConnectionErrorTitle': 'LRS not available',\n          'lrsConnectionErrorMessage': 'We were unable to connect to your Learning Record Store (LRS). This means that your progress cannot be recorded.'\n        }\n      );\n    },\n\n    showError: function() {\n      if (this.getConfig('_lrsFailureBehaviour') === 'ignore') {\n        return;\n      }\n\n      var notifyObject = {\n        title: this.getGlobals().lrsConnectionErrorTitle,\n        body: this.getGlobals().lrsConnectionErrorMessage,\n        confirmText: this.getGlobals().confirm\n      };\n\n      // Setup wait so that notify does not get dismissed when the page loads\n      Adapt.wait.begin();\n      Adapt.trigger('notify:alert', notifyObject);\n      // Ensure notify appears on top of the loading screen\n      $('.notify').css({ position: 'relative', zIndex: 5001 });\n      Adapt.once('notify:closed', Adapt.wait.end);\n    }\n  });\n\n  xAPI.getInstance = function() {\n    if (!xAPI.instance) {\n      xAPI.instance = new xAPI();\n    }\n\n    return xAPI.instance;\n  };\n\n  /** Adapt event listeners begin here */\n  Adapt.once('app:dataLoaded', function() {\n    var xapi = xAPI.getInstance();\n\n    xapi.initialize();\n\n    Adapt.on('adapt:initialize', function() {\n      xapi.setupListeners();\n    });\n\n    Adapt.on('xapi:lrs:initialize:error', function(error) {\n      Adapt.log.error('adapt-contrib-xapi: xAPI Wrapper initialisation failed', error);\n      xapi.showError();\n    });\n\n    Adapt.on('xapi:lrs:sendStatement:error', function(error) {\n      xapi.showError();\n    });\n\n    Adapt.on('xapi:lrs:sendState:error', function(error) {\n      xapi.showError();\n    });\n  });\n\n  return xAPI.getInstance();\n});\n","define([\n  'core/js/adapt',\n  './adapt-contrib-xapi'\n], function(Adapt, xapi) {\n\n  //xAPI handler for Adapt.offlineStorage interface.\n  var offlineStorage = {\n\n    load: function() {\n      // Use a lightweight fake model to pass into xAPI.sendState\n      var fakeModel = {\n        get: function() {\n          return 'offlineStorage';\n        }\n      };\n\n      var store = new Backbone.Model();\n      var isDataRestored = false;\n\n      Adapt.offlineStorage.initialize({\n\n        get: function(name) {\n          if (!name) {\n            return this.getAll();\n          }\n\n          if (!this.useTemporaryStore() && name.toLowerCase() === 'learnerinfo') {\n            return this.getLearnerInfo();\n          }\n\n          return store.get(name);\n        },\n\n        getAll: function() {\n          if (!isDataRestored) {\n            var state = xapi.get('state') || {};\n            store.set(state.offlineStorage);\n            isDataRestored = true;\n          }\n\n          //If not connected return just the store.\n          if (this.useTemporaryStore()) {\n            return store.toJSON();\n          }\n\n          return _.extend(store.toJSON(), {\n            learnerInfo: this.getLearnerInfo()\n          });\n        },\n\n        set: function(name, value) {\n          store.set(name, value);\n\n          // xAPI may not yet be initialised so use a soft trigger rather than hard calling xAPI.sendState\n          Adapt.trigger('state:change', fakeModel, store.toJSON());\n        },\n\n        useTemporaryStore: function() {\n          return !xapi.get('isInitialised');\n        },\n\n        /**\n         * @returns {{id: string, name: string, firstname: string, lastname: string}} The learner's id, full name (in the format Firstname Lastname), first and last names\n         */\n        getLearnerInfo: function() {\n          var actor = xapi.get('actor') || {};\n          var name = actor.name || '';\n          var lastname;\n          var firstname;\n          var matches = name.match(/(\\S+)\\s(.+)/);\n\n          if (matches && matches.length > 2) {\n            lastname = matches[2];\n            firstname = matches[1];\n          } else {\n            console.log('xAPI: actor name not in \"firstname lastname\" format');\n          }\n\n          return {\n            id: this.getLearnerId(actor),\n            name: name,\n            lastname: lastname,\n            firstname: firstname\n          };\n        },\n\n        /**\n         * Get the learner's id by checking the actor properties in the order 'name', 'openid', 'mbox'\n         * @param {object} actor\n         * @return {string} the learner's unique id\n         */\n        getLearnerId: function(actor) {\n          var name = actor.account && actor.account.name;\n\n          if (name) {\n            return name;\n          }\n\n          if (actor.openid) {\n            return actor.openid;\n          }\n\n          if (typeof actor.mbox === 'string' && actor.mbox.length > 0) {\n            return actor.mbox.replace('mailto:', '')\n          }\n\n          console.log('xAPI: could not determine the learner\\'s ID');\n\n          return null;\n        }\n\n      });\n    }\n\n  };\n\n  return offlineStorage;\n\n});\n","define([\n  'core/js/adapt',\n  './adapt-offlineStorage-xapi',\n  './adapt-contrib-xapi',\n], function(Adapt, offlineStorage) {\n\n  Adapt.on('app:dataLoaded', initialise);\n\n  function initialise() {\n    var config = Adapt.config.get('_xapi') || {};\n\n    if (!config._isEnabled) {\n      return;\n    }\n\n    offlineStorage.load();\n\n    // Wait for offline storage to be restored if _shouldTrackState is enabled\n    var successEvent = config._shouldTrackState ? 'xapi:stateLoaded' : 'xapi:lrs:initialize:success';\n\n    // Ensure that the course still loads if there is a connection error\n    Adapt.once('xapi:lrs:initialize:error ' + successEvent, function() {\n      Adapt.offlineStorage.get();\n      Adapt.offlineStorage.setReadyStatus();\n    });\n  }\n\n});","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var DevtoolsModel = Backbone.Model.extend({\n\n    initialize:function() {\n      var config = Adapt.config.has('_devtools') ? Adapt.config.get('_devtools') : this.getDefaultConfig();\n      this.set(_.extend({\n        '_trickleEnabled':false,\n        '_hintingAvailable':true,\n        '_hintingEnabled':false,\n        '_toggleFeedbackAvailable':true,\n        '_feedbackEnabled':true,\n        '_autoCorrectAvailable':true,\n        '_autoCorrectEnabled':false,\n        '_altTextAvailable':true,\n        '_altTextEnabled':false,\n        '_tutorListener':null,\n        '_unlockAvailable':true,\n        '_unlocked':false,\n        '_toggleBankingAvailable':true,\n        '_traceFocusAvailable':true,\n        '_traceFocusEnabled':false,\n        '_extended':true\n      }, config));\n    },\n\n    getDefaultConfig:function() {\n      return {\n        '_isEnabled':false,\n        '_extended':true\n      };\n    },\n\n    toggleFeedback:function() {\n      this.set('_feedbackEnabled', !this.get('_feedbackEnabled'));\n    },\n\n    toggleHinting:function() {\n      this.set('_hintingEnabled', !this.get('_hintingEnabled'));\n    },\n\n    toggleAutoCorrect:function() {\n      this.set('_autoCorrectEnabled', !this.get('_autoCorrectEnabled'));\n    },\n\n    toggleAltText:function() {\n      this.set('_altTextEnabled', !this.get('_altTextEnabled'));\n    },\n\n    toggleTraceFocus:function() {\n      this.set('_traceFocusEnabled', !this.get('_traceFocusEnabled'));\n    }\n  });\n\n  return DevtoolsModel;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var Hinting = _.extend({\n\n    initialize:function() {\n      this.listenTo(Adapt.devtools, 'change:_hintingEnabled', this.toggleHints);\n    },\n\n    toggleHints:function() {\n      var contentObject = Adapt.findById(Adapt.location._currentId);\n      var components = contentObject.findDescendantModels('components');\n      var renderedQuestions = _.filter(components, function(m) {\n        return m.get('_isQuestionType') === true && m.get('_isReady') === true;\n      });\n\n      _.each(renderedQuestions, function(model) {\n        this.setHinting($('.'+model.get('_id')), model, Adapt.devtools.get('_hintingEnabled'));\n      }, this);\n\n      if (Adapt.devtools.get('_hintingEnabled')) this.listenTo(Adapt, 'componentView:postRender', this.onComponentRendered);\n      else this.stopListening(Adapt, 'componentView:postRender');\n    },\n\n    onComponentRendered:function(view, hintingEnabled) {\n      if (view.model.get('_isQuestionType')) this.setHinting(view.$el, view.model);\n    },\n\n    setHinting:function($el, model, hintingEnabled) {\n      switch (model.get('_component')) {\n        case 'mcq':this.setMcqHinting($el, model, hintingEnabled !== false); break;\n        case 'gmcq':this.setGmcqHinting($el, model, hintingEnabled !== false); break;\n        case 'matching':this.setMatchingHinting($el, model, hintingEnabled !== false); break;\n        case 'ppq':this.setPpqHinting($el, model, hintingEnabled !== false); break;\n        case 'slider':this.setSliderHinting($el, model, hintingEnabled !== false); break;\n        case 'textinput':this.setTextInputHinting($el, model, hintingEnabled !== false); break;\n        case 'questionStrip':this.setQuestionStripHinting($el, model, hintingEnabled !== false); break;\n      }\n    },\n\n    setMcqHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          $el.find('.js-mcq-item').eq(index).addClass(item._shouldBeSelected ? 'hint-is-correct' : 'hint-is-incorrect');\n        });\n      }\n      else {\n        $el.find('.js-mcq-item').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setGmcqHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          $el.find('.js-mcq-item').eq(index).addClass(item._shouldBeSelected ? 'hint-is-correct' : 'hint-is-incorrect');\n        });\n      }\n      else {\n        $el.find('.js-mcq-item').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setMatchingHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, itemIndex) {\n          var $item = $el.find('.item').eq(itemIndex);\n          var $options = $item.find('.js-dropdown-list-item');\n          _.each(item._options, function(option, optionIndex) {\n            /*if (Modernizr.touch) {*/\n            if (option._isCorrect) $options.eq(optionIndex+1).find('.js-dropdown-list-item-inner').append('<span class=\"hint\"> (correct)</span>');\n            /*}\n            else {\n              $options.eq(optionIndex+1).addClass(option._isCorrect ? 'hintCorrect' : 'hintIncorrect');\n            }*/\n          });\n        });\n      }\n      else {\n        /*if (Modernizr.touch) */\n        $el.find('.js-dropdown-list-item-inner .hint').remove();\n        /*else $el.find('option').removeClass('hintCorrect hintIncorrect');*/\n      }\n    },\n\n    setSliderHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        var correctAnswer = model.get('_correctAnswer');\n        if (correctAnswer) {\n          $el.find('.js-slider-number').addClass('hint-is-incorrect');\n          $el.find('.js-slider-number[data-id=\"'+correctAnswer+'\"]').removeClass('hint-is-incorrect').addClass('hint-is-correct');\n        }\n        else {\n          $el.find('.js-slider-number').addClass('hint-is-incorrect');\n          var bottom = model.get('_correctRange')._bottom;\n          var top = model.get('_correctRange')._top;\n          for (var i = bottom; i <= top; i++)\n          $el.find('.js-slider-number[data-id=\"'+i+'\"]').removeClass('hint-is-incorrect').addClass('hint-is-correct');\n        }\n      }\n      else {\n        $el.find('.js-slider-number').removeClass('hint-is-correct hint-is-incorrect');\n      }\n    },\n\n    setTextInputHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, index) {\n          if (model.get('_answers')) {\n            // generic answers\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', model.get('_answers')[index][0]);\n          }\n          else {\n            // specific answers\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', item._answers[0]);\n          }\n        });\n      }\n      else {\n        _.each(model.get('_items'), function(item, index) {\n          if (model.get('_answers')) {\n            $el.find('.js-textinput-item').eq(index).find('input').attr('placeholder', item.placeholder);\n          }\n        });\n      }\n    },\n\n    // --------------------------------------------------\n    // --------------------------------------------------\n    // NEEDS UPDATING?\n    // --------------------------------------------------\n    // --------------------------------------------------\n    setQuestionStripHinting:function($el, model, hintingEnabled) {\n      if (hintingEnabled) {\n        _.each(model.get('_items'), function(item, itemIndex) {\n          var $item = $el.find('.component-item').eq(itemIndex);\n          var $subItems = $item.find('.qs-strapline-header-inner:not(.qs-noop) .qs-strapline-title-inner');\n          _.each(item._subItems, function(subItem, subItemIndex) {\n            if (subItem._isCorrect) $subItems.eq(subItemIndex).append('<span class=\"hint\"> (correct)</span>');\n          });\n        });\n      }\n      else {\n        $el.find('.qs-strapline-title-inner .hint').remove();\n      }\n    },\n\n    setPpqHinting:function($el, model, hintingEnabled) {console.log('setPpqHinting', hintingEnabled);\n      if (!model.get('_developerMode')) {\n        $el.find('.ppq-correct-zone').toggleClass('display-none', !hintingEnabled);\n        $el.find('.ppq-pinboard').toggleClass('developer-mode', hintingEnabled);\n      }\n    }\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    Hinting.initialize();\n  });\n\n  return Hinting;\n\n});\n","define(function(require) {\n\n  function isQuestionSupported(model) {\n    switch (model.get('_component')) {\n      case 'mcq':\n      case 'gmcq':\n      case 'matching':\n      case 'ppq':\n      case 'slider':\n      case 'textinput':\n      case 'questionStrip':return true;\n      default: return false;\n    }\n  }\n\n  return isQuestionSupported;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var ItemsQuestionModel = undefined;\n  var Hinting = require('./hinting');\n  var isQuestionSupported = require('./is-question-supported');\n\n  var AutoAnswer = _.extend({\n\n    mousedownHandlers:[],\n\n    initialize:function() {\n      this.listenTo(Adapt, {\n        'componentView:postRender': this.componentRendered,\n        'remove': this.onRemove\n      });\n    },\n\n    componentRendered:function(view) {\n      if (isQuestionSupported(view.model)) {\n        if (view.buttonsView) {\n          var handler = _.bind(this.onQuestionMouseDown, this, view);\n          view.$el.on('mousedown', handler);\n          this.mousedownHandlers.push({\n            element:view.$el,\n            handler:handler\n          });\n        }\n        else if (Adapt.devtools.get('_debug')) {\n          console.warn('adapt-devtools: could not find submit button on '+view.model.get('_id'));\n        }\n      }\n    },\n\n    onQuestionMouseDown:function(view, e) {\n      // remove hinting if enabled\n      if (Adapt.devtools.get('_hintingEnabled')) Hinting.setHinting(view.$el, view.model, false);\n\n      if ((e.ctrlKey && !e.shiftKey) || Adapt.devtools.get('_autoCorrectEnabled')) {\n        this.answer(view);\n      }\n      else if (e.ctrlKey && e.shiftKey) {\n        this.answer(view, true);\n      }\n    },\n\n    isItemsQuestionModel:function(model) {\n      if (ItemsQuestionModel) {\n        return model instanceof ItemsQuestionModel;\n      } else if (ItemsQuestionModel === null) {\n        return false;\n      }\n\n      if (require.defined('core/js/models/'+'itemsQuestionModel')) {\n        ItemsQuestionModel = require('core/js/models/'+'itemsQuestionModel');\n        return model instanceof ItemsQuestionModel;\n      } else {\n        ItemsQuestionModel = null;\n        return false;\n      }\n    },\n\n    answer:function(view, incorrectly) {\n      if (view.model.get('_isSubmitted')) return;\n\n      if (Adapt.devtools.get('_debug')) {\n        console.log('adapt-devtools: answer '+view.model.get('_id')+(incorrectly === true ? ' incorrectly' : ''));\n      }\n\n      if (incorrectly === true) {\n        switch (view.model.get('_component')) {\n          case 'mcq':this.answerMultipleChoiceIncorrectly(view); break;\n          case 'gmcq':this.answerMultipleChoiceIncorrectly(view, true); break;\n          case 'matching':this.answerMatchingIncorrectly(view); break;\n          case 'ppq':this.answerPpqIncorrectly(view); break;\n          case 'slider':this.answerSliderIncorrectly(view); break;\n          case 'textinput':this.answerTextInputIncorrectly(view); break;\n          case 'questionStrip':this.answerQuestionStripIncorrectly(view); break;\n          default:this.answerUnsupportedIncorrectly(view);\n        }\n      }\n      else {\n        switch (view.model.get('_component')) {\n          case 'mcq':this.answerMultipleChoice(view); break;\n          case 'gmcq':this.answerMultipleChoice(view, true); break;\n          case 'matching':this.answerMatching(view); break;\n          case 'ppq':this.answerPpq(view); break;\n          case 'slider':this.answerSlider(view); break;\n          case 'textinput':this.answerTextInput(view); break;\n          case 'questionStrip':this.answerQuestionStrip(view); break;\n          default:this.answerUnsupported(view);\n        }\n      }\n\n      view.$('.js-btn-action').trigger('click');\n    },\n\n    answerMultipleChoice:function(view, isGraphical) {\n      var items = this.isItemsQuestionModel(view.model) ? view.model.getChildren().toJSON() : view.model.get('_items');\n      var noCorrectOptions = _.where(items, {'_shouldBeSelected':true}).length == 0;\n\n      if (this.isItemsQuestionModel(view.model)) {\n        if (noCorrectOptions) {\n          view.model.getItem(_.random(items.length - 1)).set('_isActive', true);\n        } else {\n          view.model.getChildren().forEach(item => {\n            if (item.get('_shouldBeSelected') && !item.get('_isActive') || !item.get('_shouldBeSelected') && item.get('_isActive')) {\n              item.toggleActive();\n            }\n          })\n        }\n        return;\n      }\n\n      if (noCorrectOptions) {\n        if (_.where(items, {'_isSelected':true}).length == 0) {\n          view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(_.random(items.length - 1)).trigger('change');\n        }\n      } else {\n        _.each(items, function(item, index) {\n          if (item._shouldBeSelected && !item._isSelected || !item._shouldBeSelected && item._isSelected) {\n            view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(index).trigger('change');\n          }\n        });\n      }\n    },\n\n    answerMultipleChoiceIncorrectly:function(view, isGraphical) {\n      var model = view.model;\n      var items = this.isItemsQuestionModel(model) ? model.getChildren().toJSON() : model.get('_items');\n      var itemCount = items.length;\n      var selectionStates = _.times(itemCount, function() {return false;});\n      // number of items that should be selected\n      var nShould = _.where(items, {_shouldBeSelected:true}).length;\n      // and number that should not\n      var nShouldNot = itemCount - nShould;\n      // decide how many items to select\n      var nSelect = model.get('_selectable');\n      // decide how many of these should be incorrect\n      var nIncorrect = nShouldNot == 0 ? 0 : _.random(nShould == 1 ? 1 : 0, Math.min(nShouldNot, nSelect));\n      // and how many should be correct\n      var nCorrect = nIncorrect == 0 ? _.random(1, Math.min(nShould - 1, nSelect)) : _.random(0, Math.min(nShould, nSelect - nIncorrect));\n\n      if (itemCount == 1 || nSelect == 0) {\n        console.warn('adapt-devtools: not possible to answer '+model.get('_id')+' incorrectly');\n        return;\n      }\n\n      for (var j = 0; j < nIncorrect; j++) {\n        // start at a random position in items to avoid bias (err is contingency for bad data)\n        for (var k=_.random(itemCount), err=itemCount, found=false; !found && err>=0; k++, err--) {\n          var index = k%itemCount;\n          if (selectionStates[index] === false) {\n            if (!items[index]._shouldBeSelected) selectionStates[index] = found = true;\n          }\n        }\n      }\n      for (var j = 0; j < nCorrect; j++) {\n        // start at a random position in items to avoid bias (err is contingency for bad data)\n        for (var k=_.random(itemCount), err=itemCount, found=false; !found && err>=0; k++, err--) {\n          var index = k%itemCount;\n          if (selectionStates[index] === false) {\n            if (items[index]._shouldBeSelected) selectionStates[index] = found = true;\n          }\n        }\n      }\n\n      if (this.isItemsQuestionModel(view.model)) {\n        view.model.getChildren().forEach((item, index) => {\n          if (selectionStates[index] && !item.get('_isActive') || !selectionStates[index] && item.get('_isActive')) {\n            item.toggleActive();\n          }\n        })\n        return;\n      }\n\n      _.each(items, function(item, index) {\n        if (selectionStates[index] && !item._isSelected || !selectionStates[index] && item._isSelected) {\n          view.$(isGraphical ? '.js-item-input' : '.js-item-input').eq(index).trigger('change');\n        }\n      });\n    },\n\n    answerMatching:function(view) {\n      _.each(view.model.get('_items'), function(item, itemIndex) {\n        var noCorrectOptions = _.where(item._options, {'_isCorrect':true}).length == 0;\n\n        if (noCorrectOptions) {\n          if (!view.dropdowns[itemIndex].getFirstSelectedItem()) {\n            var i = _.random(item._options.length - 1);\n            view.selectValue(itemIndex, i);\n          }\n        } else {\n          _.each(item._options, function(option, optionIndex) {\n            if (option._isCorrect) {\n              view.selectValue(itemIndex, option._index);\n            }\n          });\n        }\n      });\n    },\n\n    answerMatchingIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n\n      _.each(items, function(item, itemIndex) {\n        var $select = view.$('select').eq(itemIndex);\n        var $options = $select.find('option');\n        // check if this item is to be answered incorrectly\n        if (selectionStates[itemIndex]) {\n          // start at a random position in options to avoid bias (err is contingency for bad data)\n          for (var count=item._options.length, i=_.random(count), err=count; err>=0; i++, err--)\n          if (!item._options[i%count]._isCorrect) {\n            if (view.selectValue) {\n              var option = item._options[i%count];\n              view.selectValue(itemIndex, option._index);\n            }\n            else if (view.model.setOptionSelected) {\n              var option = item._options[i%count];\n              $select.val(option.text);\n              $select.trigger('change');\n              view.model.setOptionSelected(itemIndex, i%count, true);\n            } else {\n              $options.eq((i%count)+1).prop('selected', true);\n            }\n            return;\n          }\n        }\n        else {\n          _.each(item._options, function(option, optionIndex) {\n            if (option._isCorrect) {\n              if (view.selectValue) {\n                view.selectValue(itemIndex, option._index);\n              }\n              else if (view.model.setOptionSelected) {\n                $select.val(option.text);\n                $select.trigger('change');\n                view.model.setOptionSelected(itemIndex, optionIndex, true);\n              } else {\n                $options.eq(optionIndex+1).prop('selected', true);\n              }\n            }\n          });\n        }\n      });\n    },\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n    answerSlider:function(view) {\n      var correctAnswer = view.model.get('_correctAnswer');\n      if (correctAnswer) {\n        view.$('.js-slider-number[data-id=\"'+correctAnswer+'\"]').trigger('click');\n      }\n      else {\n        var bottom = view.model.get('_correctRange')._bottom;\n        var top = view.model.get('_correctRange')._top;\n        var d = top - bottom;\n        // select from range at random\n        view.$('.js-slider-number[data-id=\"'+(bottom+Math.floor(Math.random()*(d+1)))+'\"]').trigger('click');\n      }\n    },\n\n    answerSliderIncorrectly:function(view) {\n      var correctAnswer = view.model.get('_correctAnswer');\n      var start = view.model.get('_scaleStart'), end = view.model.get('_scaleEnd');\n      var incorrect = _.times(end-start+1, function(i) {return start+i;});\n      if (correctAnswer) {\n        incorrect.splice(correctAnswer-start, 1);\n      }\n      else {\n        var bottom = view.model.get('_correctRange')._bottom;\n        var top = view.model.get('_correctRange')._top;\n        incorrect.splice(bottom-start, top-bottom+1);\n      }\n      view.$('.js-slider-number[data-id=\"'+_.shuffle(incorrect)[0]+'\"]').trigger('click');\n    },\n\n    answerTextInput:function(view) {\n      var answers = view.model.get('_answers');\n      _.each(view.model.get('_items'), function(item, index) {\n        if (answers) view.$('.js-textinput-textbox').eq(index).val(answers[index][0]).trigger('change'); // generic answers\n        else view.$('.js-textinput-textbox').eq(index).val(item._answers[0]).trigger('change'); // specific answers\n      });\n    },\n\n    answerTextInputIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n      var answers = view.model.get('_answers');\n      _.each(items, function(item, index) {\n        if (selectionStates[index]) {\n          view.$('.js-textinput-textbox').eq(index).val('***4n 1nc0rr3ct 4nsw3r***').trigger('change'); // probably\n        }\n        else {\n          if (answers) view.$('.js-textinput-textbox').eq(index).val(answers[index][0]).trigger('change');\n          else view.$('.js-textinput-textbox').eq(index).val(item._answers[0]).trigger('change');\n        }\n      });\n    },\n\n    // --------------------------------------------------\n    // --------------------------------------------------\n    // NEEDS UPDATING?\n    // --------------------------------------------------\n    // --------------------------------------------------\n    answerQuestionStrip:function(view) {\n      _.each(view.model.get('_items'), function(item, itemIndex) {\n        _.each(item._subItems, function(subItem, subItemIndex) {\n          if (subItem._isCorrect) view.setStage(itemIndex, subItemIndex, true);\n        });\n      });\n    },\n\n    answerQuestionStripIncorrectly:function(view) {\n      var items = view.model.get('_items'), itemCount = items.length, nIncorrect = _.random(1, itemCount);\n      // decide which items to answer incorrectly (minimum one)\n      var selectionStates = _.shuffle(_.times(itemCount, function(i) {return i<nIncorrect;}));\n\n      _.each(items, function(item, itemIndex) {\n        // check if this item is to be answered incorrectly\n        if (selectionStates[itemIndex]) {\n          // start at a random position in subitems to avoid bias (err is contingency for bad data)\n          for (var count=item._subItems.length, i=_.random(count), err=count; err>=0; i++, err--)\n          if (!item._subItems[i%count]._isCorrect) {\n            view.setStage(itemIndex, i%count, true);\n            return;\n          }\n        }\n        else {\n          _.each(item._subItems, function(subItem, subItemIndex) {\n            if (subItem._isCorrect) view.setStage(itemIndex, subItemIndex, true);\n          });\n        }\n      });\n    },\n\n    answerPpq:function(view) {\n      var model = view.model, items = model.get('_items'), itemCount = items.length;\n      // determine screen size\n      var isDesktop = Adapt.device.screenSize != 'small';\n      // select appropriate pinboard\n      var items = _.pluck(model.get('_items'), isDesktop ? 'desktop' : 'mobile');\n\n      var $pinboard = view.$('.ppq-pinboard');\n      var boardw = $pinboard.width();\n      var boardh = $pinboard.height();\n\n      for (i=0; i < itemCount; i++) {\n        var zone = items[i];\n        var pin = view.getNextUnusedPin();\n        var x = zone.left + zone.width / 2;\n        var y = zone.top + zone.height / 2;\n\n        console.log('using correct position',x+','+y);\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n    },\n\n    answerPpqIncorrectly:function(view) {\n      var model = view.model, items = model.get('_items'), itemCount = items.length;\n      // determine screen size\n      var isDesktop = Adapt.device.screenSize != 'small';\n      // select appropriate pinboard\n      var items = _.pluck(model.get('_items'), isDesktop ? 'desktop' : 'mobile');\n      // decide how many items to select\n      var nSelect = _.random(model.get('_minSelection'), model.get('_maxSelection'));\n      // decide how many of these should be incorrect\n      var nIncorrect = _.random(1, nSelect);\n      // and how many should be correct\n      var nCorrect = nSelect - nIncorrect;\n\n      var $pinboard = view.$('.ppq-pinboard');\n      var boardw = $pinboard.width();\n      var boardh = $pinboard.height();\n\n      console.log('nIncorrect=', nIncorrect, 'nCorrect=', nCorrect);\n\n      var maxSize = function(zone) {\n        return zone.left < 1 && zone.top < 1 && zone.width > 9999 && zone.height > 9999;\n      };\n\n      // work with integers for accuracy and simplicity\n      items = _.map(items, function(item) {\n        return {\n          'left':Math.round(item.left * 100),\n          'top':Math.round(item.top * 100),\n          'width':Math.round(item.width * 100),\n          'height':Math.round(item.height * 100)\n        };\n      });\n\n      if (_.some(items, maxSize) || nSelect == 0) {\n        console.warn('adapt-devtools: not possible to answer '+model.get('_id')+' incorrectly');\n        return;\n      }\n\n      view.resetPins();\n\n      // simplified approach for readability; statistically probable that finding pin positions will be extremely quick\n\n      for (var i=0; i < nIncorrect; i++) {\n        var ok = false;\n        var x, y;\n\n        // find a suitable x-coordinate\n        while (!ok) {\n          x = _.random(1, 10000);\n          ok = !_.some(items, function(zone) {\n            return x >= zone.left && x < zone.left + zone.width && zone.top < 1 && zone.height > 9999;\n          });\n        }\n\n        ok = false;\n\n        // find a suitable y-coordinate\n        while (!ok) {\n          y = _.random(1, 10000);\n          ok = !_.some(items, function(zone) {\n            return x >= zone.left && x < zone.left + zone.width && y >= zone.top && y < zone.top + zone.height;\n          });\n        }\n\n        x = x / 100;\n        y = y / 100;\n\n        console.log('using incorrect position',x+','+y);\n\n        var pin = view.getNextUnusedPin();\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n\n      // decide in which zones to place a pin\n      var correct = _.shuffle(_.times(itemCount, function(i) {return i;}));\n\n      for (i=0; i < nCorrect; i++) {\n        var zone = items[correct[i]];\n        var pin = view.getNextUnusedPin();\n        var x = zone.left + zone.width / 2;\n        var y = zone.top + zone.height / 2;\n\n        x = x / 100;\n        y = y / 100;\n\n        console.log('using correct position',x+','+y);\n\n        pin.setPosition(x, y);\n\n        pin.$el.css({\n          'left':boardw * x / 100 - pin.$el.width() / 2,\n          'top':boardh * y / 100 - pin.$el.height()\n        });\n      }\n    },\n    // --------------------------------------------------\n    // --------------------------------------------------\n\n    answerUnsupported:function(view) {\n      var model = view.model;\n\n      model.set({\"_isComplete\":true, \"_isInteractionComplete\":true, \"_isCorrect\":true, \"_isSubmitted\":true, \"_score\":1});\n      model.set(\"_attemptsLeft\", Math.max(0, model.get(\"_attempts\") - 1));\n    },\n\n    answerUnsupportedIncorrectly:function(view) {\n      var model = view.model;\n\n      model.set({\"_isComplete\":true, \"_isInteractionComplete\":true, \"_isCorrect\":false, \"_isSubmitted\":true, \"_score\":0});\n      model.set(\"_attemptsLeft\", Math.max(0, model.get(\"_attempts\") - 1));\n    },\n\n    onRemove:function() {\n      this.mousedownHandlers.forEach(tuple => {\n        tuple.element.off('mousedown', tuple.handler);\n      })\n    }\n  }, Backbone.Events);\n\n  Adapt.on('app:dataReady devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    AutoAnswer.initialize();\n  });\n\n  return AutoAnswer;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var AutoAnswer = require('./auto-answer');\n\n  var PassHalfFail = _.extend({\n    syncIterations:1,\n    mouseTarget:null,\n\n    initialize:function() {\n      _.bindAll(this, 'onMouseDown', 'onMouseUp', 'onKeypress', 'onPassHalfFailComplete');\n      this._questionViews = [];\n      this._currentPageId = null;\n      this.listenTo(Adapt, 'pageView:preRender', this.onPagePreRender);\n      this.listenTo(Adapt, 'remove', this.onRemove);\n      $(window).off(\"keypress\", this.onKeypress);\n      $(window).off('mousedown', this.onMouseDown);\n      $(window).off('mouseup', this.onMouseUp);\n      $(window).on(\"keypress\", this.onKeypress);\n      $(window).on('mousedown', this.onMouseDown);\n      $(window).on('mouseup', this.onMouseUp);\n    },\n\n    _completeNonQuestions:function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n      var nonQuestions = _.filter(currentModel.findDescendantModels(\"components\"), function(m) {return m.get('_isQuestionType') !== true;});\n\n      _.each(nonQuestions, function(item) {\n        item.set(\"_isComplete\", true);\n        item.set(\"_isInteractionComplete\", true);\n      });\n    },\n\n    pass:function(callback) {\n      var i = 0, qs = this._questionViews, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i]);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    half:function(callback) {\n      var notSubmitted = function(view) {return !view.model.get('_isSubmitted')};\n      var qs = _.shuffle(_.filter(this._questionViews, notSubmitted));\n      var i = 0, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i], i % 2 == 0);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    fail:function(callback) {\n      var i = 0, qs = this._questionViews, len = qs.length;\n\n      //this._completeNonQuestions();\n\n      // async to avoid locking up the interface\n      function step() {\n        for (var j=0, count=Math.min(PassHalfFail.syncIterations, len-i); j < count; i++, j++) {\n          AutoAnswer.answer(qs[i], true);\n          if (!qs[i].model.get('_isSubmitted')) qs[i].$('.js-btn-action').trigger('click');\n        }\n        i == len ? callback() : setTimeout(step);\n      }\n\n      step();\n    },\n\n    onPagePreRender:function(view) {\n      this._currentPageId = view.model.get('_id');\n      this.listenTo(Adapt, 'componentView:postRender', this.onComponentRendered);\n    },\n\n    onRemove:function() {\n      this.stopListening(Adapt, 'componentView:postRender', this.onComponentRendered);\n      this._questionViews = [];\n    },\n\n    onComponentRendered:function(view) {\n      // check component is part of current page\n      if (view.model.has('_parentId') && view.model.findAncestor('contentObjects').get('_id') == this._currentPageId) {\n        if (view.model.get('_isQuestionType')) {\n          this._questionViews.push(view);\n        }\n      }\n    },\n\n    onMouseDown:function(e) {\n      if (e.which === 1) this.mouseTarget = e.target;\n    },\n  \n    onMouseUp:function(e) {\n      if (e.which === 1) this.mouseTarget = null;\n    },\n\n    onKeypress:function(e) {\n\t\t\tvar char = String.fromCharCode(e.which).toLowerCase();\n\n\t\t\tvar perform = function(type) {\n\t\t\t\tif (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger(\"trickle:kill\");\n\n\t\t\t\tvar tutorEnabled = Adapt.devtools.get('_feedbackEnabled');\n\n\t\t\t\tif (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', false);\n\n\t\t\t\tif (type == 'pass') this.pass(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\t\t\t\telse if (type == 'half') this.half(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\t\t\t\telse this.fail(_.partial(this.onPassHalfFailComplete, tutorEnabled));\n\n\t\t\t\tAdapt.trigger('drawer:closeDrawer');\n\t\t\t}.bind(this);\n\n      if (this.mouseTarget && $('.drawer .devtools').length === 0) {\n        switch (char) {\n          case 'p': return perform('pass');\n          case 'h': return perform('half');\n          case 'f': return perform('fail');\n        }\n      } else {\n        switch (char) {\n          case 'p': return perform('pass');\n          case 'h': return perform('half');\n          case 'f': return perform('fail');\n        }\n      }\n\t\t},\n\n\t\tonPassHalfFailComplete: function(tutorEnabled) {\n\t\t\tconsole.log('onPassHalfFailComplete');\n\n\t\t\tif (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', true);\n\t\t}\n  }, Backbone.Events);\n\n  Adapt.on('app:dataReady devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    PassHalfFail.initialize();\n  });\n\n  return PassHalfFail;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/router'\n], function(Adapt, Router) {\n\n  var ToggleBanking = {\n\n    initialize: function() {\n      Adapt.articles.each(function(m) {\n        var config = this.getConfig(m);\n        if (m.has('_assessment') && m.get('_assessment')._banks && !m.get('_assessment')._banks._isEnabled) {\n          config._assessmentBankDisabled = true;\n        }\n      }, this);\n    },\n\n    getConfig: function(articleModel) {\n      if (!articleModel.has('_devtools')) articleModel.set('_devtools', {});\n      return articleModel.get('_devtools');\n    },\n\n    getBankedAssessmentsInCurrentPage: function() {\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n      var f = function(m) {\n        var config = this.getConfig(m);\n        if (!config._assessmentBankDisabled &&\n          m.has('_assessment') &&\n          m.get('_assessment')._isEnabled &&\n          m.get('_assessment')._banks._split.length > 1) return true;\n\n        return false;\n      };\n\n      return Adapt.location._contentType === 'menu' ? [] : _.filter(pageModel.findDescendantModels('articles'), f, this);\n    },\n\n    toggle: function() {\n      var bankedAssessments = this.getBankedAssessmentsInCurrentPage();\n      var isBankingEnabled = function(m) { return m.get('_assessment')._banks._isEnabled; };\n      var enable = !_.some(bankedAssessments, isBankingEnabled);\n\n      _.each(bankedAssessments, function(articleModel) {\n        articleModel.get('_assessment')._banks._isEnabled = enable;\n        // set properties to trigger setup of assessment data\n        articleModel.set({\n          _attemptInProgress: false,\n          _isPass: false\n        });\n      });\n\n      // reload page\n      Router.handleId(Adapt.location._currentId);\n    }\n  };\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    ToggleBanking.initialize();\n  });\n\n  return ToggleBanking;\n\n});\n","define([\n  'core/js/adapt',\n  'core/js/router'\n], function(Adapt, Router) {\n\n  var MapView = Backbone.View.extend({\n\n    events: {\n      'click a': 'onLinkClicked'\n    },\n\n    initialize: function() {\n      this.$('html').addClass('has-devtools-map');\n      this._renderIntervalId = setInterval(this._checkRenderInterval.bind(this), 500);\n      this.listenTo(Adapt.components, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.blocks, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.articles, 'change:_isComplete', this.onModelCompletionChanged);\n      this.listenTo(Adapt.contentObjects, 'change:_isComplete', this.onModelCompletionChanged);\n      this.render();\n    },\n\n    render: function() {\n      var data = this.model;\n      // var startTime = new Date().getTime();\n\n      var template = Handlebars.templates.devtoolsMap;\n      this.$('body').html(template(data));\n\n      // console.log('adapt-devtools: map rendered in ' + ((new Date().getTime())-startTime) + ' ms');\n    },\n\n    remove: function() {\n      clearInterval(this._renderIntervalId);\n      this.$('body').html('Course closed!');\n      this.stopListening();\n      return this;\n    },\n\n    _checkRenderInterval: function() {\n      if (this._invalid) {\n        this._invalid = false;\n        this.render();\n      }\n    },\n\n    _getConfig: function(pageModel) {\n      if (!pageModel.has('_devtools')) pageModel.set('_devtools', {});\n      return pageModel.get('_devtools');\n    },\n\n    _disablePageIncompletePrompt: function(pageModel) {\n      var config = this._getConfig(pageModel);\n\n      if (pageModel.has('_pageIncompletePrompt')) {\n        config._pageIncompletePromptExists = true;\n        if (pageModel.get('_pageIncompletePrompt').hasOwnProperty('_isEnabled')) {\n          config._pageIncompletePromptEnabled = pageModel.get('_pageIncompletePrompt')._isEnabled;\n        }\n      } else {\n        config._pageIncompletePromptExists = false;\n        pageModel.set('_pageIncompletePrompt', {});\n      }\n\n      pageModel.get('_pageIncompletePrompt')._isEnabled = false;\n    },\n\n    _restorePageIncompletePrompt: function(pageModel) {\n      var config = this._getConfig(pageModel);\n\n      if (config._pageIncompletePromptExists) {\n        if (config.hasOwnProperty('_pageIncompletePromptEnabled')) pageModel.get('_pageIncompletePrompt')._isEnabled = config._pageIncompletePromptEnabled;\n        else delete pageModel.get('_pageIncompletePrompt')._isEnabled;\n      } else {\n        pageModel.unset('_pageIncompletePrompt');\n      }\n      delete config._pageIncompletePromptExists;\n      delete config._pageIncompletePromptEnabled;\n    },\n\n    onModelCompletionChanged: function() {\n      this.invalidate();\n    },\n\n    onLinkClicked: function(e) {\n      var $target = $(e.currentTarget);\n      var id = $target.attr('href').slice(1);\n      var model = Adapt.findById(id);\n\n      e.preventDefault();\n\n      if (e.ctrlKey && this.el.defaultView) {\n        id = id.replace(/-/g, '');\n        this.el.defaultView[id] = model;\n        this.el.defaultView.console.log('devtools: add property window.' + id + ':');\n        this.el.defaultView.console.log(model);\n      } else if (e.shiftKey) {\n        this.navigateAndDisableTrickle(id);\n      } else {\n        this.navigateAndDisableTrickleUpTo(id);\n      }\n    },\n\n    invalidate: function() {\n      this._invalid = true;\n    },\n\n    /**\n    * Navigate to the element with the given id (or as closely to it as possible). Disable trickle up to the given id.\n    * N.B. because trickle cannot be reliably manipulated in situ we must reload the page. Trickle remains disabled on\n    * affected article(s)|block(s).\n    */\n    navigateAndDisableTrickleUpTo: function(id) {\n      var model = Adapt.findById(id);\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n\n      // first ensure page incomplete prompt won't activate\n      this._disablePageIncompletePrompt(pageModel);\n\n      // now navigate\n\n      if (model._siblings === 'contentObjects') {\n        Backbone.history.navigate('#/id/' + id, { trigger: true });\n      } else {\n        var level = model.get('_type') === 'component' ? model.getParent() : model;\n        var siblings = level.getParent().getChildren(); var sibling = null;\n        // disable trickle on all preceeding article(s)|block(s)\n        for (var i = 0, count = siblings.indexOf(level); i < count; i++) {\n          sibling = siblings.at(i);\n          console.log('disabling trickle on ' + sibling.get('_id'));\n          if (sibling.has('_trickle')) {\n            sibling.get('_trickle')._isEnabled = false;\n          } else {\n            sibling.set('_trickle', { _isEnabled: false });\n          }\n        }\n        // check if already on page\n        if (Adapt.location._currentId === model.findAncestor('contentObjects').get('_id')) {\n          this.listenToOnce(Adapt, 'pageView:ready', function(view) {\n            _.defer(function() {\n              Adapt.scrollTo($('.' + id));\n              this.checkVisibility(id);\n            }.bind(this));\n          });\n          if (Adapt.location._currentId === Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n          else Router.handleId(Adapt.location._currentId);\n        } else {\n          this.listenToOnce(Adapt, 'pageView:ready', function() {\n            _.defer(function() {\n              this.checkVisibility(id);\n            }.bind(this));\n          });\n          Backbone.history.navigate('#/id/' + id, { trigger: true });\n        }\n      }\n\n      // restore pageIncompletePrompt config\n      this._restorePageIncompletePrompt(pageModel);\n\n      this.invalidate();\n    },\n\n    /**\n    * Navigate to the element with the given id (or as closely to it as possible). Disable trickle on containing\n    * page temporarily.\n    */\n    navigateAndDisableTrickle: function(id) {\n      var model = Adapt.findById(id);\n      var pageModel = Adapt.findById(Adapt.location._currentId);\n\n      // first ensure page incomplete prompt won't activate\n      this._disablePageIncompletePrompt(pageModel);\n\n      if (model._siblings === 'contentObjects') {\n        Backbone.history.navigate('#/id/' + id, { trigger: true });\n      } else {\n        // if already on page ensure trickle is disabled\n        if (Adapt.location._currentId === model.findAncestor('contentObjects').get('_id')) {\n          Adapt.devtools.set('_trickleEnabled', false);\n          Adapt.scrollTo($('.' + id));\n          this.checkVisibility(id);\n        } else {\n          // pick target model to determine trickle config according to trickle version (2.1 or 2.0.x)\n          var targetModel = Adapt.trickle ? model.findAncestor('contentObjects') : Adapt.course;\n\n          // if necessary disable trickle (until page is ready)\n          if (!targetModel.has('_trickle')) {\n            targetModel.set('_trickle', { _isEnabled: false });\n            this.listenToOnce(Adapt, 'pageView:ready', function() {\n              _.defer(function() {\n                targetModel.get('_trickle')._isEnabled = true;\n                this.checkVisibility(id);\n              }.bind(this));\n            });\n          } else if (targetModel.get('_trickle')._isEnabled) {\n            targetModel.get('_trickle')._isEnabled = false;\n            this.listenToOnce(Adapt, 'pageView:ready', function() {\n              _.defer(function() {\n                targetModel.get('_trickle')._isEnabled = true;\n                this.checkVisibility(id);\n              }.bind(this));\n            });\n          }\n\n          Backbone.history.navigate('#/id/' + id, { trigger: true });\n        }\n      }\n\n      // restore pageIncompletePrompt config\n      this._restorePageIncompletePrompt(pageModel);\n\n      this.invalidate();\n    },\n\n    checkVisibility: function(id) {\n      var model = Adapt.findById(id);\n      if ($('.' + id).is(':visible') || model === Adapt.course) return;\n\n      while (!$('.' + id).is(':visible') && model !== Adapt.course) {\n        model = model.getParent();\n        id = model.get('_id');\n      }\n      console.log('adapt-devtools::checkVisibility scrolling to ancestor ' + id);\n      Adapt.scrollTo($('.' + id));\n    }\n  });\n\n  var CourseMap = _.extend({\n    initialize: function() {\n      this.listenTo(Adapt, 'devtools:mapLoaded', this.onMapLoaded);\n      $(window).on('unload', this.onCourseClosed.bind(this));\n\n      function isMenu(options) {\n        if (this.get('_type') !== 'page') {\n          return options.fn(this);\n        }\n        return options.inverse(this);\n      }\n\n      function eachChild(options) {\n        var ret = '';\n        var children = this.getChildren().models;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          ret = ret + options.fn(children[i], { data: { index: i, first: i === 0, last: i === j - 1 } });\n        }\n\n        return ret;\n      }\n\n      function getId(options) {\n        const val = this.get('_id') || '';\n        return val.slice(-6);\n      }\n\n      function getProp(prop, options) {\n        return this.get(prop);\n      }\n\n      function isStringEmpty(str) {\n        return !str || (str.trim && str.trim().length === 0) || ($.trim(str).length === 0);\n      }\n\n      function getTitle(options) {\n        var t = this.get('displayTitle');\n        if (isStringEmpty(t)) t = this.get('title');\n        if (isStringEmpty(t)) t = this.get('_id');\n        return t;\n      }\n\n      function when(prop, options) {\n        if (this.get(prop)) {\n          return options.fn(this);\n        } else {\n          return options.inverse(this);\n        }\n      }\n\n      function isTrickled(options) {\n        var trickleConfig = this.get('_trickle');\n        var trickled = false;\n        var isBlock = this.get('_type') === 'block';\n\n        if (trickleConfig) trickled = (isBlock || trickleConfig._onChildren !== true) && trickleConfig._isEnabled;\n        else if (isBlock) {\n          trickleConfig = this.getParent().get('_trickle');\n          if (trickleConfig) trickled = trickleConfig._onChildren && trickleConfig._isEnabled;\n        }\n\n        if (trickled) {\n          return options.fn(this);\n        } else {\n          return options.inverse(this);\n        }\n      }\n\n      Handlebars.registerHelper('isMenu', isMenu);\n      Handlebars.registerHelper('eachChild', eachChild);\n      Handlebars.registerHelper('getId', getId);\n      Handlebars.registerHelper('getProp', getProp);\n      Handlebars.registerHelper('getTitle', getTitle);\n      Handlebars.registerHelper('when', when);\n      Handlebars.registerHelper('isTrickled', isTrickled);\n    },\n\n    open: function() {\n      if (!this.mapWindow) {\n        this.mapWindow = window.open('assets/map.html', 'Map');\n      } else {\n        this.mapWindow.focus();\n      }\n    },\n\n    onMapClosed: function() {\n      console.log('onMapClosed');\n      this.mapWindow = null;\n    },\n\n    onMapLoaded: function(mapWindow) {\n      console.log('onMapLoaded');\n      this.mapWindow = mapWindow;\n      this.mapWindow.focus();\n      $('html', this.mapWindow.document).addClass($('html', window.document).attr('class'));\n      this.mapView = new MapView({ model: Adapt, el: this.mapWindow.document });\n      $(this.mapWindow).on('unload', this.onMapClosed.bind(this));\n    },\n\n    onCourseClosed: function() {\n      if (this.mapView) {\n        this.mapView.remove();\n        // this.mapWindow.close();\n      }\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    CourseMap.initialize();\n  });\n\n  return CourseMap;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var AdaptModel = require('coreModels/adaptModel');\n  var QuestionView = require('coreViews/questionView');\n\n  var mouseTarget = null;\n\n  function onMouseDown(e) {\n    if (e.which == 1) mouseTarget = e.target;\n  }\n\n  function onMouseUp(e) {\n    if (e.which == 1) mouseTarget = null;\n  }\n\n  function onKeypress(e) {\n    var char = String.fromCharCode(e.which).toLowerCase();\n\n    if (mouseTarget) {\n      if (char == 'm') {\n        var model = Utils.getModelForElement(mouseTarget);\n\n        if (model) {\n          var id = model.get('_id').replace(/-/g, '');\n          window[id] = model;\n          console.log('devtools: add property window.'+id+':');\n          console.log(model.attributes);\n        }\n      }\n    }\n  }\n\n  function getAdaptCoreVersion() {\n    try {\n      if (Adapt.build && Adapt.build.has('package')) return Adapt.build.get('package').version || \">=v3.0.0\";\n      // v2.2.4-v2.2.5 not possible to distinguish\n      if (typeof AdaptModel.prototype.checkCompletionStatusFor == 'function') return \">=v2.2.3\";\n      if (typeof AdaptModel.prototype.setCompletionStatus == 'function') return \">=v2.0.10\";\n      if (typeof AdaptModel.prototype.checkLocking == 'function') return \"v2.0.9\";\n      if (typeof Adapt.checkingCompletion == 'function') return \"v2.0.8\";\n      if (typeof AdaptModel.prototype.getParents == 'function') return \"v2.0.7\";\n      if ($.a11y && $.a11y.options.hasOwnProperty('isIOSFixesEnabled')) return \"v2.0.5-v2.0.6\";\n      if (Adapt instanceof Backbone.Model) return \"v2.0.4\";\n      if (typeof QuestionView.prototype.recordInteraction == 'function') return \"v2.0.2-v2.0.3\";\n      if (typeof Adapt.findById == 'function') return \"v2.0.0-v2.0.1\";\n      return \"v1.x\";\n    }\n    catch (e) {\n      return 'unknown version';\n    }\n  }\n\n  var Utils = {\n    getModelForElement:function(element) {\n      var $target = $(element);\n\n      if ($target.length == 0) return false;\n\n      var id = $target.parents('[data-adapt-id]').data('adapt-id');\n\n      return !id ? false : Adapt.findById(id);\n    }\n  };\n\n  Adapt.once('adapt:initialize', function() {\n    var str = 'Version of Adapt core detected: '+getAdaptCoreVersion();\n    var horz = getHorzLine();\n\n    console.log(horz+'\\nVersion of Adapt core detected: '+getAdaptCoreVersion()+'\\n'+horz);\n\n    function getHorzLine() {\n      for (var s='', i=0, c=str.length; i<c; i++) s+='*';\n      return s;\n    }\n  });\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    $(window).on(\"keypress\", onKeypress);\n    $(window).on(\"mousedown\", onMouseDown);\n    $(window).on(\"mouseup\", onMouseUp);\n\n    // useful for command-line debugging\n    if (!window.Adapt) window.Adapt = Adapt;\n  });\n\n  return Utils;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  function onTrickleBegun() {\n    if (!Adapt.devtools.get('_trickleEnabled')) {\n      console.log('Trickle started');\n      Adapt.devtools.set('_trickleEnabled', true);\n      // listen for user request to end trickle\n      Adapt.devtools.once('change:_trickleEnabled', onTrickleChange);\n    }\n  }\n\n  function onTrickleEnded() {\n    console.log('Trickle ended');\n    Adapt.devtools.off('change:_trickleEnabled', onTrickleChange);\n    Adapt.devtools.set('_trickleEnabled', false);\n  }\n\n  function onTrickleChange() {\n    if (!Adapt.devtools.get('_trickleEnabled')) {\n      // user triggered\n      Adapt.trigger('trickle:kill');\n    }\n  }\n\n  function remove() {\n    if (Adapt.devtools.get('_trickleEnabled')) {\n      onTrickleEnded();\n    }\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    Adapt.on('trickle:interactionInitialize trickle:started', onTrickleBegun);\n    Adapt.on('trickle:kill trickle:finished', onTrickleEnded);\n    Adapt.on('remove', remove);\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  function onShowFeedback() {\n    // trickle waits for tutor to close so pretend that this happens\n    //Adapt.trigger('tutor:opened'); trickle-tutorPlugin doesn't actually listen to this(!)\n    Adapt.trigger('tutor:closed');\n  }\n\n  function hushTutor() {\n    Adapt.devtools.set('_tutorListener', Adapt._events['questionView:showFeedback'].pop());\n    Adapt.on('questionView:showFeedback', onShowFeedback);\n  }\n\n  function reinstateTutor() {\n    Adapt.off('questionView:showFeedback', onShowFeedback);\n\n    if (!Adapt._events.hasOwnProperty('questionView:showFeedback')) {\n      Adapt._events['questionView:showFeedback'] = [];\n    }\n\n    Adapt._events['questionView:showFeedback'].push(Adapt.devtools.get('_tutorListener'));\n  }\n\n  function onFeedbackToggled() {\n    if (Adapt.devtools.get('_feedbackEnabled')) {\n      reinstateTutor();\n      $(document).off('mouseup', '.js-btn-feedback');\n    }\n    else {\n      hushTutor();\n      $(document).on('mouseup', '.js-btn-feedback', onFeedbackButtonClicked);\n    }\n  }\n\n  function onFeedbackButtonClicked(e) {\n    var classes = $(e.currentTarget).parents('.component').attr('class');\n    var componentId = /[\\s]+(c\\-[^\\s]+)/.exec(classes)[1];\n\n    if (componentId) {\n      // bring tutor back temporarily\n      reinstateTutor();\n      // tutor expects a view, but it's not actually needed\n      Adapt.trigger('questionView:showFeedback', {model:Adapt.findById(componentId)});\n      // and hush it again\n      hushTutor();\n    }\n    else console.error('devtools:onFeedbackButtonClicked: malformed component class name');\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (Adapt.devtools.get('_toggleFeedbackAvailable')) {\n      // assume single registrant is adapt-contrib-tutor\n      if (Adapt._events.hasOwnProperty('questionView:showFeedback') && Adapt._events['questionView:showFeedback'].length == 1) {\n        Adapt.devtools.on('change:_feedbackEnabled', onFeedbackToggled);\n      }\n      else {\n        console.warn('devtools: no tutor or multiple registrants of questionView:showFeedback so disabling ability to toggle feedback.');\n        Adapt.devtools.set('_toggleFeedbackAvailable', false);\n      }\n    }\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var AltText = _.extend({\n\n    initialize:function() {\n      this.listenTo(Adapt.devtools, 'change:_altTextEnabled', this.toggleAltText);\n\n      // if available we can use to avoid unnecessary checks\n      if (typeof MutationObserver == 'function') {\n        this.observer = new MutationObserver(_.bind(this.onDomMutation, this));\n      }\n    },\n\n    addTimer:function(fireNow) {\n      this.timerId = setInterval(_.bind(this.onTimer, this), 1000);\n      if (fireNow) this.onTimer();\n    },\n\n    removeTimer:function() {\n      clearInterval(this.timerId);\n    },\n\n    connectObserver:function() {\n      if (this.observer) this.observer.observe(document.getElementById('wrapper'), {\n        childList: true,\n        subtree:true,\n        attributes:true,\n        attributeFilter:['class', 'style']\n      });\n    },\n\n    disconnectObserver:function() {\n      if (this.observer) this.observer.disconnect();\n    },\n\n    toggleAltText:function() {\n      if (Adapt.devtools.get('_altTextEnabled')) {\n        this.addTimer(true);\n        this.connectObserver();\n      }\n      else {\n        this.removeTimer();\n        this.removeAllAnnotations();\n        this.disconnectObserver();\n      }\n    },\n\n    addAnnotation:function($img, $annotation) {\n      var template = Handlebars.templates['devtoolsAnnotation'];\n      var text = $img.attr('alt');\n\n      if (!text) text = $img.attr('aria-label');\n\n      var $annotation = $(template({text:text}));\n\n      if (!text) $annotation.addClass('has-annotation-warning');\n\n      $img.after($annotation);\n      $img.data('annotation', $annotation);\n\n      this.updateAnnotation($img, $annotation);\n    },\n\n    removeAnnotation:function($img, $annotation) {\n      $annotation.remove();\n      $img.removeData('annotation');\n    },\n\n    removeAllAnnotations:function() {\n      $('img').each(_.bind(function(index, element) {\n        var $img = $(element);\n        var $annotation = $img.data('annotation');\n\n        if ($annotation) this.removeAnnotation($img, $annotation);\n      }, this));\n    },\n\n    updateAnnotation:function($img, $annotation) {\n      var position = $img.position();\n      position.left += parseInt($img.css('marginLeft'), 10) + parseInt($img.css('paddingLeft'), 10);\n      position.top += parseInt($img.css('marginTop'), 10) + parseInt($img.css('paddingTop'), 10);\n      $annotation.css(position);\n    },\n\n    onDomMutation:function(mutations) {\n      this.mutated = true;\n    },\n\n    onTimer:function() {\n      if (this.mutated === false) return;\n      if (this.observer) this.mutated = false;\n\n      //console.log('devtools::toggle-alt-text:run check');\n\n      this.disconnectObserver();\n\n      $('img').each(_.bind(function(index, element) {\n        var $img = $(element);\n        var $annotation = $img.data('annotation');\n        var isVisible = $img.is(':visible');\n\n        if (isVisible) {\n          if (!$annotation) this.addAnnotation($img, $annotation);\n          else this.updateAnnotation($img, $annotation);\n        }\n        else if ($annotation) {\n          this.removeAnnotation($img, $annotation);\n        }\n      }, this));\n\n      this.connectObserver();\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    AltText.initialize();\n  });\n\n  return AltText;\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var Router = require('coreJS/router');\n\n  function breakCoreLocking() {\n    Adapt.course.unset('_lockType');\n\n    breakLocks(Adapt.contentObjects);\n    breakLocks(Adapt.articles);\n    breakLocks(Adapt.blocks);\n\n    function breakLocks(collection) {\n      collection.each(function(model) {\n        model.unset('_lockType');\n        model.unset('_isLocked');\n      });\n    }\n  }\n\n  function onUnlocked() {\n    if (Adapt.devtools.get('_unlocked')) {\n      breakCoreLocking();\n      // reload the page/menu\n      if (Adapt.location._currentId == Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n      else Router.handleId(Adapt.location._currentId);\n    }\n  }\n\n  // menu unlock legacy (for courses authored prior to v2.0.9 or which otherwise do not use core locking)\n  function onMenuPreRender(view) {\n    if (Adapt.devtools.get('_unlocked')) {\n      if (Adapt.location._currentId == view.model.get('_id')) {\n        view.model.once('change:_isReady', _.bind(onMenuReady, view));\n        view.model.getChildren().each(function(item) {\n          // first pass: attempt to manipulate commonly employed locking mechanisms\n          if (item.has('_lock')) item.set('_lock', item.get('_lock').length > -1 ? [] : false);\n          if (item._lock) item._lock = item._lock.length > -1 ? [] : false;\n          if (item._locked === true) item._locked = false;\n          if (item._isLocked === true) item._isLocked = false;\n        });\n      }\n    }\n  }\n\n  // menu unlock legacy (for courses authored prior to v2.0.9 or which otherwise do not use core locking)\n  function onMenuReady() {\n    if (Adapt.devtools.get('_unlocked')) {\n      // second pass: attempt to enable clickable elements\n      this.$('a, button').prop('disabled', false).css('pointer-events', 'auto');\n    }\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (Adapt.devtools.get('_unlockAvailable')) {\n      Adapt.devtools.on('change:_unlocked', onUnlocked);\n      Adapt.on('menuView:preRender', onMenuPreRender);\n    }\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n  var Router = require('coreJS/router');\n\n  var buffer = '';\n  var isMouseDown = false;\n  var hitArea = 100;\n  var coords = {};\n  var topLeftTapHold = false;\n  var topRightTapHold = false;\n  var listenType = 0;\n  var timeoutId;\n  var focusableElements = \"a,button,input,select,textarea,[tabindex],label\";\n\n  function onKeypress(e) {\n    var c = String.fromCharCode(e.which).toLowerCase();\n    buffer += c;\n    if (isMouseDown && c == '5' && !Adapt.devtools.get('_isEnabled')) enable();\n    else processBuffer();\n  }\n\n  function onMouseDown() {\n    isMouseDown = true;\n  }\n\n  function onMouseUp() {\n    isMouseDown = false;\n  }\n\n  function processBuffer() {\n    var blen = buffer.length;\n    if (blen > 100) buffer = buffer.substr(1,100);\n    blen = buffer.length;\n\n    if (buffer.substr( blen - (\"kcheat\").length, (\"kcheat\").length  ) == \"kcheat\") {\n      if (!Adapt.devtools.get('_isEnabled')) enable();\n    }\n  }\n\n  function enable() {\n    removeHooks();\n    Adapt.devtools.set('_isEnabled', true);\n    Adapt.trigger('devtools:enable');\n\n    // reload the menu/page\n    if (Adapt.location._currentId == Adapt.course.get('_id')) Router.handleRoute ? Router.handleRoute() : Router.handleCourse();\n    else Router.handleId(Adapt.location._currentId);\n  }\n\n  function addHooks() {\n    $(window).on(\"keypress\", onKeypress);\n    $(window).on(\"mousedown\", onMouseDown);\n    $(window).on(\"mouseup\", onMouseUp);\n\n    window.kcheat = function() {\n      buffer = \"kcheat\";\n      processBuffer();\n    };\n\n    Router.route('kcheat', 'kcheat', function() {\n      if (window.kcheat) window.kcheat();\n    });\n\n    if (Modernizr.touch) addTouchHook();\n  }\n\n  function removeHooks() {\n    $(window).off(\"keypress\", onKeypress);\n    $(window).off(\"mousedown\", onMouseDown);\n    $(window).off(\"mouseup\", onMouseUp);\n    window.kcheat = undefined;\n    if (Modernizr.touch) removeTouchHook();\n  }\n\n  function addTouchHook() {\n    $('body').on('touchstart', onTouchStart);\n    $('body').on('touchend', onTouchEnd);\n\n    // a11y will stop propagation of event on focusable elements so we need to listen specifically to these\n    $('body').on('touchstart', focusableElements, onTouchStart);\n  }\n\n  function removeTouchHook() {\n    clearTimeout(timeoutId);\n\n    $('body').off('touchstart', onTouchStart);\n    $('body').off('touchend', onTouchEnd);\n    $('body').off('touchstart', focusableElements, onTouchStart);\n  }\n\n  function onTouchStart(event){\n    var touches = event.originalEvent.touches;\n\n    if(touches.length != 1) return;\n\n    coords.x = touches[0].pageX;\n    coords.y = touches[0].pageY;\n\n    if (coords.x >= 0 && coords.x < hitArea && coords.y >= 0 && coords.y < hitArea) {\n      listenType = 1;\n    } else if (coords.x >= $(window).width() - hitArea && coords.x < $(window).width() && coords.y >= 0 && coords.y < hitArea) {\n      listenType = 2;\n    } else {\n      listenType = topLeftTapHold = topRightTapHold = false;\n    }\n\n    if (listenType) {\n      timeoutId = setTimeout(function() {\n        // if finger still held\n        if (listenType) {\n          if (listenType == 1) topLeftTapHold = true;\n          else if (listenType == 2) topRightTapHold = true;\n\n          if (topLeftTapHold && topRightTapHold) {\n            if (window.kcheat) window.kcheat();\n          }\n        }\n      }, 200);\n    }\n  }\n\n  function onTouchEnd(event) {\n    listenType = false;\n    clearTimeout(timeoutId);\n  }\n\n  Adapt.once('adapt:initialize', function() {\n    if (Adapt.devtools.get('_isEnabled')) return;\n\n    // some plugins (e.g. bookmarking) will manipulate the router so defer the call\n    _.defer(function () {addHooks();});\n  });\n\n});\n","define(function(require) {\n\n  var Adapt = require('coreJS/adapt');\n\n  var TraceFocus = _.extend({\n\n    openingTags:new RegExp(\"<[\\\\w-]+((\\\\s+[\\\\w-]+(\\\\s*=\\\\s*(?:\\\".*?\\\"|'.*?'|[^'\\\">\\\\s]+))*)+\\\\s*|\\\\s*)/?>\"),\n    consoleStyle:'background: lightgray; color: blue',\n\n    initialize:function() {\n      this.onFocusIn = _.bind(this.onFocusIn, this);\n\n      this.listenTo(Adapt.devtools, 'change:_traceFocusEnabled', this.toggleTraceFocus);\n\n      this.toggleTraceFocus();\n    },\n\n    toggleTraceFocus:function() {\n      if (Adapt.devtools.get('_traceFocusEnabled')) {\n        $('body').on('focusin', this.onFocusIn);\n      }\n      else {\n        $('body').off('focusin', this.onFocusIn);\n      }\n    },\n\n    onFocusIn:function(e) {\n      if (!$('html').is('.ie, .Edge')) return console.log('%cfocussed', this.consoleStyle, e.target);\n\n      var $el = $(e.target);\n\n      if (!$el[0] || !$el[0].outerHTML) return console.log('focussed: ', e.target);\n\n      var openingTag = this.openingTags.exec($el[0].outerHTML)[0];\n\n      if (openingTag) {\n        // add some context if possible\n        // strip leading whitespace/nbsp and get first line of text\n        var tokens = $el.text().replace(/[\\s\\xA0]*/, '').split(/\\r\\n|\\r|\\n/);\n\n        if (tokens[0]) openingTag = openingTag.slice(0, 20) + '[...]';\n\n        if ($('html').is('.ie8')) {\n          console.log('focussed: ', openingTag, tokens[0]);\n        } else {\n          console.log('focussed: ', openingTag, tokens[0], $el);\n        }\n      } else {\n        console.log('focussed: '+e.target);\n      }\n    }\n  }, Backbone.Events);\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    TraceFocus.initialize();\n  });\n\n  return TraceFocus;\n\n});\n","define([\n  'core/js/adapt',\n  './utils'\n], function(Adapt, Utils) {\n\n  var mouseTarget = null;\n\n  function init() {\n    $(window).on('keypress', onKeypress);\n    $(window).on('mousedown', onMouseDown);\n    $(window).on('mouseup', onMouseUp);\n  }\n\n  function onKeypress(e) {\n    var char = String.fromCharCode(e.which).toLowerCase();\n\n    if (mouseTarget) {\n      switch (char) {\n        case 'c': return complete(mouseTarget);\n        case 'r': return reset(mouseTarget);\n      }\n    }\n  }\n\n  function complete(element) {\n    var model = Utils.getModelForElement(element);\n    if (!model) return;\n\n    function doCompletion(component) {\n      component.set('_isComplete', true);\n    }\n\n    var descendantComponents = model.findDescendantModels('components');\n    if (!descendantComponents || descendantComponents.length === 0) {\n      console.log('devtools: completing', model.get('_id'));\n      doCompletion(model);\n      return;\n    }\n\n    console.log('devtools: completing all components in', model.get('_id'));\n    _.each(descendantComponents, function(model) {\n      doCompletion(model);\n    });\n  }\n\n  function reset(element) {\n    var model = Utils.getModelForElement(element);\n    if (!model) return;\n\n    var descendantComponents = model.findDescendantModels('components');\n    if (!descendantComponents || descendantComponents.length === 0) {\n      console.log('devtools: resetting', model.get('_id'));\n      model.reset(true, true);\n      return;\n    }\n    console.log('devtools: resetting all components in', model.get('_id'));\n    _.each(descendantComponents, function(model) {\n      model.reset(true, true);\n    });\n  }\n\n  function onMouseDown(e) {\n    if (e.which === 1) mouseTarget = e.target;\n  }\n\n  function onMouseUp(e) {\n    if (e.which === 1) mouseTarget = null;\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    init();\n  });\n\n});\n","/*\n* adapt-devtools\n* License - http://github.com/adaptlearning/adapt_framework/LICENSE\n* Maintainers - Chris Steele <chris.steele@kineo.com>, Oliver Foster <oliver.foster@kineo.com>\n*/\n\ndefine([\n  'core/js/adapt',\n  'core/js/models/adaptModel',\n  './devtools-model',\n  './pass-half-fail',\n  './toggle-banking',\n  './map',\n  './auto-answer',\n  './utils',\n  './end-trickle',\n  './hinting',\n  './toggle-feedback',\n  './toggle-alt-text',\n  './unlock',\n  './enable',\n  './toggle-trace-focus',\n  './toggle-completion'\n], function(Adapt, AdaptModel, DevtoolsModel, PassHalfFail, ToggleBanking, CourseMap) {\n\n  var navigationView;\n\n  var DevtoolsView = Backbone.View.extend({\n\n    className: 'devtools',\n\n    events: {\n      'click .end-trickle': 'onEndTrickle',\n      'change .hinting input': 'onToggleHinting',\n      'change .banking input': 'onToggleBanking',\n      'change .feedback input': 'onToggleFeedback',\n      'change .auto-correct input': 'onToggleAutoCorrect',\n      'change .alt-text input': 'onToggleAltText',\n      'click .unlock': 'onUnlock',\n      'click .open-map': 'onOpenMap',\n      'click .open-spoor-log': 'onOpenSpoorLog',\n      'click .complete-page': 'onCompletePage',\n      'click .complete-menu': 'onCompleteMenu',\n      'click .pass': 'onPassHalfFail',\n      'click .half': 'onPassHalfFail',\n      'click .fail': 'onPassHalfFail',\n      'change .trace-focus input': 'onToggleTraceFocus'\n    },\n\n    initialize: function() {\n      this.render();\n\n      this._checkUnlockVisibility();\n      this._checkSpoorLogVisibility();\n      this._checkTrickleEndVisibility();\n      this._checkBankingVisibility();\n      this._checkFeedbackVisibility();\n      this._checkHintingVisibility();\n      this._checkAutoCorrectVisibility();\n      this._checkAltTextVisibility();\n      this._checkPassHalfFailVisibility();\n      this._checkCompletePageVisibility();\n      this._checkCompleteMenuVisibility();\n      this._checkTraceFocusVisibility();\n    },\n\n    render: function() {\n      var data = Adapt.devtools.toJSON();\n      var template = Handlebars.templates['devtools'];\n      this.$el.html(template(data));\n      return this;\n    },\n\n    /*************************************************/\n    /** ******************* UNLOCK *******************/\n    /*************************************************/\n\n    _checkUnlockVisibility: function() {\n      // check if function available and not already activated\n      if (!Adapt.devtools.get('_unlockAvailable') || Adapt.devtools.get('_unlocked')) this.$('.unlock').addClass('u-display-none');\n      else this.$('.unlock').toggleClass('u-display-none', !this._checkForLocks());\n    },\n\n    _checkForLocks: function() {\n      if (typeof AdaptModel.prototype.checkLocking !== 'function') return Adapt.location._contentType === 'menu';\n\n      var hasLock = function(model) { return model.has('_lockType'); };\n\n      if (hasLock(Adapt.course)) return true;\n      if (Adapt.contentObjects.some(hasLock)) return true;\n      if (Adapt.articles.some(hasLock)) return true;\n      if (Adapt.blocks.some(hasLock)) return true;\n\n      return false;\n    },\n\n    onUnlock: function() {\n      Adapt.devtools.set('_unlocked', true);\n      this._checkUnlockVisibility();\n    },\n\n    /*************************************************/\n    /** ******************** MAP *********************/\n    /*************************************************/\n\n    onOpenMap: function() {\n      CourseMap.open();\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /*************************************************/\n    /** ******************* SPOOR ********************/\n    /*************************************************/\n\n    _checkSpoorLogVisibility: function() {\n      var spoorInstalled = require.defined('extensions/adapt-contrib-spoor/js/adapt-contrib-spoor');\n      if (spoorInstalled) return;\n      this.$('.open-spoor-log').addClass('is-disabled').attr('disabled', 'disabled');\n    },\n\n    onOpenSpoorLog: function() {\n      Adapt.trigger('drawer:closeDrawer');\n      if (Adapt.spoor) {\n        Adapt.spoor.scorm.showDebugWindow();\n        return;\n      }\n      require('extensions/adapt-contrib-spoor/js/scorm').showDebugWindow();\n    },\n\n    /*************************************************/\n    /** ****************** TRICKLE *******************/\n    /*************************************************/\n\n    _checkTrickleEndVisibility: function() {\n      this.$('.end-trickle').toggleClass('u-display-none', !Adapt.devtools.get('_trickleEnabled'));\n    },\n\n    onEndTrickle: function() {\n      Adapt.devtools.set('_trickleEnabled', false);\n      this._checkTrickleEndVisibility();\n    },\n\n    /*************************************************/\n    /** ************* QUESTION BANKING ***************/\n    /*************************************************/\n\n    _checkBankingVisibility: function() {\n      if (!Adapt.devtools.get('_toggleFeedbackAvailable')) {\n        this.$('.banking').addClass('u-display-none');\n        return;\n      }\n\n      var bankedAssessments = ToggleBanking.getBankedAssessmentsInCurrentPage();\n      var isBankingEnabled = function(m) {return m.get('_assessment')._banks._isEnabled;};\n\n      if (bankedAssessments.length > 0) {\n        this.$('.banking').removeClass('u-display-none');\n        this.$('.banking label').toggleClass('is-selected', _.some(bankedAssessments, isBankingEnabled));\n        return;\n      }\n      this.$('.banking').addClass('u-display-none');\n    },\n\n    onToggleBanking: function() {\n      ToggleBanking.toggle();\n      this._checkBankingVisibility();\n    },\n\n    /*************************************************/\n    /** ********* QUESTION FEEDBACK (TUTOR) **********/\n    /*************************************************/\n\n    _checkFeedbackVisibility: function() {\n      if (Adapt.devtools.get('_toggleFeedbackAvailable')) {\n        this.$('.feedback').removeClass('u-display-none');\n        this.$('.feedback label').toggleClass('is-selected', Adapt.devtools.get('_feedbackEnabled'));\n        return;\n      }\n      this.$('.feedback').addClass('u-display-none');\n    },\n\n    onToggleFeedback: function() {\n      Adapt.devtools.toggleFeedback();\n      this._checkFeedbackVisibility();\n    },\n\n    /*************************************************/\n    /** ************* QUESTION HINTING ***************/\n    /*************************************************/\n\n    _checkHintingVisibility: function() {\n      if (Adapt.devtools.get('_hintingAvailable')) {\n        this.$('.hinting').removeClass('u-display-none');\n        this.$('.hinting label').toggleClass('is-selected', Adapt.devtools.get('_hintingEnabled'));\n        return;\n      }\n      this.$('.hinting').addClass('u-display-none');\n    },\n\n    onToggleHinting: function() {\n      Adapt.devtools.toggleHinting();\n      this._checkHintingVisibility();\n    },\n\n    /*************************************************/\n    /** *************** AUTO CORRECT *****************/\n    /*************************************************/\n\n    _checkAutoCorrectVisibility: function() {\n      if (Adapt.devtools.get('_autoCorrectAvailable')) {\n        this.$('.is-toggle.auto-correct').removeClass('u-display-none');\n        this.$('.is-toggle.auto-correct label').toggleClass('is-selected', Adapt.devtools.get('_autoCorrectEnabled'));\n        this.$('.is-tip.auto-correct').toggleClass('u-display-none', Adapt.devtools.get('_autoCorrectEnabled'));\n        return;\n      }\n      this.$('.auto-correct').addClass('u-display-none');\n    },\n\n    onToggleAutoCorrect: function() {\n      Adapt.devtools.toggleAutoCorrect();\n      this._checkAutoCorrectVisibility();\n    },\n\n    /*************************************************/\n    /** ***************** ALT TEXT *******************/\n    /*************************************************/\n\n    _checkAltTextVisibility: function() {\n      if (Adapt.devtools.get('_altTextAvailable')) {\n        this.$('.is-toggle.alt-text').removeClass('u-display-none');\n        this.$('.is-toggle.alt-text label').toggleClass('is-selected', Adapt.devtools.get('_altTextEnabled'));\n        this.$('.is-tip.alt-text').toggleClass('u-display-none', Adapt.devtools.get('_altTextEnabled'));\n        return;\n      }\n      this.$('.alt-text').addClass('u-display-none');\n    },\n\n    onToggleAltText: function() {\n      Adapt.devtools.toggleAltText();\n      this._checkAltTextVisibility();\n    },\n\n    /*************************************************/\n    /** *************** COMPLETE PAGE ****************/\n    /*************************************************/\n\n    _checkCompletePageVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'page') {\n        this.$('.complete-page').addClass('u-display-none');\n        return;\n      }\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isInteractionComplete: false } });\n\n      this.$('.complete-page').toggleClass('u-display-none', incomplete.length === 0);\n\n    },\n\n    onCompletePage: function(e) {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isInteractionComplete: false } });\n\n      incomplete.forEach(function(component) {\n        if (component.get('_isQuestionType')) {\n          component.set({\n            _isCorrect: true,\n            _isSubmitted: true,\n            _score: 1\n          });\n          component.set('_attemptsLeft', Math.max(0, component.set('_attempts') - 1));\n        }\n\n        component.set('_isComplete', true);\n        component.set(currentModel.has('_isInteractionsComplete') ? '_isInteractionsComplete' : '_isInteractionComplete', true);\n      });\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /*************************************************/\n    /** *************** COMPLETE MENU ****************/\n    /*************************************************/\n\n    _checkCompleteMenuVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'menu' && currentModel.get('_type') !== 'course') {\n        this.$('.complete-menu').addClass('u-display-none');\n        return;\n      }\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isComplete: false } });\n\n      this.$('.complete-menu').toggleClass('u-display-none', incomplete.length === 0);\n\n    },\n\n    onCompleteMenu: function(e) {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      var incomplete = currentModel.findDescendantModels('components', { where: { _isComplete: false } });\n      _.invoke(incomplete, 'set', '_isComplete', true);\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    /************************************************************/\n    /** ***** Similar to original adapt-cheat functionality *****/\n    /************************************************************/\n\n    _checkPassHalfFailVisibility: function() {\n      var currentModel = Adapt.findById(Adapt.location._currentId);\n\n      if (currentModel.get('_type') !== 'page') {\n        this.$('.pass, .half, .fail').addClass('u-display-none');\n        return;\n      }\n\n      var unanswered = currentModel.findDescendantModels('components', { where: { _isQuestionType: true, _isSubmitted: false } });\n\n      if (unanswered.length === 0) this.$('.tip.pass-half-fail').html('');\n      else this.$('.is-tip.pass-half-fail').html('With the '+unanswered.length+' unanswered question(s) in this page do the following:');\n\n      this.$('.pass, .half, .fail').toggleClass('u-display-none', unanswered.length === 0);\n\n    },\n\n    onPassHalfFail: function(e) {\n      if (Adapt.devtools.get('_trickleEnabled')) Adapt.trigger('trickle:kill');\n\n      // potentially large operation so show some feedback\n      $('.js-loading').show();\n\n      var tutorEnabled = Adapt.devtools.get('_feedbackEnabled');\n\n      if (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', false);\n\n      if ($(e.currentTarget).hasClass('pass')) PassHalfFail.pass(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n      else if ($(e.currentTarget).hasClass('half')) PassHalfFail.half(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n      else PassHalfFail.fail(this.onPassHalfFailComplete.bind(this, tutorEnabled));\n\n      Adapt.trigger('drawer:closeDrawer');\n    },\n\n    onPassHalfFailComplete: function(tutorEnabled) {\n      console.log('onPassHalfFailComplete');\n\n      if (tutorEnabled) Adapt.devtools.set('_feedbackEnabled', true);\n\n      $('.js-loading').hide();\n    },\n\n    /*************************************************/\n    /** ***************** EXTENDED *******************/\n    /*************************************************/\n\n    _checkTraceFocusVisibility: function() {\n      if (Adapt.devtools.get('_traceFocusAvailable')) {\n        this.$('.is-toggle.trace-focus').removeClass('u-display-none');\n        this.$('.is-toggle.trace-focus label').toggleClass('is-selected', Adapt.devtools.get('_traceFocusEnabled'));\n        return;\n      }\n      this.$('.trace-focus').addClass('u-display-none');\n    },\n\n    onToggleTraceFocus: function() {\n      Adapt.devtools.toggleTraceFocus();\n      this._checkTraceFocusVisibility();\n    }\n  });\n\n  var DevtoolsNavigationView = Backbone.View.extend({\n\n    initialize: function() {\n      var template = Handlebars.templates.devtoolsNavigation;\n\n      this.$el = $(template());\n\n      $('html').addClass('devtools-enabled').toggleClass('devtools-extended', Adapt.devtools.get('_extended'));\n\n      if (this.$el.is('a') || this.$el.is('button')) this.$el.on('click', this.onDevtoolsClicked.bind(this));\n      else this.$el.find('a, button').on('click', this.onDevtoolsClicked.bind(this));\n\n      // keep drawer item to left of PLP, resources, close button etc\n      this.listenTo(Adapt, 'pageView:postRender menuView:postRender', this.onContentRendered);\n      // ensure render occurs at least once (_isReady will not change to true on menus that exclude content objects)\n      this.listenToOnce(Adapt, 'pageView:postRender menuView:postRender', this.render);\n    },\n\n    render: function() {\n      $('.nav__inner').append(this.$el);\n      return this;\n    },\n\n    remove: function() {\n      this.$el.remove();\n      this.stopListening();\n      return this;\n    },\n\n    deferredRender: function() {\n      _.defer(this.render.bind(this));\n    },\n\n    onContentRendered: function(view) {\n      if (view.model.get('_id') === Adapt.location._currentId) {\n        this.stopListening(view.model, 'change:_isReady', this.deferredRender);\n        this.listenToOnce(view.model, 'change:_isReady', this.deferredRender);\n      }\n    },\n\n    onDevtoolsClicked: function(event) {\n      if (event && event.preventDefault) event.preventDefault();\n      Adapt.drawer.triggerCustomView(new DevtoolsView().$el, false);\n    }\n\n  });\n\n  Adapt.once('courseModel:dataLoaded', function() {\n    Adapt.devtools = new DevtoolsModel();\n  });\n\n  function initNavigationView() {\n    if (!Adapt.devtools.get('_isEnabled')) return;\n\n    if (navigationView) navigationView.remove();\n\n    navigationView = new DevtoolsNavigationView();\n  }\n\n  Adapt.once('adapt:initialize devtools:enable', function() {\n    initNavigationView();\n    Adapt.on('app:languageChanged', initNavigationView);\n  });\n\n});\n","import Adapt from 'core/js/adapt';\n\n/**\n * Allows the modification of filtered dom nodes on addition and removal\n */\nexport class DOMModifier {\n\n  constructor({\n    elementAddFilter = () => {},\n    elementRemoveFilter = () => {},\n    onElementAdd = () => {},\n    onElementRemove = () => {}\n  }) {\n    elementAddFilter = elementAddFilter.bind(this);\n    elementRemoveFilter = elementRemoveFilter.bind(this);\n    onElementAdd = onElementAdd.bind(this);\n    onElementRemove = onElementRemove.bind(this);\n    function filter(list, prop, predicate) {\n      const nodes = list.reduce((nodes, item) => {\n        const arr = _.toArray(item[prop]);\n        return nodes.concat(arr);\n      }, []);\n      const elementNodes = nodes.filter(el => el.nodeType === 1);\n      const foundNodes = elementNodes.reduce((nodes, el) => nodes.concat([el, ...$(el).find('*').toArray()].filter(predicate)), []);\n      return foundNodes;\n    }\n    const observer = new MutationObserver((list, observer) => {\n      const added = filter(list, 'addedNodes', elementAddFilter);\n      const removed = filter(list, 'removedNodes', elementRemoveFilter);\n      if (added.length) {\n        added.forEach(onElementAdd);\n      }\n      if (removed.length) {\n        removed.forEach(onElementRemove);\n      }\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport Lottie from 'libraries/lottie.min';\nimport _ from 'underscore';\n\nexport default class LottieView extends Backbone.View {\n\n  events() {\n    return {\n      'click .graphiclottie__playpause': 'onPlayPauseClick',\n      'click': 'onGeneralPlayPause'\n    };\n  }\n\n  initialize() {\n    _.bindAll(this, 'render', 'onScreenChange', 'update', 'onDataReady');\n    this.config = Adapt.course.get('_graphicLottie');\n    const fileExtension = this.config._fileExtension || 'svgz';\n    this._rex = new RegExp(`\\\\.${fileExtension}`, 'i');\n    this.hasUserPaused = false;\n    this.isDataReady = false;\n    this.animation = null;\n    this.setUpAttributeChangeObserver();\n    this.setUpListeners();\n    this.render();\n  }\n\n  setUpAttributeChangeObserver() {\n    const observer = new MutationObserver(this.render);\n    observer.observe(this.el, { attributes: true });\n  }\n\n  setUpListeners() {\n    this.$el.on('onscreen', this.onScreenChange);\n    this.listenTo(Adapt, 'device:resize', this.render);\n  }\n\n  onScreenChange(event, { onscreen, percentInview } = {}) {\n    if (!this.animation) return;\n    const isOffScreen = (!onscreen || percentInview < (this.config._onScreenPercentInviewVertical ?? 1));\n    if (isOffScreen) return this.onOffScreen();\n    this.onOnScreen();\n  }\n\n  onOffScreen() {\n    if (this.isPaused || this.hasUserPaused) return;\n    if (!this.config._offScreenPause) return;\n    this.pause(true);\n    if (!this.config._offScreenRewind) return;\n    this.rewind();\n  }\n\n  onOnScreen() {\n    if (!this.isPaused) return;\n    this.$player.removeClass('is-graphiclottie-nocontrols');\n    if (!this.config._autoPlay) return;\n    if (this.hasUserPaused) return;\n    this.play(true);\n  }\n\n  play(noControls = false) {\n    const isFinished = (this.animation.currentFrame === this.animation.totalFrames - 1);\n    if (isFinished) {\n      this.animation.stop();\n    }\n    this.animation.play();\n    this.update();\n    if (noControls) {\n      this.$player.removeClass('is-graphiclottie-nocontrols');\n    }\n  }\n\n  pause(noControls = false) {\n    if (noControls) {\n      this.$player.addClass('is-graphiclottie-nocontrols');\n    }\n    this.animation.pause();\n    this.update();\n  }\n\n  get isPaused() {\n    return this.animation.isPaused;\n  }\n\n  togglePlayPause(noControls) {\n    this[this.isPaused ? 'play' : 'pause'](noControls);\n  }\n\n  rewind() {\n    const isPaused = this.isPaused;\n    this.animation.stop();\n    this.animation[isPaused ? 'goToAndStop' : 'goToAndPlay'](0, true);\n    this.update();\n  }\n\n  update() {\n    this.$player.toggleClass('is-graphiclottie-playing', !this.animation.isPaused);\n    this.$player.toggleClass('is-graphiclottie-paused', this.animation.isPaused);\n    Adapt.a11y.toggleEnabled(this.$player.find('.graphiclottie__rewind'), this.animation.currentFrame !== 0);\n  }\n\n  render() {\n    if (!this.shouldRender) return;\n    this._renderedSrc = this.src;\n    const isAnimation = this._rex.test(this.src);\n    this.destroyAnimation();\n    this.$el.html(Handlebars.templates.graphicLottie({\n      ...this.config,\n      _isAnimation: isAnimation,\n      _src: this.src,\n      alt: this.alt\n    }));\n    if (!isAnimation) return;\n    this.createAnimation();\n  }\n\n  get canvas() {\n    return this.$('canvas')[0];\n  }\n\n  get $player() {\n    return this.$('.graphiclottie__player');\n  }\n\n  createAnimation() {\n    const loop = this.config._loops;\n    this.animation = Lottie.loadAnimation({\n      container: null,\n      renderer: 'canvas',\n      loop: loop === -1 ? true : loop,\n      autoplay: false, // we'll use checkIfOnScreen to control when playback starts\n      path: this.src,\n      rendererSettings: {\n        context: this.canvas.getContext('2d'), // the canvas context, only support \"2d\" context\n        preserveAspectRatio: 'xMinYMin slice', // Supports the same options as the svg element's preserveAspectRatio property\n        clearCanvas: true\n      }\n    });\n    this.animation.addEventListener('data_ready', this.onDataReady);\n    this.animation.addEventListener('complete', this.update);\n    this.animation.addEventListener('loopComplete', this.update);\n    this.animation.addEventListener('enterFrame', this.update);\n  }\n\n  onDataReady() {\n    this.isDataReady = true;\n    this.canvas.height = this.animation.animationData.h;\n    this.canvas.width = this.animation.animationData.w;\n    this.animation.resize();\n    this.pause();\n    this.rewind();\n    this.trigger('ready');\n  }\n\n  onEnterFrame() {\n    this.update();\n  }\n\n  onGeneralPlayPause() {\n    if (!this.config._showPauseControl) return;\n    this.togglePlayPause();\n    this.hasUserPaused = this.animation.isPaused;\n    if (this.hasUserPaused && this.config._onPauseRewind) {\n      this.rewind();\n    }\n  }\n\n  onPlayPauseClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.onGeneralPlayPause();\n  }\n\n  destroyAnimation() {\n    if (!this.animation) return;\n    this.animation.stop();\n    this.animation.destroy();\n    this.animation = null;\n  }\n\n  get shouldRender() {\n    return (this._renderedSrc !== this.src);\n  }\n\n  get src() {\n    const small = this.$el.attr('data-small');\n    const large = this.$el.attr('data-large');\n    const src = this.$el.attr('src');\n    return src || (Adapt.device.screenSize === 'small' ? small : large) || large;\n  }\n\n  get alt() {\n    this._alt = this.$el.attr('aria-label') || this.$el.attr('alt') || this._alt;\n    this.$el.removeAttr('aria-label attr');\n    return this._alt;\n  }\n\n  remove() {\n    this.destroyAnimation();\n    super.remove();\n  }\n\n}\n","import Adapt from 'core/js/adapt';\nimport { DOMModifier } from './injector';\nimport LottieView from './LottieView';\n\nclass GraphicLottie extends Backbone.Controller {\n\n  initialize() {\n    this.listenTo(Adapt, 'app:dataReady', this.onDataReady);\n  }\n\n  onDataReady() {\n    const config = Adapt.course.get('_graphicLottie');\n    if (!config?._isEnabled) return;\n    this.setUpEventListeners();\n    this.setUp();\n  }\n\n  setUpEventListeners() {\n    document.body.addEventListener('transitionend', this.checkOnScreen.bind(this));\n    this.listenTo(Adapt, 'notify:opened', this.checkOnScreen);\n  }\n\n  checkOnScreen() {\n    $.inview();\n  }\n\n  setUp() {\n    const config = Adapt.course.get('_graphicLottie');\n    const fileExtension = config._fileExtension || 'svgz';\n    const rex = new RegExp(`\\\\.${fileExtension}`, 'i');\n    let waitFor = 0;\n    new DOMModifier({\n      elementAddFilter(element) {\n        if (element.nodeName !== 'IMG') return;\n        const img = element;\n        return rex.test(img.src) || rex.test(img.getAttribute('data-large')) || rex.test(img.getAttribute('data-small'));\n      },\n      onElementAdd(img) {\n        const div = document.createElement('div');\n        $(img).replaceWith(div);\n        div.setAttribute('data-graphiclottie', true);\n        $(div).attr({\n          ...[...img.attributes].reduce((attrs, { name, value }) => ({ ...{ [name]: value }, ...attrs }), {}),\n          'class': img.className,\n          'id': img.id\n        });\n        if (waitFor === 0) {\n          Adapt.wait.begin();\n        }\n        waitFor++;\n        div.lottieView = new LottieView({ el: div });\n        div.lottieView.on('ready', () => {\n          waitFor--;\n          if (waitFor === 0) {\n            Adapt.wait.end();\n          }\n        })\n      },\n      elementRemoveFilter(element) {\n        return element.getAttribute('data-graphiclottie');\n      },\n      onElementRemove(div) {\n        if (waitFor !== 0) return;\n        div.lottieView?.remove();\n        div.lottieView = null;\n      }\n    });\n  }\n\n}\n\nexport default new GraphicLottie();\n","import AdaptView from 'core/js/views/adaptView';\n\nclass MenuItemView extends AdaptView {\n\n  attributes() {\n    return AdaptView.resultExtend('attributes', {\n      'role': 'listitem',\n      'aria-labelledby': this.model.get('_id') + '-heading'\n    }, this);\n  }\n\n  className() {\n    return [\n      'menu-item',\n      this.constructor.className,\n      this.model.get('_id'),\n      this.model.get('_classes'),\n      this.setVisibility(),\n      this.setHidden(),\n      (this.model.get('_isVisited') ? 'is-visited' : ''),\n      (this.model.get('_isComplete') ? 'is-complete' : ''),\n      (this.model.get('_isLocked') ? 'is-locked' : ''),\n      (this.model.get('_isOptional') ? 'is-optional' : '')\n    ].join(' ');\n  }\n\n  preRender() {\n    this.model.checkCompletionStatus();\n    this.model.checkInteractionCompletionStatus();\n  }\n\n  postRender() {\n    this.$el.imageready(this.setReadyStatus.bind(this));\n  }\n\n}\n\nMenuItemView.type = 'menuItem';\n\nexport default MenuItemView;\n","import ContentObjectView from 'core/js/views/contentObjectView';\nimport MenuItemView from 'core/js/views/menuItemView';\n\nclass MenuView extends ContentObjectView {}\n\nObject.assign(MenuView, {\n  /**\n   * TODO:\n   * child view here should not be fixed to the MenuItemView\n   * menus may currently rely on this\n   */\n  childContainer: '.js-children',\n  childView: MenuItemView,\n  type: 'menu',\n  template: 'menu'\n});\n\nexport default MenuView;\n","import MenuItemView from 'core/js/views/menuItemView';\nimport router from 'core/js/router';\n\nclass BoxMenuItemView extends MenuItemView {\n\n  className() {\n    return `${super.className()} boxmenu-item`;\n  }\n\n  events() {\n    return {\n      'click .js-btn-click': 'onClickMenuItemButton'\n    };\n  }\n\n  onClickMenuItemButton(event) {\n    if (event && event.preventDefault) event.preventDefault();\n    if (this.model.get('_isLocked')) return;\n    router.navigateToElement(this.model.get('_id'));\n  }\n}\n\nBoxMenuItemView.template = 'boxMenuItem';\n\nexport default BoxMenuItemView;\n","import MenuItemView from 'core/js/views/menuItemView';\nimport BoxMenuItemView from './BoxMenuItemView';\n\nclass BoxMenuGroupView extends MenuItemView {\n\n  className() {\n    return `${super.className()} boxmenu-group`;\n  }\n\n  postRender() {\n    _.defer(this.addChildren.bind(this));\n    this.$el.imageready(this.setReadyStatus.bind(this));\n    this.$el.parents('.boxmenu__item-container').addClass('has-groups');\n  }\n}\n\nBoxMenuGroupView.template = 'boxMenuGroup';\nBoxMenuGroupView.childContainer = '.js-group-children';\nBoxMenuGroupView.childView = BoxMenuItemView;\n\nexport default BoxMenuGroupView;\n","import Adapt from 'core/js/adapt';\nimport MenuView from 'core/js/views/menuView';\nimport BoxMenuItemView from './BoxMenuItemView';\nimport BoxMenuGroupView from './BoxMenuGroupView';\n\nclass BoxMenuView extends MenuView {\n\n  className() {\n    return `${super.className()} boxmenu`;\n  }\n\n  initialize() {\n    super.initialize();\n    this.setStyles();\n\n    this.listenTo(Adapt, 'device:changed', this.onDeviceResize);\n  }\n\n  onDeviceResize() {\n    this.setStyles();\n  }\n\n  addChildren() {\n    let nthChild = 0;\n    const models = this.model.getChildren().models;\n    const childViews = [];\n    models.forEach(model => {\n      if (!model.get('_isAvailable')) return;\n\n      if (model.get('_isHidden')) {\n        model.set('_isReady', true);\n        return;\n      }\n\n      nthChild++;\n      model.set('_nthChild', nthChild);\n\n      const ChildView = (model.get('_type') === 'menu' && model.get('_boxMenu') && model.get('_boxMenu')._renderAsGroup) ?\n        BoxMenuGroupView :\n        BoxMenuItemView;\n\n      const $parentContainer = this.$(this.constructor.childContainer);\n      const childView = new ChildView({ model });\n\n      childViews.push(childView);\n\n      $parentContainer.append(childView.$el);\n    });\n\n    this.setChildViews(childViews);\n  }\n\n  setStyles() {\n    this.setBackgroundImage();\n    this.setBackgroundStyles();\n    this.processHeader();\n  }\n\n  setBackgroundImage() {\n    const config = this.model.get('_boxMenu');\n    const backgroundImages = config?._backgroundImage;\n    if (!backgroundImages) return;\n    const backgroundImage = backgroundImages[`_${Adapt.device.screenSize}`] ?? backgroundImages._small;\n    this.$el\n      .toggleClass('has-bg-image', Boolean(backgroundImage))\n      .css('background-image', backgroundImage ? 'url(' + backgroundImage + ')' : '');\n  }\n\n  setBackgroundStyles() {\n    const config = this.model.get('_boxMenu');\n    const styles = config?._backgroundStyles;\n    if (!styles) return;\n    this.$el.css({\n      'background-repeat': styles._backgroundRepeat,\n      'background-size': styles._backgroundSize,\n      'background-position': styles._backgroundPosition\n    });\n  }\n\n  processHeader() {\n    const config = this.model.get('_boxMenu');\n    const header = config?._menuHeader;\n\n    if (!header) return;\n\n    const $header = this.$('.menu__header');\n\n    this.setHeaderBackgroundImage(header, $header);\n    this.setHeaderBackgroundStyles(header, $header);\n    this.setHeaderMinimumHeight(header, $header);\n  }\n\n  setHeaderBackgroundImage(config, $header) {\n    const backgroundImages = config._backgroundImage;\n    if (!backgroundImages) return;\n    const backgroundImage = backgroundImages[`_${Adapt.device.screenSize}`] ?? backgroundImages._small;\n    $header\n      .toggleClass('has-bg-image', Boolean(backgroundImage))\n      .css('background-image', backgroundImage ? 'url(' + backgroundImage + ')' : '');\n  }\n\n  setHeaderBackgroundStyles(config, $header) {\n    const styles = config._backgroundStyles;\n\n    if (!styles) return;\n\n    $header.css({\n      'background-repeat': styles._backgroundRepeat,\n      'background-size': styles._backgroundSize,\n      'background-position': styles._backgroundPosition\n    });\n  }\n\n  setHeaderMinimumHeight(config, $header) {\n    const minimumHeights = config._minimumHeights;\n    if (!minimumHeights) return;\n    const minimumHeight = minimumHeights[`_${Adapt.device.screenSize}`] ?? minimumHeights._small;\n    $header\n      .toggleClass('has-min-height', Boolean(minimumHeight))\n      .css('min-height', minimumHeight ? minimumHeight + 'px' : '');\n  }\n\n}\n\nBoxMenuView.template = 'boxMenu';\n\nexport default BoxMenuView;\n","import Adapt from 'core/js/adapt';\nimport MenuModel from 'core/js/models/menuModel';\nimport BoxMenuView from './BoxMenuView';\n\n// Use as default \"_type\": \"course\" or \"_type\": \"menu\" view.\n// Note: This is necessary to maintain legacy behaviour in the AAT where\n// only one menu is usable per course and the course / menu is assumed to be\n// a core model and use the only installed MenuView.\nAdapt.register('course menu', {\n  view: BoxMenuView\n});\n\n// Use for \"_component\": \"boxMenu\", or \"_view\": \"boxMenu\" and \"_model\": \"boxMenu\"\nAdapt.register('boxMenu', {\n  view: BoxMenuView,\n  model: MenuModel.extend({})\n});\n","define([\n  \"core/js/adapt\"\n], function(Adapt) {\n\n  var ThemeView = Backbone.View.extend({\n\n    className: function() {},\n\n    initialize: function() {\n      this.setStyles();\n\n      this.listenTo(Adapt, {\n        \"device:changed\": this.onDeviceResize,\n        \"remove\": this.remove\n      });\n    },\n\n    onDeviceResize: function() {\n      this.setStyles();\n    },\n\n    remove: function() {\n      Backbone.View.prototype.remove.call(this);\n\n      this.onRemove();\n    },\n\n    setStyles: function() {\n      this.setClasses();\n      this.setBackgroundImage();\n      this.setBackgroundStyles();\n      this.setMinimumHeight();\n      this.setCustomStyles();\n    },\n\n    setClasses: function() {\n      this.$el.addClass(this.className());\n    },\n\n    setBackgroundImage: function() {\n      \n      var backgroundImages = this.model.get(\"_backgroundImage\");\n\n      if (!backgroundImages) return;\n\n      var backgroundImage;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          backgroundImage = backgroundImages._large;\n          break;\n        case \"medium\":\n          backgroundImage = backgroundImages._medium;\n          break;\n        default:\n          backgroundImage = backgroundImages._small;\n      }\n\n      if (backgroundImage) {\n        this.$el\n          .addClass(\"has-bg-image\")\n          .css(\"background-image\", \"url(\" + backgroundImage + \")\");\n      } else {\n        this.$el\n          .removeClass(\"has-bg-image\")\n          .css(\"background-image\", \"\");\n      }\n    },\n\n    setBackgroundStyles: function () {\n      var styles = this.model.get(\"_backgroundStyles\");\n\n      if (!styles) return;\n\n      this.$el.css({\n        'background-repeat': styles._backgroundRepeat,\n        'background-size': styles._backgroundSize,\n        'background-position': styles._backgroundPosition\n      });\n    },\n\n    setMinimumHeight: function() {\n      var minimumHeights = this.model.get(\"_minimumHeights\");\n\n      if (!minimumHeights) return;\n\n      var minimumHeight;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          minimumHeight = minimumHeights._large;\n          break;\n        case \"medium\":\n          minimumHeight = minimumHeights._medium;\n          break;\n        default:\n          minimumHeight = minimumHeights._small;\n      }\n\n      if (minimumHeight) {\n        this.$el\n          .addClass(\"has-min-height\")\n          .css(\"min-height\", minimumHeight + \"px\");\n      } else {\n        this.$el\n          .removeClass(\"has-min-height\")\n          .css(\"min-height\", \"\");\n      }\n    },\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeView;\n\n});\n","define([\n  './themeView',\n  'core/js/adapt'\n], function(ThemeView, Adapt) {\n\n  var ThemePageView = ThemeView.extend({\n\n    className: function() {},\n\n    setCustomStyles: function() {\n      this.processHeader();\n    },\n\n    processHeader: function() {\n      var header = this.model.get('_pageHeader');\n\n      if (!header) return;\n\n      var $header = this.$('.page__header');\n\n      this.setHeaderBackgroundImage(header, $header);\n      this.setHeaderBackgroundStyles(header, $header);\n      this.setHeaderMinimumHeight(header, $header);\n    },\n\n    setHeaderBackgroundImage: function(config, $header) {\n      var backgroundImages = config._backgroundImage;\n\n      if (!backgroundImages) return;\n\n      var backgroundImage;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          backgroundImage = backgroundImages._large;\n          break;\n        case \"medium\":\n          backgroundImage = backgroundImages._medium;\n          break;\n        default:\n          backgroundImage = backgroundImages._small;\n      }\n\n      if (backgroundImage) {\n        $header\n          .addClass(\"has-bg-image\")\n          .css(\"background-image\", \"url(\" + backgroundImage + \")\");\n      } else {\n        $header\n          .removeClass(\"has-bg-image\")\n          .css(\"background-image\", \"\");\n      }\n    },\n\n    setHeaderBackgroundStyles: function (config, $header) {\n      var styles = config._backgroundStyles;\n\n      if (!styles) return;\n\n      $header.css({\n        'background-repeat': styles._backgroundRepeat,\n        'background-size': styles._backgroundSize,\n        'background-position': styles._backgroundPosition\n      });\n    },\n\n    setHeaderMinimumHeight: function(config, $header) {\n      var minimumHeights = config._minimumHeights;\n\n      if (!minimumHeights) return;\n\n      var minimumHeight;\n\n      switch (Adapt.device.screenSize) {\n        case \"large\":\n          minimumHeight = minimumHeights._large;\n          break;\n        case \"medium\":\n          minimumHeight = minimumHeights._medium;\n          break;\n        default:\n          minimumHeight = minimumHeights._small;\n      }\n\n      if (minimumHeight) {\n        $header\n          .addClass(\"has-min-height\")\n          .css(\"min-height\", minimumHeight + \"px\");\n      } else {\n        $header\n          .removeClass(\"has-min-height\")\n          .css(\"min-height\", \"\");\n      }\n    },\n\n    onRemove: function() {}\n\n  });\n\n  return ThemePageView;\n\n});\n","define([\n  \"./themeView\",\n  \"core/js/adapt\"\n], function(ThemeView, Adapt) {\n\n  var ThemeArticleView = ThemeView.extend({\n\n    className: function() {},\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeArticleView;\n\n});\n","define([\n  \"./themeView\",\n  \"core/js/adapt\"\n], function(ThemeView, Adapt) {\n\n  var ThemeBlockView = ThemeView.extend({\n\n    className: function() {\n      return this.model.get(\"_isDividerBlock\") ? \"is-divider-block\" : \"\";\n    },\n\n    setCustomStyles: function() {},\n\n    onRemove: function() {}\n\n  });\n\n  return ThemeBlockView;\n\n});\n","define([\n  \"core/js/adapt\",\n  \"./themePageView\",\n  \"./themeArticleView\",\n  \"./themeBlockView\",\n  \"./themeView\"\n], function(Adapt, ThemePageView, ThemeArticleView, ThemeBlockView, ThemeView) {\n\n  function onDataReady() {\n    $(\"html\").addClass(Adapt.course.get(\"_courseStyle\"));\n  }\n\n  function onPostRender(view) {\n    var model = view.model;\n    var theme = model.get(\"_odi-generic\");\n\n    if (!theme) return;\n\n    switch (model.get(\"_type\")) {\n      case \"page\":\n        new ThemePageView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      case \"article\":\n        new ThemeArticleView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      case \"block\":\n        new ThemeBlockView({ model: new Backbone.Model(theme), el: view.$el });\n        break;\n      default:\n        new ThemeView({ model: new Backbone.Model(theme), el: view.$el });\n    }\n  }\n\n  Adapt.on({\n    \"app:dataReady\": onDataReady,\n    \"pageView:postRender articleView:postRender blockView:postRender\": onPostRender\n  });\n});\n","import Adapt from 'core/js/adapt';\nimport React, { useRef } from 'react';\nimport { html, prefixClasses, compile } from 'core/js/reactHelpers';\n\n/**\n * Content header for displayTitle, body, instruction text, etc.\n * instruction and mobileInstruction will switch automatically\n * @param {Object} props\n * @param {string} [props.displayTitle]\n * @param {string} [props.body]\n * @param {string} [props.instruction]\n * @param {string} [props.mobileInstruction]\n * @param {string} [props._type]\n * @param {string} [props._component]\n * @param {string} [props._disableAccessibilityState]\n */\nexport default function Header(props) {\n  // Create references to un-controlled view containers\n  const jsxHeading = useRef(null);\n  const {\n    _id,\n    displayTitle,\n    body,\n    instruction,\n    mobileInstruction,\n    _type,\n    _component,\n    _disableAccessibilityState,\n    _isA11yComponentDescriptionEnabled,\n    classNamePrefixes = [\n      _type && _type.toLowerCase(),\n      _component && _component.toLowerCase()\n    ].filter(Boolean)\n  } = props;\n  const sizedInstruction = (mobileInstruction && Adapt.device.screenSize !== 'large') ?\n    mobileInstruction :\n    instruction;\n  const isSet = (displayTitle || body || sizedInstruction);\n  if (!isSet) return null;\n  const _globals = Adapt.course.get('_globals');\n  const ariaRegion = _globals?._components?.[`_${_component}`]?.ariaRegion;\n  return (\n    <div id={`${_id}-header`} className={prefixClasses(classNamePrefixes, ['__header'])}>\n      <div className={prefixClasses(classNamePrefixes, ['__header-inner'])}>\n        {displayTitle &&\n        <div className={prefixClasses(classNamePrefixes, ['__title'])}>\n\n          {!_disableAccessibilityState &&\n          <div className=\"js-heading\" ref={jsxHeading}></div>\n          }\n\n          <div className={prefixClasses(classNamePrefixes, ['__title-inner'])} aria-hidden={!_disableAccessibilityState}>\n            {html(compile(displayTitle, props))}\n          </div>\n\n        </div>\n        }\n\n        {_isA11yComponentDescriptionEnabled && ariaRegion &&\n        <div className=\"aria-label\">\n          {html(compile(ariaRegion))}\n        </div>\n        }\n\n        {body &&\n        <div className={prefixClasses(classNamePrefixes, ['__body'])}>\n          <div className={prefixClasses(classNamePrefixes, ['__body-inner'])}>\n            {html(compile(body, props))}\n          </div>\n        </div>\n        }\n\n        {sizedInstruction &&\n        <div className={prefixClasses(classNamePrefixes, ['__instruction'])}>\n          <div className={prefixClasses(classNamePrefixes, ['__instruction-inner'])}>\n            {html(compile(sizedInstruction, props))}\n          </div>\n        </div>\n        }\n\n      </div>\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { html, classes, prefixClasses } from 'core/js/reactHelpers';\n\n/**\n * Size switching content image\n * @param {Object} props\n * @param {Array} props.classNamePrefixes\n * @param {Array} [props.attributionClassNamePrefixes]\n */\nexport default function Image(props) {\n  const hasMediumSetting = (Object.prototype.hasOwnProperty.call(props, '_medium') || Object.prototype.hasOwnProperty.call(props, 'medium'));\n  const screenSize = hasMediumSetting\n    ? Adapt.device.screenSize\n    : (Adapt.device.screenSize === 'large' ? 'large' : 'small');\n  const src = (\n    props[`_${screenSize}`] ||\n    props[`${screenSize}`] ||\n    props._src ||\n    props.src\n  );\n  const hasSource = Boolean(src);\n  if (!hasSource) return null;\n  const attributionClassNamePrefixes = (props.attributionClassNamePrefixes || props.classNamePrefixes);\n  return (\n    <div className={classes([\n      prefixClasses(props.classNamePrefixes, ['__image-container']),\n      props.attribution && 'has-attribution'\n    ])}>\n\n      <img\n        className={prefixClasses(props.classNamePrefixes, ['__image'])}\n        src={src}\n        aria-label={Adapt.a11y.normalize(props.alt)}\n        aria-hidden={!props.alt}\n        loading='eager'\n      />\n\n      {props.attribution &&\n      <div className={prefixClasses(attributionClassNamePrefixes, ['__attribution'])}>\n        <div className={prefixClasses(attributionClassNamePrefixes, ['__attribution-inner'])}>\n          {html(props.attribution)}\n        </div>\n      </div>\n      }\n\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { templates, classes, html, compile } from 'core/js/reactHelpers';\n\nexport default function Choose(props) {\n  const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n  const {\n    _id,\n    _isEnabled,\n    _isInteractionComplete,\n    _isCorrect,\n    _canShowMarking,\n    displayTitle,\n    body,\n    instruction,\n    onKeyPress,\n    onItemOptionSelect,\n    _isCorrectAnswerShown,\n    isInteractive\n  } = props;\n\n  const shouldShowMarking = isInteractive() && _canShowMarking;\n\n  return (\n    <div className='component__inner choose__inner'>\n      <templates.header {...props} />\n\n      <div\n        className={classes([\n          'component__widget',\n          'choose__widget',\n          !_isEnabled && 'is-disabled',\n          _isInteractionComplete && 'is-complete is-submitted show-user-answer',\n          _isCorrect && 'is-correct'\n        ])}\n        role='radiogroup'\n        aria-labelledby={\n          (displayTitle || body || instruction) && `${_id}-header`\n        }\n      >\n\n        {props._items.map(({ text, _graphic, _options, _index, _isCorrect, _selected }, index) => (\n          <div\n            className={classes([\n              `choose__item item-${index}`,\n              _selected && 'is-selected',\n              _selected && `selected-option-${_selected._index}`,\n              _isInteractionComplete && _isCorrect && 'is-correct',\n              _isInteractionComplete && !_isCorrect && 'is-incorrect'\n            ])}\n            key={_index}\n            data-index={_index}>\n            <div\n              className={classes([\n                'choose__item-state',\n                _isInteractionComplete && _isCorrect && 'choose__item-correct-icon',\n                _isInteractionComplete && !_isCorrect && 'choose__item-incorrect-icon'\n              ])}\n            >\n              <div className='icon'></div>\n            </div>\n            <div className='choose__item-text'>\n              {html(compile(text))}\n            </div>\n            <templates.image {..._graphic}\n              classNamePrefixes={['choose__item']}\n              attributionClassNamePrefixes={['component', 'choose']}\n            />\n            <div className='choose__item-choices'>\n              {_options.map((option) => (\n                <div\n                  className={classes([\n                    'choose__item-choice',\n                    option._isSelected && 'is-selected',\n                    _isCorrectAnswerShown && option._isCorrect && 'is-correct',\n                    _isCorrectAnswerShown && !option._isCorrect && 'is-incorrect'\n                  ])}\n                  key={option._index}\n                >\n                  <label\n                    aria-hidden={true}\n                    htmlFor={`input-${_id}-${_index}-${option._index}`}\n                    data-adapt-index={_index}\n                  >\n\n                    <div className='choose__item-choice-text'>\n                      {html(compile(option.text))}\n                    </div>\n\n                    <templates.image {...option._graphic}\n                      classNamePrefixes={['choose__item-choice']}\n                      attributionClassNamePrefixes={['component', 'choose']}\n                    />\n\n                    <div className='choose__item-icon'>\n                      <div className='icon'></div>\n                    </div>\n                  </label>\n                  <input\n                    type='radio'\n                    name={`choices-${_id}-${_index}`}\n                    id={`input-${_id}-${_index}-${option._index}`}\n                    value={option._index}\n                    disabled={!_isEnabled}\n                    aria-label={\n                      !shouldShowMarking\n                        ? `${\n                          _isCorrect\n                            ? ariaLabels.correct\n                            : ariaLabels.incorrect\n                        }, ${Adapt.a11y.normalize(text)}`\n                        : `${Adapt.a11y.normalize(text)}`\n                    }\n                    data-adapt-index={_index}\n                    onKeyPress={onKeyPress}\n                    onChange={onItemOptionSelect}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        )\n        )}\n      </div>\n\n      <div className='btn__container'></div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { templates } from 'core/js/reactHelpers';\n\nconst LinkWrapper = ({ href, children, target, className, role }) =>\n  href\n    ? <a href={href} target={target} className={className} role={role}>{children}</a>\n    : children;\n\nexport default function Graphic(props) {\n  const {\n    _graphic\n  } = props;\n  return (\n    <div className='component__inner graphic__inner'>\n\n      <templates.header {...props} />\n\n      <div className='component__widget graphic__widget'>\n\n        <LinkWrapper\n          href = {_graphic._url}\n          target = {_graphic._target}\n          className = 'graphic__link js-graphic-link'\n          role = 'link'\n        >\n\n          <templates.image {..._graphic}\n            classNamePrefixes={[\n              'component',\n              'graphic'\n            ]}\n          />\n\n        </LinkWrapper>\n\n      </div>\n\n    </div>\n  );\n}\n","import React from 'react';\nimport { templates } from 'core/js/reactHelpers';\n\nexport default function Text(props) {\n  return (\n    <div className=\"component__inner text__inner\">\n      <templates.header {...props} />\n    </div>\n  );\n}\n","// import Adapt from 'core/js/adapt';\nimport React from 'react';\nimport { templates, classes, html, compile } from 'core/js/reactHelpers';\n\nexport default function DropItems(props) {\n  // const ariaLabels = Adapt.course.get('_globals')._accessibility._ariaLabels;\n\n  const {\n    _id,\n    _isEnabled,\n    _isInteractionComplete,\n    _isCorrect,\n    _isCorrectAnswerShown,\n    _canShowMarking,\n    displayTitle,\n    body,\n    _graphic,\n    instruction,\n    isInteractive\n\n  } = props;\n  const shouldShowMarking = !isInteractive() && _canShowMarking;\n  return (\n    <div className='component__inner dropitems__inner'>\n      <templates.header {...props} />\n\n      <div\n        className={classes([\n          'component__widget',\n          'dropitems__widget',\n          !_isEnabled && 'is-disabled',\n          _isInteractionComplete && 'is-complete is-submitted show-user-answer',\n          _isCorrect && 'is-correct'\n        ])}\n        role='section'\n        aria-labelledby={\n          (displayTitle || body || instruction) && `${_id}-header`\n        }>\n\n        <div className='dropitems__container'>\n          {props._items.map(({ _index, title, body, _graphic, _shouldBeSelected, _isActive }, index) => (\n            <div\n              className={classes([\n                `dropitems__item dropitems__item-${index}`,\n                (_isCorrectAnswerShown ? _shouldBeSelected : _isActive) && 'is-selected',\n                shouldShowMarking && _shouldBeSelected && 'is-correct',\n                shouldShowMarking && !_shouldBeSelected && 'is-incorrect'\n              ])}\n              key={_index}\n            >\n              <div\n                className={classes([\n                  'dropitems__item-state'\n\n                ])}\n              >\n                <div className='icon'></div>\n              </div>\n              {_graphic &&\n              <templates.image {..._graphic}\n                classNamePrefixes={['dropitems__item-graphic']}\n                attributionClassNamePrefixes={['component', 'dropitems']}\n              />\n              }\n              {\n                title &&\n            <div className='dropitems__item-title'>\n              {html(compile(title))}\n            </div>\n              }\n              {\n                body &&\n            <div className='dropitems__item-title'>\n              {html(compile(body))}\n            </div>\n              }\n\n            </div>\n          )\n          )}\n        </div>\n        <div className='dropitems__dropzone'>\n          <div className='dropitems__dropzone-inner'>\n            {_graphic &&\n            <templates.image {..._graphic}\n              classNamePrefixes={['dropitems__item-graphic']}\n              attributionClassNamePrefixes={['component', 'dropitems']}\n            />\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className='btn__container'></div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { html, templates } from 'core/js/reactHelpers';\n\nexport default function LottieInteractivity(props) {\n  const { lottieplayer, description, failed } = props;\n  return (\n    <div className=\"component__inner lottieinteractivity__inner\">\n      <templates.header {...props} />\n      {failed && <p className=\"lottieinteractivity__error\">{failed}</p>}\n      <div className='component__widget lottieinteractivity__widget'>\n        <div dangerouslySetInnerHTML={{ __html: lottieplayer }} />\n      </div>\n      <div className='lottieinteractivity__description'>\n        {html(description)}\n      </div>\n    </div>\n  );\n}\n","import Adapt from 'core/js/adapt';\nimport 'core/js/templates';\nimport 'core/js/fixes';\nimport 'core/js/accessibility';\nimport 'core/js/data';\nimport 'core/js/offlineStorage';\nimport 'core/js/logging';\nimport 'core/js/tracking';\nimport 'core/js/device';\nimport 'core/js/drawer';\nimport 'core/js/notify';\nimport 'core/js/router';\nimport 'core/js/models/lockingModel';\nimport 'core/js/mpabc';\nimport 'core/js/helpers';\nimport 'core/js/scrolling';\nimport 'core/js/headings';\nimport 'core/js/navigation';\nimport 'plugins';\n\n$('body').append(Handlebars.templates.loading());\n\nAdapt.data.on('ready', function triggerInit() {\n  Adapt.log.debug('Calling Adapt.init');\n\n  Adapt.init();\n\n  Adapt.off('adaptCollection:dataLoaded courseModel:dataLoaded');\n}).init();\n"],"names":["_waitCount","_callbackHandle","being","begin","bind","end","isWaiting","trigger","clearTimeout","setTimeout","callback","Promise","resolve","once","_","defer","Backbone","Controller","attrName","attrVal","options","stopProcessing","isLocking","arguments","isSettingValueForSpecificPlugin","pluginName","console","error","defaults","undefined","_lockedAttributes","lockingValue","isAttemptingToLock","setLockState","skipcheck","totalLockValue","getLockCount","defaultLockValue","_lockedAttributesValues","Object","keys","length","isCheckingGeneralLockingState","isUsingLockedAttributes","Boolean","lockedAttributes","result","isAttributeALockingAttribute","hasOwnProperty","shouldSkipCheck","isGettingValueForSpecificPlugin","lockingAttributeValues","values","lockingAttributeValuesSum","reduce","sum","value","Model","AdaptSingleton","loadScript","window","__loadScript","location","store","setupWait","_canScroll","_outstandingCompletionChecks","_pluginWaitCount","_isStarted","_shouldDestroyContentObjects","log","deprecated","addDirection","disableAnimation","wait","queue","deferUntilCompletionChecked","History","started","history","start","set","outstandingChecks","get","checkIfAnyChecksOutstanding","model","off","on","Wait","beginWait","endWait","ready","isEventListening","_events","listenTo","isWaitingForPlugins","name","object","Array","isArray","forEach","register","split","view","View","template","isModelSetAndInvalid","prototype","Function","Error","isViewSetAndInvalid","assign","nameModelViewOrData","toJSON","foundName","entries","key","entry","names","_view","_component","_type","filter","find","pop","getViewName","warnOnce","isBackboneView","nameModelOrData","isViewOnlyQuestion","_isQuestionType","_model","getModelName","isBackboneModel","id","data","findById","parentView","idPathToView","currentLocationId","_currentId","currentLocationModel","getAncestorModels","modelId","unshift","warn","foundView","currentId","childViews","getChildViews","trackingPosition","findByTrackingPosition","relativeString","splitIndex","search","type","slice","replace","offset","parseInt","trim","defaultDirection","config","$","addClass","attr","disableAnimationArray","i","l","is","toggleClass","currentView","setOnChildren","_isReady","_isRendered","destroy","LockingModel","mode","args","onRender","cb","intercept","Handlebars","templates","partials","preRenderEvent","TemplateRenderEvent","Adapt","postRenderEvent","_imgLazyLoad","applyImgLoadingFix","findImgTag","hasLoadingAttr","event","imgTagsFound","match","img","test","loading","LOG_LEVEL","ENUM","Logging","_config","_isEnabled","_level","INFO","asLowerCase","_console","_warnFirstOnly","_warned","listenToOnce","onLoadConfigData","loadConfig","debug","has","checkQueryStringOverride","matches","override","toUpperCase","_log","DEBUG","WARN","ERROR","FATAL","concat","_hasWarned","level","isEnabled","configLevel","isLogLevelAllowed","_logToConsole","shouldLogToConsole","asUpperCase","push","hash","map","String","join","_jsxReactHelpersHTML","applyReactHelpersHTML","tagName","props","children","hasSomeUnsafeConversions","some","c","__html","hasManyChildren","child","attributes","logging","HTMLReactParser","dangerouslySetInnerHTML","_onBlur","_onClick","$body","_attachEventListeners","addEventListener","a11y","_options","_isFocusNextOnDisabled","$element","target","removeAttr","currentTarget","focusNext","isAriaDisabled","closest","preventDefault","stopImmediatePropagation","_isFocusOnClickEnabled","$stack","toArray","parents","$focusable","_tabbableElements","focus","preventScroll","_onKeyDown","$html","showOnKeys","document","_start","_isFocusOutlineDisabled","_isFocusOutlineKeyboardOnlyEnabled","keyCode","_focusOutlineKeyboardOnlyIgnore","removeClass","_warn","_canWarn","removed","_onTouchStart","_onTouchEnd","_onScrollEvent","_scrollDisabledElements","$window","_preventScrollOnKeys","_ignoreKeysOnElementsMatching","_isRunning","_touchStartEventObject","$elements","add","_checkRunning","clear","not","_stop","passive","fix","_preventScroll","$target","isGesture","touches","scrollingParent","_getScrollingParent","scroll","isTouchEvent","hasTouchStartEvent","originalEvent","directionY","_getScrollDirection","$parent","_isScrollable","_isScrolling","scrollType","css","pointerEvents","scrollTop","Math","ceil","innerHeight","outerHeight","scrollHeight","hasScrollingSpace","deltaY","_getScrollDelta","startOriginalEvent","currentY","pageY","previousY","hasDeltaY","wheelDeltaY","wheelDelta","removeEventListener","bindAll","_focusguard","_onWrapAround","_isPopupWrapFocusEnabled","stopPropagation","focusFirst","_floorStack","_focusStack","_tabIndexes","_ariaHiddens","_elementUIDIndex","ignoreInternalTrigger","opened","closed","$popupElement","silent","activeElement","_addPopupLayer","_isPopupManagementEnabled","_tabbableElementsExcludes","$branch","$siblings","siblings","each","index","item","$item","elementUID","a11y_uid","tabindex","ariaHidden","_isPopupTabIndexManagementEnabled","_isPopupAriaHiddenManagementEnabled","$items","_ariaHiddenExcludes","$focusElement","$previousFocusElement","_removeLastPopupLayer","previousTabIndex","previousAriaHidden","$original","_menu","_menuGroup","_menuItem","_page","_article","_block","_componentItem","_notify","fn","isFixedPostion","a11y_aria_label","limitedScrollTo","a11y_text","a11y_selected","a11y_on","isOn","$tabbable","findTabbable","toggleAccessible","a11y_only","scrollDisable","_isScrollDisableEnabled","scrollEnable","a11y_popup","popupOpened","a11y_cntrl","withDisabled","toggleEnabled","a11y_cntrl_enabled","toggleAccessibleEnabled","isReadable","findForward","selector","_findFirstForward","findWalk","_findFindForwardDescendant","focusNoScroll","returnOnly","findFirstReadable","focusOrNext","a11y_focus","dontDefer","a11y_alert","a11y_update","text","toggleHidden","a11y_popdown","$focusTarget","popupClosed","a11y_normalize","html","normalize","a11y_remove_breaks","removeBreaks","A11y","_isFocusAssignmentEnabled","_isAriaHiddenManagementEnabled","_focusableElements","_readableElements","_focusForwardElementsExcludes","_wrapStyleElements","isFocusable","isTabbable","_htmlCharRegex","_browserFocus","BrowserFocus","_keyboardFocusOutline","KeyboardFocusOutline","_wrapFocus","WrapFocus","_popup","Popup","_scroll","Scroll","Log","_removeLegacyElements","_onConfigDataLoaded","_setupNoSelect","_onNavigationStart","_onNavigationEnd","_isActive","offlineStorage","_addFocuserDiv","_disableTextSelectOnClasses","classes","isMatch","className","append","$legacyElements","$navigationElements","remove","defaultLevelOrType","overrideLevelOrType","cfg","isNaN","isString","ariaLevels","_ariaLevels","defaultAriaLevels","isHidden","isAccessibleEnabled","first","element","checkParents","isNotVisible","hasNativeFocusOrIsScreenReadable","childNodes","cl","childNode","isTextNode","nodeType","isOnlyWhiteSpace","nodeValue","iterator","$tag","$found","_findFirstForwardDescendant","nextAll","sibling","$sibling","reverse","parent","$notFound","stack","stackIndexPosition","childIndexPosition","stackEntry","$stackItem","splice","FocusOptions","findFirstFocusable","perform","y","e","device","browser","scrollTo","htmls","$div","stackIndex","outputs","nodes","usable","node","isStyleElement","apply","rtnText","outerHTML","textContent","enable","disable","setCloseTo","defineProperty","models","loadedData","Collection","jsonext","attrs","url","fetch","success","isLoaded","version","semver","satisfies","includePrerelease","plugin","screenSize","large","medium","small","_forceRouteLocking","_canLoadData","_disableAnimation","paramMappings","dir","lang","params","URLSearchParams","passedVal","build","includes","setValuesFromURLParams","canBubble","deepPath","timeStamp","json","_children","_parent","extend","_canShowFeedback","_classes","_canReset","_canRequestChild","_isComplete","_isInteractionComplete","_isA11yRegionEnabled","_isA11yCompletionDescriptionEnabled","_requireCompletionOf","_isResetOnRevisit","_isAvailable","_isOptional","_isVisible","_isLocked","_isHidden","firstDescendant","getAllDescendantModels","nearestTrackingIdModel","trackingId","trackingIdDescendants","indexInTrackingIdDescendants","findIndex","descendant","trackingIdAncestors","ancestorDistance","ancestor","hasManagedChildren","setupChildListeners","init","checkCompletionStatus","checkInteractionCompletionStatus","checkLocking","setupTrackables","originalTrackableStateFunction","triggerTrackableState","compose","isQueued","debounce","changed","trackablePropertyNames","changedPropertyNames","isTrackable","getChildren","all","onAll","bubble","checkReadyStatus","onIsComplete","trackable","resultExtend","pick","state","getTrackableState","canReset","getAvailableChildModels","checkingCompletion","checkCompletionStatusFor","completionAttribute","completed","requireCompletionOf","every","checkedCompletion","typeGroup","hasUpperCase","isPluralized","lowerCased","toLowerCase","singular","singularLowerCased","pluralizedLowerCaseTypes","typeGroups","getTypeGroups","intersection","_typeGroups","parentClass","getPrototypeOf","call","getTypeGroup","uniq","s","ancestorType","getParent","isTypeGroup","findAncestor","descendants","allDescendantsModels","returnedDescendants","where","property","isParentFirst","subDescendants","rootModel","limitParentId","course","relativeDescriptor","parseRelativeString","searchBackwards","moveBy","abs","movementCount","hasDescendantsOfType","findDescendantModels","pageDescendants","modelIndex","pageDescendant","isFilterFunction","loop","totalOfType","count","isSelf","_childrenCollection","childrenCollection","comparator","sort","setChildren","_parentModel","parentId","setParent","shouldIncludeChild","context","passSiblingsAndIncludeSelf","_hasSiblingsAndSelf","siblingsCollection","lockType","setSequentialLocking","setUnlockFirstLocking","setLockLastLocking","setCustomLocking","previousChild","isLockedByPreviousChild","firstChild","shift","isLockedByFirstChild","lastChild","isLockedByChildren","shouldLock","lockedBy","anotherModel","isResetOnRevisit","reset","modifier","ModelClass","constructor","clonedModel","clonedId","hasId","shouldAssignUniqueId","cid","uniqueId","cidPrefix","deepClone","clone","setupModel","ModelEvent","addPath","isParentCourse","AdaptModel","MenuModel","ContentObjectModel","CourseModel","StartController","replaceState","getStartHash","startIds","startId","_skipIfComplete","alwaysForce","getStartId","isRouteSpecified","href","indexOf","shouldForceStartId","shouldNavigateToStartId","_className","skipIfComplete","_id","hasClass","startController","loadCourseData","setStartLocation","returnToStartLocation","Data","getModelClass","parse","onAdded","onRemoved","_byAdaptID","BuildModel","whenReady","loadConfigData","ConfigModel","onLoadCourseData","onLanguageChange","onDirectionChange","direction","language","newLanguage","courseFolder","loadManifestFiles","triggerDataLoaded","triggerDataReady","triggerInit","path","reject","getJSON","__path__","fail","languagePath","manifestPath","manifest","filePath","allFileData","allModelData","fileData","modelData","performStartController","router","navigate","isReady","trackingIdModel","AdaptCollection","OfflineStorage","handler","_handler","save","serialize","JSON","stringify","deserialize","COMPLETION_STATE","Tracking","_requireContentCompleted","_requireAssessmentCompleted","_assessmentState","setupEventListeners","onAssessmentComplete","onAssessmentRestored","checkCompletion","assessmentState","submitScore","_shouldSubmitScore","isPercentageBased","scoreAsPercent","score","minScore","maxScore","completionData","getCompletionData","status","INCOMPLETE","assessment","isPass","PASSED","FAILED","COMPLETED","tracking","Device","touch","Modernizr","touchevents","screenWidth","getScreenWidth","screenHeight","getScreenHeight","Bowser","OS","getOperatingSystem","osVersion","osversion","renderingEngine","getRenderingEngine","onWindowResize","onConfigDataLoaded","browserString","getAppleDeviceType","pixelDensity","checkScreenSize","orientation","screenSizeConfig","screensizeEmThreshold","baseFontSize","mediumEmBreakpoint","smallEmBreakpoint","fontSize","parseFloat","screenSizeEmWidth","isAppleDevice","getAppleScreenWidth","innerWidth","width","getAppleScreenHeight","height","flags","os","platform","navigator","previousWidth","previousHeight","newScreenSize","userAgent","MSStream","screen","devicePixelRatio","DrawerItemView","role","render","el","appendTo","eventCallback","DrawerView","drawerDir","drawerDuration","_duration","toggleDrawer","openCustomView","onCloseDrawer","onRemove","onKeyUp","setupEscapeKey","which","drawer","_globals","prependTo","shadowTemplate","shadow","postRender","checkIfDrawerIsAvailable","hasBackButton","_hasBackButton","_isCustomViewVisible","showDrawer","isEmptyDrawer","collection","hideDrawer","$toElement","emptyDrawer","$el","renderItems","hideDrawerBackButton","complete","addShadowEvent","velocity","opacity","duration","easing","_showEasing","empty","_hideEasing","removeShadowEvent","one","childContainer","childView","DrawerCollection","Drawer","addItem","drawerObject","triggerCustomView","updateIndexPosition","updatePushPosition","preRender","hasBeenRemoved","delay","closePush","elementHeight","navigationHeight","currentIndex","flippedIndex","positionLowerPush","_showIcon","_timeout","NotifyModel","onPushAdded","onRemovePush","checkPushCanShow","canShowPush","showPush","availablePushNotifications","NotifyPushView","inactivePushNotifications","isForced","isStoppedImmediate","isStoppedNext","hasRequestChild","immediate","stopNext","component","original","React","createElement","compile","output","flatten","prefixClasses","prefixes","prefixed","prefix","AdaptView","toggleVisibility","onIsCompleteChange","isJSX","_classSet","Set","_isRemoved","setupOnScreenHandler","addChildren","eventName","startsWith","Template","updateViewProperties","ReactDOM","classesToAdd","classesToRemove","_setAttributes","onscreen","m","minVerticalInview","_percentInviewVertical","percentInviewVertical","nthChild","addDescendants","addedCount","_getAddChildEvent","subsequentModels","_nthChild","ChildView","getViewClass","addChildView","setChildViews","$parentContainer","addedDescendantCount","onReadyChange","stopListening","isRequestChild","ChildEvent","canRequestChild","close","findDescendantViews","descendantComponents","preRemove","unmountComponentAtNode","isComplete","_childViews","indexBy","isOpen","hasOpened","closeNotify","resetNotifySize","cancelNotify","notify","showNotify","resizeNotify","windowHeight","notifyHeight","isFullWindow","addSubView","$previousActiveElement","imageready","onLoaded","onOpened","inview","subView","prepend","check","stackItem","onCloseReady","removeSubView","views","Notify","_stack","notifyPushes","NotifyPushCollection","_deprecated","notifyObject","create","_isCancellable","_showCloseButton","_closeOnShadowClick","NotifyView","_canNavigate","_shouldNavigateFocus","Router","_isBackward","_navigationRoot","_isCircularNavigationInProgress","showLoading","$wrapper","setDocumentTitle","navigateToArguments","show","hide","currentModel","_currentModel","hasSubTitle","title","escapedTitle","v","handleRoute","handleId","handlePluginRouter","action","pluginLocation","updateLocation","isContentObject","navigateToId","isRoot","_isMenuDisabled","_previousId","navigateBack","isCourse","handleNavigationFocus","ViewClass","isMenu","invoke","isScrolling","navigateToElement","currentLocation","_previousModel","_previousContentType","_contentType","_currentLocation","_lastVisitedType","_lastVisitedMenu","_lastVisitedPage","setGlobalClasses","htmlClasses","currentClasses","_previousClasses","back","force","route","previousModel","navigateToParent","parentModel","settings","currentModelId","shouldReplace","contentObject","contentObjectId","isNotInCurrentContentObject","renderTo","disableScrollToAnimation","offsetTop","top","left","axis","RouterModel","loadSubset","groupBy","ArticleModel","BlockModel","ComponentModel","_isA11yComponentDescriptionEnabled","_userAnswer","_attemptStates","onAdaptInitialize","restoreUserAnswers","wasReset","resetUserAnswer","trackables","types","trackableType","n","booleans","numbers","Number","arrays","getAttemptState","getAttemptObject","attemptStates","states","PageModel","setVisibility","lock","isReact","_isTriggeredReady","performIsReady","unlock","styleOptions","isRenderToSelf","isLocked","ids","forceUntilId","addingId","PageView","$pageLabel","ContentObjectView","ArticleView","setHidden","BlockView","MPABC","waitForDataLoaded","loaded","onDataLoaded","setupSubsetCollections","contentObjects","AdaptSubsetCollection","articles","blocks","components","mpabc","helpers","lowercase","capitalise","charAt","inc","dec","odd","equals","block","compare","operator","inverse","math","lvalue","rvalue","any","specified","none","toString","root","compile_a11y_text","compile_a11y_normalize","compile_a11y_remove_breaks","import_globals","import_adapt","adapt","directImport","indexedImport","importArray","importIndex","i1","l1","component_description","isNotDefined","_components","hasOverride","description","ariaRegion","SafeString","a11y_aria_label_relative","a11y_aria_image","texts","a11y_wrap_focus","a11y_attrs_heading","levelOrType","ariaLevel","_ariaLevel","a11y_attrs_tabbable","a11y_alt_text","visible","alternatives","if_value_equals","lowerCase","registerHelper","Scrolling","isLegacyScrolling","_loadConfig","limitTo","_limitToSelector","isIncluded","_windowScrollFix","_addStyling","_updateScrollbarWidth","$tester","scrollBarWidth","outerWidth","documentStyle","documentElement","style","setProperty","body","scrolling","scrollY","scrollX","scrollLeft","scrollWidth","defineProperties","pageYOffset","pageXOffset","isObject","MouseEvent","pageX","clientX","clientY","HeadingView","updateAria","customHeadingType","$rendered","Headings","onViewRender","$headingSeats","NavigationView","hideNavigationButton","_accessibility","insertBefore","currentEvent","navigateToPreviousRoute","navigateToHomeRoute","skipNavigation","shouldHide","NavigationController","addNavigationBar","adaptConfig","_isDefaultNavigationDisabled","navigation","ComponentView","inviewElementSelector","setCompletionStatus","$inviewElement","inviewCallback","onInview","visiblePartX","visiblePartY","hasSeenTop","hasSeenBottom","removeInviewListener","BUTTON_STATE","textPropertyName","SUBMIT","CORRECT","INCORRECT","SHOW_CORRECT_ANSWER","HIDE_CORRECT_ANSWER","SHOW_FEEDBACK","RESET","onButtonStateChanged","onFeedbackMessageChanged","onAttemptsChanged","onCanSubmitChange","buttons","refresh","isSubmitted","buttonState","checkResetSubmittedState","correctAnswer","getCorrectAnswerAsText","updateAnswerLiveRegion","userAnswer","getUserAnswerAsText","changedAttribute","updateAttemptsCount","$buttonsAction","propertyName","asString","ariaLabel","buttonText","canShowFeedback","isInteractionComplete","attemptsLeft","shouldDisplayAttempts","attemptsString","remainingAttemptText","remainingAttemptsText","showMarking","answer","shouldShowMarking","isCorrect","ariaLabels","_ariaLabels","answeredCorrectly","answeredIncorrectly","checkFeedbackState","QuestionModel","_shouldDisplayAttempts","_shouldShowMarking","_canShowModelAnswer","_canShowMarking","_canSubmit","_isSubmitted","_isCorrectAnswerShown","_questionWeight","_hasItemScoring","_items","setupDefaultSettings","setLocking","updateRawScore","setupWeightSettings","setupButtonSettings","globalButtons","componentButtons","canSubmit","_rawScore","_maxScore","_minScore","canShowModelAnswer","setupCorrectFeedback","isPartlyCorrect","setupPartlyCorrectFeedback","setupIncorrectFeedback","feedbackTitle","getFeedbackTitle","feedbackMessage","correct","feedback","_partlyCorrect","setAttemptSpecificFeedback","_incorrect","notFinal","attempts","_attemptsLeft","_isCorrect","_buttonState","resetQuestion","addAttemptObject","isInteractive","QuestionView","onEnabledChanged","checkIfResetOnRevisit","ensureLegacyLifecycleState","_runModelCompatibleFunction","setupQuestion","disableQuestion","enableQuestion","resetQuestionOnRevisit","onHideCorrectAnswerClicked","onResetClicked","addButtonsView","onQuestionRendered","buttonsView","ButtonsView","onButtonStateUpdate","onSubmitClicked","onShowCorrectAnswerClicked","showFeedback","showInstructionError","onCannotSubmit","removeInstructionError","recordInteraction","resize","onSubmitted","setQuestionAsSubmitted","checkQuestionCompletion","setQuestionAsReset","checkCanSubmit","getButtonState","setQuestionAsShowCorrect","showCorrectAnswer","setQuestionAsHideCorrect","hideCorrectAnswer","lookForViewOnlyFunction","ViewOnlyQuestionViewCompatibilityLayer","getInteractionObject","getResponse","getResponseType","updateAttempts","storeUserAnswer","_isInViewOnlyCompatibleMode","markQuestion","setScore","updateButtons","setupFeedback","checkForFunction","hasCompatibleVersion","usingCompatibleVersion","ChooseView","onKeyPress","onItemOptionSelect","setupRandomisation","setReadyStatus","setupItems","_spaceSize","_spaces","_choose","updateItem","_selected","getChoose","_hasGraphic","_graphic","selected","getItemElement","_text","_index","$input","itemIndex","optionIndex","val","setOptionSelected","replaceWith","option","_isSelected","setupQuestionItemIndexes","choice","shuffle","isSelected","numberOfCorrectAnswers","a","questionWeight","itemLength","interactions","correctResponsesPattern","source","items","questionIndex","flat","Infinity","responses","correctAnswerTemplate","ariaCorrectAnswer","ariaAnswer","correctOption","itemText","userAnswerTemplate","ariaUserAnswer","answerArray","ChooseModel","_isVisited","_score","isActive","isVisited","setUpItems","booleanArray","ItemModel","findWhere","getVisitedItems","areAllItemsCompleted","toggleActive","getItem","activeItem","getActiveItem","AccordionModel","ItemsComponentModel","_shouldCollapseItems","_shouldExpandFirstItem","_toggleSpeed","previousActiveItem","toggleVisited","setActiveItem","AccordionView","resetActiveItems","checkExpandFirstItem","onItemsActiveChange","onItemsVisitedChange","setupInviewCompletion","toggleItemsState","toggleItem","shouldExpand","stop","slideUp","slideDown","AssessmentResultsModel","onAssessmentReset","checkIfAssessmentComplete","assessmentModel","getState","allowResetIfPassed","_state","attemptsSpent","setFeedbackBand","checkRetryEnabled","setFeedbackText","scoreProp","bands","sortBy","isScoreInBandRange","canResetInPage","feedbackBand","isRetryEnabled","_allowRetry","isAttemptsLeft","showRetry","_isRetryEnabled","retryFeedback","isVisibleBeforeCompletion","wasVisible","isAttemptInProgress","attemptInProgress","hasHadAttempt","isVisible","resetType","_feedbackBand","AssessmentResultsView","events","unsetLocking","addClassesToArticle","onRetryClicked","_routeToAssessment","articleId","BlankView","McqView","isCorrectAnswerShown","initialize","update","onItemSelect","onItemFocus","onItemBlur","itemModel","shouldSelect","isSingleSelect","isAtActiveLimit","getLastActiveItem","resetItems","updateSelection","updateMarking","prop","canShowMarking","$itemInput","shouldBeSelected","incorrect","selectedAnswer","unselectedAnswer","BlendedItemsComponentQuestionModel","getOwnPropertyNames","itemModels","activeItems","getActiveItems","b","allChildren","activeChildren","isItemCorrect","isItemPartlyCorrect","isItemIncorrect","list","predicate","_numberOfRequiredAnswers","_numberOfCorrectAnswers","_numberOfPartlyCorrectAnswers","_numberOfIncorrectAnswers","_isAtLeastOneCorrectSelection","numberOfSelectableAnswers","hasSelectableCorrectAnswers","hasAllCorrectAnswers","hasCorrectAnswers","hasIncorrectAnswers","hasPartlyCorrectAnswers","scores","setupIndividualFeedback","selectedItem","selectedItems","choices","correctItems","activeIndexes","globals","ariaCorrectAnswers","correctOptions","_shouldBeSelected","ariaUserAnswers","ItemsQuestionModel","Gmcq","Mcq","resizeImage","onDeviceResize","setUpColumns","imageWidth","$img","newSrc","columns","isLarge","alt","GraphicView","_url","_target","isNewWindow","open","isRouterNavigation","substr","GraphicModel","HotgraphicPopupView","onControlClick","applyNavigationClasses","updatePageCount","handleTabs","itemCount","canCycleThroughPagination","shouldEnableBack","shouldEnableNext","$controls","_hotgraphic","popupPagination","labelText","itemNumber","totalItems","applyItemClasses","handleFocus","getNextIndex","setItemState","lastIndex","nextItem","HotGraphicView","setUpViewData","setUpModelData","setUpEventListeners","popupView","_isPopupOpen","reRender","replaceWithNarrative","NarrativeView","prepareNarrativeModel","newNarrative","$container","findViewByModelId","_wasHotgraphic","originalBody","originalInstruction","$pin","visitedLabel","visited","innerHTML","openPopup","popup","_attributes","onPopupClosed","HotgraphicView","click","$inner","select","$button","deselectAll","setActiveDescendantId","isPlaceholder","getValue","removeActiveDescendantId","getIndex","scrollToItem","placeholder","DropDown","setUpElements","addEventListeners","toggleOpen","load","$list","$options","DropDownOption","onStartInteraction","onButtonClick","onListBlur","onKeyDown","wasOpen","deselect","getFirstSelectedItem","reselect","blurTimeout","handleBlur","getPrevious","getLast","getNext","getFirst","removeEventListeners","openList","offsetLeft","getBoundingClientRect","isOffscreen","closeList","clientHeight","pos","dropdowns","dropdown","toggleDisabled","onPostRemove","onOptionSelected","setUpDropdowns","selectedOption","isEmpty","eq","resetAll","selectValue","tempUserAnswer","_tempUserAnswer","_matching","MatchingView","MatchingModel","mepPrototype","mejs","MediaElementPlayer","detectFullscreenMode","vendorPrefix","getVendorPrefix","fsEventName","fullScreenEventHandler","elementName","MepDefaults","keyActions","defaultSeekForwardInterval","defaultSeekBackwardInterval","purge","d","i18n","locale","strings","ariaLabelMappings","playText","pauseText","stopText","audioPlayerText","videoPlayerText","tracksText","timeSliderText","muteText","unmuteStatusText","muteStatusText","volumeSliderText","fullscreenText","goFullscreenText","turnOffFullscreenText","noneText","skipBackText","allyVolumeControlText","progessHelpText","dynamicLabels","fixedDefaults","_media","k","MediaView","playerOptions","toggleCaptionsButtonWhenOnlyOne","onScreenSizeChanged","onDeviceChanged","onMediaStop","_isMediaEnded","_isMediaPlaying","media","protocol","setupPlayer","addMejsButtonClass","modelOptions","pluginPath","flashName","flashScriptAccess","features","onPlayerReady","startLanguage","checkForSupportedCCLanguage","alwaysShowControls","hideVideoControlsOnLoad","addMediaTypeClass","addThirdPartyFixes","mediaelementplayer","cleanUpPlayer","mp3","mp4","ogv","webm","typeClass","ogg","froogaloopAdded","getScript","done","completionEvent","mediaElement","seeking","onMediaElementSeeking","timeupdate","onMediaElementTimeUpdate","play","onMediaElementPlay","pause","onMediaElementPause","ended","onMediaElementEnded","listenForCaptionsChange","srclang","player","selectedTrack","onCaptionsChanged","setTrack","$inputs","cc","queueGlobalEvent","onWidgetInview","isInView","paused","maxViewed","currentTime","clickToPlayPause","onOverlayClick","onMediaElementClick","isPaused","isRemoved","playerId","players","src","pluginElement","domObject","hasTouch","MediaFeatures","setupPlayPauseToggle","addThirdPartyAfterFixes","cleanUpPlayerAfter","setVolume","$transcriptBodyContainer","$buttonText","inlineTranscriptButton","inlineTranscriptCloseButton","_setCompletionOnView","eventType","time","Date","now","lastEvent","timeSinceLastEvent","debounceTime","eventTimeout","triggerGlobalEvent","eventObj","pluginType","isVideo","_isInitial","renderMode","calculateWidths","isTextBelowImage","setStage","setFocus","$straplineHeaderElm","hasStraplineTransition","isLargeMode","focusOnNarrativeElement","dataIndexAttr","$elementToFocus","MODE","LARGE","SMALL","calculateMode","setupNarrative","replaceInstructions","_totalWidth","_itemWidth","previousMode","evaluateNavigation","replaceWithHotgraphic","resizeControl","evaluateCompletion","prepareHotgraphicModel","newHotgraphic","instruction","cssValue","$sliderElm","indexSelector","$slideGraphics","$narrativeItems","$narrativeStraplineButtons","shouldShowInstructionError","moveSliderToIndex","active","isAtStart","isAtEnd","$left","$right","ariaLabelsGlobals","narrativeGlobals","_narrative","ariaLabelPrevious","previous","ariaLabelNext","next","prevTitle","nextTitle","currentItem","$btn","prevItemIndex","NarrativeModel","selectItem","getIndexFromValue","$sliderScaleMarker","$slider","step","rangeslider","polyfill","onSlide","handleSlide","oldValue","_deferEnable","setAllItemsEnabled","position","pixels","mapIndexToPixels","animateToPosition","setupRangeslider","setScalePositions","showScaleMarker","newPosition","mobileHA","itemValue","scaleStart","scaleEnd","round","mapValue","$widthObject","numberOfItems","low","high","range","inputLow","inputHigh","outputLow","outputHigh","normal","normalise","newItemIndex","max","min","setSliderValue","getValueFromIndex","animate","change","resetControlStyles","normalisedPosition","$markers","$scaler","showScaleNumbers","$numbers","scaleWidth","$number","newLeft","showScale","showLabels","remapSliderBar","answers","getCorrectAnswers","middleAnswer","floor","showModelAnswers","correctAnswerArray","$parentDiv","startingLeft","fadeIn","userAnswerIndex","deselectAllItems","showNumber","$scaleMarker","setupModelItems","selectDefaultItem","num","dp","getDecimalPlaces","toFixed","_bottom","_top","_marginDir","answerSingle","answerMultiple","bottom","_slider","ariaCorrectAnswerRange","answerTemplate","SliderView","SliderModel","TextView","setupInview","getInviewElementSelector","TextModel","showValidationError","correctAnswers","_answers","setItemUserAnswer","TextInputModel","genericAnswerIndexOffset","_answerIndex","genericAnswers","answerIndex","markGenericAnswers","markSpecificAnswers","usedAnswerIndexes","answerGroup","checkAnswerIsCorrect","cleanupUserAnswer","possibleAnswers","uAnswer","answerIsCorrect","cAnswer","TextInputView","DraggieView","draggie","setUpDraggie","Draggabilly","container","onDragStart","onDragMove","onDragEnd","pointer","isOverlap","_isOverlap","setPositionTarget","resetPosition","targetPosition","setPosition","targetLocation","targetX","targetY","x","DropItemsView","draggies","onResize","onDropIt","setSizeDrop","_selectable","DropItemsModel","LottieInteractivityView","lottieModel","lottieplayerEl","controls","setAttribute","autoplay","speed","renderer","background","preserveAspectRatio","lottieplayer","failed","interactivity","LottieInteractivity","LottieInteractivityModel","f","self","postMessage","o","h","t","dynamicTyping","M","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","r","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","userError","input","workerId","download","p","readable","read","g","File","stream","unparse","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","newline","quoteChar","header","escapeChar","escapeFormulae","RegExp","j","u","fields","meta","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","NODE_STREAM_INPUT","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","E","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","FileReader","files","file","inputElem","instanceConfig","before","reason","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_nextChunk","isFirstChunk","_completeResults","errors","w","chunkSize","streamer","parseChunk","beforeFirstChunk","aborted","cursor","substring","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","message","readyState","responsefile","getResponseHeader","lastIndexOf","statusfile","webkitSlice","mozSlice","FileReaderSync","size","readAsfile","encoding","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","removeListener","pow","abort","transformHeader","code","row","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","S","O","I","T","D","A","fastMode","L","F","z","C","R","linebreak","truncated","terminate","require","exports","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","str","nil","_Code","Name","IDENTIFIER","_CodeOrName","_str","_names","emptyStr","or","and","CodeGen","operators","varKinds","ValueScopeName","ValueScope","Scope","enumerable","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","varKind","rhs","es5","_n","lhs","sideEffects","op","label","optimizeNodes","optimizeNames","kind","condition","iteration","from","to","iterable","P","async","N","_values","_blockStarts","_constants","opts","lines","_extScope","_scope","_nodes","_root","scopeRefs","scopeCode","toName","_leafNode","_def","_blockNode","endIf","_elseNode","_endBlockNode","endFor","_for","forRange","ownProperties","forOf","_currNode","endBlock","endFunc","UsedValueState","Started","Completed","_prefixes","_newName","_nameGroup","scopePath","scope","ref","Map","setValue","_reduceValues","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","vErrors","gen","validateName","schemaEnv","$async","ValidationError","keyword","schemaType","it","compositeRule","allErrors","schemaValue","errsCount","instancePath","errorPath","errSchemaPath","verbose","schemaPath","schema","parentSchema","createErrors","topSchemaRef","messages","getErrorPath","Type","Str","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","refs","dynamicAnchors","schemaId","baseId","normalizeId","localRefs","getFullPath","uriResolver","scopeValue","scopeName","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","rootId","jtd","_compilations","validateFunctionCode","optimize","process","validateCode","scopeValues","unevaluated","evaluated","dynamicProps","dynamicItems","validate","logger","inlineRef","inlineRefs","schemas","_getFullPath","resolveUrl","fragment","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","jsonPos","jsonLen","jsonPart","missingRef","missingSchema","getSchemaRefs","eachItem","allKeys","$anchor","$dynamicAnchor","getRules","isJSONType","number","rules","string","array","integer","post","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","mergeNames","mergeToName","mergeValues","resultToName","decodeURIComponent","encodeURIComponent","Num","definition","shouldUseRule","shouldUseGroup","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","schemaCode","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","Correct","Wrong","nullable","coerceTypes","strictNumbers","elseIf","assignDefaults","useDefaults","properties","getData","KeywordCxt","func","dynamicRef","$comment","ignoreKeywordsWithRef","strictTypes","allowUnionTypes","validateKeywordUsage","$data","def","validSchemaType","allowUndefined","trackErrors","failResult","invalid$data","setParams","_error","$dataError","check$data","validateSchema","getSubschema","extendSubschemaData","extendSubschemaMode","funcKeywordCode","macroKeywordCode","exec","macro","subschema","pass","callValidateCode","passContext","modifying","valid","block$data","ok","dependencies","errorsText","schemaProp","dataProp","dataPropType","jsPropertySyntax","jtdDiscriminator","jtdMetadata","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","sourceCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","unicode","strict","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","_metaOpts","_addVocabularies","_addDefaultMetaSchema","addMetaSchema","addKeyword","$id","defaultMeta","getSchema","_addSchema","_compileSchemaEnv","loadSchema","$schema","addSchema","_checkUnique","_removeAllSchemas","separator","dataVar","_compileMetaSchema","addFormat","addVocabulary","MissingRefError","metaSchema","anyOf","required","additionalProperties","definitions","schemaArray","minItems","nonNegativeInteger","minimum","nonNegativeIntegerDefault0","allOf","simpleTypes","stringArray","readOnly","examples","multipleOf","exclusiveMinimum","maximum","exclusiveMaximum","maxLength","minLength","pattern","additionalItems","maxItems","contains","maxProperties","minProperties","patternProperties","propertyNames","contentMediaType","contentEncoding","then","oneOf","charCodeAt","ajv","validation","validateAdditionalItems","len","additionalProperty","removeAdditional","allSchemaProperties","forIn","isOwnProperty","usePattern","validateUnion","minContains","maxContains","validateSchemaDeps","validatePropertyDeps","depsCount","deps","missingProperty","propertyInData","checkReportMissingProp","checkMissingProp","reportMissingProp","mergeValidEvaluated","ifClause","validateTuple","validateArray","prefixItems","passing","discriminator","allowMatchingProperties","schemaProperties","noPropertyInData","hasPropFunc","callRef","getValidate","discrError","DiscrError","Tag","tag","mapping","Mapping","metadataVocabulary","contentVocabulary","fail$data","okStr","multipleOfPrecision","valueOf","pre","arrayKeywords","propsKeywords","skipKeywords","$defs","URI","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","Symbol","TypeError","overflow","RangeError","fromCodePoint","V","q","scheme","userinfo","host","query","iri","reference","port","unicodeSupport","domainHost","U","absolutePath","K","tolerant","H","G","J","secure","B","resourceName","W","Q","Z","Y","X","ee","te","re","oe","se","ae","ne","ie","subject","headers","setInterval","ce","le","nid","nss","de","ue","uuid","SCHEMES","pctEncChar","pctDecChars","removeDotSegments","resolveComponents","equal","escapeComponent","unescapeComponent","$dataMetaSchema","readFile","reader","res","err","readAsText","onSubmit","contents","Papa","fileObj","getFile","tableData","record","recordVals","numCols","alert","col","tableHeader","DataTable","csvLineBreaks","encodingErrors","lineBreaks","csv","csvLineBreaks_unique","whiteSpace","csv_lines","csvRows","csvRows_whitespace","checkUTF8","utf8Text","escape","encodingInside","singleCommaSeparated","csvRows_columns","csvRows_columns_unique","headerColumns","undeclaredHeader","csv_headers","columnValidation","emptyColumnName","csv_headers_blank","duplicateColumnName","csv_headers_unique","rowValidation","raggedRows","blankRows","csvRows_blank","itemsValidation","inconsistentValues","csvRows_columns_unique_max","csvRows_columns_unique_max_index","csvRows_columns_unique_max_columns","csvRows_columns_unique_max_columns_values","csvRows_columns_unique_max_columns_values_numeric","nonEmptyArrays","feedbackString","arr","convertIntObj","parsed","arrayResult","Ajv","_schema","errorList","errText","colName","colType","problem","errMsg","missingCol","allowed","errTextFixes","userResult","validateAjv","checkCsvStructure","combinedArr","table","createTable","fileInputView","StackList","TRANSITION_TIME","setupButton","setupListItems","setupItemOffsets","_button","btnAriaLabel","_stacklist","ariaButtonLabel","buttonAriaLabel","startText","continueText","wWin","offsetRight","stage","buttonOffset","isLeft","onCompletion","updateButton","blur","$buttonDiv","StackListView","AssessmentView","AdaptArticleView","isAssessmentEnabled","_setupEventListeners","getConfig","_questions","_onAssessmentComplete","_onAssessmentReset","_onRemove","_removeEventListeners","info","QuestionBank","quizBankid","numQuestionBlocks","uniqueQuestions","_articleId","_numQuestionBlocks","_uniqueQuestions","questionBlocks","unUsedQuestionBlocks","usedQuestionBlocks","checkResetUnunsedBlocks","question","getRandomQuestion","random","questionBlock","givenIdCount","assessmentConfigDefaults","_resetType","_suppressMarking","_isPercentageBased","_scoreToPass","_correctToPass","_includeInTotalScore","_assessmentWeight","_reloadPageOnReset","_attempts","_allowResetIfPassed","AssessmentModel","_getCurrentQuestionComponents","questions","_getAllQuestionComponents","_postInitialize","assessmentConfig","_originalChildModels","_questionBanks","_forceResetOnRevisit","_assessmentCompleteInSession","_attemptInProgress","_isAssessmentComplete","_numberOfQuestionsAnswered","_lastAttemptScoreAsPercent","_attemptsSpent","_onDataReady","setupCurrentQuestionComponents","_setAssessmentOwnershipOnChildrenModels","_updateQuestionsState","assessmentQuestionsConfig","childConfig","_isPartOfAssessment","_assessmentId","blockModel","_setupAssessmentData","hasAttemptsLeft","shouldResetOnRevisit","shouldResetAssessment","shouldResetQuestions","quizModels","_banks","_split","_setupBankedAssessment","_randomisation","_setupRandomisedAssessment","_resetQuestions","_overrideQuestionComponentSettings","_setupQuestionListeners","_checkNumberOfQuestionsAnswered","saveState","_setupBanks","questionModels","questionBank","getRandomQuestionBlocks","banks","bankId","bank","blockAssessmentConfig","_quizBankID","addBlock","randomisationModel","blockModels","_blockCount","newSettings","_getMarkingSettings","questionConfig","questionComponents","_removeQuestionListeners","_onBlockCompleted","numberOfQuestionsAnswered","questionModel","_onQuestionCompleted","_checkAssessmentComplete","allQuestionsAdded","POSITIVE_INFINITY","allQuestionsAnswered","wasAttemptInProgess","_spendAttempt","_scoreAsPercent","_getScoreAsPercent","_getScore","_getMaxScore","_getMinScore","_correctCount","_getCorrectCount","_correctAsPercent","_getCorrectAsPercent","_questionCount","_getQuestionCount","_checkIsPass","_isMarkingSuppressionEnabled","_isAttemptsLeft","_overrideMarkingSettings","_refreshQuestions","scoreToPass","correctToPass","correctAsPercent","correctCount","markingSettings","_shouldSuppressMarking","newMarkingSettings","questionCount","_getLastAttemptScoreAsPercent","_checkReloadPage","_reloadPage","_scrollToOnReset","_setCompletionStatus","_checkIfQuestionsWereRestored","wereQuestionsRestored","isPageReload","getSaveState","banksActive","randomisationActive","blockTrackingPositions","blockCompletion","blockData","dataPackage","setRestoreState","restoreState","_trackingId","nonBlockChildren","blockIndex","blockQuestions","pageId","includeInTotalScore","assessmentWeight","lastAttemptScoreAsPercent","assessmentsConfigDefaults","_isDefaultsLoaded","Assessment","_assessments","_byPageId","_byAssessmentId","_onAssessmentsComplete","_checkResetAssessmentsOnRevisit","_handleRoute","assessmentId","_getStateByAssessmentId","_setPageProgress","_checkAssessmentsComplete","_saveStateModel","toObject","pageAssessmentModels","_getAssessmentByPageId","resetAllAssessments","allAssessmentHaveReset","numberOfAssessments","numberOfResetAssessments","forceAssessmentReset","haveAllModelsReset","_restoredCount","allAssessmentsComplete","assessmentToPostBack","_getStatesByAssessmentId","assessmentStates","_setupSingleAssessmentConfiguration","assessmentsConfig","assessments","assessmentsTotal","assessmentsPassed","pageModel","_subProgressTotal","_subProgressComplete","getRelatedQuestions","currentAssessmentId","currentAssessment","getQuestionNumber","related","pluck","getTotalQuestions","_addToAssessmentIdMap","_restoreModelState","_setupQuestionNumbering","assessmentsComplete","scoreRange","canRetry","isFailed","ArticleViewInitialize","AdaptAssessmentArticleView","ArticleModelInitialize","AdaptAssessmentArticleModel","returnValue","Bookmarking","bookmarkLevel","restoredLocationID","currentLocationID","checkCourseIsEnabled","checkRestoreLocation","courseBookmarkModel","_onScroll","checkLocation","setupMenu","setupPage","restoreLocation","isAlreadyOnScreen","_showPrompt","navigateToPrevious","showPrompt","locationOnscreen","isLocationOnscreen","percentInview","isLocationFullyInview","_buttons","yes","no","navigateCancel","prompt","_prompts","promptText","_callbackEvent","isSinglePage","setLocationID","menuView","menuModel","resetLocationID","defaultLevel","bookmarkModel","isInherit","pageView","pageBookmarkModel","getBookmarkLevel","releaseViews","contentObjectBookmarkModel","possibleViewIds","desc","highestOnscreen","highestOnscreenLocation","measurements","setupHelpers","initializeNavigation","destroyNavigation","setLanguage","navigationView","promptObject","getPromptObject","onDrawerClosed","onPopupOpened","onDoChangeLanguage","onDontChangeLanguage","$finishFocus","setPopupCloseTo","setTrackedData","getLanguageDetails","_direction","warningTitle","warningMessage","classNames","customClass","LanguagePickerDrawerView","trackedData","locationId","displayTitle","_languages","markLanguageAsSelected","_language","_activeLanguage","_defaultDirection","isTrackedDataEmpty","setTrackableState","isEqual","stateObject","restoreModel","LanguagePicker","onConfigLoaded","languagePickerModel","LanguagePickerModel","setupNavigationView","paramLang","onOfflineStorageReady","storedLanguage","showLanguagePickerView","languagePickerView","LanguagePickerView","courseGlobals","_extensions","navigationBarLabel","_languagePicker","languagePickerNavView","LanguagePickerNavView","Completion","subProgressCompleted","subProgressTotal","nonAssessmentCompleted","nonAssessmentTotal","assessmentCompleted","assessmentTotal","contentObjectModel","completion","viewType","availableChildren","filterAvailableChildren","getPageLevelProgressEnabledModels","nonAssessmentComponents","getNonAssessmentComponents","getComponentsCompleted","assessmentComponents","getAssessmentComponents","getComponentsInteractionCompleted","_excludeAssessments","showPageCompletionCourse","_showPageCompletion","showPageCompletionPage","completionObject","calculateCompletion","unavailableInHierarchy","total","percentageComplete","PageLevelProgressIndicatorView","calculatePercentage","addClasses","setPercentageComplete","getRenderData","percentage","checkAria","PageLevelProgressItemView","addIndicator","currentComponentSelector","pageLevelProgress","$children","deferredUpdate","updateProgressBar","refreshProgressBar","pageLevelProgressNavigation","indicatorView","_getPageCompletionPercentage","_pageLevelProgress","pageLevelProgressIndicatorBar","completionCalculations","calculatePercentageComplete","repopulate","PageLevelProgressView","_pageModel","allDescendants","currentPageItems","availableItems","enabledProgressItems","PageLevelProgress","onDataReady","coursePLPConfig","getCourseConfig","headerIndicatorTypes","headerIndicatorEventNames","renderHeaderIndicatorView","renderMenuItemIndicatorView","renderNavigationView","onCompletionChange","completionState","hasChanged","_previousCompletionState","_isCompletionIndicatorEnabled","pageConfig","$headings","insertAfter","_getMenuItemCompletionPercentage","pageLevelProgressMenuBar","_isShownInNavigationBar","pagePLPConfig","PageLevelProgressCollection","after","PageLevelProgressNavigationView","resources","resources_has_type","hasType","matcher","resources_has_multiple_types","allSameType","resources_get_column_count","resources_force_download","resource","_forceDownload","filename","Resources","initResources","courseResources","drawerOrder","_drawerOrder","setupResources","resourcesData","ResourcesView","Logger","logArr","registeredViews","LOG_TYPE_INFO","updateViews","LOG_TYPE_WARN","LOG_TYPE_ERROR","LOG_TYPE_DEBUG","instance","ScormError","CLIENT_COULD_NOT_CONNECT","SERVER_STATUS_UNSUPPORTED","CLIENT_STATUS_UNSUPPORTED","CLIENT_COULD_NOT_COMMIT","CLIENT_NOT_CONNECTED","CLIENT_COULD_NOT_FINISH","CLIENT_COULD_NOT_GET_PROPERTY","CLIENT_COULD_NOT_SET_PROPERTY","CLIENT_INVALID_CHOICE_VALUE","defaultMessages","pressOk","ScormWrapper","setCompletedWhenFailed","commitOnStatusChange","commitOnAnyChange","timedCommitFrequency","maxCommitRetries","commitRetryDelay","commitRetryPending","commitRetries","lastCommitSuccessTime","exitStateIfIncomplete","exitStateIfComplete","timedCommitIntervalID","retryCommitTimeoutID","logOutputWin","startTime","endTime","lmsConnected","finishCalled","getInstance","scorm","pipwerks","SCORM","handleExitMode","suppressErrors","debouncedCommit","commit","__debug","showDebugWindow","API","__offlineAPIWrapper","API_1484_11","handleError","initTimedCommit","isSCORM2004","setIncomplete","setCompleted","setPassed","setFailed","scaledScore","isSupported","initRetryCommit","errorCode","getCode","errorInfo","getInfo","diagnosticInfo","getDiagnosticInfo","clearInterval","convertToSCORM2004Time","getTime","getExitState","convertToSCORM12Time","quit","response","latency","recordInteractionMultipleChoice","recordInteractionMatching","recordInteractionScorm2004","recordInteractionScorm12","recordInteractionFillIn","doRetryCommit","_messages","confirm","cmiPrefix","getInteractionCount","getCMITime","getISO8601Timestamp","checkResponse","scormRecordInteraction","msConvert","msPerSec","msPerMin","msPerHour","ms","secs","mins","hrs","padWithZeroes","csConvert","csPerSec","csPerMin","csPerHour","csPerDay","days","hours","cs","seconds","hms","date","getHours","getMinutes","sec","getSeconds","toISOString","numToPad","padBy","responseType","checkIdentifier","identifiers","completionStatus","isIncomplete","exitState","LZMAWorker","LZMAFactory","ZeroString","makeZeroString","zeroPadRightToLength","padLength","zeroPadLeftToLength","zeroPadRightToMultiple","multiple","binaryToUnsignedInteger","binary","binaryLength","shiftUnsignedIntegerFromBinary","shiftBinary","shifted","unsignedIntegerToBinary","byteArrayToString","arrayLength","stringToByteArray","stringLength","BYTE_BIT_LENGTH","binaryToBase64","bytesCount","charCodes","base64","btoa","base64ToBinary","atob","logs","usedTypes","typeLengths","binarySamples","AbstractValueType","binaryTypeLength","binaryType","FixedIntegerType","esType","valueBinaryLength","minValue","maxValue","logStats","FixedBooleanType","bool","LengthAndValueBinary","bitSizes","maxValues","sizeBinaryLength","parentName","sizeIndex","sizeBinary","valueLength","integerBinary","VariableIntegerType","isNegative","integerBitSizes","valueToBinary","shiftValueFromBinary","VariableArrayType","valueType","findValueTypeFromValues","shiftValueTypeFromBinary","VariableSignedIntegerType","signBinary","VariableDecimalType","isFloat","decimal","decimalBitSizes","float","parts","higherInteger","lowerInteger","integerValueBinary","decimalValueBinary","arrayType","booleanType","integerTypes","decimalTypes","ValueTypes","nameIndex","esTypeOf","findValueTypeFromName","findValueTypeFromValue","isInteger","isValueInValueTypeRange","esTypes","uniqESTypes","isRangeInValueTypeRange","convertValuesToNumbers","Converter","typeName","clearLog","hasInitialType","printLog","isLargeArray","compress","compressedBase64","isCompressedSmaller","isLZMACompressed","LZMA","decompress","valueFromBinary","SCORMSuspendData","trackingIdType","shouldCompress","shouldStoreResponses","shouldStoreAttempts","isContainer","modelState","hasUserAnswer","isUserAnswerArray","hasAttemptStates","serializeAsync","trackingIdMap","setAttemptObject","attemptObject","_trackingIdType","_componentSerializer","_shouldCompress","_shouldStoreResponses","_shouldStoreAttempts","_shouldRecordInteractions","beginSession","restoreSession","spoor","_tracking","ComponentSerializer","_advancedSettings","setVersion","_showDebugWindow","_scormVersion","isBoolean","_suppressErrors","_commitOnStatusChange","_commitOnAnyChange","isFinite","_timedCommitFrequency","_maxCommitRetries","_commitRetryDelay","_exitStateIfIncomplete","_exitStateIfComplete","setupLearnerInfo","restoreSessionState","_learnerInfo","sessionPairs","hasNoPairs","_isAssessmentPassed","debouncedSaveSession","saveSessionState","onLanguageChanged","onQuestionRecordInteraction","onTrackingComplete","advancedSettings","shouldCommitOnVisibilityChange","_commitOnVisibilityChangeHidden","onVisibilityChange","endSession","isMidRender","courseState","componentStates","printCompletionInformation","suspendData","courseComplete","assessmentPassed","trackingIdModels","trackingIds","completionString","markers","mark","_reporting","_resetStatusOnLanguageChange","visibilityState","questionView","getLatency","_onTrackingCriteriaMet","_onAssessmentFailure","finish","statefulSession","temporaryStore","suspendDataStore","suspendDataRestored","useTemporaryStore","getCustomStates","getLessonLocation","getScore","getStatus","student","getStudentName","learnerInfo","getLearnerInfo","getCustomState","stateArray","_isCourseComplete","questionsState","setLessonLocation","setStatus","dataAsString","setSuspendData","isSuspendDataStoreEmpty","getSuspendData","dataAsJSON","getStudentId","firstname","lastname","hasName","isNameCommaSeparated","isNameSpaceSeparated","nameParts","part","Spoor","_prepare","StatefulSession","onKeyCombo","_deepDefaults","defaultObjects","keyValuePairs","defaultValue","isRecursiveObject","isValueAlreadySet","configDefaults","_isInherited","_autoScroll","_scrollTo","_onChildren","_isFullWidth","_autoHide","_hasIcon","_styleBeforeCompletion","_styleAfterClick","startAriaLabel","finalText","finalAriaLabel","_stepLocking","_isCompletionRequired","_isLockedOnRevisit","isModelArticleWithOnChildren","trickleConfig","getModelConfigDefaults","getModelInheritanceChain","configModel","parentConfig","blockConfig","isParentEnabledNotOnChildren","isNoChildConfig","getModelConfig","inheritance","inheritModel","isLast","getModelContainer","getCompletionAttribute","_completionAttribute","checkApplyLocks","debouncedApplyLocks","applyLocks","locks","modelsById","TrickleButtonModel","siteModel","isStepLocked","subsequentLockingModels","_getAncestorNextSiblings","isButtonModel","descendantId","wasLocked","logTrickleState","fromModel","allSiblings","subsequentSiblings","allAncestors","inPageAncestors","subsequentInPageAncestors","grandParent","previousIndex","allGrandParentChildren","subsequentAncestorSiblings","subsequentContentObjectDescendantModels","addButtonComponents","uid","buttonModelSite","trickleButtonModel","_parentId","_layout","_trickle","_renderPosition","_isTrackable","isTrickled","repeat","TrickleController","checkIsFinished","onAddChildView","kill","isKilled","isManagedByTrickleAndLocked","isTrickling","isAutoScrollOff","hasTrickleButton","getScrollToId","firstCharacter","relativeModel","findRelativeModel","scrollToId","isDescendant","_scrollDuration","isStarted","isFinished","TrickleModel","TrickleButtonView","openPopupCount","isAwaitingPopupClose","wasButtonClicked","calculateButtonText","calculateButtonState","isDisabledByPopups","tryButtonAutoHide","onParentComplete","updateButtonState","isStepUnlocked","onStepUnlocked","shouldUserInteractWithButton","isButtonHidden","isButtonDisabled","$ariaLabel","HTMLElement","isSameNode","wasComplete","isStepLockingCompletionRequired","controller","isJustOffscreen","isButtonAutoHidden","isStepComplete","isStepLocking","isCompletionBlocked","getSiblings","isParentComplete","isButtonComplete","lastDescendant","isStart","isFinal","trickleParent","trickleSiblings","isStepLockedOnRevisit","isButtonDisableForced","isButtonHiddenForced","_isButtonVisible","_isButtonDisabled","isLastInContentObject","_showEndOfPage","isTrickleKilled","isButtonVisibleBeforeCompletion","isButtonVisibleAfterCompletion","isNoCompletionRequiredAndLockedVisible","isNoCompletionRequiredAndUnlockedVisible","isNoCompletionRequiredAndFinishedVisible","isStepLockedAndVisibleBeforeCompletion","isFinishedAndVisibleAfterCompletion","isStepUnlockedAndButtonIncomplete","isButtonVisible","isButtonEnabledBeforeCompletion","isButtonEnabledAfterCompletion","isNoCompletionRequiredAndLockedEnabled","isNoCompletionRequiredAndUnlockedEnabled","isNoCompletionRequiredAndFinishedEnabled","isStepUnlockedAndButtonIncompleteWithoutButtonDisabledForced","isFinishedAndEnabledAfterCompletion","isButtonEnabled","trickle","TUTOR_TYPE","NOTIFY","_hasNotifyBottomButton","getOriginClasses","extension","onNotifyClosed","triggerNotify","notifyOptions","onTutorClosed","onButtonsStateUpdate","tutor","toggleFeedback","shouldOpen","shouldManageFocus","animation","onAnimationEnd","onTutorOpened","$showFeedbackButton","Tutor","onQuestionViewShowFeedback","tutorModel","TutorModel","TutorNotify","INLINE","OVERLAY","TutorView","NONE","xAPI","displayLang","generateIds","activityId","actor","shouldTrackState","shouldUseRegistration","componentBlacklist","isInitialised","startAttemptDuration","startTimeStamp","courseName","courseDescription","defaultLang","coreEvents","coreObjects","initializeWrapper","onInitialised","getLRSAttribute","getBaseUrl","validateProps","statements","getCourseStatement","ADL","verbs","launched","initialized","sendStatements","sendUnloadStatements","sendStatement","attempted","resumed","xapiWrapper","XAPIWrapper","checkWrapperConfig","registration","strictCallbacks","launch","launchData","uuidv4","crypto","getRandomValues","Uint8Array","getDomain","domain","hostname","elems","iMax","isSecondLevel","tld","setCookie","cname","cvalue","exdays","setTime","expires","toUTCString","cookie","getCookie","decodedCookie","ca","configError","setWrapperConfig","lrs","courseUser","deleteState","isTerminated","suspended","terminated","sendStatementsSync","endpoint","auth","activity_id","newConfig","changeConfig","testConfig","origin","pathname","getAttemptDuration","getSessionDuration","convertMillisecondsToISO8601Duration","inputMilliseconds","minutes","i_inputMilliseconds","i_inputCentiseconds","inputIsNegative","rtnStr","setupListeners","sendState","onItemExperience","onQuestionInteraction","onItemComplete","getCourseActivity","XAPIStatement","Activity","activityTypes","verb","passed","getStatement","getVerb","getNameObject","getActivityType","interaction","module","lesson","isComponentOnBlacklist","getUniqueIri","statement","stripHtml","interactionType","raw","processInteractionResponse","answered","addGroupingActivity","tempDiv","innerText","experienced","getLessonActivity","page","activity","articleModel","addParentActivity","getAssessmentObject","getAssessmentResultObject","scaled","fakeModel","singleLanguageVerb","display","completionVerb","Agent","generateId","collectionName","findKey","stateCollection","newState","xhr","isFunction","Async","nextType","parseError","mbox","account","accountServiceHomePage","homePage","accountName","getLRSExtendedAttribute","extended","errorCount","attachments","isUndefined","processAttachments","onStatementReady","isCORS","credentials","xapiVersion","keepalive","method","urlparts","urlPort","attachment","nextAttachment","onreadystatechange","readAsBinaryString","nextStatement","getGlobals","_xapi","showError","lrsConnectionErrorTitle","lrsConnectionErrorMessage","confirmText","zIndex","xapi","isDataRestored","getAll","getLearnerId","openid","initialise","successEvent","_shouldTrackState","DevtoolsModel","getDefaultConfig","toggleHinting","toggleAutoCorrect","toggleAltText","toggleTraceFocus","Hinting","devtools","toggleHints","renderedQuestions","setHinting","onComponentRendered","hintingEnabled","setMcqHinting","setGmcqHinting","setMatchingHinting","setPpqHinting","setSliderHinting","setTextInputHinting","setQuestionStripHinting","$subItems","_subItems","subItem","subItemIndex","Events","isQuestionSupported","AutoAnswer","mousedownHandlers","componentRendered","onQuestionMouseDown","ctrlKey","shiftKey","isItemsQuestionModel","defined","incorrectly","answerMultipleChoiceIncorrectly","answerMatchingIncorrectly","answerPpqIncorrectly","answerSliderIncorrectly","answerTextInputIncorrectly","answerQuestionStripIncorrectly","answerUnsupportedIncorrectly","answerMultipleChoice","answerMatching","answerPpq","answerSlider","answerTextInput","answerQuestionStrip","answerUnsupported","isGraphical","noCorrectOptions","selectionStates","times","nShould","nShouldNot","nSelect","nIncorrect","nCorrect","found","$select","isDesktop","$pinboard","boardw","boardh","zone","pin","getNextUnusedPin","maxSize","resetPins","tuple","PassHalfFail","syncIterations","mouseTarget","_questionViews","_currentPageId","onPagePreRender","onKeypress","onMouseDown","onMouseUp","_completeNonQuestions","nonQuestions","qs","half","notSubmitted","char","tutorEnabled","partial","onPassHalfFailComplete","ToggleBanking","_assessmentBankDisabled","getBankedAssessmentsInCurrentPage","toggle","bankedAssessments","isBankingEnabled","_isPass","MapView","_renderIntervalId","_checkRenderInterval","onModelCompletionChanged","devtoolsMap","_invalid","_getConfig","_disablePageIncompletePrompt","_pageIncompletePromptExists","_pageIncompletePromptEnabled","_restorePageIncompletePrompt","unset","invalidate","onLinkClicked","defaultView","navigateAndDisableTrickle","navigateAndDisableTrickleUpTo","_siblings","at","checkVisibility","handleCourse","targetModel","CourseMap","onMapLoaded","onCourseClosed","eachChild","ret","last","getId","getProp","isStringEmpty","getTitle","when","trickled","isBlock","mapWindow","onMapClosed","mapView","Utils","getModelForElement","getAdaptCoreVersion","getParents","horz","getHorzLine","onTrickleBegun","onTrickleChange","onTrickleEnded","onShowFeedback","hushTutor","reinstateTutor","onFeedbackToggled","onFeedbackButtonClicked","componentId","AltText","MutationObserver","observer","onDomMutation","addTimer","fireNow","timerId","onTimer","removeTimer","connectObserver","observe","getElementById","childList","subtree","attributeFilter","disconnectObserver","disconnect","removeAllAnnotations","addAnnotation","$annotation","updateAnnotation","removeAnnotation","removeData","mutations","mutated","breakCoreLocking","breakLocks","onUnlocked","onMenuPreRender","onMenuReady","_lock","_locked","buffer","isMouseDown","hitArea","coords","topLeftTapHold","topRightTapHold","listenType","timeoutId","focusableElements","processBuffer","blen","removeHooks","addHooks","kcheat","addTouchHook","removeTouchHook","onTouchStart","onTouchEnd","TraceFocus","openingTags","consoleStyle","onFocusIn","openingTag","tokens","doCompletion","DevtoolsView","_checkUnlockVisibility","_checkSpoorLogVisibility","_checkTrickleEndVisibility","_checkBankingVisibility","_checkFeedbackVisibility","_checkHintingVisibility","_checkAutoCorrectVisibility","_checkAltTextVisibility","_checkPassHalfFailVisibility","_checkCompletePageVisibility","_checkCompleteMenuVisibility","_checkTraceFocusVisibility","_checkForLocks","hasLock","onUnlock","onOpenMap","spoorInstalled","onOpenSpoorLog","onEndTrickle","onToggleBanking","onToggleFeedback","onToggleHinting","onToggleAutoCorrect","onToggleAltText","incomplete","onCompletePage","onCompleteMenu","unanswered","onPassHalfFail","onToggleTraceFocus","DevtoolsNavigationView","devtoolsNavigation","onDevtoolsClicked","onContentRendered","deferredRender","initNavigationView","DOMModifier","elementAddFilter","elementRemoveFilter","onElementAdd","onElementRemove","elementNodes","foundNodes","added","fileExtension","_fileExtension","_rex","hasUserPaused","isDataReady","setUpAttributeChangeObserver","setUpListeners","onScreenChange","isOffScreen","_onScreenPercentInviewVertical","onOffScreen","onOnScreen","_offScreenPause","_offScreenRewind","rewind","$player","_autoPlay","noControls","currentFrame","totalFrames","shouldRender","_renderedSrc","isAnimation","destroyAnimation","graphicLottie","_isAnimation","_src","createAnimation","_loops","Lottie","loadAnimation","rendererSettings","canvas","getContext","clearCanvas","animationData","_showPauseControl","togglePlayPause","_onPauseRewind","onGeneralPlayPause","_alt","GraphicLottie","setUp","checkOnScreen","rex","waitFor","nodeName","getAttribute","div","lottieView","LottieView","MenuItemView","MenuView","BoxMenuItemView","BoxMenuGroupView","BoxMenuView","setStyles","_renderAsGroup","setBackgroundImage","setBackgroundStyles","processHeader","backgroundImages","_backgroundImage","backgroundImage","_small","styles","_backgroundStyles","_backgroundRepeat","_backgroundSize","_backgroundPosition","_menuHeader","$header","setHeaderBackgroundImage","setHeaderBackgroundStyles","setHeaderMinimumHeight","minimumHeights","_minimumHeights","minimumHeight","ThemeView","setClasses","setMinimumHeight","setCustomStyles","_large","_medium","ThemePageView","ThemeArticleView","ThemeBlockView","onPostRender","theme","Header","jsxHeading","useRef","mobileInstruction","_disableAccessibilityState","classNamePrefixes","sizedInstruction","isSet","Image","hasMediumSetting","hasSource","attributionClassNamePrefixes","attribution","Choose","LinkWrapper","Graphic","Text","DropItems"],"mappings":"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"}